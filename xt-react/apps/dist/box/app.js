!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,a){r.apply(this,[e,t,a].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n(604);var a=n(1),i=r(a),o=n(41),u=r(o),l=n(60),s=r(l),d=n(177),c=n(399),f=r(c),p=n(422),h=r(p);n(230),n(231);var g=["en","cn"],m=g.hasOwnProperty(navigator.language)?navigator.language:"en",v=(0,h.default)(),y=document.getElementById("app");(0,s.default)("manifest.json?"+Date.now()).then(function(e){return e.json()}).then(function(e){var t=e[m+".yml"];(0,s.default)(t).then(function(e){return e.json()}).then(function(e){u.default.render(i.default.createElement(d.Provider,{store:v},i.default.createElement(f.default,{translations:e})),y)}).catch(function(e){return console.error(e)})})},function(e,t,n){e.exports=n(2)(5)},function(e,t){e.exports=vendor},function(e,t,n){e.exports=n(2)(39)},function(e,t,n){e.exports=n(2)(157)},function(e,t,n){e.exports={default:n(187),__esModule:!0}},function(e,t,n){e.exports=n(2)(40)},function(e,t,n){e.exports=n(2)(41)},function(e,t,n){function r(e,t,n){var r=null==e?void 0:a(e,t);return void 0===r?n:r}var a=n(148);e.exports=r},function(e,t,n){e.exports=n(2)(54)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.clientType="H5",t.webClientId=1,t.sideBarWidth=382,t.topHeight=180,t.bottomHeight=140,t.previewTopHeight=60,t.previewBottomHeight=66,t.workSpacePrecent={lg:.95,big:.9,normal:.75,sm:.5,xs:.4},t.spreadTypes={coverPage:"coverPage",innerPage:"innerPage"},t.elementTypes={background:"BackgroundElement",cameo:"CameoElement",paintedText:"PaintedTextElement",photo:"PhotoElement",text:"TextElement",spine:"SpineElement",dvd:"DVDElement",usbText:"USBTextElement"},t.panelTypes={imageWrapped:"IW",blackLeatherette:"BL",imagePanel:"IP",blackPanel:"BP"},t.coverTypes={NONE:"none",LC:"LC",BC:"BC",NC:"NC",HC:"HC"},t.pageTypes={full:"Full",front:"Front",back:"Back",spine:"Spine",page:"Page",sheet:"Sheet",dvd:"DVD",usb:"USB"},t.cameoDirectionTypes={S:"Box_Square",H:"Box_Horizontal",V:"Box_Vertical"},t.productTypes={imageBox:"IB",woodBox:"woodBox",usbCase:"usbCase",dvdCase:"dvdCase"},t.RESIZE_LIMIT=200,t.cameoShapeTypes={rect:"Box_Rect",round:"Box_Round"},t.cameoPaddingsRatio={rectCameoPaddingTop:101/535,rectCameoPaddingLeft:101/535,roundCameoPaddingTop:101/535,roundCameoPaddingLeft:101/535,rectCameoRadius:29/535},t.defaultFontStyle={defaultColor:"#95989a",defaultFontFamily:"Roboto",defaultFontWeight:"normal",defaultFontFamilyId:"roboto",defaultFontId:"roboto",defaultFontSize:23,defaultWidth:1e3,defaultHeight:500},t.errorTypes={NETWORK_ERROR:"NETWORK_ERROR"},t.elementActionType={textResize:"textResize",textMove:"textMove"},t.resizeDirs={topLeft:"topLeft",topRight:"topRight",bottomLeft:"bottomLeft",bottomRight:"bottomRight",left:"left",right:"right",top:"top",bottom:"bottom"},t.textEditorTypes={TEXT_EDITOR:"TEXT_EDITOR",TEXT_EDITOR_NO_JUSTIFY:"TEXT_EDITOR_NO_JUSTIFY"},t.AUTO_DELETE_PAGE=!0,t.defaultFrameOptions={default:{value:.5,whRatio:4}},t.VERSION="60001"},function(e,t,n){var r=n(448),a=n(153),i=a(function(e,t,n){r(e,t,n)});e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var a=n(575),i=r(a),o=n(577),u=r(o),l=n(572),s=r(l),d=n(574),c=r(d),f=n(573),p=r(f),h=n(576),g=r(h);t.hover=c.default,t.handleHover=c.default,t.handleActive=p.default,t.loop=g.default;var m=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=(0,i.default)(n),o=(0,u.default)(e,a);return(0,s.default)(o)};t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(571),i=r(a),o=n(569),u=r(o);t.default={translate:i.default,TranslatorProvider:u.default},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ADD_TODO="ADD_TODO",t.COMPLETE_TODO="COMPLETE_TODO",t.SET_VISIBILITY_FILTER="SET_VISIBILITY_FILTER",t.API_REQUEST="API_REQUEST",t.API_SUCCESS="API_SUCCESS",t.API_FAILURE="API_FAILURE",t.GET_SPEC_DATA="GET_SPEC_DATA",t.GET_PROJECT_DATA="GET_PROJECT_DATA",t.PROJECT_LOAD_COMPLETED="PROJECT_LOAD_COMPLETED",t.CHANGE_PROJECT_SETTING="CHANGE_PROJECT_SETTING",t.CREATE_ELEMENT="CREATE_ELEMENT",t.UPDATE_ELEMENT="UPDATE_ELEMENT",t.ROTATE_COVER="ROTATE_COVER",t.INIT_COVER_ROTATE="INIT_COVER_ROTATE",t.DELETE_ELEMENT="DELETE_ELEMENT",t.SELECT_ELEMENT="SELECT_ELEMENT",t.CLEAR_ELEMENT_SELECT="CLEAR_ELEMENT_SELECT",t.INIT_SPREAD_ARRAY="INIT_SPREAD_ARRAY",t.INIT_IMAGE_USED_COUNT_MAP="INIT_IMAGE_USED_COUNT_MAP",t.UPDATE_IMAGE_USED_COUNT_MAP="UPDATE_IMAGE_USED_COUNT_MAP",t.SET_PROJECT_ORDERED_STATE="SET_PROJECT_ORDERED_STATE",t.CHANGE_PROJECT_TITLE="CHANGE_PROJECT_TITLE",t.INIT_PROJECT_SETTING="INIT_PROJECT_SETTING",t.INIT_COVER="INIT_COVER",t.INIT_PAGE_ARRAY="INIT_PAGE_ARRAY",t.INIT_IMAGE_ARRAY="INIT_IMAGE_ARRAY",t.UPDATE_PROJECT_ID="UPDATE_PROJECT_ID",t.SHOW_MODAL="SHOW_MODAL",t.CLOSED_MODAL="CLOSED_MODAL",t.CLOSED_ALERT="CLOSED_ALERT",t.SHOW_ALERT="SHOW_ALERT",t.ADD_IMAGES="ADD_IMAGES",t.UPDATE_IMAGEID="UPDATE_IMAGEID",t.UPDATE_PERCENT="UPDATE_PERCENT",t.UPLOAD_COMPLETE="UPLOAD_COMPLETE",t.CLEAR_IMAGES="CLEAR_IMAGES",t.DELETE_IMAGE="DELETE_IMAGE",t.SORT_IMAGE="SORT_IMAGE",t.DELETE_PROJECT_IMAGE="DELETE_PROJECT_IMAGE",t.UPDATE_IMAGE_USED_COUNT="UPDATE_IMAGE_USED_COUNT",t.ERROR_TO_FIRST="ERROR_TO_FIRST",t.RETRY_IMAGE="RETRY_IMAGE",t.UPDATE_FIELDS="UPDATE_FIELDS",t.LOGIN_SUCCESS="LOGIN_SUCCESS",t.LOGIN_FAIL="LOGIN_FAIL",t.SHOW_IMAGE_EDIT_MODAL="SHOW_IMAGE_EDIT_MODAL",t.HIDE_IMAGE_EDIT_MODAL="HIDE_IMAGE_EDIT_MODAL",t.SHOW_NOTIFY="SHOW_NOTIFY",t.HIDE_NOTIFY="HIDE_NOTIFY",t.SHOW_CONFIRM="SHOW_CONFIRM",t.HIDE_CONFIRM="HIDE_CONFIRM",t.SHOW_LOADING="SHOW_LOADING",t.HIDE_LOADING="HIDE_LOADING",t.SAVE_TEXT_OPTIONS="SAVE_TEXT_OPTIONS",t.UPDATE_TEXT_POSITION="UPDATE_TEXT_POSITION",t.NEED_LEAVE_CONFIRM="NEED_LEAVE_CONFIRM",t.NO_NEED_LEAVE_CONFIRM="NO_NEED_LEAVE_CONFIRM",t.SHOW_CLONE_MODAL="SHOW_CLONE_MODAL",t.HIDE_CLONE_MODAL="HIDE_CLONE_MODAL",t.CHANGE_WORKSPACE_SPREAD="CHANGE_WORKSPACE_SPREAD",t.UPDATE_WORKSPACE_SPREADS="UPDATE_WORKSPACE_SPREADS",t.AUTO_ADD_PHOTO_TO_CANVAS="AUTO_ADD_PHOTO_TO_CANVAS",t.TOGGLE_OPERATION_PNAEL="TOGGLE_OPERATION_PNAEL",t.IN_PREVIEW_WORKSPACE="IN_PREVIEW_WORKSPACE",t.UPDATE_WORKSPACE_RATIO="UPDATE_WORKSPACE_RATIO",t.ADD_TRACKER="ADD_TRACKER",t.SWITCH_SHEET="SWITCH_SHEET",t.SWITCH_PAGE="SWITCH_PAGE",t.UPDATE_COVER_SNAP="UPDATE_COVER_SNAP",t.SHOW_USE_SPEC_MODAL="SHOW_USE_SPEC_MODAL",t.HIDE_USE_SPEC_MODAL="HIDE_USE_SPEC_MODAL"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.API_BASE="/",t.GET_TODO_LIST="../../imagebox/src/sources/data.json",t.GET_SPEC_DATA="<%=baseUrl%>prod-assets/app/box/spec.xml?version=4.1",t.GET_PROJECT_DATA="<%=baseUrl%>userid/<%=userId%>/project/<%=projectId%>",t.GET_PREVIEW_PROJECT_DATA="<%=uploadBaseUrl%>upload/Preview/GetPhotobookXmlByProjectId?projectId=<%=projectId%>",t.GET_FONTS="<%=baseUrl%>api/product/text/fontmap",t.GET_LOCAL_FONTS="./fonts.xml",t.GET_FONT_THUMBNAIL="<%=baseUrl%>prod-assets/static/font_thumbnail/<%=fontName%>.png",t.GET_BOX_SPEC="<%=baseUrl%>template-resources/h5Client/data/<%=product%>/<%=specName%>.zip",t.NEW_PROJECT="<%=baseUrl%>general/json/<%=userId%>/project/<%=product%>",t.SAVE_PROJECT="<%=baseUrl%>general/json/<%=userId%>/project/<%=projectId%>/<%=product%>",t.LOGIN="<%=baseUrl%>phone/nativeLogin.ep?username=<%=username%>&password=<%=password%>",t.ORDER="<%=baseUrl%>commonProduct/addShoppingCart.html?projectGUID=<%=projectId%>",t.GET_IMAGE_IDS="<%=uploadBaseUrl%>upload/UploadServer/GetBatchImageIds",t.UPLOAD_IMAGES="<%=uploadBaseUrl%>upload/UploadServer/uploadImg",t.IMAGES_CROPPER="<%=baseUrl%>imgservice/op/crop",t.IMAGES_CROPPER_PARAMS="?encImgId=<%=encImgId%>&px=<%=px%>&py=<%=py%>&pw=<%=pw%>&ph=<%=ph%>&width=<%=width%>&height=<%=height%>&rotation=<%=rotation%>&effectId=0&opacity=100&flop=<%=imgFlip%>&shape=rect&timestamp=<%=timestamp%>&customerId=<%=customerId%>&token=<%=token%>",t.GET_ENV="<%=baseUrl%>userid/getEnv",t.GET_SESSION_USER_INFO="<%=baseUrl%>BigPhotoBookServlet/getSessionUserInfo?webClientId=<%=webClientId%>&autoRandomNum=<%=autoRandomNum%>",t.HEART_BEAT="<%=baseUrl%>userid/<%=userId%>/heartbeat",t.GET_USER_ALBUM_ID="<%=baseUrl%>userid/<%=userId%>/getAlbumId?projectId=<%=projectId%>",t.ADD_ALBUM="<%=baseUrl%>userid/<%=userId%>/addOrUpdateAlbum?albumName=<%=albumName%>&projectId=<%=projectId%>&webClientId=<%=webClientId%>&autoRandomNum=<%=autoRandomNum%>",t.GET_TITLE="<%=baseUrl%>web-api/customerId/<%=userId%>/getProjectNameByProjectId?projectId=<%=projectId%>",t.CHECK_TITLE="<%=baseUrl%>web-api/customerId/<%=userId%>/updateProjectAndAlbumTitle?projectId=<%=projectId%>&projectName=<%=projectName%>",t.GET_PRODUCT_PRICE="<%=baseUrl%>clientH5/product/book/price?product=<%=product%>&options=<%=options%>",t.IMAGE_SRC="upload/UploadServer/PicRender",t.TEXT_SRC="<%=baseUrl%>api/product/text/textImage?text=<%=text%>&font=<%=fontFamily%>&fontSize=<%=fontSize%>&color=<%=fontColor%>&align=<%=textAlign%>&ratio=<%=ratio%>&width=<%=width%>&height=<%=height%>&verticalTextAlign=<%=verticalTextAlign%>",t.PAINETEXT_SRC="<%=baseUrl%>api/product/text/textImage?ratio=<%=ratio%>&color=<%=color%>&align=center&font=<%=fontFamily%>&height=<%=height%>&text=<%=text%>&width=<%=width%>",t.GET_MAIN_PROJECT_IMAGE="<%=baseUrl%>clientH5/project/imageInfo?projectId=<%=mainProjectUid%>&autoRandomNum=<%=autoRandomNum%>",t.GET_ENCODE_IMAGE_IDS="<%=baseUrl%>userid/getEncImgIds",t.GET_PROJECT_ORDERED_STATE="<%=baseUrl%>userid/<%=userId%>/getProjectOrderedState/<%=projectId%>?webClientId=<%=webClientId%>&autoRandomNum=<%=autoRandomNum%>",t.GET_PROJECT_ORDERED_INFO="<%=baseUrl%>clientH5/projectInfo/<%=projectId%>?<%=timestamp%>",t.UPDATE_CHECK_STATUS="<%=baseUrl%>userid/<%=userId%>/submitCheckFailProject/<%=projectId%>?isParentBook=false&redirectParentBook=false",t.SAVE_PROJECT_TITLE="<%=baseUrl%>web-api/customerId/<%=userId%>/updateProjectAndAlbumTitle?projectId=<%=projectId%>&projectName=<%=projectName%>",t.UPLOAD_COVER_IMAGE="<%=uploadBaseUrl%>upload/servlet/UploadCoverImgServlet?timestamp=<%=timestamp%>&customerId=<%=customerId%>&token=<%=token%>",t.GET_MY_PHOTO_IMAGES="<%=baseUrl%>web-api/customer/getMyPhotosInfo",t.CHECK_PROJECT_TITLE="<%=baseUrl%>frontPages/checkProjectName.ep",t.DELETE_SERVER_PHOTOS="<%=baseUrl%>web-api/album/deleteImages"},function(e,t,n){e.exports={default:n(189),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(532);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return r(a).default}});var i=n(160);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return r(i).default}});var o=n(533);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return r(o).default}});var u=n(534);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return r(u).default}});var l=n(535);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return r(l).default}});var s=n(536);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return r(s).default}});var d=n(161);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return r(d).default}});var c=n(537);Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return r(c).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=String(e),r=n.indexOf(".");return r!==-1?n.substr(0,r+t+1):n}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(isNaN(e))return 0;var n=Math.pow(10,2),r=Math.round(e*n)/n;return parseFloat(a(r,t)).toFixed(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.parsePropertiesToInt=t.parsePropertiesToFloat=t.toInt=t.toFloat=t.guid=t.makeId=t.hexToRgb=t.decToHex=t.hexToDec=t.getPxByMM=t.getPxByPt=t.getPtByPx=t.getInchByMM=t.getPxByInch=t.getInchByPx=t.getRandomNum=void 0;var o=n(11),u=r(o);t.toFixed=a,t.round=i;var l=n(436),s=r(l),d=t.getRandomNum=function(){return Math.round(1e13*Math.random())},c=(t.getInchByPx=function(e){var t=parseFloat(e)||0;return t/300},t.getPxByInch=function(e){var t=parseFloat(e)||0;return 300*t},t.getInchByMM=function(e){var t=parseFloat(e)||0,n=parseFloat(30*t/2.54);return parseFloat((n/300).toFixed(7))},t.getPtByPx=function(e){var t=parseFloat(e)||0;return t/300*72},t.getPxByPt=function(e){var t=parseFloat(e)||0;return 300*t/72},t.getPxByMM=function(e){var t=parseFloat(e)||0;return 30*t/2.54},t.hexToDec=function(e){return parseInt(e.replace("#",""),16)},t.decToHex=function(e){for(var t=e.toString(16);t.length<6;)t="0"+t;return"#"+t},t.hexToRgb=function(e){return(0,s.default)(e)},t.makeId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ID",t=d();return e+"_"+t},t.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},t.toFloat=function(e){var t=0;if(e&&"string"==typeof e)try{t=parseFloat(e)}catch(e){t=0}else e&&"number"==typeof e&&(t=e);return t}),f=t.toInt=function(e){var t=0;if(e&&"string"==typeof e)try{t=parseInt(e)}catch(e){t=0}else e&&"number"==typeof e&&(t=e);return t};t.parsePropertiesToFloat=function(e,t){if(!e||!t)return e;var n={};return t.forEach(function(t){n[t]=c(e[t])}),(0,u.default)({},e,n)},t.parsePropertiesToInt=function(e,t){if(!e||!t)return e;var n={};return t.forEach(function(t){n[t]=f(e[t])}),(0,u.default)({},e,n)}},function(e,t,n){e.exports=n(2)(51)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(9),v=r(m);n(209);var y=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.onClicked,a=e.width,i=e.height,o=e.disabled,u=(0,v.default)("button",n,{disabled:o});return g.default.createElement("button",{className:u,onClick:r,style:{width:a?a+"px":"",height:i?i+"px":""},disabled:o},t)}}]),t}(h.Component);t.default=y,y.propTypes={onClicked:h.PropTypes.func,className:h.PropTypes.string,width:h.PropTypes.number,height:h.PropTypes.number,disabled:h.PropTypes.bool}},function(e,t,n){function r(e,t,n){var r=p.imports._.templateSettings||p;n&&d(e,t,n)&&(t=void 0),e=h(e),t=a({},t,r,u);var M,x,E=a({},t.imports,r.imports,u),I=c(E),_=o(E,I),T=0,C=t.interpolate||b,S="__p += '",L=RegExp((t.escape||b).source+"|"+C.source+"|"+(C===f?y:b).source+"|"+(t.evaluate||b).source+"|$","g"),D="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";e.replace(L,function(t,n,r,a,i,o){return r||(r=a),S+=e.slice(T,o).replace(w,l),n&&(M=!0,S+="' +\n__e("+n+") +\n'"),i&&(x=!0,S+="';\n"+i+";\n__p += '"),r&&(S+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),T=o+t.length,t}),S+="';\n";var P=t.variable;P||(S="with (obj) {\n"+S+"\n}\n"),S=(x?S.replace(g,""):S).replace(m,"$1").replace(v,"$1;"),S="function("+(P||"obj")+") {\n"+(P?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(M?", __e = _.escape":"")+(x?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+S+"return __p\n}";var A=i(function(){return Function(I,D+"return "+S).apply(void 0,_)});if(A.source=S,s(A))throw A;return A}var a=n(505),i=n(506),o=n(616),u=n(461),l=n(467),s=n(158),d=n(100),c=n(78),f=n(156),p=n(518),h=n(112),g=/\b__p \+= '';/g,m=/\b(__p \+=) '' \+/g,v=/(__e\(.*?\)|\b__t\)) \+\n'';/g,y=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,b=/($^)/,w=/['\n\r\u2028\u2029\\]/g;e.exports=r},function(e,t,n){e.exports=n(2)(97)},function(e,t,n){e.exports=n(2)(17)},function(e,t,n){function r(e,t){return a(e,t)}var a=n(445);e.exports=r},function(e,t,n){e.exports=n(2)(46)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(9),v=r(m);n(220);var y=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.stopEvent=n.stopEvent.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.onBackDropClick=n.onBackDropClick.bind(n),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentDidUpdate",value:function(e,t){var n=e.opened,r=this.props.opened;n!==r&&r&&this.modalContainer.focus()}},{key:"handleKeyDown",value:function(e){this.props.escapeClose&&27===e.keyCode&&(e.preventDefault(),this.props.onClosed())}},{key:"onBackDropClick",value:function(){var e=this.props,t=e.closeByBackDropClick,n=e.onClosed;t&&n()}},{key:"stopEvent",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,a=t.opened,i=t.onClosed,o=t.isHideIcon,u=t.contentStyle,l=(0,v.default)("x-modal",{show:a}),s=(0,v.default)("icon-close",{hide:o}),d=(0,v.default)("content",r);return g.default.createElement("div",{ref:function(t){e.modalContainer=t},tabIndex:"-1",className:l,onClick:this.stopEvent,onMouseDown:this.stopEvent,onKeyDown:this.handleKeyDown},g.default.createElement("div",{className:"backdrop",onClick:this.onBackDropClick}),g.default.createElement("div",{className:d,style:u},g.default.createElement("span",{className:s,onClick:i}),n))}}]),t}(h.Component);t.default=y,y.defaultProps={escapeClose:!0,closeByBackDropClick:!1},y.propTypes={onClosed:h.PropTypes.func.isRequired,className:h.PropTypes.string,opened:h.PropTypes.bool.isRequired,escapeClose:h.PropTypes.bool,isHideIcon:h.PropTypes.bool,closeByBackDropClick:h.PropTypes.bool,contentStyle:h.PropTypes.object}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertObjOut=t.convertObjIn=void 0;var a=n(175),i=r(a),o=n(40),u=r(o),l=n(22),s=r(l),d=n(513),c=r(d),f=n(33),p=r(f);t.convertObjIn=function e(t){var n=(0,s.default)(t)?[]:{};return(0,u.default)(t,function(t,r){(0,p.default)(t)?n[r]=e(t):"true"===t||"false"===t?n[r]=Boolean("true"===t):"null"===t?n[r]=null:(0,c.default)(t)?n[r]=t:isNaN((0,i.default)(t))?n[r]=t:n[r]=(0,i.default)(t)}),n},t.convertObjOut=function e(t){var n=(0,s.default)(t)?[]:{};return(0,u.default)(t,function(t,r){(0,c.default)(t)?n[r]=t?"true":"false":(0,p.default)(t)?n[r]=e(t):n[r]=t}),n}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AddText="AddText",t.LoadComplete="LoadComplete",t.CompleteTextEdit="CompleteTextEdit",t.ChangeSize="ChangeSize",t.ChangePaper="ChangePaper",t.ClickSave="ClickSave",t.ClickOrder="ClickOrder",t.ClickPreview="ClickPreview",t.ClickDownloadSpec="ClickDownloadSpec",t.ClickCropImage="ClickCropImage",t.ClickRotateImage="ClickRotateImage",t.ClickRemoveImage="ClickRemoveImage",t.ClickAddPhotos="ClickAddPhotos",t.ClickCloudUploadImage="ClickCloudUploadImage",t.FinishPhotoSelect="FinishPhotoSelect",t.AddMorePhotos="AddMorePhotos",t.StartUpload="StartUpload",t.UploadComplete="UploadComplete",t.PhotosUploadFailed="PhotosUploadFailed",t.CloseMonitor="CloseMonitor",t.CancelSingleFile="CancelSingleFile",t.CancelAllFilesClicked="CancelAllFilesClicked",t.CancelAllFilesByXClicked="CancelAllFilesByXClicked"},function(e,t){"use strict";t.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},t.bind=function(e,t){return function(){return e.apply(t,arguments)}},t.decode64=function(e){var t,n,r,a,i,o,u,l,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=e.length,c="";for(t=0;t<d;t+=4)n=s.indexOf(e[t]),r=s.indexOf(e[t+1]),a=s.indexOf(e[t+2]),i=s.indexOf(e[t+3]),o=n<<2|r>>4,u=(15&r)<<4|a>>2,l=(3&a)<<6|i,c+=64===a?String.fromCharCode(o):64===i||i===-1?String.fromCharCode(o,u):String.fromCharCode(o,u,l);return c},t.getBounds=function(e){if(e.getBoundingClientRect){var t=e.getBoundingClientRect(),n=null==e.offsetWidth?t.width:e.offsetWidth;return{top:t.top,bottom:t.bottom||t.top+t.height,right:t.left+n,left:t.left,width:n,height:null==e.offsetHeight?t.height:e.offsetHeight}}return{}},t.offsetBounds=function(e){var n=e.offsetParent?t.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+n.top,bottom:e.offsetTop+e.offsetHeight+n.top,right:e.offsetLeft+n.left+e.offsetWidth,left:e.offsetLeft+n.left,width:e.offsetWidth,height:e.offsetHeight}},t.parseBackgrounds=function(e){var t,n,r,a,i,o,u,l=" \r\n\t",s=[],d=0,c=0,f=function(){t&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&u.push(n),"-"===t.substr(0,1)&&(a=t.indexOf("-",1)+1)>0&&(r=t.substr(0,a),t=t.substr(a)),s.push({prefix:r,method:t.toLowerCase(),value:i,args:u,image:null})),u=[],t=r=n=i=""};return u=[],t=r=n=i="",e.split("").forEach(function(e){if(!(0===d&&l.indexOf(e)>-1)){switch(e){case'"':o?o===e&&(o=null):o=e;break;case"(":if(o)break;if(0===d)return d=1,void(i+=e);c++;break;case")":if(o)break;if(1===d){if(0===c)return d=0,i+=e,void f();c--}break;case",":if(o)break;if(0===d)return void f();if(1===d&&0===c&&!t.match(/^url$/i))return u.push(n),n="",void(i+=e)}i+=e,0===d?t+=e:n+=e}}),f(),s}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCropOptions=t.getCropLRByOptions=t.getCropOptionsByLR=t.covertCropSizeToLimit=void 0;var a=n(11),i=r(a),o=n(10),u=n(46),l=t.covertCropSizeToLimit=function(e,t,n){var r=e,a=t;if(r>n){var i=n/r;r=n,a=Math.round(a*i)}if(a>n){var o=n/a;a=n,r=Math.round(r*o)}return{width:r,height:a}},s=(t.getCropOptionsByLR=function(e,t,n,r,a,i){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:o.cropLimitedSize,s=e,d=t,c=n-e,f=r-t,p=Math.round(a/c),h=Math.round(i/f);if(u){var g=l(p,h,u);p=g.width,h=g.height}return{px:s,py:d,pw:c,ph:f,width:p,height:h}},t.getCropLRByOptions=function(e,t,n,r){var a=e,i=t,o=a+n,u=i+r;return{cropLUX:a,cropLUY:i,cropRLX:o,cropRLY:u}});t.getCropOptions=function(e,t,n,r,a){var d=void 0,c=void 0;90===Math.abs(a)?(d=t,c=e):(d=e,c=t);var f=(0,u.getDefaultCrop)(d,c,n,r),p=f.px,h=f.py,g=f.pw,m=f.ph,v=s(p,h,g,m),y=v.cropLUX,b=v.cropLUY,w=v.cropRLX,M=v.cropRLY,x=Math.round(n/g),E=Math.round(r/m);if(o.cropLimitedSize){var I=l(x,E,o.cropLimitedSize);x=I.width,E=I.height}return(0,i.default)({},{px:p,py:h,pw:g,ph:m,cropLUX:y,cropLUY:b,cropRLX:w,cropRLY:M,width:x,height:E})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.red=void 0;var a=n(508),i=r(a),o=n(579),u=r(o);t.default={simpleCheckForValidColor:function(e){var t=["r","g","b","a","h","s","l","v"],n=0,r=0;return(0,i.default)(t,function(t){e[t]&&(n+=1,isNaN(e[t])||(r+=1))}),n===r&&e},toState:function(e,t){var n=e.hex?(0,u.default)(e.hex):(0,u.default)(e),r=n.toHsl(),a=n.toHsv(),i=n.toRgb(),o=n.toHex();0===r.s&&(r.h=t||0,a.h=t||0);var l="000000"===o&&0===i.a;return{hsl:r,hex:l?"transparent":"#"+o,rgb:i,hsv:a,oldHue:e.h||t||r.h,source:e.source}},isValidHex:function(e){return(0,u.default)(e).isValid()}};t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},function(e,t,n){e.exports=n(2)(118)},function(e,t,n){e.exports=n(2)(177)},function(e,t,n){e.exports=n(2)(525)},function(e,t){"use strict";var n=function e(){e.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-e.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};n.options={logging:!1},e.exports=n},function(e,t,n){function r(e,t){var n=u(e)?a:o;return n(e,i(t,3))}var a=n(600),i=n(71),o=n(447),u=n(22);e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(162),v=r(m),y=n(9),b=r(y);n(218);var w=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props.isShown,t=(0,b.default)("x-loading",{show:e}),n={lines:13,length:20,width:10,radius:30,scale:.2,corners:1,color:"#f0f0f0",opacity:.22,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,top:"50%",left:"-50%",shadow:!1,hwaccel:!1,position:"absolute"};return g.default.createElement("div",{className:t,"data-html2canvas-ignore":"true"},g.default.createElement("div",{className:"load-mask"}),g.default.createElement("div",{className:"load-content"},g.default.createElement(v.default,{loaded:!1,options:n})))}}]),t}(h.Component);w.propTypes={isShown:h.PropTypes.bool.isRequired},w.defaultProps={isShown:!0},t.default=w},function(e,t){"use strict";function n(e,t,n){var r=e<<16|t<<8|n;return function(e){return"#"+new Array(7-e.length).join("0")+e}(r.toString(16).toUpperCase())}function r(e){var t=e.replace(/^#/,""),n=t.split("");return 3===t.length&&(n[5]=t[2],n[4]=t[2],n[3]=t[1],n[2]=t[1],n[1]=t[0],n[0]=t[0]),parseInt(n.join(""),16)}function a(e){var t=r(e),n=t>>16,a=t>>8&255,i=255&t;return[n,a,i]}function i(e,t){var n=r(e),a=n>>16,i=n>>8&255,o=255&n;return"rgba("+a+", "+i+", "+o+", "+t/100+")"}Object.defineProperty(t,"__esModule",{value:!0}),t.RGBToHex=n,t.hexString2Number=r,t.hexToRGB=a,t.hexToRGBA=i;t.numberToHex=function(e){for(var t=parseInt(e).toString(16).toUpperCase();t.length<6;)t="0"+t;return"#"+t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=(0,f.default)(e.name)(e.params),r={method:"GET",credentials:"same-origin"};return fetch(n,(0,d.default)({},r,t)).then(function(e){return e.text().then(function(t){return{text:t,response:e}})}).then(function(e){var t=e.text,n=e.response;if(!n.ok)return l.default.reject(n);var r=null;try{r=JSON.parse(t)}catch(e){r=g.default.xml2js(t)}finally{return r}})}Object.defineProperty(t,"__esModule",{value:!0}),t.CALL_API=void 0;var i=n(606),o=r(i),u=n(16),l=r(u),s=n(50),d=r(s),c=n(21),f=r(c);n(60);var p=n(14),h=n(67),g=r(h),m=t.CALL_API=(0,o.default)("Call API");t.default=function(e){return function(e){return function(t){var n=t[m];if("undefined"==typeof n)return e(t);var r=n.apiPattern,i=n.options;return e({apiPattern:r,type:p.API_REQUEST,options:i}),a(r,i).then(function(t){return e({apiPattern:r,type:p.API_SUCCESS,response:t}),t},function(t){return e({apiPattern:r,type:p.API_FAILURE,result:t}),t})}}}},function(e,t,n){function r(e,t){var n=u(e)?a:i;return n(e,o(t))}var a=n(145),i=n(96),o=n(99),u=n(22);e.exports=r},function(e,t,n){e.exports=n(2)(31)},function(e,t,n){e.exports=n(2)(312)},function(e,t,n){e.exports=n(2)(521)},function(e,t,n){e.exports=n(2)(636)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(9),v=r(m);n(229);var y=function(e){function t(){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.isShown,n=e.title,r=e.left,a=e.bottom,i=(0,v.default)("warn-tip",{show:t}),o={left:r?r+"px":"8px",bottom:a?a+"px":"8px"};return g.default.createElement("div",{"data-html2canvas-ignore":"true",className:i,title:n,style:o})}}]),t}(h.Component);y.propTypes={isShown:h.PropTypes.bool.isRequired,title:h.PropTypes.string},t.default=y},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.getDefaultCrop=function(e,t,n,r){if(e&&t&&n&&r){var a=e/t,i=n/r,o=void 0,u=void 0,l=void 0,s=void 0;if(a>i){var d=t,c=d*i,f=(e-c)/2;o=f/e,u=0,l=c/e,s=1}else{var p=e,h=p/i,g=(t-h)/2;o=0,u=g/t,l=1,s=h/t}return{px:o,py:u,pw:l,ph:s}}return{px:0,py:0,pw:1,ph:1}};t.getRotatedAngle=function(e,t){var n=e,r=t;return void 0!==n&&null!=n?(r=parseFloat(r)||90,n+=r,n=n>180?n-=360:n,n=n<-90?n+=360:n):0},t.getDefaultCropLRXY=function(e,t,r,a){var i=n(e,t,r,a),o=i.px,u=i.py,l=i.pw,s=i.ph;return{cropLUX:o,cropLUY:u,cropRLX:o+l,cropRLY:u+s}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.drawBox=t.resizeImage=t.replaceColor=t.fillEmptyDataWithColor=t.setSize=t.wrapBorder=t.canvasToBase64=t.imageDataHRevert=t.imageDataVRevert=t.getClient=t.createImageData=t.fillImageData=t.getBase64ByImageData=t.getImageDataByBase64=t.getImageData=t.clear=t.drawCircular=t.drawRect=t.getBeveling=t.drawDashedLine=t.drawLine=t.drawTextInCenter=t.drawText=t.drawCanvas=t.drawImage=void 0;var a=n(16),i=r(a),o=(t.drawImage=function(e,t,n,r,a,i,o,u,l,s,d){var c=document.getElementById(e),f=c.getContext("2d"),p=new Image;p.onload=function(){c.width=c.width,i&&o?u?f.drawImage(p,u,l,s,d,n,r,i,o):f.drawImage(p,n,r,i,o):f.drawImage(p,n,r),a&&a(e)},p.src=t},t.drawCanvas=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments[4],i=arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments[8],s=arguments[9],d=document.getElementById(e),c=d.getContext("2d"),f=document.getElementById(t);if(f){var p=(f.getContext("2d"),l||f.width),h=s||f.height,g=a||f.width,m=i||f.height;l>0&&s>0&&c.drawImage(f,o,u,p,h,n,r,g,m)}},t.drawText=function(e,t,n,r,a,i,o){var u=document.getElementById(e),l=u.getContext("2d");l.textBaseline="top";var s=l.fillStyle;l.fillStyle=a,l.font=i+"px "+o,l.fillText(t,n,r),l.fillStyle=s},t.drawTextInCenter=function(e,t,n,r,a){var i=document.getElementById(e),o=i.getContext("2d");o.textBaseline="top";var u=o.fillStyle;o.fillStyle=n,o.font=r+"px "+a;var l=o.measureText(t).width,s=(i.width-l)/2,d=(i.height-r)/2;o.fillText(t,s,d),o.fillStyle=u},t.drawLine=function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,u=document.getElementById(e),l=u.getContext("2d"),s=l.strokeStyle;l.strokeStyle=t;var d=l.lineWidth;l.beginPath(),l.lineWidth=o,l.moveTo(n,r),l.lineTo(a,i),l.closePath(),l.stroke(),l.strokeStyle=s,l.lineWidth=d},t.drawDashedLine=function(e,t,n,r,a,i,u,l){var s=document.getElementById(e),d=s.getContext("2d"),c=d.strokeStyle;d.strokeStyle=t;var f=d.lineWidth;u?d.lineWidth=u:d.lineWidth=1;var p=l||5;d.beginPath();for(var h=o(a-n,i-r),g=Math.floor(h/p),m=void 0,v=void 0,y=void 0,b=void 0,w=0;w<g;w++)m=n+(a-n)/g*w,v=r+(i-r)/g*w,y=n+(a-n)/g*(w+1),b=r+(i-r)/g*(w+1),d[w%2===0?"moveTo":"lineTo"](n+(a-n)/g*w,r+(i-r)/g*w);g%2!==0&&d.lineTo(y,b),d.closePath(),d.stroke(),d.strokeStyle=c,d.lineWidth=f},t.getBeveling=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))});t.drawRect=function(e,t,n,r,a,i,o,u){var l=document.getElementById(e),s=l.getContext("2d");if(s.globalCompositeOperation="source-over",o){var d=s.lineWidth;u?s.lineWidth=u:s.lineWidth=1;var c=s.strokeStyle;s.strokeStyle=t,s.beginPath(),s.moveTo(n,r),s.strokeRect(n,r,a,i),s.closePath(),s.stroke(),s.strokeStyle=c,s.lineWidth=d}else{var f=s.fillStyle;s.fillStyle=t,s.beginPath(),s.moveTo(n,r),s.globalCompositeOperation="source-over",s.fillRect(n,r,a,i),s.closePath(),s.fillStyle=f}},t.drawCircular=function(e,t,n,r,a,i,o){var u=document.getElementById(e),l=u.getContext("2d");if(i){
var s=l.lineWidth;o?l.lineWidth=o:l.lineWidth=1;var d=l.strokeStyle;l.strokeStyle=t,l.moveTo(n,r),l.beginPath(),l.arc(n,r,a,0,2*Math.PI),l.closePath(),l.stroke(),l.strokeStyle=d,l.lineWidth=s}else{var c=l.fillStyle;l.fillStyle=t,l.moveTo(n,r),l.beginPath(),l.arc(n,r,a,0,2*Math.PI),l.closePath(),l.fill(),l.fillStyle=c}},t.clear=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments[3],a=arguments[4],i=document.getElementById(e);if(i){var o=i.getContext("2d"),u=r||i.width,l=a||i.height;o.clearRect(t,n,u,l)}},t.getImageData=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=document.getElementById(e),o=i.getContext("2d"),u=t||i.width,l=n||i.height;return o.getImageData(r,a,u,l)},t.getImageDataByBase64=function(e){return new i.default(function(t,n){var r=new Image,a=document.createElement("canvas"),i=a.getContext("2d");r.src=e,r.onload=function(){a.width=r.width,a.height=r.height,i.drawImage(r,0,0);var e=i.getImageData(0,0,r.width,r.height);t(e)},r.onerror=function(){n()}})},t.getBase64ByImageData=function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.putImageData(e,0,0),t.toDataURL()},t.fillImageData=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=document.getElementById(e),u=o.getContext("2d"),l=n||o.width,s=r||o.height;u.putImageData(t,a,i,0,0,l,s)},t.createImageData=function(e,t,n){var r=document.getElementById(e),a=r.getContext("2d"),i=t||r.width,o=n||r.height;return a.createImageData(i,o)},t.getClient=function(e){var t=document.getElementById(e);return{width:t.width,height:t.height,context:t.getContext("2d")}},t.imageDataVRevert=function(e,t){for(var n=t,r=0,a=e.height;r<a;r++)for(var i=0,o=e.width;i<o;i++)n.data[r*o*4+4*i+0]=e.data[(a-r)*o*4+4*i+0],n.data[r*o*4+4*i+1]=e.data[(a-r)*o*4+4*i+1],n.data[r*o*4+4*i+2]=e.data[(a-r)*o*4+4*i+2],n.data[r*o*4+4*i+3]=e.data[(a-r)*o*4+4*i+3];return n},t.imageDataHRevert=function(e,t){for(var n=new ImageData(e.width,e.height),r=0,a=e.height;r<a;r++)for(var i=0,o=e.width;i<o;i++)n.data[r*o*4+4*i+0]=e.data[r*o*4+4*(o-i)+0],n.data[r*o*4+4*i+1]=e.data[r*o*4+4*(o-i)+1],n.data[r*o*4+4*i+2]=e.data[r*o*4+4*(o-i)+2],n.data[r*o*4+4*i+3]=e.data[r*o*4+4*(o-i)+3];return n},t.canvasToBase64=function(e){var t=document.getElementById(e);return t.toDataURL("image/jpeg")},t.wrapBorder=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=document.getElementById(e),a=document.createElement("canvas"),i=a.getContext("2d"),o=r.width,u=r.height,l={top:[1,0,-n,n,0,u/2],right:[-n,n,0,1,o/2,-o/2]};return o>u?(a.width=o+u/2,a.height=u):(a.width=o,a.height=u+o/2),CanvasRenderingContext2D.prototype.transform.apply(i,l[t]),o>u?i.drawImage(r,u/2,0):i.drawImage(r,0,o/2),i.getImageData(0,0,a.width,a.height)},t.setSize=function(e,t){var n=document.getElementById(e);t.width&&(n.width=t.width),t.height&&(n.height=t.height)},t.fillEmptyDataWithColor=function(e,t,n,r){for(var a=e,i=0;i<e.width*e.height;i++)0===a.data[4*i+3]&&(a.data[4*i]=t.r,a.data[4*i+1]=t.g,a.data[4*i+2]=t.b,a.data[4*i+3]=255);return a},t.replaceColor=function(e,t,n,r,a,i,o){var u=~~(t||0),l=~~(n||0),s=t+a||e.width,d=n+i||e.height,c=e;if(u<0||l<0||s>e.width||d>e.height)throw new Error("error params!");for(var f=l;f<d;f++)for(var p=u;p<s;p++){var h=f*c.width+p,g=c.data[4*h],m=c.data[4*h+1],v=c.data[4*h+2];g===r.r&&m===r.g&&v===r.b&&(o?(c.data[4*h]=o.r,c.data[4*h+1]=o.g,c.data[4*h+2]=o.b,c.data[4*h+3]=255):c.data[4*h+3]=0)}return c},t.resizeImage=function(e,t,n){var r=document.getElementById(e),a=(r.getContext("2d"),document.createElement("canvas")),i=a.getContext("2d"),o=t||r.width,u=n||r.height;if(o!==r.width||u!==r.height){var l=void 0;o>u?(l=r.width/o,u=r.height/l):o===u&&r.width>r.height?(l=r.width/o,u=r.height/l):(l=r.height/u,o=r.width/l)}return a.width=o,a.height=u,i.drawImage(r,0,0,o,u),a.toDataURL("image/jpeg")},t.drawBox=function(e,t,n,r,a,i,o,u,l,s){var d=document.getElementById(e),c=d.getContext("2d");c.moveTo(0,0),c.lineTo(t,0),c.lineTo(t,n),c.lineTo(t-l,n-l),c.lineTo(t-l,l),c.lineTo(l,l),c.lineTo(l,n-l),c.lineTo(t-l,n-l),c.lineTo(t,n),c.lineTo(0,n),c.lineTo(l,n-l),c.lineTo(0,n),c.lineTo(0,0),c.fillStyle=r,c.fill()}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={},r="",a="",i="";Object.defineProperty(n,"customerId",{get:function(){return r},set:function(e){r=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"token",{get:function(){return a},set:function(e){a=e},enumerable:!0,configurable:!0}),Object.defineProperty(n,"timestamp",{get:function(){return i},set:function(e){i=e},enumerable:!0,configurable:!0}),t.default=n},function(e,t,n){function r(e,t,n,r){var o=!n;n||(n={});for(var u=-1,l=t.length;++u<l;){var s=t[u],d=r?r(n[s],e[s],s,n,e):void 0;void 0===d&&(d=e[s]),o?i(n,s,d):a(n,s,d)}return n}var a=n(95),i=n(70);e.exports=r},function(e,t,n){e.exports=n(2)(520)},function(e,t,n){e.exports={default:n(185),__esModule:!0}},function(e,t,n){e.exports={default:n(188),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.cloneDragNode=t.getTransferData=t.setTransferDragNode=t.setTransferData=void 0;var a=n(51),i=r(a),o=!!document.documentMode;!o&&!!window.StyleMedia,t.setTransferData=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";if(t){var r=(0,i.default)(t);e&&e.dataTransfer?e.dataTransfer.setData(n,r):document.querySelector("body").setAttribute("data-drag",r)}},t.setTransferDragNode=function(e,t){t&&t.nodeType===Node.ELEMENT_NODE&&e.dataTransfer&&e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(t,0,0)},t.getTransferData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=void 0;if(e&&e.dataTransfer){var r=e.dataTransfer.getData(t);n=r?JSON.parse(r):{}}else{var a=document.querySelector("body").getAttribute("data-drag");n=a?JSON.parse(a):{},document.querySelector("body").removeAttribute("data-drag")}return n},t.cloneDragNode=function(e,t){if(e&&e.nodeType===Node.ELEMENT_NODE){var n=e.cloneNode(!0);return n.setAttribute("id",t),n.style.position="absolute",n.style.top="-100000px",document.body.appendChild(n),n}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setElementToHorizontalCenter=t.setElementStyles=t.getScreenRatio=t.getScreenSize=t.getSize=void 0;var a=n(76),i=r(a),o=t.getSize=function(e){var t=e||document.documentElement||document.body;return{width:t.clientWidth,height:t.clientHeight}},u=t.getScreenSize=function(){var e=window.screen;return{width:e.width,height:e.height}},l=(t.getScreenRatio=function(){var e=u().width,t=o().width;return e/t},t.setElementStyles=function(e,t){e&&t&&(0,i.default)(t,function(t,n){e.style[n]=t})});t.setElementToHorizontalCenter=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e){var r=o(e),a=t||document.documentElement||document.body,i=o(a),u=n+(i.width-n-r.width)/2;l(e,{position:"absolute",left:u+"px"})}}},function(e,t,n){"use strict";function r(e,t){this.node=e,this.parent=t,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function a(e){var t=e.options[e.selectedIndex||0];return t?t.text||"":""}function i(e){if(e&&"matrix"===e[1])return e[2].split(",").map(function(e){return parseFloat(e.trim())});if(e&&"matrix3d"===e[1]){var t=e[2].split(",").map(function(e){return parseFloat(e.trim())});return[t[0],t[1],t[4],t[5],t[12],t[13]]}}function o(e){return e.toString().indexOf("%")!==-1}function u(e){return e.replace("px","")}function l(e){return parseFloat(e)}var s=n(85),d=n(29),c=d.getBounds,f=d.parseBackgrounds,p=d.offsetBounds;r.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},r.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},r.prototype.assignStack=function(e){this.stack=e,e.children.push(this)},r.prototype.isElementVisible=function(e){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:!("none"===this.css("display")||"hidden"===this.css("visibility")||this.node.hasAttribute("data-html2canvas-ignore")||this.node.hasAttribute("data-html2canvas-manual-ignore")&&e&&e.isManualIgnore||"INPUT"===this.node.nodeName&&"hidden"===this.node.getAttribute("type"))},r.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},r.prototype.prefixedCss=function(e){var t=["webkit","moz","ms","o"],n=this.css(e);return void 0===n&&t.some(function(t){return n=this.css(t+e.substr(0,1).toUpperCase()+e.substr(1)),void 0!==n},this),void 0===n?null:n},r.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},r.prototype.cssInt=function(e){var t=parseInt(this.css(e),10);return isNaN(t)?0:t},r.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new s(this.css(e)))},r.prototype.cssFloat=function(e){var t=parseFloat(this.css(e));return isNaN(t)?0:t},r.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return e},r.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null},r.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=f(this.css("backgroundImage")))},r.prototype.cssList=function(e,t){var n=(this.css(e)||"").split(",");return n=n[t||0]||n[0]||"auto",n=n.trim().split(" "),1===n.length&&(n=[n[0],o(n[0])?"auto":n[0]]),n},r.prototype.parseBackgroundSize=function(e,t,n){var r,a,i=this.cssList("backgroundSize",n);if(o(i[0]))r=e.width*parseFloat(i[0])/100;else{if(/contain|cover/.test(i[0])){var u=e.width/e.height,l=t.width/t.height;return u<l^"contain"===i[0]?{width:e.height*l,height:e.height}:{width:e.width,height:e.width/l}}r=parseInt(i[0],10)}return a="auto"===i[0]&&"auto"===i[1]?t.height:"auto"===i[1]?r/t.width*t.height:o(i[1])?e.height*parseFloat(i[1])/100:parseInt(i[1],10),"auto"===i[0]&&(r=a/t.height*t.width),{width:r,height:a}},r.prototype.parseBackgroundPosition=function(e,t,n,r){var a,i,u=this.cssList("backgroundPosition",n);return a=o(u[0])?(e.width-(r||t).width)*(parseFloat(u[0])/100):parseInt(u[0],10),i="auto"===u[1]?a/t.width*t.height:o(u[1])?(e.height-(r||t).height)*parseFloat(u[1])/100:parseInt(u[1],10),"auto"===u[0]&&(a=i/t.height*t.width),{left:a,top:i}},r.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]},r.prototype.parseTextShadows=function(){var e=this.css("textShadow"),t=[];if(e&&"none"!==e)for(var n=e.match(this.TEXT_SHADOW_PROPERTY),r=0;n&&r<n.length;r++){var a=n[r].match(this.TEXT_SHADOW_VALUES);t.push({color:new s(a[0]),offsetX:a[1]?parseFloat(a[1].replace("px","")):0,offsetY:a[2]?parseFloat(a[2].replace("px","")):0,blur:a[3]?a[3].replace("px",""):0})}return t},r.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var e=this.parseBounds(),t=this.prefixedCss("transformOrigin").split(" ").map(u).map(l);t[0]+=e.left,t[1]+=e.top,this.transformData={origin:t,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},r.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss("transform"),t=e?i(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=t?t:[1,0,0,1,0,0]}return this.transformMatrix},r.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?p(this.node):c(this.node))},r.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},r.prototype.getValue=function(){var e=this.node.value||"";return"SELECT"===this.node.tagName?e=a(this.node):"password"===this.node.type&&(e=Array(e.length+1).join("â€¢")),0===e.length?this.node.placeholder||"":e},r.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,r.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,r.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,r.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,e.exports=r},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(19),o=a(i),u=n(5),l=a(u),s=n(3),d=a(s),c=n(4),f=a(c),p=n(7),h=a(p),g=n(6),m=a(g),v=n(8),y=a(v),b=n(11),w=a(b),M=n(9),x=a(M),E=n(621),I=n(1),_=a(I),T=n(133),C=a(T),S=n(355),L=r(S);n(243);var D=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.onDragStart=function(e){return L.onDragStart(n,e)},n.onDrag=function(e,t){return L.onDrag(n,e,t)},n.onDragStop=function(e){return L.onDragStop(n,e)},n.onResizeStart=function(e){return L.onResizeStart(n,e)},n.onResize=function(e,t,r){return L.onResize(n,e,t,r)},n.onResizeStop=function(e){return L.onResizeStop(n,e)},n.onRotateStart=function(e){return L.onRotateStart(n,e)},n.onRotate=function(e,t){return L.onRotate(n,e,t)},n.onRotateStop=function(e){return L.onRotateStop(n,e)},n.onMouseDown=function(e){return L.onMouseDown(n,e)},n.onClick=function(e){return L.onClick(n,e)},n}return(0,m.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.actions,a=t.children,i=n.className,u=n.style,l=n.handlerStyle,s=n.elementAttrs,d=(0,x.default)("element",i),c=n.element,f=n.title,p=(0,y.default)(c,"id"),h={style:(0,w.default)({},l,{cursor:"pointer"}),element:c},g=(0,w.default)({},r,{handleContextMenu:this.onContextMenu,handleClick:this.onClick});return _.default.createElement("div",{className:"element-container",title:f},_.default.createElement(E.DraggableCore,{axis:"both",disabled:!1,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,onMouseDown:this.onMouseDown},_.default.createElement("div",(0,o.default)({className:d,style:u,"data-guid":p,ref:function(t){e.element=t}},s),a,_.default.createElement(C.default,{data:h,actions:g}))))}}]),t}(I.Component);t.default=D,D.propTypes={}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PENDING="PENDING",t.DONE="DONE",t.PROGRESS="PROGRESS",t.FAIL="FAIL"},function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},function(e,t,n){e.exports=n(2)(52)},function(e,t,n){e.exports=n(2)(592)},function(e,t,n){e.exports=n(2)(68)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),i=r(a),o=n(5),u=r(o),l=n(3),s=r(l),d=n(4),c=r(d),f=n(7),p=r(f),h=n(6),g=r(h),m=n(1),v=r(m),y=n(41),b=n(20),w=r(b),M=n(292),x=r(M),E=n(9),I=r(E);n(212);var _=function(e){function t(e){return(0,s.default)(this,t),(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e))}return(0,g.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.resetOpenState;e.isAutoOpen&&(this.onClickInput(),t())}},{key:"onClickInput",value:function(){var e=this.props.uploadFileClicked,t=(0,y.findDOMNode)(this.refs.fileInput);e&&e(),t.click()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.multiple,a=e.accept,i=void 0===a?"image/jpeg,image/png,image/x-png":a,o=(0,I.default)("upload-button",t);return v.default.createElement(w.default,{className:o,onClicked:this.onClickInput.bind(this)},v.default.createElement(x.default,{type:"file",ref:"fileInput",accept:i,onChange:this.handleSelectFile.bind(this),multiple:r}),v.default.createElement("span",null,n))}},{key:"handleSelectFile",value:function(e){if(e.target.value){var t=this.props,n=t.boundUploadedImagesActions,r=t.toggleModal;r("upload",!0);var a=[].concat((0,i.default)(e.target.files));n.addImages(a)}var o=(0,y.findDOMNode)(this.refs.fileInput);o.value=""}}]),t}(m.Component);_.propTypes={className:m.PropTypes.string,children:m.PropTypes.string,multiple:m.PropTypes.string,accept:m.PropTypes.string},t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(9),v=r(m);n(213);var y=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"handleMouseDown",value:function e(t){var e=this.props.handleMouseDown,n=this;e&&e(t||window.event),document.onmousemove=function(e){n.handleMouseMove(e||window.event)},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null,n.handleMouseUp(e||window.event)}}},{key:"handleMouseMove",value:function e(t){var e=this.props.handleMouseMove;e&&e(t||window.event)}},{key:"handleMouseUp",value:function e(t){var e=this.props.handleMouseUp;e&&e(t||window.event)}},{key:"handleMouseOut",value:function e(t){var e=this.props.handleMouseOut;e&&e(t||window.event)}},{key:"handleMouseOver",value:function e(t){var e=this.props.handleMouseOver;e&&e(t||window.event)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.handleClick,a=e.handleDblClick,i=(e.handleMouseOver,e.handleDrop),o=e.handleDragStart,u=e.handleDragOver,l=e.handleDragEnter,s=e.handleDragLeave,d=e.handleDragEnd,c=e.draggable,f=e.cursor,p=e.title,h=(0,v.default)("x-handler",t),m={cursor:f};return g.default.createElement("div",{className:h,onClick:r,onDoubleClick:a,onMouseDown:this.handleMouseDown.bind(this),onMouseOver:this.handleMouseOver.bind(this),onMouseOut:this.handleMouseOut.bind(this),onDrop:i,onDragStart:o,onDragOver:u,onDragEnter:l,onDragLeave:s,onDragEnd:d,draggable:c,style:m,title:p},n)}}]),t}(h.Component);t.default=y,y.propTypes={className:h.PropTypes.string,handleClick:h.PropTypes.func,handleDblClick:h.PropTypes.func,handleMouseDown:h.PropTypes.func,handleMouseOver:h.PropTypes.func,handleMouseOut:h.PropTypes.func,handleDrop:h.PropTypes.func,handleDragStart:h.PropTypes.func,handleDragOver:h.PropTypes.func,handleDragEnter:h.PropTypes.func,handleDragLeave:h.PropTypes.func,handleDragEnd:h.PropTypes.func,draggable:h.PropTypes.bool,cursor:h.PropTypes.string}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(24),g=r(h),m=n(1),v=r(m),y=n(623),b=r(y);n(225);var w=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={value:e.value,options:e.options},n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){(0,g.default)(this.props.value,e.value)||this.setState({value:e.value,options:e.options})}},{key:"onOpen",value:function(){var e=this;setTimeout(function(){e.rePositionScrollBar(e.state.options,e.state.value)})}},{key:"rePositionScrollBar",value:function(e,t){var n=document.querySelectorAll(".Select-option"),r=void 0,a=e.find(function(e){return e.value===t});if(Array.prototype.slice.call(n).forEach(function(e){var t=e.getAttribute("class");/is-focused/.test(t)&&(t=t.replace("is-focused",""),e.setAttribute("class",t)),e.innerHTML!==a.label&&e.getAttribute("title")!==a.label||(t+=t.indexOf("is-selected")>=0?"":" is-selected",e.setAttribute("class",t),r=e)}),r){var i=r.parentNode;i.parentNode.style.display="block",i.scrollTop=r.offsetTop}}},{key:"render",value:function(){var e=this.props,t=e.onChanged,n=e.optionComponent,r=e.options,a=e.searchable,i=e.placeholder,o=e.arrowRenderer,u=(e.value,e.valueComponent);return v.default.createElement(b.default,{arrowRenderer:o,onChange:t,optionComponent:n,options:r,placeholder:i,value:this.state.value,searchable:a,onOpen:this.onOpen.bind(this),valueComponent:u})}}]),t}(m.Component);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadImg=t.combineImgCopperUrl=void 0;var a=n(16),i=r(a),o=n(11),u=r(o),l=n(21),s=r(l);n(46),t.combineImgCopperUrl=function(e,t,n,r){var a="",i={px:t.cropLUX,py:t.cropLUY,pw:t.cropRLX-t.cropLUX,ph:t.cropRLY-t.cropLUY};return a=(0,s.default)(e)((0,u.default)({},i,{rotation:t.imgRot,encImgId:encodeURIComponent(t.encImgId),width:Math.floor(n),height:Math.floor(r)}))},t.loadImg=function(e){var t=new i.default(function(t,n){if(e){var r=new Image;r.onload=function(){t({msg:"done",url:e,img:r})},r.onerror=function(t){n({msg:t.message,url:e,img:r})},r.src=e}else n({msg:"url is not empty",url:e,img:img})});return t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(52),i=r(a),o=n(19),u=r(o),l=n(22),s=r(l),d=n(111),c=r(d),f=n(40),p=r(f),h=n(8),g=r(h),m=n(11),v=r(m),y=n(27),b=function(e,t){var n=!0;return(0,p.default)(t.key,function(t,r){if(t.indexOf(e[r])===-1&&t.indexOf("*")===-1)return n=!1,!1}),n},w=function(e,t){if((0,c.default)(e))return{};if(!(0,s.default)(t)||!t.length)return e;var n=(0,v.default)({},e),r=t.map(function(e){return(0,u.default)({},e,{count:0})});r.forEach(function(e){e.keyPattern.forEach(function(e){var t=r.find(function(t){return t.id===e});t&&(t.count+=1)})});var a=r.sort(function(e,t){return t.count-e.count});return a.forEach(function(e){e.entry.forEach(function(t){var r=b(n,t);if(r){var a=t.defaultValue,i=n[e.id];t.value.indexOf(i)===-1&&(n[e.id]=(0,g.default)(a,"0")||(0,g.default)(t,"value.0"))}})}),n},M=function(e,t){if((0,c.default)(e)||!t)return{};var n={},r=t.sort(function(e,t){return e.keyPattern.length-t.keyPattern.length});return r.forEach(function(t){t.entry.forEach(function(r){var a=b(e,r);if(a){var o={};(0,p.default)(r,function(e,t){"key"!==t&&((0,s.default)(e)&&1===e.length?o[t]=e[0]:o[t]=e)});var u=(0,y.convertObjIn)(o),l=(0,i.default)(u);l.length>1?n[t.id]=u:n[t.id]=u[l[0]]}})}),n},x=function(e,t){return M(e,t)},E=function(e,t){var n=(0,v.default)({},e),r=t.filter(function(e){return 1===e.keyPattern.length});r.forEach(function(t){t.entry.forEach(function(r){r.value.forEach(function(a){if(a===e[t.id]){var i=t.keyPattern[0];n[i]||(n[i]=r.key[i][0])}})})});var a=w(n,t);return(0,v.default)({},n,a)},I=function(e,t,n){var r={};return t.forEach(function(t){t.entry.forEach(function(a){var i=b(e,a);if(i){var o=n[t.id],u=[];a.value.forEach(function(e){var t=o.find(function(t){return t.id===e});u.push(t)}),r[t.id]=u}})}),r},_=function(e,t){var n={};return t.forEach(function(t){t.entry.forEach(function(r){var a=b(e,r);a&&(n[t.id]=r.value)})}),n},T=function e(t,n,r){return n.forEach(function(a){if(a.keyPattern.indexOf(t.id)!==-1){var i=r.find(function(e){return e.id===a.id});i||r.push(a),e(a,n,r)}}),r},C=function(e,t,n){var r=(0,i.default)(t),a=[];n.forEach(function(e){(0,p.default)(r,function(t){e.keyPattern.indexOf(t)!==-1&&a.push(e)})});var o=a.concat([]);a.forEach(function(e){T(e,n,o)});var u=(0,v.default)({},e,t),l=w(u,o);return(0,v.default)({},u,l)};t.default={isEntryMatched:b,getParameters:M,getVariables:x,getProjectSetting:w,getDefaultProjectSetting:E,getNewProjectSetting:C,getAvailableOptionMap:I,getDisableOptionMap:_}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(113),i=r(a),o=new i.default({attributePrefix:""});t.default=o},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var a=n(482),i=n(483),o=n(484),u=n(485),l=n(486);r.prototype.clear=a,r.prototype.delete=i,r.prototype.get=o,r.prototype.has=u,r.prototype.set=l,e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(a(e[n][0],t))return n;return-1}var a=n(75);e.exports=r},function(e,t,n){function r(e,t,n){"__proto__"==t&&a?a(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var a=n(462);e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e,t){return a(e)?e:i(e,t)?[e]:o(u(e))}var a=n(22),i=n(480),o=n(504),u=n(112);e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return a(t)?n["string"==typeof t?"string":"hash"]:n.map}var a=n(481);e.exports=r},function(e,t,n){var r=n(179),a=r(Object,"create");e.exports=a},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function r(e,t){return null==e?e:a(e,i(t),o)}var a=n(97),i=n(99),o=n(58);e.exports=r},function(e,t,n){e.exports=n(2)(42)},function(e,t,n){e.exports=n(2)(624)},function(e,t,n){e.exports=n(2)(76)},function(e,t,n){e.exports=n(2)(82)},function(e,t,n){e.exports={default:n(183),__esModule:!0}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=a(t),this.reject=a(n)}var a=n(108);e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(619),v=r(m);n(226);var y=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={defaultValue:0,defaultStep:1,defaultMin:0,defaultMax:100,defaultVertical:!1},n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"percentFormatter",value:function(e){return e+" in."}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.min,r=e.vertical,a=e.step,i=e.max,o=e.tipFormatter,u=e.handleSliderChange,l=e.handleAfterChange,s=e.handleBeforeChange;return g.default.createElement(v.default,{value:t,defaultValue:this.state.defaultValue,min:n?n:this.state.defaultMin,max:i?i:this.state.defaultMax,step:a?a:this.state.defaultStep,tipFormatter:o?o:this.percentFormatter.bind(this),vertical:r?r:this.state.defaultVertical,onChange:u,onAfterChange:l,onBeforeChange:s})}}]),t}(h.Component);y.propTypes={value:h.PropTypes.number,min:h.PropTypes.number,max:h.PropTypes.number,step:h.PropTypes.number,tipFormatter:h.PropTypes.func,vertical:h.PropTypes.bool,handleSliderChange:h.PropTypes.func},t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Element=void 0;var a=n(3),i=r(a);t.Element=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,e);var n=t.type,r=void 0===n?"PhotoElement":n,a=t.elType,o=void 0===a?"image":a,u=t.x,l=void 0===u?0:u,s=t.y,d=void 0===s?0:s,c=t.width,f=void 0===c?0:c,p=t.height,h=void 0===p?0:p,g=t.px,m=void 0===g?0:g,v=t.py,y=void 0===v?0:v,b=t.pw,w=void 0===b?1:b,M=t.ph,x=void 0===M?1:M,E=t.dep,I=void 0===E?0:E,_=t.imageid,T=void 0===_?"":_,C=t.encImgId,S=void 0===C?"":C,L=t.rot,D=void 0===L?0:L,P=t.imgRot,A=void 0===P?0:P,O=t.imgFlip,k=void 0!==O&&O,j=t.cropLUX,N=void 0===j?0:j,z=t.cropLUY,R=void 0===z?0:z,U=t.cropRLX,B=void 0===U?1:U,F=t.cropRLY,W=void 0===F?1:F;this.type=r,this.elType=o,this.x=l,this.y=d,this.width=f,this.height=h,this.px=m,this.py=y,this.pw=w,this.ph=x,this.dep=I,this.imageid=T,this.encImgId=S,this.rot=D,this.imgRot=A,this.imgFlip=k,this.cropLUX=N,this.cropLUY=R,this.cropRLX=B,this.cropRLY=W}},function(e,t){"use strict";function n(e){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}n.prototype.darken=function(e){var t=1-e;return new n([Math.round(this.r*t),Math.round(this.g*t),Math.round(this.b*t),this.a])},n.prototype.isTransparent=function(){return 0===this.a},n.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},n.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),e.length>3&&(this.a=e[3])),Array.isArray(e)};var r=/^#([a-f0-9]{3})$/i;n.prototype.hex3=function(e){var t=null;return null!==(t=e.match(r))&&(this.r=parseInt(t[1][0]+t[1][0],16),this.g=parseInt(t[1][1]+t[1][1],16),this.b=parseInt(t[1][2]+t[1][2],16)),null!==t};var a=/^#([a-f0-9]{6})$/i;n.prototype.hex6=function(e){var t=null;return null!==(t=e.match(a))&&(this.r=parseInt(t[1].substring(0,2),16),this.g=parseInt(t[1].substring(2,4),16),this.b=parseInt(t[1].substring(4,6),16)),null!==t};var i=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;n.prototype.rgb=function(e){var t=null;return null!==(t=e.match(i))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3])),null!==t};var o=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;n.prototype.rgba=function(e){var t=null;return null!==(t=e.match(o))&&(this.r=Number(t[1]),this.g=Number(t[2]),this.b=Number(t[3]),this.a=Number(t[4])),null!==t},n.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},n.prototype.namedColor=function(e){e=e.toLowerCase();var t=u[e];if(t)this.r=t[0],this.g=t[1],this.b=t[2];else if("transparent"===e)return this.r=this.g=this.b=this.a=0,!0;return!!t},n.prototype.isColor=!0;var u={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],
lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r="withCredentials"in new XMLHttpRequest;if(!t)return f.default.reject("No proxy configured");var a=u(r),i=l(t,e,a);return r?p(i):o(n,i,a).then(function(e){return v(e.content)})}function i(e,t,n){var r="crossOrigin"in new Image,a=u(r),i=l(t,e,a);return r?f.default.resolve(i):o(n,i,a).then(function(e){return"data:"+e.type+";base64,"+e.content})}function o(e,t,n){return new f.default(function(r,a){var i=e.createElement("script"),o=function(){delete window.html2canvas.proxy[n],e.body.removeChild(i)};window.html2canvas.proxy[n]=function(e){o(),r(e)},i.src=t,i.onerror=function(e){o(),a(e)},e.body.appendChild(i)})}function u(e){return e?"":"html2canvas_"+Date.now()+"_"+ ++y+"_"+Math.round(1e5*Math.random())}function l(e,t,n){return e+"?url="+encodeURIComponent(t)+(n.length?"&callback=html2canvas.proxy."+n:"")}function s(e){return function(t){var n,r=new DOMParser;try{n=r.parseFromString(t,"text/html")}catch(e){g("DOMParser not supported, falling back to createHTMLDocument"),n=document.implementation.createHTMLDocument("");try{n.open(),n.write(t),n.close()}catch(e){g("createHTMLDocument write not supported, falling back to document.body.innerHTML"),n.body.innerHTML=t}}var a=n.querySelector("base");if(!a||!a.href.host){var i=n.createElement("base");i.href=e,n.head.insertBefore(i,n.head.firstChild)}return n}}function d(e,t,n,r,i,o){return new a(e,t,window.document).then(s(e)).then(function(e){return m(e,n,r,i,o,0,0)})}var c=n(16),f=r(c),p=n(129),h=n(29),g=n(35),m=n(124),v=h.decode64,y=0;t.Proxy=a,t.ProxyURL=i,t.loadUrlDocument=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=t.getUrl=t.combine=void 0;var a=n(8),i=r(a),o=n(76),u=r(o);t.combine=function(e,t,n){if(!e||!t)return"";var r=e;r.endsWith("/")&&(r=r.slice(0,r.length-1));var a=[];return n&&(0,u.default)(n,function(e,t){a.push(t+"="+e)}),r+"/"+t+"?"+a.join("&")},t.getUrl=function(e,t){return(0,i.default)(e,t)||""},t.getUrlParam=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):""}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(9),v=r(m);n(245);var y=function(e){function t(e,n){(0,u.default)(this,t);var r=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n));return r.handleMouseDown=r.handleMouseDown.bind(r),r.handleMouseEnter=r.handleMouseEnter.bind(r),r.handleMouseMove=r.handleMouseMove.bind(r),r}return(0,p.default)(t,e),(0,s.default)(t,[{key:"handleMouseDown",value:function(e){var t=this.props,n=t.onSelect,r=t.option;n(r,e),e.preventDefault(),e.stopPropagation()}},{key:"handleMouseEnter",value:function(e){var t=this.props,n=t.onFocus,r=t.option;n(r,e)}},{key:"handleMouseMove",value:function(e){var t=this.props,n=t.onFocus,r=t.option;n(r,e)}},{key:"render",value:function(){var e=this.props.className,t=this.props.option,n=(t.label,t.title),r=t.fontThumbnailUrl,a=t.disabled,i=(0,v.default)(e,{"font-option-disabled":a});return g.default.createElement("div",{className:i,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,title:n},g.default.createElement("img",{src:r,alt:""}))}}]),t}(h.Component);y.propTypes={option:h.PropTypes.shape({label:h.PropTypes.string,title:h.PropTypes.string.isRequired,fontThumbnailUrl:h.PropTypes.string.isRequire}).isRequired},t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(9),v=r(m);n(250);var y=n(582),b=r(y),w=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.isModalShow,r=e.isWhiteBackground,a=(0,v.default)("loading-wrap",{show:t}),i=void 0;return i=r?(0,v.default)("loading-modal-white",{show:n}):(0,v.default)("loading-modal",{show:n}),g.default.createElement("div",{className:a},g.default.createElement("div",{className:i}),g.default.createElement("div",{className:"loading-concent"},g.default.createElement("img",{src:b.default}),g.default.createElement("p",{className:"loading-text"},"Loading...")))}}]),t}(h.Component);t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsSupportPaintedTextInCover=t.checkIsSetCoverAsInnerBg=t.checkIsHalfPageInCover=t.checkIsSupportImageInCover=void 0;var r=n(10);t.checkIsSupportImageInCover=function(e){switch(e){case r.coverTypes.NONE:case r.coverTypes.HC:return!0;default:return!1}},t.checkIsHalfPageInCover=function(e){switch(e){case r.coverTypes.LC:case r.coverTypes.BC:case r.coverTypes.NC:return!0;default:return!1}},t.checkIsSetCoverAsInnerBg=function(e){switch(e){case r.coverTypes.HC:case r.coverTypes.NONE:return!0;default:return!1}},t.checkIsSupportPaintedTextInCover=function(e){switch(e){case r.coverTypes.LC:case r.coverTypes.NC:return!0;default:return!1}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(52),i=r(a),o=n(16),u=r(o);n(60);var l=n(67),s=r(l),d=n(27);t.default=function(e,t,n){if(!e)return null;var r=e.replace(/\/textImage\?/,"/textinfo?"),a=fetch(r).then(function(e){return e.ok?e.text():u.default.reject(new Error(e.statusText))}).then(function(e){return(0,d.convertObjIn)(s.default.xml2js(e))}),o=fetch(e).then(function(e){return e.ok?e.blob():u.default.reject(new Error(e.statusText))});return u.default.all([a,o]).then(function(e){if((0,i.default)(e[0]).length){var r=e[0].textInfo,a=URL.createObjectURL(e[1]),o=r.textAreaIdeaWidth>t||r.textAreaIdeaHeight>n;return u.default.resolve({isShowTextNotFit:o,blobUrl:a})}})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments[7];return{id:(0,_.guid)(),width:t,height:n,bleed:r,type:e,wrapSize:a,rotate:o,elements:[],spineExpanding:u,backend:{isPrint:i}}}function i(e,t,n,r){var a=e.innerBleedSize,i=e.innerWrapSize,o=(0,E.default)({},a),u="";switch(r!==L.pageTypes.dvd&&r!==L.pageTypes.usb||(o.top=0,o.right=0,o.bottom=0,o.left=0),r){case L.pageTypes.page:u="innerBaseSize";break;case L.pageTypes.dvd:u="dvdSize";break;case L.pageTypes.usb:u="usbSize";break;default:u="innerBaseSize"}var l=(0,C.getInnerPageSize)(e[u],o,i);return(0,y.default)({id:(0,_.guid)()},l,{type:r,bleed:(0,y.default)({},o),elements:[],wrapSize:i,backend:{isPrint:!0}})}function o(e){return e.width===e.height?L.cameoDirectionTypes.S:e.width>e.height?L.cameoDirectionTypes.H:L.cameoDirectionTypes.V}function u(e,t){var n=(0,y.default)({},e),r=e.containers;return r.forEach(function(e,r){var a=e.elements;if(a.length){var i=t.filter(function(e){return a.indexOf(e.id)!==-1});n.containers[r].elements=i}}),n}function l(e){return e.map(function(e){return{id:e.id,width:e.width,height:e.height,type:e.type,backend:e.backend,bleed:e.bleed,wrapSize:e.wrapSize,elements:e.elements}})}function s(e,t){return{id:e.id,width:e.width,height:e.height,containers:l(e.containers),isRotate:t}}function d(e){return e.map(function(e){return{id:e.id,width:e.width,height:e.height,type:e.type,bleed:e.bleed,elements:e.elements,backend:e.backend}})}function c(e,t){var n=[].concat((0,m.default)(e));return e.forEach(function(e,r){var a=e.elements;if(a.length){var i=t.filter(function(e){return a.indexOf(e.id)!==-1});n[r].elements=i}}),n}function f(e,t,n){var r=t.containers.find(function(t){return t.type===e}),a=!1;if(r){var i=!0,o=!1,u=void 0;try{for(var l,s=function(){var e=l.value,t=n.find(function(t){return e===t.id});t&&t.type===L.elementTypes.paintedText&&t.text&&(a=!0)},d=(0,h.default)(r.elements);!(i=(l=d.next()).done);i=!0)s()}catch(e){o=!0,u=e}finally{try{!i&&d.return&&d.return()}finally{if(o)throw u}}}return a}Object.defineProperty(t,"__esModule",{value:!0}),t.generateSku=t.generateProject=t.generatePageArray=t.generateInner=t.generateCover=t.generateSpreadArray=t.generateSpread=void 0;var p=n(81),h=r(p),g=n(34),m=r(g),v=n(19),y=r(v),b=n(8),w=r(b),M=n(40),x=(r(M),n(11)),E=r(x),I=n(113),_=(r(I),n(18)),T=n(302),C=n(428),S=n(90),L=n(10),D=t.generateSpread=function(e,t,n){var r={id:(0,_.guid)(),w:t.baseSize.width,h:t.baseSize.height,bleedTop:t.bleedSize.top,bleedBottom:t.bleedSize.bottom,bleedLeft:t.bleedSize.left,bleedRight:t.bleedSize.right,spineThicknessWidth:t.spineThickness,wrapSize:t.wrapSize.left,elements:[],type:e,pageNumber:n};return"innerPage"===e&&(r=(0,E.default)({},r,{w:t.innerBaseSize.width,h:t.innerBaseSize.height,wrapSize:t.innerWrapSize.left})),r};t.generateSpreadArray=function(e,t){var n=[];switch(e){case L.panelTypes.blackPanel:case L.panelTypes.blackLeatherette:n.push(D("coverPage",t,0));break;case L.panelTypes.imagePanel:case L.panelTypes.imageWrapped:var r=D("coverPage",t,0),a=D("innerPage",t,1);n.push(r),n.push(a)}return n},t.generateCover=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return{};var i=t.baseSize,o=t.bleedSize,u=t.wrapSize,l=t.spineSize,s=t.spineExpanding,d="woodBox"===e.product,c=(0,C.getCoverSheetSize)(i,o,u,l,d,s,r),f=n.coverAsset,p=(0,C.getCoverBackgroundSize)(n.cover,c,r),h=l,g=i.height+(0,w.default)(u,"top")+(0,w.default)(u,"bottom"),m=(0,S.checkIsHalfPageInCover)(e.cover),v=(0,S.checkIsSupportImageInCover)(e.cover),b=[];if(m){var M=(0,C.getFrontCoverSize)(i,o,u),x=(0,C.getBackCoverSize)(i,o,u),I=a("Front",M.width,M.height,o,(0,E.default)({},u,{left:0}),!0),T=a("Back",x.width,x.height,o,(0,E.default)({},u,{right:0}),!0);b.push(I),b.push(T)}else{var D=a("Full",c.width,c.height,o,u,v,r);b.push(D)}var P=a("Spine",h,g,o,(0,E.default)({},u,{left:0,right:0}),!0,!1,s);b.push(P);var A="";return A=r?n.cover?n.cover.rImage:"":n.cover?n.cover.image:"",(0,y.default)({id:(0,_.guid)()},c,{bleed:(0,y.default)({},o),bgImageUrl:f?f.coverimage+"?random="+L.VERSION:"",effectImageUrl:A+"?random="+L.VERSION,backgroundSize:p,containers:b,isRotate:r})},t.generateInner=function(e,t,n,r){if(!t)return{};var a=void 0,i=void 0;switch(e.product){case"usbCase":case"IB":a=!0,i=r[0];break;case"dvdCase":a=!1,i=r[1];break;default:return{}}return{effectImageUrl:n.inner?n.inner.image+("?random="+L.VERSION):"",backgroundSize:(0,C.getInnerBackgroundSize)(n.inner,i,a)}},t.generatePageArray=function(e,t,n){if(!t)return[];var r=[],a=!0;switch(e.product){case"woodBox":break;case"IB":r.push(i(t,n,a,L.pageTypes.page));break;case"usbCase":r.push(i(t,n,a,L.pageTypes.page)),r.push(i(t,n,!a,L.pageTypes.usb));break;case"dvdCase":var o="one"===e.dvdType?L.pageTypes.page:L.pageTypes.dvd;r.push(i(t,n,a,o)),r.push(i(t,n,!a,L.pageTypes.dvd))}return r},t.generateProject=function(e,t,n){var r=e.projectId,a=e.pageArray,i=e.cover,l=e.elementArray,p=e.imageArray,h=e.setting,g=e.parameterMap.cameoSize,m=e.isProjectRotate,v="",y="",b="",w="None",M=!1,x=0,E=0,I="",_=!1,C=0;l=l.map(function(e){return delete e.isSelect,e});var S=u(s(i,m),l),D=c(d(a),l),P=l.filter(function(e){return e.type===L.elementTypes.cameo}),A=l.filter(function(e){return e.type===L.elementTypes.usbText&&e.text});if(g&&(w=o(g)),P.length>0&&(M=!0),"usbCase"===h.product&&(x=1),A.length>0&&(I="usbText"),f(L.pageTypes.front,i,l)&&(v=L.pageTypes.front),f(L.pageTypes.spine,i,l)&&(y=L.pageTypes.spine),f(L.pageTypes.back,i,l)&&(b=L.pageTypes.back),"dvdCase"===h.product)if("noPrinted"===h.dvdPrinted)E=0;else switch(h.dvdType){case"one":E=1;break;case"two":E=2}_=!!(v||y||b||I),C=a.filter(function(e){return e.backend.isPrint&&e.type!==L.pageTypes.usb}).length;var O=new Date(e.createdDate);return isNaN(O.getTime())&&(O=new Date),{project:{guid:~r?r:void 0,version:n,clientId:"web-h5",createAuthor:"web-h5|1.1|1",userId:t.id,artisan:t.firstName,createdDate:(0,T.formatDateTime)(O),updatedDate:(0,T.formatDateTime)(new Date),summary:{useCameo:Boolean(P.length),cameoDirection:w,dvdNumber:E,usbNumber:x,printNumber:C,usbPaintedText:I,frontPaintedText:v,spinePaintedText:y,backPaintedText:b,useTextPrinting:_},spec:h,cover:S,pages:D,images:p}}},t.generateSku=function(e){var t=e.project,n=t.summary,r=(0,y.default)({},n),a=(0,y.default)({},t.spec);r.useCameo===!1&&(r.cameoDirection="",a.cameo="",a.cameoShape="");var i={project:(0,y.default)({version:t.version,clientId:t.clientId,createAuthor:t.createAuthor,userId:t.userId,artisan:t.artisan},r,a)};return i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){if(!e)return"";var r=[];return n&&(0,o.default)(n,function(e,t){r.push(t+"="+e)}),t?e+"/"+t+"?"+r.join("&"):e+"?"+r.join("&")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(76),o=r(i);t.combine=a},function(e,t,n){function r(e){var t=this.__data__=new a(e);this.size=t.size}var a=n(68),i=n(499),o=n(500),u=n(501),l=n(502),s=n(503);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=u,r.prototype.has=l,r.prototype.set=s,e.exports=r},function(e,t,n){function r(e,t,n){var r=e[t];u.call(e,t)&&i(r,n)&&(void 0!==n||t in e)||a(e,t,n)}var a=n(70),i=n(75),o=Object.prototype,u=o.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(98),a=n(459),i=a(r);e.exports=i},function(e,t,n){var r=n(460),a=r();e.exports=a},function(e,t,n){function r(e,t){return e&&a(e,t,i)}var a=n(97),i=n(78);e.exports=r},71,function(e,t){function n(){return!1}e.exports=n},71,function(e,t,n){function r(e,t){return e&&a(e,i(t))}var a=n(98),i=n(99);e.exports=r},function(e,t,n){function r(e,t,n){return null==e?e:a(e,t,n)}var a=n(150);e.exports=r},function(e,t,n){e.exports=n(2)(159)},function(e,t,n){e.exports=n(2)(176)},function(e,t,n){e.exports=n(2)(246)},function(e,t,n){e.exports=n(2)(260)},function(e,t,n){e.exports=n(2)(533)},function(e,t,n){e.exports=n(2)(55)},function(e,t,n){e.exports=n(2)(565)},function(e,t,n){e.exports=n(2)(621)},function(e,t,n){e.exports=n(2)(630)},function(e,t,n){e.exports=n(2)(774)},function(e,t,n){e.exports=n(2)(98)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(16),i=r(a);t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default(function(e,n){function r(a,o){try{var u=t[a](o),l=u.value}catch(e){return void n(e)}return u.done?void e(l):i.default.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(181),i=r(a),o=n(81),u=r(o);t.default=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=(0,u.default)(e);!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,i.default)(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){var r=n(61),a=n(25),i=n(630);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",o)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(79),a=n(178),i=n(82);e.exports=function(e,t){if(r(e),a(t)&&t.constructor===e)return t;var n=i.f(e),o=n.resolve;return o(t),n.promise}},function(e,t,n){var r=n(79),a=n(108),i=n(77)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||void 0==(n=r(o)[i])?t:a(n)}},function(e,t,n){var r,a,i,o=n(104),u=n(192),l=n(608),s=n(598),d=n(59),c=d.process,f=d.setImmediate,p=d.clearImmediate,h=d.MessageChannel,g=d.Dispatch,m=0,v={},y="onreadystatechange",b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},w=function(e){b.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++m]=function(){u("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete v[e]},"process"==n(165)(c)?r=function(e){c.nextTick(o(b,e,1))}:g&&g.now?r=function(e){g.now(o(b,e,1))}:h?(a=new h,i=a.port2,a.port1.onmessage=w,r=o(i.postMessage,i,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(r=function(e){d.postMessage(e+"","*")},d.addEventListener("message",w,!1)):r=y in s("script")?function(e){l.appendChild(s("script"))[y]=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(o(b,e,1),0)}),e.exports={set:f,clear:p}},function(e,t,n){e.exports=n(205)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(116),i=r(a),o=n(5),u=r(o),l=n(3),s=r(l),d=n(4),c=r(d),f=n(7),p=r(f),h=n(6),g=r(h),m=n(11),v=r(m),y=n(1),b=r(y),w=n(568),M=n(38);n(210);var x=function(e){function t(e){(0,s.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e)),r=n.props.initHexString,a={r:"255",g:"255",b:"255"},o=a;if(r){var l=(0,M.hexToRGB)(r),d=(0,i.default)(l,3),c=d[0],f=d[1],h=d[2];o=(0,v.default)({},a,{r:c,g:f,b:h})}return n.state={displayColorPicker:!1,color:o},n.handleClick=n.handleClick.bind(n),n.handleChange=n.handleChange.bind(n),n.handleClose=n.handleClose.bind(n),n}return(0,g.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.needResetColor,n=e.needResetColor;if(t!==n&&n){var r=(0,M.hexToRGB)(e.initHexString),a=(0,i.default)(r,3),o=a[0],u=a[1],l=a[2];this.setState({color:{r:o,g:u,b:l}})}}},{key:"handleClick",value:function(){var e=this;this.setState({displayColorPicker:!this.state.displayColorPicker},function(){e.state.displayColorPicker&&e.popover.focus()})}},{key:"handleChange",value:function(e){this.setState({color:e.rgb}),this.props.onColorChange(e)}},{key:"handleClose",value:function(e){var t=this,n=e.currentTarget;setTimeout(function(){n.contains(document.activeElement)||t.setState({displayColorPicker:!1})},0)}},{key:"render",value:function(){var e=this,t=this.state,n=t.displayColorPicker,r=t.color,a={background:"rgb("+r.r+", "+r.g+", "+r.b+")"},i=["#E5F1E1","#F6D8DA","#7CE0D3","#FF9999","#ADC1E4","#E2DAC8","#93B55A","#FFCE43","#CC000E","#71000A","#155B4D","#4D8BF5","#121639","#000000","#E3E3E3","#FFFFFF"];return b.default.createElement("div",{className:"color-picker"},b.default.createElement("div",{className:"swatch",onClick:this.handleClick},b.default.createElement("div",{className:"color",style:a})),n?b.default.createElement("div",{className:"popover",tabIndex:"-1",ref:function(t){e.popover=t},onBlur:this.handleClose},b.default.createElement(w.SketchPicker,{color:r,onChange:this.handleChange,presetColors:i,disableAlpha:!0})):null)}}]),t}(y.Component);x.propTypes={onColorChange:y.PropTypes.func.isRequired,initHexString:y.PropTypes.string,needResetColor:y.PropTypes.bool},t.default=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){!e.defaultView||t===e.defaultView.pageXOffset&&n===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,n)}function i(e,t){try{t&&(t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0))}catch(t){d("Unable to copy canvas content from",e,t)}}function o(e,t){for(var n=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),r=e.firstChild;r;)t!==!0&&1===r.nodeType&&"SCRIPT"===r.nodeName||n.appendChild(o(r,t)),r=r.nextSibling;return 1===e.nodeType&&(n._scrollTop=e.scrollTop,n._scrollLeft=e.scrollLeft,"CANVAS"===e.nodeName?i(e,n):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(n.value=e.value)),n}function u(e){if(1===e.nodeType){e.scrollTop=e._scrollTop,e.scrollLeft=e._scrollLeft;for(var t=e.firstChild;t;)u(t),t=t.nextSibling}}var l=n(16),s=r(l),d=n(35);e.exports=function(e,t,n,r,i,l,d){var c=o(e.documentElement,i.javascriptEnabled),f=t.createElement("iframe");return f.className="html2canvas-container",f.style.visibility="hidden",f.style.position="fixed",f.style.left="-10000px",f.style.top="0px",f.style.border="0",f.width=n,f.height=r,f.scrolling="no",t.body.appendChild(f),new s.default(function(t){var n=f.contentWindow.document;f.contentWindow.onload=f.onload=function(){var e=setInterval(function(){n.body.childNodes.length>0&&(u(n.documentElement),clearInterval(e),"view"===i.type&&(f.contentWindow.scrollTo(l,d),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||f.contentWindow.scrollY===d&&f.contentWindow.scrollX===l||(n.documentElement.style.top=-d+"px",n.documentElement.style.left=-l+"px",n.documentElement.style.position="absolute")),t(f))},50)},n.open(),n.write("<!DOCTYPE html><html></html>"),a(e,l,d),n.replaceChild(n.adoptNode(c),n.documentElement),n.close()})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,a){return M(e,e,n,r,t,e.defaultView.pageXOffset,e.defaultView.pageYOffset).then(function(o){b("Document cloned");var u=I+a,l="["+u+"='"+a+"']",s=e.querySelector(l);s&&s.removeAttribute(u);var d=o.contentWindow,c=d.document.querySelector(l),f="function"==typeof t.onclone?p.default.resolve(t.onclone(d.document)):p.default.resolve(!0);return f.then(function(){return i(c,o,t,n,r)})})}function i(e,t,n,r,a){var i=t.contentWindow,d=new h(i.document),c=new m(n,d),f=E(e),p="view"===n.type?r:l(i.document),g="view"===n.type?a:s(i.document),y=new n.renderer(p,g,c,n,document),w=new v(e,y,d,c,n);return w.ready.then(function(){b("Finished rendering");var r;return r="view"===n.type?u(y.canvas,{width:y.canvas.width,height:y.canvas.height,top:0,left:0,x:0,y:0}):e===i.document.body||e===i.document.documentElement||null!=n.canvas?y.canvas:u(y.canvas,{width:null!=n.width?n.width:f.width,height:null!=n.height?n.height:f.height,top:f.top,left:f.left,x:0,y:0}),o(t,n),r})}function o(e,t){t.removeContainer&&(e.parentNode.removeChild(e),b("Cleaned up container"))}function u(e,t){var n=document.createElement("canvas"),r=Math.min(e.width-1,Math.max(0,t.left)),a=Math.min(e.width,Math.max(1,t.left+t.width)),i=Math.min(e.height-1,Math.max(0,t.top)),o=Math.min(e.height,Math.max(1,t.top+t.height));n.width=t.width,n.height=t.height;var u=a-r,l=o-i;return b("Cropping canvas at:","left:",t.left,"top:",t.top,"width:",u,"height:",l),b("Resulting crop with width",t.width,"and height",t.height,"with x",r,"and y",i),n.getContext("2d").drawImage(e,r,i,u,l,t.x,t.y,u,l),n}function l(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function s(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function d(e){var t=document.createElement("a");return t.href=e,t.href=t.href,t}function c(e,t){var n=_++;if(t=t||{},t.logging&&(b.options.logging=!0,b.options.start=Date.now()),t.async="undefined"==typeof t.async||t.async,t.allowTaint="undefined"!=typeof t.allowTaint&&t.allowTaint,t.removeContainer="undefined"==typeof t.removeContainer||t.removeContainer,t.javascriptEnabled="undefined"!=typeof t.javascriptEnabled&&t.javascriptEnabled,t.imageTimeout="undefined"==typeof t.imageTimeout?1e4:t.imageTimeout,t.renderer="function"==typeof t.renderer?t.renderer:g,t.strict=!!t.strict,t.isManualIgnore="undefined"!=typeof t.isManualIgnore,"string"==typeof e){if("string"!=typeof t.proxy)return p.default.reject("Proxy must be used when rendering url");var r=null!=t.width?t.width:window.innerWidth,o=null!=t.height?t.height:window.innerHeight;return x(d(e),t.proxy,document,r,o,t).then(function(e){return i(e.contentWindow.document.documentElement,e,t,r,o)})}var u=(void 0===e?[document.documentElement]:e.length?e:[e])[0];return u.setAttribute(I+n,n),a(u.ownerDocument,t,u.ownerDocument.defaultView.innerWidth,u.ownerDocument.defaultView.innerHeight,n).then(function(e){return"function"==typeof t.onrendered&&(b("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),t.onrendered(e)),e})}Object.defineProperty(t,"__esModule",{value:!0});var f=n(16),p=r(f);t.html2canvas=c;var h=n(316),g=n(314),m=n(309),v=n(310),y=n(55),b=n(35),w=n(29),M=n(124),x=n(86).loadUrlDocument,E=w.getBounds,I="data-html2canvas-node",_=0;c.CanvasRenderer=g,c.NodeContainer=y,c.log=b,c.utils=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=o.default.resolve(!0)}var i=n(16),o=r(i);a.TYPES={LINEAR:1,RADIAL:2},a.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){u.apply(this,arguments),this.type=u.TYPES.LINEAR;var t=a.REGEXP_DIRECTION.test(e.args[0])||!u.REGEXP_COLORSTOP.test(e.args[0]);t?e.args[0].split(/\s+/).reverse().forEach(function(e,t){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var n=this.y0,r=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=r,this.y1=n;break;case"center":break;default:var a=.01*parseFloat(e,10);if(isNaN(a))break;0===t?(this.y0=a,this.y1=1-this.y0):(this.x0=a,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(t?1:0).map(function(e){var t=e.match(u.REGEXP_COLORSTOP),n=+t[2],r=0===n?"%":t[3];return{color:new l(t[1]),stop:"%"===r?n/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(e,t){null===e.stop&&this.colorStops.slice(t).some(function(n,r){return null!==n.stop&&(e.stop=(n.stop-this.colorStops[t-1].stop)/(r+1)+this.colorStops[t-1].stop,!0)},this)},this)}var i=n(43),o=r(i),u=n(126),l=n(85);a.prototype=(0,o.default)(u.prototype),a.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){this.src=e,this.image=null;var t=this;this.promise=this.hasFabric().then(function(){return t.isInline(e)?o.default.resolve(t.inlineFormatting(e)):u(e)}).then(function(e){return new o.default(function(n){window.html2canvas.svg.fabric.loadSVGFromString(e,t.createCanvas.call(t,n))})})}var i=n(16),o=r(i),u=n(129),l=n(29).decode64;a.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?o.default.resolve():o.default.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},a.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},a.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},a.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},a.prototype.createCanvas=function(e){var t=this;return function(n,r){var a=new window.html2canvas.svg.fabric.StaticCanvas("c");t.image=a.lowerCanvasEl,a.setWidth(r.width).setHeight(r.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(n,r)).renderAll(),e(a.lowerCanvasEl)}},a.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):l(e)},e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return new o.default(function(t,n){var r=new XMLHttpRequest;r.open("GET",e),r.onload=function(){200===r.status?t(r.responseText):n(new Error(r.statusText))},r.onerror=function(){n(new Error("Network Error"))},r.send()})}var i=n(16),o=r(i);e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),i=r(a),o=n(40),u=r(o),l=n(11),s=r(l),d=n(8),c=r(d),f=function(e){var t={},n=(0,c.default)(e,"global.options.optionGroup");return n.forEach(function(e){var n=e.option.length?[].concat((0,i.default)(e.option)):[e.option];t[e.id]=n}),t},p=function(e){var t={};return(0,u.default)(e,function(e,n){"key"!==n&&(t[n]=e.split(","))}),t},h=function(e){var t=[];return e.forEach(function(e){var n=e.keyPattern.split("-"),r=(0,s.default)({},e,{keyPattern:n,entry:null}),a=[];a=Array.isArray(e.entry)?e.entry:[e.entry],a.forEach(function(e){var t=e.key.split("-"),a={};n.forEach(function(e,r){var i=t[r];i=i.startsWith("[")&&i.endsWith("]")?i.substring(1,i.length-1).split(","):i.indexOf(",")!==-1&&1===n.length?i.split(","):[i],a[e]=i});var i=(0,s.default)(e,p(e),{key:a});r.entry||(r.entry=[]),r.entry.push(i)}),t.push(r)}),t},g=function(e){var t=(0,c.default)(e,"configurableOptionMap.optionMap");return h(t)},m=function(e){var t=(0,c.default)(e,"parameters.parameter");return h(t)},v=function(e){var t=(0,c.default)(e,"variables.variable");return h(t)},y=function(e){var t=(0,c.default)(e,"disableOptionMap.optionMap");return h(t)};t.default={prepareOptionGroup:f,prepareConfigurableOptionMap:g,prepareDisableOptionMap:y,prepareParameters:m,prepareVariables:v}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(9),g=r(h),m=n(1),v=r(m),y=n(586),b=r(y),w=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.viewWidth,n=e.viewHeight,r=e.hasImage,a=(0,g.default)("bg-cloud",{hide:r
}),i=t/6,o=n/6;i=i>200?200:i<140?140:i,o=o>200?200:o<140?140:o;var u=Math.max(i,o)>Math.min(t,n)?Math.min(t,n):Math.max(i,o),l={position:"absolute",width:u+"px",height:u+"px",left:(t-u)/2+"px",top:(n-u)/2+"px"};return v.default.createElement("img",{className:a,src:b.default,style:l})}}]),t}(m.Component);t.default=w},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=a(i),u=n(3),l=a(u),s=n(4),d=a(s),c=n(7),f=a(c),p=n(6),h=a(p),g=n(11),m=a(g),v=n(24),y=a(v),b=n(8),w=a(b),M=n(1),x=a(M),E=n(13),I=n(41),_=n(9),T=a(_),C=n(18),S=n(62),L=a(S),D=n(133),P=a(D),A=n(352),O=a(A),k=n(373),j=a(k),N=n(349),z=a(N),R=n(354),U=a(R),B=n(389),F=a(B),W=n(383),H=a(W),Y=n(378),Q=a(Y),G=n(338),X=n(10),q=n(28),J=n(339),V=r(J),Z=n(340),K=r(Z);n(234);var $=function(e){function t(e){(0,l.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));n.onPageDragOver=function(e){return V.onPageDragOver(e)},n.onPageDroped=function(e){return V.onPageDroped(n,e)},n.switchPage=function(e){return V.switchPage(n,e)},n.convertElements=function(e,t,r){return(0,G.convertElements)(n,e,t,r)},n.getRenderHtml=n.getRenderHtml.bind(n),n.getRenderHandlerHtml=n.getRenderHandlerHtml.bind(n),n.openUploadImageModal=n.openUploadImageModal.bind(n),n.handleTextMouseDown=function(e,t){return K.handleTextMouseDown(n,e,t)},n.handleTextMove=function(e){return K.handleTextMove(n,e)},n.handleTextMouseUp=function(e,t,r,a,i){return K.handleTextMouseUp(n,e,t,r,a,i)},n.handleTextRemove=function(e){return K.handleTextRemove(n,e)},n.checkPrintedTextPosition=function(e){return K.checkPrintedTextPosition(n,e)};var r=n.props,a=r.data,i=r.actions,u=a.elements,s=a.rate,d=i.boundProjectActions,c=i.boundPaginationActions,p=i.toggleOperationPanel,h=i.boundWorkspaceActions,g=(i.editText,i.editTextWithoutJustify);return n.state={elementArray:n.convertElements(n.props,u,s),photoActions:{boundProjectActions:d,boundPaginationActions:c,toggleOperationPanel:p,handleDblClick:function(){n.onCropImage()},openUploadImageModal:n.openUploadImageModal,boundWorkspaceActions:h},textActions:{handleMouseDown:n.handleTextMouseDown,handleDblClick:g,handleTextRemove:n.handleTextRemove,editTextWithoutJustify:g}},n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"openUploadImageModal",value:function(){var e=this.props.actions,t=e.boundTrackerActions;(0,I.findDOMNode)(this.refs.fileUpload).click(),t.addTracker(q.ClickCloudUploadImage)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.data,n=e.data,r=t.elements,a=n.elements,i=t.rate,o=n.rate,u=t.page.id,l=n.pagination.pageId;if(!(0,y.default)(r,a)||i!==o){var s=this.convertElements(e,a,o);this.setState({elementArray:s})}u!==l&&this.setState({isOperationPanelShow:!1})}},{key:"renderElement",value:function(e,t){var n=this.props,r=n.actions,a=n.data,i=a.isPreview,o=a.summary,u=a.page,l=a.rate,s=a.paginationSpread,d=a.parameterMap,c=a.setting,f=a.elements,p=a.size,h=a.pagination,g=a.urls,v=r.editText,y=r.boundProjectActions,b=(0,w.default)(o,"isCover"),M="element-"+(0,w.default)(e,"id");switch((0,w.default)(e,"type")){case X.elementTypes.cameo:var E={summary:o,element:e,rate:l,page:u,parameterMap:d,paginationSpread:s,setting:c,isPreview:i},I=(0,m.default)({},r,{openUploadImageModal:this.openUploadImageModal});return x.default.createElement(z.default,{key:t,actions:I,data:E});case X.elementTypes.usbText:if(i&&!e.text)return null;var _={urls:g,summary:o,element:e,rate:l,page:u,paginationSpread:s,setting:c,size:p,isPreview:i};return x.default.createElement(F.default,{key:t,actions:r,data:_});case X.elementTypes.paintedText:if(i&&!(0,w.default)(e,"text"))return null;var T=this.state,S=T.textActions,L=T.elementArray,D={summary:o,element:e,rate:l,page:u,paginationSpread:s,isPreview:i,pagination:h,elementArray:L,isCover:b};return(0,w.default)(u,"type")===X.pageTypes.spine?x.default.createElement(Q.default,{ref:M,key:t,actions:S,data:D}):x.default.createElement(H.default,{canvasId:(0,C.makeId)((0,w.default)(e,"id")),containerWidth:(0,w.default)(e,"computed.width"),containerHeight:(0,w.default)(e,"computed.height"),options:e,pageWidth:(0,w.default)(u,"width"),pageHeight:(0,w.default)(u,"height"),updateElement:y.updateElement,disableCustomEvents:i,handleTextMove:this.handleTextMove,handleMouseDown:this.handleTextMouseDown,handleDblClick:v,handleMouseUp:this.handleTextMouseUp,handleTextRemove:this.handleTextRemove,checkPrintedTextPosition:this.checkPrintedTextPosition,handleTextEdit:v,ratio:l,key:t});case X.elementTypes.text:return i&&!(0,w.default)(e,"text")?null:x.default.createElement(H.default,{canvasId:(0,C.makeId)((0,w.default)(e,"id")),containerWidth:(0,w.default)(e,"computed.width"),containerHeight:(0,w.default)(e,"computed.height"),options:e,pageWidth:(0,w.default)(u,"width"),pageHeight:(0,w.default)(u,"height"),updateElement:y.updateElement,disableCustomEvents:i,handleTextMove:this.handleTextMove,handleMouseDown:this.handleTextMouseDown,handleDblClick:v,handleMouseUp:this.handleTextMouseUp,handleTextRemove:this.handleTextRemove,ratio:l,key:t,handleTextEdit:v});case X.elementTypes.photo:var P=this.state,A=P.photoActions,O=(P.elementArray,P.isOperationPanelShow,{summary:o,element:e,rate:l,page:u,paginationSpread:s,isPreview:i,pagination:h,elements:f,isCover:b,operationPanelStatus:this.state.isOperationPanelShow});return x.default.createElement(j.default,{key:t,data:O,actions:A});case X.elementTypes.dvd:var k=this.state,N=k.photoActions,R=(k.elementArray,k.isOperationPanelShow,{summary:o,element:e,rate:l,page:u,paginationSpread:s,isPreview:i,pagination:h,elements:f,isCover:b,operationPanelStatus:this.state.isOperationPanelShow});return x.default.createElement(U.default,{key:t,data:R,actions:N});default:return null}}},{key:"getRenderHtml",value:function(){var e=this,t=this.props,n=t.data,r=(t.t,n.summary),a=n.page,i=(n.rate,n.isPreview,n.settings,n.elements,[]),o=((0,w.default)(a,"enabled"),(0,w.default)(r,"isCover"),this.state.elementArray);return o.length&&o.forEach(function(t,n){(0,w.default)(t,"type")===X.elementTypes.cameo&&"none"===(0,w.default)(r,"cameo")||i.push(e.renderElement(t,n))}),i}},{key:"getRenderHandlerHtml",value:function(){var e=this.props.data,t=e.page,n=e.isPreview,r=(0,w.default)(t,"enabled"),a=void 0,i={handleDragOver:this.onPageDragOver,handleDrop:this.onPageDroped},o={},u={};return a=n?x.default.createElement(O.default,{data:u}):r?x.default.createElement(P.default,{data:o,actions:i}):null}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.actions,r=(t.setting,t.page),a=(0,w.default)(r,"type"),i=n.boundUploadedImagesActions,o=n.toggleModal,u=(0,T.default)("book-page",{notHidden:a===X.pageTypes.spine});return x.default.createElement("div",{className:u,onMouseDown:this.switchPage},x.default.createElement(L.default,{className:"hidden",boundUploadedImagesActions:i,toggleModal:o,ref:"fileUpload"}),this.getRenderHtml(),this.getRenderHandlerHtml())}}]),t}(M.Component);$.propTypes={},$.defaultProps={},t.default=(0,E.translate)("BookPage")($)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(5),o=a(i),u=n(3),l=a(u),s=n(4),d=a(s),c=n(7),f=a(c),p=n(6),h=a(p),g=n(1),m=a(g),v=n(9),y=a(v);n(246);var b=n(357),w=r(b),M=function(e){function t(e){(0,l.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.onHandleMouseMove=function(e){return w.onHandleMouseMove(n,e)},n.onHandleMouseUp=function(e){return w.onHandleMouseUp(n,e)},n.onHandleMouseOut=function(e){return w.onHandleMouseOut(n,e)},n.onHandleMouseOver=function(e){return w.onHandleMouseOver(n,e)},n.onHandleMouseDown=function(e){return w.onHandleMouseDown(n,e)},n.onHandleDblClick=function(e){return w.onHandleDblClick(n,e)},n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.data,r=e.children,a=t.handleClick,i=(t.handleMouseOver,t.handleDrop),o=t.handleDragStart,u=t.handleDragOver,l=t.handleDragEnter,s=t.handleDragLeave,d=t.handleDragEnd,c=t.handleContextMenu,f=n.className,p=(n.draggable,n.style),h=(0,y.default)("x-handler",f);return m.default.createElement("div",{style:p,className:h,onClick:a,onDoubleClick:this.onHandleDblClick,onMouseDown:this.onHandleMouseDown,onMouseOver:this.onHandleMouseOver,onMouseOut:this.onHandleMouseOut,onDrop:i,onDragStart:o,onDragOver:u,onDragEnter:l,onDragLeave:s,onDragEnd:d,draggable:!1,onContextMenu:c},r)}}]),t}(g.Component);t.default=M,M.propTypes={actions:g.PropTypes.shape({handleClick:g.PropTypes.func,handleDblClick:g.PropTypes.func,handleMouseDown:g.PropTypes.func,handleMouseMove:g.PropTypes.func,handleMouseUp:g.PropTypes.func,handleMouseOver:g.PropTypes.func,handleMouseOut:g.PropTypes.func,handleDrop:g.PropTypes.func,handleDragStart:g.PropTypes.func,handleDragOver:g.PropTypes.func,handleDragEnter:g.PropTypes.func,handleDragLeave:g.PropTypes.func,handleDragEnd:g.PropTypes.func,handleContextMenu:g.PropTypes.func}),data:g.PropTypes.shape({className:g.PropTypes.string,draggable:g.PropTypes.bool,cursor:g.PropTypes.string})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),i=r(a),o=n(5),u=r(o),l=n(3),s=r(l),d=n(4),c=r(d),f=n(7),p=r(f),h=n(6),g=r(h),m=n(1),v=r(m),y=n(13),b=n(9),w=r(b),M=n(297),x=r(M);n(252);var E=function(e){function t(e){return(0,s.default)(this,t),(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e))}return(0,g.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.t,r=e.onCropImage,a=e.onRotateImage,o=e.onRemoveImage,u=(0,w.default)("operation-panel",t);return v.default.createElement(x.default,(0,i.default)({className:u},this.props),v.default.createElement("ul",null,v.default.createElement("li",{className:"item",onClick:r},n("CROPIMAGE")),v.default.createElement("li",{className:"item",onClick:a},n("ROTATEIMAGE")),v.default.createElement("li",{className:"item",onClick:o},n("REMOVEIMAGE"))))}}]),t}(m.Component);E.propTypes={className:m.PropTypes.string,shown:m.PropTypes.bool,event:m.PropTypes.string,offset:m.PropTypes.shape({top:m.PropTypes.number,left:m.PropTypes.number}),onCropImage:m.PropTypes.func.isRequired,onRotateImage:m.PropTypes.func.isRequired,onRemoveImage:m.PropTypes.func.isRequired},t.default=(0,y.translate)("OperationPanel")(E)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(13),v=n(9),y=r(v);n(255);var b=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.sheetIndex,r=e.onLeftClicked,a=e.onRightClicked,i=e.t,o=(0,y.default)("out-in-side",t),u=(0,y.default)("left-icon icon",{disabled:0===n}),l=(0,y.default)("right-icon icon",{disabled:1===n});return g.default.createElement("div",{className:o},g.default.createElement("div",{className:"left-button x-btn",onClick:r},g.default.createElement("i",{className:u})),g.default.createElement("span",{className:"text"},i(0===n?"OUTSIDE":"INSIDE")),g.default.createElement("div",{className:"right-button x-btn",onClick:a},g.default.createElement("i",{className:l})))}}]),t}(h.Component);b.propTypes={sheetIndex:h.PropTypes.number,onLeftClicked:h.PropTypes.func,onRightClicked:h.PropTypes.func,className:h.PropTypes.string},t.default=(0,m.translate)("OutInSide")(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),i=r(a),o=n(5),u=r(o),l=n(3),s=r(l),d=n(4),c=r(d),f=n(7),p=r(f),h=n(6),g=r(h),m=n(24),v=r(m),y=n(21),b=r(y),w=n(11),M=r(w),x=n(1),E=r(x),I=n(13),_=n(10),T=n(320),C=n(18),S=n(139),L=n(65),D=n(9),P=r(D),A=n(15),O=(n(47),n(288)),k=r(O),j=n(285),N=r(j),z=n(296),R=r(z),U=n(299),B=r(U),F=n(293),W=r(F),H=n(62),Y=r(H),Q=n(45),G=r(Q),X=n(343),q=r(X),J=n(28);n(264);var V=function(e){function t(e){(0,s.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e)),r=n.initSpread(n.props);return n.state=(0,M.default)({},r,{autoOpen:!1,resizeLimit:50}),n}return(0,g.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.elementsOptions;!this.state.liveUpdateCropImageUrl&&t.url&&this.setState({liveUpdateCropImageUrl:t.url}),(0,v.default)(this.props.spreadOptions,e.spreadOptions)&&(0,v.default)(this.props.elementsOptions,e.elementsOptions)&&(0,v.default)(this.props.imageArray,e.imageArray)||this.setState(this.initSpread(e))}},{key:"initSpread",value:function(e){var t=e.spreadOptions,n=e.elementsOptions,r=e.isPreview,a=e.imageBaseUrl,o=e.baseUrls,u=e.imageArray,l=e.ratio,s=function(e){var t={};return u&&(t=u.find(function(t){return t.id==e})),t?t.encImgId:""},d=function(e){var t=f/(e.cropRLX-e.cropLUX),n=p/(e.cropRLY-e.cropLUY),r=s(e.imageid);return a&&r?(0,L.combineImgCopperUrl)(a+A.IMAGES_CROPPER_PARAMS,(0,M.default)({},e,{encImgId:r}),t,n):""},c=this,f=t.width,p=t.height,h=[],g=[];n.forEach(function(e){if(e.type===_.elementTypes.photo)h.push((0,M.default)({},e,{lineWidth:m,imageUrl:d(e)},{wrapSize:t.wrapSize+t.bleedTop,bleedTop:0,bleedBottom:0,bleedLeft:0,bleedRight:0,scale:c.getCurrentScale(e)}));else if(e.type===_.elementTypes.text&&o){var n=(0,b.default)(A.TEXT_SRC)({baseUrl:o.baseUrl,text:e.text,fontSize:e.fontSize*t.h*l,fontColor:e.color,fontFamily:e.fontFamily,textAlign:e.textAlign});g.push((0,M.default)({},e,{textUrl:n,fontSize:e.fontSize*t.h,text:decodeURIComponent(e.text),width:e.width*l,height:e.height*l}))}});var m=1,v=(0,T.getBorderLinesXY)(f,p,m,"#bcbcbc",!0,10),y=(0,T.getWrapLinesXY)(f,p,t.wrapSize+t.bleedTop,m,"#95989a"),w=(0,T.getSpineThicknessLinesXY)(f,p,t.spineThicknessWidth,m,"#bcbcbc",!0,12),x=(0,T.getPreviewSpineThicknessLinesXY)(t.wrapSize+t.bleedTop,f,p,t.spineThicknessWidth,m,"#bcbcbc",!1),E=(0,M.default)({},t,{wrapSize:t.wrapSize+t.bleedTop,bleedTop:0,bleedBottom:0,bleedLeft:0,bleedRight:0}),I="";I=r?"rgba(255, 255, 255, 1)":"rgba(255,255,255,0.3)";var C={width:f,height:p,color:I,bleedTop:E.bleedTop,bleedBottom:E.bleedBottom,bleedLeft:E.bleedLeft,bleedRight:E.bleedRight,wrapSize:r?E.wrapSize+2:E.wrapSize,lineWidth:m,marginTop:r?-2:0,marginLeft:r?-2:0},S=t.type===_.spreadTypes.coverPage?x:[];r||(S=t.type===_.spreadTypes.coverPage?[].concat((0,i.default)(v),(0,i.default)(y),(0,i.default)(w)):[].concat((0,i.default)(v),(0,i.default)(y)));var D={lineWidth:m,borderLines:v,wrapLines:y,spineThicknessLines:w,photoElements:h,textElements:g,boxesOptions:E,boxSize:C,lines:S,previewSpineThicknessLines:x,liveUpdateCropImageUrl:n.url,allowDraw:!1};return D}},{key:"getPhotoElementHtml",value:function(){var e=this.props,t=e.spreadId,n=e.spreadOptions,r=e.ratio,a=e.toggleOperationPanel,i=e.getImageDetail,o=e.t,u=n.width,l=n.height,s=this.state.resizeLimit,d=this.state.photoElements.map(function(e,n){var d={isShown:e.scale>s,title:o("BEYOND_SIZE_TIP",{n:e.scale,m:s})};return E.default.createElement(R.default,{key:n,canvasId:(0,C.makeId)(t),containerWidth:u,containerHeight:l,ratio:r,getImageDetail:i,onClicked:a,options:e},E.default.createElement(G.default,d))});return d}},{key:"getTextElementHtml",value:function(){var e=this,t=this.props,n=t.spreadId,r=t.spreadOptions,a=t.ratio,i=r.width,o=r.height,u=this.state.textElements.map(function(t,r){return E.default.createElement(B.default,{canvasId:(0,C.makeId)(n),containerWidth:i,containerHeight:o,options:t,disableCustomEvents:e.props.isPreview,handleMouseMove:e.handleTextMove.bind(e),handleMouseDown:e.handleOnText.bind(e),handleDblClick:e.handleTextDblClick.bind(e),handleMouseUp:e.handleMouseUp.bind(e),ratio:a,key:r})});return u}},{key:"handleOnText",value:function(e){}},{key:"handleTextMove",value:function(e){var t=this.props.spreadOptions,n=t.width,r=t.height;return e.x<=-e.width/2?e.x=-e.width/2:e.x>=n-e.width/2&&(e.x=n-e.width/2),e.y<=-e.height/2?e.y=-e.height/2:e.y>=r-e.height/2&&(e.y=r-e.height/2),e}},{key:"handleMouseUp",value:function(e,t,n){var r=this.props,a=r.spreadOptions,i=r.ratio,o=a.width,u=a.height,l=this.props,s=l.boundProjectActions,d=l.spreadId,c=t/o,f=n/u,p=t/i,h=n/i;s.updateElement(d,e,{x:p,y:h,px:c,py:f})}},{key:"handleTextDblClick",value:function(e){var t=this.props.editText;t(e)}},{key:"handleBgClick",value:function(e){var t=this.props,n=t.boundWorkspaceActions,r=t.spreadId,a=t.spreadOptions,i=t.boundTrackerActions;n.autoAddPhotoToCanvas(!0,r,a.w,a.h),i.addTracker(J.ClickCloudUploadImage),this.setState({autoOpen:!0})}},{key:"resetOpenState",value:function(){this.setState({autoOpen:!1})}},{key:"getCurrentScale",value:function(e){var t=this.props.getImageDetail,n=void 0;if(t){var r=e.imgRot,a=e.width,i=e.height,o=e.cropLUX,u=e.cropLUY,l=e.cropRLX,s=e.cropRLY,d=e.imageid,c=t(d);n=c?(0,S.getScale)({imgRot:r,imageDetail:c,width:a,height:i,cropRLX:l,cropLUX:o,cropRLY:s,cropLUY:u}):0}else n=0;return n}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.spreadId,r=e.spreadOptions,a=e.t,i=e.boundUploadedImagesActions,o=e.toggleModal,u=e.isPreview,l=r.width,s=r.height,d=r.bgColor,c=(0,P.default)("spread",t),f={width:l+"px",height:(u?s+1:s)+"px"};return E.default.createElement("div",{className:c,style:f},E.default.createElement(Y.default,{className:"hidden",isAutoOpen:this.state.autoOpen,boundUploadedImagesActions:i,toggleModal:o,resetOpenState:this.resetOpenState.bind(this)}),E.default.createElement(k.default,null,E.default.createElement(N.default,{canvasId:(0,C.makeId)(n),bgColor:d,width:l,height:s,isHide:!!this.state.photoElements&&!!this.state.photoElements.length,isHideUploadIcon:u,textInCenter:a("CLICK_TO_ADD_PHOTO")||"",handleClick:this.handleBgClick.bind(this)}),this.getPhotoElementHtml(),this.getTextElementHtml()),E.default.createElement(q.default,{width:u?l+4:l,height:u?s+4:s,boxSize:this.state.boxSize}),E.default.createElement(W.default,{canvasId:(0,C.makeId)(n),width:l,height:s,lines:this.state.lines}))}}]),t}(x.Component);V.propTypes={spreadId:x.PropTypes.string.isRequired,spreadOptions:x.PropTypes.shape({bgColor:x.PropTypes.string,width:x.PropTypes.number,height:x.PropTypes.number,bleedTop:x.PropTypes.number,bleedBottom:x.PropTypes.number,bleedLeft:x.PropTypes.number,bleedRight:x.PropTypes.number,spineThicknessWidth:x.PropTypes.number,wrapSize:x.PropTypes.number}).isRequired,elementsOptions:x.PropTypes.arrayOf(x.PropTypes.shape({width:x.PropTypes.number,height:x.PropTypes.number,targetWidth:x.PropTypes.number,targetHeight:x.PropTypes.number,encImgId:x.PropTypes.string,imageId:x.PropTypes.string})),imageBaseUrl:x.PropTypes.string,onClicked:x.PropTypes.func,className:x.PropTypes.string,isPreview:x.PropTypes.bool},t.default=(0,I.translate)("Spread")(V)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=a(i),u=n(3),l=a(u),s=n(4),d=a(s),c=n(7),f=a(c),p=n(6),h=a(p),g=n(24),m=a(g),v=n(8),y=a(v),b=n(1),w=a(b),M=n(13),x=n(284),E=a(x),I=(n(54),n(27),n(10)),_=(n(15),n(65),n(46),n(84),n(28)),T=n(287),C=(a(T),n(136)),S=(a(C),n(89)),L=(a(S),n(135)),D=a(L),P=n(364),A=a(P),O=n(134),k=(a(O),n(335)),j=a(k),N=n(370),z=a(N),R=n(371),U=a(R),B=n(397),F=r(B),W=n(394),H=r(W),Y=n(396),Q=r(Y),G=n(395);n(278);var X=function(e){function t(e){(0,l.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e)),r=n.props,a=r.paginationSpread,i=r.isPreview,u=r.coverPageSpread,s=(0,y.default)(u,"backgroundSize");return n.state=(0,G.initWorkspace)(a,s,i),n.addResizeEvent=n.addResizeEvent.bind(n),n.onAddCameo=function(e){return H.onAddCameo(n,e)},n.hideCameoActionBar=function(){return H.hideCameoActionBar(n)},n.onRemoveCameo=function(){return H.onRemoveCameo(n)},n.onAddSpineText=function(){return H.onAddSpineText(n)},n.onAddCoverText=function(e){return H.onAddCoverText(n,e)},n.switchPageTo=function(e){return Q.switchPageTo(n,e)},n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.paginationSpread,n=e.paginationSpread,r=(0,y.default)(e,"coverPageSpread.backgroundSize"),a=this.props,i=a.boundWorkspaceActions,o=a.isPreview;if(!(0,m.default)(t,n)){var u=(0,G.initWorkspace)(n,r,o);this.setState(u),u.rate!==this.state.rate&&i&&i.updateWorkspaceRatio(u.rate)}var l=(0,y.default)(this.props,"pagination.sheetIndex"),s=(0,y.default)(e,"pagination.sheetIndex");l!==s&&Q.switchPage(this,e);var d=(0,y.default)(e,"pagination.pageIndex"),c=(0,y.default)(e,"pagination.pageId"),f=n.pages,p=f.some(function(e){return e.id===c});d!==-1&&c&&p||Q.switchPage(this,e)}},{key:"componentDidMount",value:function(){this.addResizeEvent()}},{key:"componentWillUnmount",value:function(){window.onresize=null}},{key:"addResizeEvent",value:function(){var e=this,t=null;window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(function(){var t=e.props,n=t.boundWorkspaceActions,r=t.paginationSpread,a=t.isPreview,i=t.coverPageSpread,o=(0,y.default)(i,"backgroundSize"),u=(0,G.initWorkspace)(r,o,a);e.setState(u),n&&n.updateWorkspaceRatio(u.rate)},500)})}},{key:"onOutside",value:function(){var e=this.props,t=e.boundPaginationActions,n=e.pagination,r=n.sheetIndex;0!==r&&t.switchSheet(0)}},{key:"onInside",value:function(){var e=this.props,t=e.boundPaginationActions,n=e.pagination,r=n.sheetIndex;1!==r&&t.switchSheet(1)}},{key:"getBottomBtnHtml",value:function(){var e="",t=this.props,n=t.setting,r=t.pagination,a=r.sheetIndex;return n&&n.product!==I.productTypes.woodBox&&(e=w.default.createElement(D.default,{sheetIndex:a,onLeftClicked:this.onOutside.bind(this),onRightClicked:this.onInside.bind(this)})),e}},{key:"addText",value:function(){var e=this.props,t=e.boundProjectActions,n=e.baseUrls,r=e.ratio,a=e.boundTrackerActions,i=e.pagination,o=e.paginationSpread,u=e.elementArray;F.addText({boundProjectActions:t,baseUrls:n,ratio:r,boundTrackerActions:a,pagination:i,paginationSpread:o,elementArray:u}),a.addTracker(_.AddText)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.t,r=(e.loadingData,e.addText,e.operationPanel,e.paginationSpread),a=e.boundProjectActions,i=e.baseUrls,o=e.pagination,u=e.boundPaginationActions,l=e.boundSystemActions,s=e.boundTrackerActions,d=e.setting,c=e.variableMap,f=e.parameterMap,p=e.boundUploadedImagesActions,h=e.toggleModal,g=e.boundWorkspaceActions,m=e.editText,v=e.coverPageSpread,b=e.innerPageSpread,M=e.isPreview,x=e.isProjectLoadCompleted,_=e.elementArray,T=e.editTextWithoutJustify,C=e.orderState,S=e.userInfo,L=this.state,D=L.workspaceSize,P=L.rate,O=L.left,k=r.pages,N=r.summary,R=r.backgroundSize,B=N.cameo,F=N.isCover,W=N.hasCameoElement,H=N.isSupportPaintedText,Y=(0,y.default)(d,"product"),Q={width:D.width+"px",height:D.height+"px",left:O+"px",marginTop:M?"50px":"112px",position:"absolute"},G=0,X=(0,y.default)(v,"pages").find(function(e){return(0,y.default)(e,"type")==I.pageTypes.spine});X&&(G=(0,y.default)(X,"elements").length);var q={onAddCameo:this.onAddCameo,onRemoveCameo:this.onRemoveCameo,onAddSpineText:this.onAddSpineText,onAddCoverText:this.onAddCoverText},J={isShowCameo:F&&"none"!==B,isShowAddCameoBtn:!W,isTwoDvdType:"two"===(0,y.default)(d,"dvdType"),isShowPaintedText:H,shouldShowSpineText:H,spineCount:G,isSupportSpinePaintedText:H},V=k.some(function(e){return e.enabled}),Z=R.bgImageWidth,K=R.paddingLeft,$=R.paddingRight,ee=(Z-K-$)*P,te={width:ee+"px"},ne=k.find(function(e){return"left"===e.position}),re=k.find(function(e){return"right"===e.position})&&Y!==I.productTypes.usbCase,ae={switchPage:this.switchPageTo},ie={pagination:o,style:te,hasLeftPage:ne,hasRightPage:re,pagesLength:k.length},oe=!1;if(F&&Y===I.productTypes.woodBox){var ue=k.find(function(e){return e.type===I.pageTypes.full});ue&&(oe=(0,y.default)(ue,"rotate"))}return w.default.createElement("section",{className:"work-space",ref:"workSpace",style:Q},t,M?null:w.default.createElement("div",{className:"btn-list"},Y===I.productTypes.woodBox?w.default.createElement(U.default,{rotateCover:a.rotateCover,rotation:oe}):V?w.default.createElement(E.default,{text:n("ADD_TEXT"),onClicked:this.addText.bind(this)}):null),w.default.createElement("div",{className:"image-editor"},w.default.createElement(A.default,{paginationSpread:r,boundProjectActions:a,boundPaginationActions:u,boundSystemActions:l,boundUploadedImagesActions:p,boundWorkspaceActions:g,boundTrackerActions:s,toggleModal:h,pagination:o,parameterMap:f,variableMap:c,setting:d,urls:i,rate:P,editText:m,editTextWithoutJustify:T,isPreview:M,coverPageSpread:v,innerPageSpread:b,isProjectLoadCompleted:x,elementArray:_,userInfo:S})),w.default.createElement("div",{className:"btn-list m-b-66",style:te},M||!x?null:F?!C||C.checkFailed?null:w.default.createElement(j.default,{actions:q,data:J}):Y===I.productTypes.dvdCase&&2===k.length?w.default.createElement(z.default,{actions:ae,data:ie}):null,x?this.getBottomBtnHtml():null))}}]),t}(b.Component);X.propTypes={spreads:b.PropTypes.any,baseUrls:b.PropTypes.any,uploadBaseUrl:b.PropTypes.string},t.default=(0,M.translate)("WorkSpace")(X)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){var a=(0,o.default)(t,"elements"),i=[u.elementTypes.photo,u.elementTypes.text,u.elementTypes.paintedText,u.elementTypes.dvd],l=e.filter(function(e){return a.indexOf((0,o.default)(e,"id"))!==-1&&i.indexOf((0,o.default)(e,"type"))!==-1}),s=(0,o.default)(t,"bleed.left")+(0,o.default)(t,"bleed.right"),d=(0,o.default)(t,"wrapSize.left")+(0,o.default)(t,"wrapSize.right"),c={x:((0,o.default)(t,"width")-s-d-n)/2+(0,o.default)(t,"bleed.left")+(0,o.default)(t,"wrapSize.left"),y:(0,o.default)(t,"type")===u.pageTypes.back?(0,o.default)(t,"height")-(45+(0,o.default)(t,"bleed.top")+(0,o.default)(t,"wrapSize.top"))-r:45+(0,o.default)(t,"bleed.top")+(0,o.default)(t,"wrapSize.top")},f=(0,o.default)(t,"type")===u.pageTypes.back?-80:80,p=l.filter(function(e){var t=(0,o.default)(e,"x"),n=(0,o.default)(e,"y"),r=t-c.x,a=n-c.y;return(Math.abs(r%f)<=10||Math.abs(r%f)>=70)&&(Math.abs(a%f)<=10||Math.abs(a%f)>=70)}).sort(function(e,t){return(0,o.default)(e,"x")-(0,o.default)(t,"x")}),h={};if(p.forEach(function(e,t){var n=(0,o.default)(e,"x"),r=(0,o.default)(e,"y"),a=(0,o.default)(p,t+1);if(a&&Math.round((0,o.default)(a,"x")-n)!==f&&Math.round((0,o.default)(a,"y")-r)!==f)return h.x=n+f,h.y=r+f,!1}),!h.x&&!h.y){var g=p.pop();g?(h.x=(0,o.default)(g,"x")+Math.abs(f),h.y=(0,o.default)(g,"y")+f):(h.x=c.x,h.y=c.y+f)}return h}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=r(i);t.getNewPosition=a;var u=n(10)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.imageDetail,n=e.width,r=e.height,a=e.cropRLX,i=e.cropLUX,u=e.cropRLY,l=e.cropLUY,s=(0,o.default)(t,"width")*Math.abs(a-i),d=n/s,c=(0,o.default)(t,"height")*Math.abs(u-l),f=r/c;return Math.round(100*Math.max(d,f))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=r(i);t.getScale=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.toCanvas=void 0;var a=n(50),i=r(a),o=n(125);t.toCanvas=function(e,t,n,r){if(e){var a=e.clientWidth,u=e.clientHeight;if(a&&u){var l=t||a,s=l*u/a;return(0,o.html2canvas)(e,(0,i.default)({},{allowTaint:!0},n)).then(function(e){if(e){var t=document.createElement("canvas");t.width=l,t.height=s;var n=t.getContext("2d");return n.fillStyle="rgb(255,255,255)",n.fillRect(0,0,l,s),n.drawImage(e,0,0,a,u,0,0,l,s),t.toDataURL()}})}}}},67,function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function t(e){return i(e)?e:L(e)}function n(e){return o(e)?e:D(e)}function r(e){return u(e)?e:P(e)}function a(e){return i(e)&&!l(e)?e:A(e)}function i(e){return!(!e||!e[sn])}function o(e){return!(!e||!e[dn])}function u(e){return!(!e||!e[cn])}function l(e){return o(e)||u(e)}function s(e){return!(!e||!e[fn])}function d(e){return e.value=!1,e}function c(e){e&&(e.value=!0)}function f(){}function p(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),a=0;a<n;a++)r[a]=e[a+t];return r}function h(e){return void 0===e.size&&(e.size=e.__iterate(m)),e.size}function g(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?h(e)+t:t}function m(){return!0}function v(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function y(e,t){return w(e,t,0)}function b(e,t){return w(e,t,t)}function w(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}function M(e){this.next=e}function x(e,t,n,r){var a=0===e?t:1===e?n:[t,n];return r?r.value=a:r={value:a,done:!1},r}function E(){return{value:void 0,done:!0}}function I(e){return!!C(e)}function _(e){return e&&"function"==typeof e.next}function T(e){var t=C(e);return t&&t.call(e)}function C(e){var t=e&&(En&&e[En]||e[In]);if("function"==typeof t)return t}function S(e){return e&&"number"==typeof e.length}function L(e){return null===e||void 0===e?R():i(e)?e.toSeq():F(e)}function D(e){return null===e||void 0===e?R().toKeyedSeq():i(e)?o(e)?e.toSeq():e.fromEntrySeq():U(e)}function P(e){return null===e||void 0===e?R():i(e)?o(e)?e.entrySeq():e.toIndexedSeq():B(e)}function A(e){return(null===e||void 0===e?R():i(e)?o(e)?e.entrySeq():e:B(e)).toSetSeq()}function O(e){this._array=e,this.size=e.length}function k(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function j(e){this._iterable=e,this.size=e.length||e.size}function N(e){this._iterator=e,this._iteratorCache=[]}function z(e){return!(!e||!e[Tn])}function R(){return Cn||(Cn=new O([]))}function U(e){var t=Array.isArray(e)?new O(e).fromEntrySeq():_(e)?new N(e).fromEntrySeq():I(e)?new j(e).fromEntrySeq():"object"==typeof e?new k(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function B(e){var t=W(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function F(e){var t=W(e)||"object"==typeof e&&new k(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function W(e){return S(e)?new O(e):_(e)?new N(e):I(e)?new j(e):void 0}function H(e,t,n,r){var a=e._cache;if(a){for(var i=a.length-1,o=0;o<=i;o++){var u=a[n?i-o:o];if(t(u[1],r?u[0]:o,e)===!1)return o+1}return o}return e.__iterateUncached(t,n)}function Y(e,t,n,r){var a=e._cache;if(a){var i=a.length-1,o=0;return new M(function(){var e=a[n?i-o:o];return o++>i?E():x(t,r?e[0]:o-1,e[1])})}return e.__iteratorUncached(t,n)}function Q(e,t){return t?G(t,e,"",{"":e}):X(e)}function G(e,t,n,r){return Array.isArray(t)?e.call(r,n,P(t).map(function(n,r){return G(e,n,r,t)})):q(t)?e.call(r,n,D(t).map(function(n,r){return G(e,n,r,t)})):t}function X(e){return Array.isArray(e)?P(e).map(X).toList():q(e)?D(e).map(X).toMap():e}function q(e){return e&&(e.constructor===Object||void 0===e.constructor)}function J(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function V(e,t){if(e===t)return!0;
if(!i(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||o(e)!==o(t)||u(e)!==u(t)||s(e)!==s(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(s(e)){var r=e.entries();return t.every(function(e,t){var a=r.next().value;return a&&J(a[1],e)&&(n||J(a[0],t))})&&r.next().done}var a=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{a=!0;var d=e;e=t,t=d}var c=!0,f=t.__iterate(function(t,r){if(n?!e.has(t):a?!J(t,e.get(r,vn)):!J(e.get(r,vn),t))return c=!1,!1});return c&&e.size===f}function Z(e,t){if(!(this instanceof Z))return new Z(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Sn)return Sn;Sn=this}}function K(e,t){if(!e)throw new Error(t)}function $(e,t,n){if(!(this instanceof $))return new $(e,t,n);if(K(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Ln)return Ln;Ln=this}}function ee(){throw TypeError("Abstract")}function te(){}function ne(){}function re(){}function ae(e){return e>>>1&1073741824|3221225471&e}function ie(e){if(e===!1||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(e=e.valueOf(),e===!1||null===e||void 0===e))return 0;if(e===!0)return 1;var t=typeof e;if("number"===t){if(e!==e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)e/=4294967295,n^=e;return ae(n)}if("string"===t)return e.length>zn?oe(e):ue(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return le(e);if("function"==typeof e.toString)return ue(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function oe(e){var t=Bn[e];return void 0===t&&(t=ue(e),Un===Rn&&(Un=0,Bn={}),Un++,Bn[e]=t),t}function ue(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ae(t)}function le(e){var t;if(kn&&(t=Dn.get(e),void 0!==t))return t;if(t=e[Nn],void 0!==t)return t;if(!On){if(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Nn],void 0!==t)return t;if(t=se(e),void 0!==t)return t}if(t=++jn,1073741824&jn&&(jn=0),kn)Dn.set(e,t);else{if(void 0!==An&&An(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(On)Object.defineProperty(e,Nn,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Nn]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Nn]=t}}return t}function se(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function de(e){K(e!==1/0,"Cannot perform this action with an infinite size.")}function ce(e){return null===e||void 0===e?xe():fe(e)&&!s(e)?e:xe().withMutations(function(t){var r=n(e);de(r.size),r.forEach(function(e,n){return t.set(n,e)})})}function fe(e){return!(!e||!e[Fn])}function pe(e,t){this.ownerID=e,this.entries=t}function he(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function ge(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function me(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function ve(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function ye(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&we(e._root)}function be(e,t){return x(e,t[0],t[1])}function we(e,t){return{node:e,index:0,__prev:t}}function Me(e,t,n,r){var a=Object.create(Wn);return a.size=e,a._root=t,a.__ownerID=n,a.__hash=r,a.__altered=!1,a}function xe(){return Hn||(Hn=Me(0))}function Ee(e,t,n){var r,a;if(e._root){var i=d(yn),o=d(bn);if(r=Ie(e._root,e.__ownerID,0,void 0,t,n,i,o),!o.value)return e;a=e.size+(i.value?n===vn?-1:1:0)}else{if(n===vn)return e;a=1,r=new pe(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=a,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Me(a,r):xe()}function Ie(e,t,n,r,a,i,o,u){return e?e.update(t,n,r,a,i,o,u):i===vn?e:(c(u),c(o),new ve(t,r,[a,i]))}function _e(e){return e.constructor===ve||e.constructor===me}function Te(e,t,n,r,a){if(e.keyHash===r)return new me(t,r,[e.entry,a]);var i,o=(0===n?e.keyHash:e.keyHash>>>n)&mn,u=(0===n?r:r>>>n)&mn,l=o===u?[Te(e,t,n+hn,r,a)]:(i=new ve(t,r,a),o<u?[e,i]:[i,e]);return new he(t,1<<o|1<<u,l)}function Ce(e,t,n,r){e||(e=new f);for(var a=new ve(e,ie(n),[n,r]),i=0;i<t.length;i++){var o=t[i];a=a.update(e,0,void 0,o[0],o[1])}return a}function Se(e,t,n,r){for(var a=0,i=0,o=new Array(n),u=0,l=1,s=t.length;u<s;u++,l<<=1){var d=t[u];void 0!==d&&u!==r&&(a|=l,o[i++]=d)}return new he(e,a,o)}function Le(e,t,n,r,a){for(var i=0,o=new Array(gn),u=0;0!==n;u++,n>>>=1)o[u]=1&n?t[i++]:void 0;return o[r]=a,new ge(e,i+1,o)}function De(e,t,r){for(var a=[],o=0;o<r.length;o++){var u=r[o],l=n(u);i(u)||(l=l.map(function(e){return Q(e)})),a.push(l)}return Oe(e,t,a)}function Pe(e,t,n){return e&&e.mergeDeep&&i(t)?e.mergeDeep(t):J(e,t)?e:t}function Ae(e){return function(t,n,r){if(t&&t.mergeDeepWith&&i(n))return t.mergeDeepWith(e,n);var a=e(t,n,r);return J(t,a)?t:a}}function Oe(e,t,n){return n=n.filter(function(e){return 0!==e.size}),0===n.length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,vn,function(e){return e===vn?n:t(e,n,r)})}:function(t,n){e.set(n,t)},a=0;a<n.length;a++)n[a].forEach(r)}):e.constructor(n[0])}function ke(e,t,n,r){var a=e===vn,i=t.next();if(i.done){var o=a?n:e,u=r(o);return u===o?e:u}K(a||e&&e.set,"invalid keyPath");var l=i.value,s=a?vn:e.get(l,vn),d=ke(s,t,n,r);return d===s?e:d===vn?e.remove(l):(a?xe():e).set(l,d)}function je(e){return e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,127&e}function Ne(e,t,n,r){var a=r?e:p(e);return a[t]=n,a}function ze(e,t,n,r){var a=e.length+1;if(r&&t+1===a)return e[t]=n,e;for(var i=new Array(a),o=0,u=0;u<a;u++)u===t?(i[u]=n,o=-1):i[u]=e[u+o];return i}function Re(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var a=new Array(r),i=0,o=0;o<r;o++)o===t&&(i=1),a[o]=e[o+i];return a}function Ue(e){var t=Ye();if(null===e||void 0===e)return t;if(Be(e))return e;var n=r(e),a=n.size;return 0===a?t:(de(a),a>0&&a<gn?He(0,a,hn,null,new Fe(n.toArray())):t.withMutations(function(e){e.setSize(a),n.forEach(function(t,n){return e.set(n,t)})}))}function Be(e){return!(!e||!e[Xn])}function Fe(e,t){this.array=e,this.ownerID=t}function We(e,t){function n(e,t,n){return 0===t?r(e,n):a(e,t,n)}function r(e,n){var r=n===u?l&&l.array:e&&e.array,a=n>i?0:i-n,s=o-n;return s>gn&&(s=gn),function(){if(a===s)return Vn;var e=t?--s:a++;return r&&r[e]}}function a(e,r,a){var u,l=e&&e.array,s=a>i?0:i-a>>r,d=(o-a>>r)+1;return d>gn&&(d=gn),function(){for(;;){if(u){var e=u();if(e!==Vn)return e;u=null}if(s===d)return Vn;var i=t?--d:s++;u=n(l&&l[i],r-hn,a+(i<<r))}}}var i=e._origin,o=e._capacity,u=Ze(o),l=e._tail;return n(e._root,e._level,0)}function He(e,t,n,r,a,i,o){var u=Object.create(qn);return u.size=t-e,u._origin=e,u._capacity=t,u._level=n,u._root=r,u._tail=a,u.__ownerID=i,u.__hash=o,u.__altered=!1,u}function Ye(){return Jn||(Jn=He(0,0,hn))}function Qe(e,t,n){if(t=g(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?Je(e,t).set(0,n):Je(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,a=e._root,i=d(bn);return t>=Ze(e._capacity)?r=Ge(r,e.__ownerID,0,t,n,i):a=Ge(a,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=a,e._tail=r,e.__hash=void 0,e.__altered=!0,e):He(e._origin,e._capacity,e._level,a,r):e}function Ge(e,t,n,r,a,i){var o=r>>>n&mn,u=e&&o<e.array.length;if(!u&&void 0===a)return e;var l;if(n>0){var s=e&&e.array[o],d=Ge(s,t,n-hn,r,a,i);return d===s?e:(l=Xe(e,t),l.array[o]=d,l)}return u&&e.array[o]===a?e:(c(i),l=Xe(e,t),void 0===a&&o===l.array.length-1?l.array.pop():l.array[o]=a,l)}function Xe(e,t){return t&&e&&t===e.ownerID?e:new Fe(e?e.array.slice():[],t)}function qe(e,t){if(t>=Ze(e._capacity))return e._tail;if(t<1<<e._level+hn){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&mn],r-=hn;return n}}function Je(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new f,a=e._origin,i=e._capacity,o=a+t,u=void 0===n?i:n<0?i+n:a+n;if(o===a&&u===i)return e;if(o>=u)return e.clear();for(var l=e._level,s=e._root,d=0;o+d<0;)s=new Fe(s&&s.array.length?[void 0,s]:[],r),l+=hn,d+=1<<l;d&&(o+=d,a+=d,u+=d,i+=d);for(var c=Ze(i),p=Ze(u);p>=1<<l+hn;)s=new Fe(s&&s.array.length?[s]:[],r),l+=hn;var h=e._tail,g=p<c?qe(e,u-1):p>c?new Fe([],r):h;if(h&&p>c&&o<i&&h.array.length){s=Xe(s,r);for(var m=s,v=l;v>hn;v-=hn){var y=c>>>v&mn;m=m.array[y]=Xe(m.array[y],r)}m.array[c>>>hn&mn]=h}if(u<i&&(g=g&&g.removeAfter(r,0,u)),o>=p)o-=p,u-=p,l=hn,s=null,g=g&&g.removeBefore(r,0,o);else if(o>a||p<c){for(d=0;s;){var b=o>>>l&mn;if(b!==p>>>l&mn)break;b&&(d+=(1<<l)*b),l-=hn,s=s.array[b]}s&&o>a&&(s=s.removeBefore(r,l,o-d)),s&&p<c&&(s=s.removeAfter(r,l,p-d)),d&&(o-=d,u-=d)}return e.__ownerID?(e.size=u-o,e._origin=o,e._capacity=u,e._level=l,e._root=s,e._tail=g,e.__hash=void 0,e.__altered=!0,e):He(o,u,l,s,g)}function Ve(e,t,n){for(var a=[],o=0,u=0;u<n.length;u++){var l=n[u],s=r(l);s.size>o&&(o=s.size),i(l)||(s=s.map(function(e){return Q(e)})),a.push(s)}return o>e.size&&(e=e.setSize(o)),Oe(e,t,a)}function Ze(e){return e<gn?0:e-1>>>hn<<hn}function Ke(e){return null===e||void 0===e?tt():$e(e)?e:tt().withMutations(function(t){var r=n(e);de(r.size),r.forEach(function(e,n){return t.set(n,e)})})}function $e(e){return fe(e)&&s(e)}function et(e,t,n,r){var a=Object.create(Ke.prototype);return a.size=e?e.size:0,a._map=e,a._list=t,a.__ownerID=n,a.__hash=r,a}function tt(){return Zn||(Zn=et(xe(),Ye()))}function nt(e,t,n){var r,a,i=e._map,o=e._list,u=i.get(t),l=void 0!==u;if(n===vn){if(!l)return e;o.size>=gn&&o.size>=2*i.size?(a=o.filter(function(e,t){return void 0!==e&&u!==t}),r=a.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=a.__ownerID=e.__ownerID)):(r=i.remove(t),a=u===o.size-1?o.pop():o.set(u,void 0))}else if(l){if(n===o.get(u)[1])return e;r=i,a=o.set(u,[t,n])}else r=i.set(t,o.size),a=o.set(o.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=a,e.__hash=void 0,e):et(r,a)}function rt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function at(e){this._iter=e,this.size=e.size}function it(e){this._iter=e,this.size=e.size}function ot(e){this._iter=e,this.size=e.size}function ut(e){var t=St(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Lt,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return t(n,e,r)!==!1},n)},t.__iteratorUncached=function(t,n){if(t===xn){var r=e.__iterator(t,n);return new M(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===Mn?wn:Mn,n)},t}function lt(e,t,n){var r=St(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,a){var i=e.get(r,vn);return i===vn?a:t.call(n,i,r,e)},r.__iterateUncached=function(r,a){var i=this;return e.__iterate(function(e,a,o){return r(t.call(n,e,a,o),a,i)!==!1},a)},r.__iteratorUncached=function(r,a){var i=e.__iterator(xn,a);return new M(function(){var a=i.next();if(a.done)return a;var o=a.value,u=o[0];return x(r,u,t.call(n,o[1],u,e),a)})},r}function st(e,t){var n=St(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=ut(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Lt,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function dt(e,t,n,r){var a=St(e);return r&&(a.has=function(r){var a=e.get(r,vn);return a!==vn&&!!t.call(n,a,r,e)},a.get=function(r,a){var i=e.get(r,vn);return i!==vn&&t.call(n,i,r,e)?i:a}),a.__iterateUncached=function(a,i){var o=this,u=0;return e.__iterate(function(e,i,l){if(t.call(n,e,i,l))return u++,a(e,r?i:u-1,o)},i),u},a.__iteratorUncached=function(a,i){var o=e.__iterator(xn,i),u=0;return new M(function(){for(;;){var i=o.next();if(i.done)return i;var l=i.value,s=l[0],d=l[1];if(t.call(n,d,s,e))return x(a,r?s:u++,d,i)}})},a}function ct(e,t,n){var r=ce().asMutable();return e.__iterate(function(a,i){r.update(t.call(n,a,i,e),0,function(e){return e+1})}),r.asImmutable()}function ft(e,t,n){var r=o(e),a=(s(e)?Ke():ce()).asMutable();e.__iterate(function(i,o){a.update(t.call(n,i,o,e),function(e){return e=e||[],e.push(r?[o,i]:i),e})});var i=Ct(e);return a.map(function(t){return It(e,i(t))})}function pt(e,t,n,r){var a=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=a:n|=0),v(t,n,a))return e;var i=y(t,a),o=b(n,a);if(i!==i||o!==o)return pt(e.toSeq().cacheResult(),t,n,r);var u,l=o-i;l===l&&(u=l<0?0:l);var s=St(e);return s.size=0===u?u:e.size&&u||void 0,!r&&z(e)&&u>=0&&(s.get=function(t,n){return t=g(this,t),t>=0&&t<u?e.get(t+i,n):n}),s.__iterateUncached=function(t,n){var a=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(t,n);var o=0,l=!0,s=0;return e.__iterate(function(e,n){if(!l||!(l=o++<i))return s++,t(e,r?n:s-1,a)!==!1&&s!==u}),s},s.__iteratorUncached=function(t,n){if(0!==u&&n)return this.cacheResult().__iterator(t,n);var a=0!==u&&e.__iterator(t,n),o=0,l=0;return new M(function(){for(;o++<i;)a.next();if(++l>u)return E();var e=a.next();return r||t===Mn?e:t===wn?x(t,l-1,void 0,e):x(t,l-1,e.value[1],e)})},s}function ht(e,t,n){var r=St(e);return r.__iterateUncached=function(r,a){var i=this;if(a)return this.cacheResult().__iterate(r,a);var o=0;return e.__iterate(function(e,a,u){return t.call(n,e,a,u)&&++o&&r(e,a,i)}),o},r.__iteratorUncached=function(r,a){var i=this;if(a)return this.cacheResult().__iterator(r,a);var o=e.__iterator(xn,a),u=!0;return new M(function(){if(!u)return E();var e=o.next();if(e.done)return e;var a=e.value,l=a[0],s=a[1];return t.call(n,s,l,i)?r===xn?e:x(r,l,s,e):(u=!1,E())})},r}function gt(e,t,n,r){var a=St(e);return a.__iterateUncached=function(a,i){var o=this;if(i)return this.cacheResult().__iterate(a,i);var u=!0,l=0;return e.__iterate(function(e,i,s){if(!u||!(u=t.call(n,e,i,s)))return l++,a(e,r?i:l-1,o)}),l},a.__iteratorUncached=function(a,i){var o=this;if(i)return this.cacheResult().__iterator(a,i);var u=e.__iterator(xn,i),l=!0,s=0;return new M(function(){var e,i,d;do{if(e=u.next(),e.done)return r||a===Mn?e:a===wn?x(a,s++,void 0,e):x(a,s++,e.value[1],e);var c=e.value;i=c[0],d=c[1],l&&(l=t.call(n,d,i,o))}while(l);return a===xn?e:x(a,i,d,e)})},a}function mt(e,t){var r=o(e),a=[e].concat(t).map(function(e){return i(e)?r&&(e=n(e)):e=r?U(e):B(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===a.length)return e;if(1===a.length){var l=a[0];if(l===e||r&&o(l)||u(e)&&u(l))return l}var s=new O(a);return r?s=s.toKeyedSeq():u(e)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=a.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),s}function vt(e,t,n){var r=St(e);return r.__iterateUncached=function(r,a){function o(e,s){var d=this;e.__iterate(function(e,a){return(!t||s<t)&&i(e)?o(e,s+1):r(e,n?a:u++,d)===!1&&(l=!0),!l},a)}var u=0,l=!1;return o(e,0),u},r.__iteratorUncached=function(r,a){var o=e.__iterator(r,a),u=[],l=0;return new M(function(){for(;o;){var e=o.next();if(e.done===!1){var s=e.value;if(r===xn&&(s=s[1]),t&&!(u.length<t)||!i(s))return n?e:x(r,l++,s,e);u.push(o),o=s.__iterator(r,a)}else o=u.pop()}return E()})},r}function yt(e,t,n){var r=Ct(e);return e.toSeq().map(function(a,i){return r(t.call(n,a,i,e))}).flatten(!0)}function bt(e,t){var n=St(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var a=this,i=0;return e.__iterate(function(e,r){return(!i||n(t,i++,a)!==!1)&&n(e,i++,a)!==!1},r),i},n.__iteratorUncached=function(n,r){var a,i=e.__iterator(Mn,r),o=0;return new M(function(){return(!a||o%2)&&(a=i.next(),a.done)?a:o%2?x(n,o++,t):x(n,o++,a.value,a)})},n}function wt(e,t,n){t||(t=Dt);var r=o(e),a=0,i=e.toSeq().map(function(t,r){return[r,t,a++,n?n(t,r,e):t]}).toArray();return i.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?D(i):u(e)?P(i):A(i)}function Mt(e,t,n){if(t||(t=Dt),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return xt(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return xt(t,e,n)?n:e})}function xt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function Et(e,n,r){var a=St(e);return a.size=new O(r).map(function(e){return e.size}).min(),a.__iterate=function(e,t){for(var n,r=this.__iterator(Mn,t),a=0;!(n=r.next()).done&&e(n.value,a++,this)!==!1;);return a},a.__iteratorUncached=function(e,a){var i=r.map(function(e){return e=t(e),T(a?e.reverse():e)}),o=0,u=!1;return new M(function(){var t;return u||(t=i.map(function(e){return e.next()}),u=t.some(function(e){return e.done})),u?E():x(e,o++,n.apply(null,t.map(function(e){return e.value})))})},a}function It(e,t){return z(e)?t:e.constructor(t)}function _t(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Tt(e){return de(e.size),h(e)}function Ct(e){return o(e)?n:u(e)?r:a}function St(e){return Object.create((o(e)?D:u(e)?P:A).prototype)}function Lt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):L.prototype.cacheResult.call(this)}function Dt(e,t){return e>t?1:e<t?-1:0}function Pt(e){var n=T(e);if(!n){if(!S(e))throw new TypeError("Expected iterable or array-like: "+e);n=T(t(e))}return n}function At(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var o=Object.keys(e);jt(a,o),a.size=o.length,a._name=t,a._keys=o,a._defaultValues=e}this._map=ce(i)},a=r.prototype=Object.create(Kn);return a.constructor=r,r}function Ot(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function kt(e){return e._name||e.constructor.name||"Record"}function jt(e,t){try{t.forEach(Nt.bind(void 0,e))}catch(e){}}function Nt(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){K(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function zt(e){return null===e||void 0===e?Ft():Rt(e)&&!s(e)?e:Ft().withMutations(function(t){var n=a(e);de(n.size),n.forEach(function(e){return t.add(e)})})}function Rt(e){return!(!e||!e[$n])}function Ut(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Bt(e,t){var n=Object.create(er);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Ft(){return tr||(tr=Bt(xe()))}function Wt(e){return null===e||void 0===e?Qt():Ht(e)?e:Qt().withMutations(function(t){var n=a(e);de(n.size),n.forEach(function(e){return t.add(e)})})}function Ht(e){return Rt(e)&&s(e)}function Yt(e,t){var n=Object.create(nr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Qt(){return rr||(rr=Yt(tt()))}function Gt(e){return null===e||void 0===e?Jt():Xt(e)?e:Jt().unshiftAll(e)}function Xt(e){return!(!e||!e[ar])}function qt(e,t,n,r){var a=Object.create(ir);return a.size=e,a._head=t,a.__ownerID=n,a.__hash=r,a.__altered=!1,a}function Jt(){return or||(or=qt(0))}function Vt(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Zt(e,t){return t}function Kt(e,t){return[t,e]}function $t(e){return function(){return!e.apply(this,arguments)}}function en(e){return function(){return-e.apply(this,arguments)}}function tn(e){return"string"==typeof e?JSON.stringify(e):String(e)}function nn(){return p(arguments)}function rn(e,t){return e<t?1:e>t?-1:0}function an(e){if(e.size===1/0)return 0;var t=s(e),n=o(e),r=t?1:0,a=e.__iterate(n?t?function(e,t){r=31*r+un(ie(e),ie(t))|0}:function(e,t){r=r+un(ie(e),ie(t))|0}:t?function(e){r=31*r+ie(e)|0}:function(e){r=r+ie(e)|0});return on(a,r)}function on(e,t){return t=Pn(t,3432918353),t=Pn(t<<15|t>>>-15,461845907),t=Pn(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Pn(t^t>>>16,2246822507),t=Pn(t^t>>>13,3266489909),t=ae(t^t>>>16)}function un(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var ln=Array.prototype.slice;e(n,t),e(r,t),e(a,t),t.isIterable=i,t.isKeyed=o,t.isIndexed=u,t.isAssociative=l,t.isOrdered=s,t.Keyed=n,t.Indexed=r,t.Set=a;var sn="@@__IMMUTABLE_ITERABLE__@@",dn="@@__IMMUTABLE_KEYED__@@",cn="@@__IMMUTABLE_INDEXED__@@",fn="@@__IMMUTABLE_ORDERED__@@",pn="delete",hn=5,gn=1<<hn,mn=gn-1,vn={},yn={value:!1},bn={value:!1},wn=0,Mn=1,xn=2,En="function"==typeof Symbol&&Symbol.iterator,In="@@iterator",_n=En||In;M.prototype.toString=function(){return"[Iterator]"},M.KEYS=wn,M.VALUES=Mn,M.ENTRIES=xn,M.prototype.inspect=M.prototype.toSource=function(){return this.toString()},M.prototype[_n]=function(){return this},e(L,t),L.of=function(){return L(arguments)},L.prototype.toSeq=function(){return this},L.prototype.toString=function(){return this.__toString("Seq {","}")},L.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},L.prototype.__iterate=function(e,t){return H(this,e,t,!0)},L.prototype.__iterator=function(e,t){return Y(this,e,t,!0)},e(D,L),D.prototype.toKeyedSeq=function(){return this},e(P,L),P.of=function(){return P(arguments)},P.prototype.toIndexedSeq=function(){return this},P.prototype.toString=function(){return this.__toString("Seq [","]")},P.prototype.__iterate=function(e,t){return H(this,e,t,!1)},P.prototype.__iterator=function(e,t){return Y(this,e,t,!1)},e(A,L),A.of=function(){return A(arguments)},A.prototype.toSetSeq=function(){return this},L.isSeq=z,L.Keyed=D,L.Set=A,L.Indexed=P;var Tn="@@__IMMUTABLE_SEQ__@@";L.prototype[Tn]=!0,e(O,P),O.prototype.get=function(e,t){return this.has(e)?this._array[g(this,e)]:t},O.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,a=0;a<=r;a++)if(e(n[t?r-a:a],a,this)===!1)return a+1;return a},O.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,a=0;return new M(function(){return a>r?E():x(e,a,n[t?r-a++:a++])})},e(k,D),k.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},k.prototype.has=function(e){return this._object.hasOwnProperty(e)},k.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,a=r.length-1,i=0;i<=a;i++){var o=r[t?a-i:i];if(e(n[o],o,this)===!1)return i+1}return i},k.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,a=r.length-1,i=0;return new M(function(){var o=r[t?a-i:i];return i++>a?E():x(e,o,n[o])})},k.prototype[fn]=!0,e(j,P),j.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=T(n),a=0;if(_(r))for(var i;!(i=r.next()).done&&e(i.value,a++,this)!==!1;);return a},j.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=T(n);if(!_(r))return new M(E);var a=0;return new M(function(){var t=r.next();return t.done?t:x(e,a++,t.value)})},e(N,P),N.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n=this._iterator,r=this._iteratorCache,a=0;a<r.length;)if(e(r[a],a++,this)===!1)return a;for(var i;!(i=n.next()).done;){var o=i.value;if(r[a]=o,e(o,a++,this)===!1)break}return a},N.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,a=0;return new M(function(){if(a>=r.length){var t=n.next();if(t.done)return t;r[a]=t.value}return x(e,a,r[a++])})};var Cn;e(Z,P),Z.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Z.prototype.get=function(e,t){return this.has(e)?this._value:t},Z.prototype.includes=function(e){return J(this._value,e)},Z.prototype.slice=function(e,t){var n=this.size;return v(e,t,n)?this:new Z(this._value,b(t,n)-y(e,n))},Z.prototype.reverse=function(){return this},Z.prototype.indexOf=function(e){return J(this._value,e)?0:-1},Z.prototype.lastIndexOf=function(e){return J(this._value,e)?this.size:-1},Z.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(e(this._value,n,this)===!1)return n+1;return n},Z.prototype.__iterator=function(e,t){var n=this,r=0;return new M(function(){return r<n.size?x(e,r++,n._value):E()})},Z.prototype.equals=function(e){return e instanceof Z?J(this._value,e._value):V(e)};var Sn;e($,P),$.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},$.prototype.get=function(e,t){return this.has(e)?this._start+g(this,e)*this._step:t},$.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},$.prototype.slice=function(e,t){return v(e,t,this.size)?this:(e=y(e,this.size),t=b(t,this.size),t<=e?new $(0,0):new $(this.get(e,this._end),this.get(t,this._end),this._step))},$.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},$.prototype.lastIndexOf=function(e){return this.indexOf(e)},$.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,a=t?this._start+n*r:this._start,i=0;i<=n;i++){if(e(a,i,this)===!1)return i+1;a+=t?-r:r}return i},$.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,a=t?this._start+n*r:this._start,i=0;return new M(function(){var o=a;return a+=t?-r:r,i>n?E():x(e,i++,o)})},$.prototype.equals=function(e){return e instanceof $?this._start===e._start&&this._end===e._end&&this._step===e._step:V(this,e)};var Ln;e(ee,t),e(te,ee),e(ne,ee),e(re,ee),ee.Keyed=te,ee.Indexed=ne,ee.Set=re;var Dn,Pn="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(e,t){e|=0,t|=0;var n=65535&e,r=65535&t;return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0},An=Object.isExtensible,On=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),kn="function"==typeof WeakMap;kn&&(Dn=new WeakMap);var jn=0,Nn="__immutablehash__";"function"==typeof Symbol&&(Nn=Symbol(Nn));var zn=16,Rn=255,Un=0,Bn={};e(ce,te),ce.of=function(){var e=ln.call(arguments,0);return xe().withMutations(function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}})},ce.prototype.toString=function(){return this.__toString("Map {","}")},ce.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},ce.prototype.set=function(e,t){return Ee(this,e,t)},ce.prototype.setIn=function(e,t){return this.updateIn(e,vn,function(){return t})},ce.prototype.remove=function(e){return Ee(this,e,vn)},ce.prototype.deleteIn=function(e){return this.updateIn(e,function(){return vn})},ce.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},ce.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=ke(this,Pt(e),t,n);return r===vn?void 0:r},ce.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):xe()},ce.prototype.merge=function(){return De(this,void 0,arguments)},ce.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return De(this,e,t)},ce.prototype.mergeIn=function(e){var t=ln.call(arguments,1);return this.updateIn(e,xe(),function(e){return"function"==typeof e.merge?e.merge.apply(e,t):t[t.length-1]})},ce.prototype.mergeDeep=function(){return De(this,Pe,arguments)},ce.prototype.mergeDeepWith=function(e){var t=ln.call(arguments,1);return De(this,Ae(e),t)},ce.prototype.mergeDeepIn=function(e){var t=ln.call(arguments,1);return this.updateIn(e,xe(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,t):t[t.length-1]})},ce.prototype.sort=function(e){return Ke(wt(this,e))},ce.prototype.sortBy=function(e,t){return Ke(wt(this,t,e))},ce.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},ce.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new f)},ce.prototype.asImmutable=function(){return this.__ensureOwner()},ce.prototype.wasAltered=function(){return this.__altered},ce.prototype.__iterator=function(e,t){return new ye(this,e,t)},ce.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},ce.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Me(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},ce.isMap=fe;var Fn="@@__IMMUTABLE_MAP__@@",Wn=ce.prototype;Wn[Fn]=!0,Wn[pn]=Wn.remove,Wn.removeIn=Wn.deleteIn,pe.prototype.get=function(e,t,n,r){for(var a=this.entries,i=0,o=a.length;i<o;i++)if(J(n,a[i][0]))return a[i][1];return r},pe.prototype.update=function(e,t,n,r,a,i,o){for(var u=a===vn,l=this.entries,s=0,d=l.length;s<d&&!J(r,l[s][0]);s++);var f=s<d;if(f?l[s][1]===a:u)return this;if(c(o),(u||!f)&&c(i),!u||1!==l.length){if(!f&&!u&&l.length>=Yn)return Ce(e,l,r,a);var h=e&&e===this.ownerID,g=h?l:p(l);return f?u?s===d-1?g.pop():g[s]=g.pop():g[s]=[r,a]:g.push([r,a]),h?(this.entries=g,this):new pe(e,g)}},he.prototype.get=function(e,t,n,r){void 0===t&&(t=ie(n));var a=1<<((0===e?t:t>>>e)&mn),i=this.bitmap;return 0===(i&a)?r:this.nodes[je(i&a-1)].get(e+hn,t,n,r)},he.prototype.update=function(e,t,n,r,a,i,o){void 0===n&&(n=ie(r));var u=(0===t?n:n>>>t)&mn,l=1<<u,s=this.bitmap,d=0!==(s&l);if(!d&&a===vn)return this;var c=je(s&l-1),f=this.nodes,p=d?f[c]:void 0,h=Ie(p,e,t+hn,n,r,a,i,o);if(h===p)return this;if(!d&&h&&f.length>=Qn)return Le(e,f,s,u,h);if(d&&!h&&2===f.length&&_e(f[1^c]))return f[1^c];if(d&&h&&1===f.length&&_e(h))return h;var g=e&&e===this.ownerID,m=d?h?s:s^l:s|l,v=d?h?Ne(f,c,h,g):Re(f,c,g):ze(f,c,h,g);return g?(this.bitmap=m,this.nodes=v,this):new he(e,m,v)},ge.prototype.get=function(e,t,n,r){void 0===t&&(t=ie(n));var a=(0===e?t:t>>>e)&mn,i=this.nodes[a];return i?i.get(e+hn,t,n,r):r},ge.prototype.update=function(e,t,n,r,a,i,o){void 0===n&&(n=ie(r));var u=(0===t?n:n>>>t)&mn,l=a===vn,s=this.nodes,d=s[u];if(l&&!d)return this;var c=Ie(d,e,t+hn,n,r,a,i,o);if(c===d)return this;var f=this.count;if(d){if(!c&&(f--,f<Gn))return Se(e,s,f,u)}else f++;var p=e&&e===this.ownerID,h=Ne(s,u,c,p);return p?(this.count=f,this.nodes=h,this):new ge(e,f,h)},me.prototype.get=function(e,t,n,r){for(var a=this.entries,i=0,o=a.length;i<o;i++)if(J(n,a[i][0]))return a[i][1];return r},me.prototype.update=function(e,t,n,r,a,i,o){void 0===n&&(n=ie(r));var u=a===vn;if(n!==this.keyHash)return u?this:(c(o),c(i),Te(this,e,t,n,[r,a]));for(var l=this.entries,s=0,d=l.length;s<d&&!J(r,l[s][0]);s++);var f=s<d;if(f?l[s][1]===a:u)return this;if(c(o),(u||!f)&&c(i),u&&2===d)return new ve(e,this.keyHash,l[1^s]);var h=e&&e===this.ownerID,g=h?l:p(l);return f?u?s===d-1?g.pop():g[s]=g.pop():g[s]=[r,a]:g.push([r,a]),h?(this.entries=g,this):new me(e,this.keyHash,g)},ve.prototype.get=function(e,t,n,r){return J(n,this.entry[0])?this.entry[1]:r},ve.prototype.update=function(e,t,n,r,a,i,o){var u=a===vn,l=J(r,this.entry[0]);return(l?a===this.entry[1]:u)?this:(c(o),u?void c(i):l?e&&e===this.ownerID?(this.entry[1]=a,this):new ve(e,this.keyHash,[r,a]):(c(i),Te(this,e,t,ie(r),[r,a])))},pe.prototype.iterate=me.prototype.iterate=function(e,t){for(var n=this.entries,r=0,a=n.length-1;r<=a;r++)if(e(n[t?a-r:r])===!1)return!1},he.prototype.iterate=ge.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,a=n.length-1;r<=a;r++){var i=n[t?a-r:r];if(i&&i.iterate(e,t)===!1)return!1}},ve.prototype.iterate=function(e,t){return e(this.entry)},e(ye,M),ye.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,a=t.index++;
if(r.entry){if(0===a)return be(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,a<=n)return be(e,r.entries[this._reverse?n-a:a])}else if(n=r.nodes.length-1,a<=n){var i=r.nodes[this._reverse?n-a:a];if(i){if(i.entry)return be(e,i.entry);t=this._stack=we(i,t)}continue}t=this._stack=this._stack.__prev}return E()};var Hn,Yn=gn/4,Qn=gn/2,Gn=gn/4;e(Ue,ne),Ue.of=function(){return this(arguments)},Ue.prototype.toString=function(){return this.__toString("List [","]")},Ue.prototype.get=function(e,t){if(e=g(this,e),e>=0&&e<this.size){e+=this._origin;var n=qe(this,e);return n&&n.array[e&mn]}return t},Ue.prototype.set=function(e,t){return Qe(this,e,t)},Ue.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Ue.prototype.insert=function(e,t){return this.splice(e,0,t)},Ue.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=hn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ye()},Ue.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){Je(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},Ue.prototype.pop=function(){return Je(this,0,-1)},Ue.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){Je(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},Ue.prototype.shift=function(){return Je(this,1)},Ue.prototype.merge=function(){return Ve(this,void 0,arguments)},Ue.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return Ve(this,e,t)},Ue.prototype.mergeDeep=function(){return Ve(this,Pe,arguments)},Ue.prototype.mergeDeepWith=function(e){var t=ln.call(arguments,1);return Ve(this,Ae(e),t)},Ue.prototype.setSize=function(e){return Je(this,0,e)},Ue.prototype.slice=function(e,t){var n=this.size;return v(e,t,n)?this:Je(this,y(e,n),b(t,n))},Ue.prototype.__iterator=function(e,t){var n=0,r=We(this,t);return new M(function(){var t=r();return t===Vn?E():x(e,n++,t)})},Ue.prototype.__iterate=function(e,t){for(var n,r=0,a=We(this,t);(n=a())!==Vn&&e(n,r++,this)!==!1;);return r},Ue.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?He(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Ue.isList=Be;var Xn="@@__IMMUTABLE_LIST__@@",qn=Ue.prototype;qn[Xn]=!0,qn[pn]=qn.remove,qn.setIn=Wn.setIn,qn.deleteIn=qn.removeIn=Wn.removeIn,qn.update=Wn.update,qn.updateIn=Wn.updateIn,qn.mergeIn=Wn.mergeIn,qn.mergeDeepIn=Wn.mergeDeepIn,qn.withMutations=Wn.withMutations,qn.asMutable=Wn.asMutable,qn.asImmutable=Wn.asImmutable,qn.wasAltered=Wn.wasAltered,Fe.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&mn;if(r>=this.array.length)return new Fe([],e);var a,i=0===r;if(t>0){var o=this.array[r];if(a=o&&o.removeBefore(e,t-hn,n),a===o&&i)return this}if(i&&!a)return this;var u=Xe(this,e);if(!i)for(var l=0;l<r;l++)u.array[l]=void 0;return a&&(u.array[r]=a),u},Fe.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r=n-1>>>t&mn;if(r>=this.array.length)return this;var a;if(t>0){var i=this.array[r];if(a=i&&i.removeAfter(e,t-hn,n),a===i&&r===this.array.length-1)return this}var o=Xe(this,e);return o.array.splice(r+1),a&&(o.array[r]=a),o};var Jn,Vn={};e(Ke,ce),Ke.of=function(){return this(arguments)},Ke.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ke.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Ke.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):tt()},Ke.prototype.set=function(e,t){return nt(this,e,t)},Ke.prototype.remove=function(e){return nt(this,e,vn)},Ke.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ke.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Ke.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Ke.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?et(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Ke.isOrderedMap=$e,Ke.prototype[fn]=!0,Ke.prototype[pn]=Ke.prototype.remove;var Zn;e(rt,D),rt.prototype.get=function(e,t){return this._iter.get(e,t)},rt.prototype.has=function(e){return this._iter.has(e)},rt.prototype.valueSeq=function(){return this._iter.valueSeq()},rt.prototype.reverse=function(){var e=this,t=st(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},rt.prototype.map=function(e,t){var n=this,r=lt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},rt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Tt(this):0,function(a){return e(a,t?--n:n++,r)}),t)},rt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(Mn,t),r=t?Tt(this):0;return new M(function(){var a=n.next();return a.done?a:x(e,t?--r:r++,a.value,a)})},rt.prototype[fn]=!0,e(at,P),at.prototype.includes=function(e){return this._iter.includes(e)},at.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},at.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Mn,t),r=0;return new M(function(){var t=n.next();return t.done?t:x(e,r++,t.value,t)})},e(it,A),it.prototype.has=function(e){return this._iter.includes(e)},it.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},it.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Mn,t);return new M(function(){var t=n.next();return t.done?t:x(e,t.value,t.value,t)})},e(ot,D),ot.prototype.entrySeq=function(){return this._iter.toSeq()},ot.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){_t(t);var r=i(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},ot.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Mn,t);return new M(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){_t(r);var a=i(r);return x(e,a?r.get(0):r[0],a?r.get(1):r[1],t)}}})},at.prototype.cacheResult=rt.prototype.cacheResult=it.prototype.cacheResult=ot.prototype.cacheResult=Lt,e(At,te),At.prototype.toString=function(){return this.__toString(kt(this)+" {","}")},At.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},At.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},At.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Ot(this,xe()))},At.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+kt(this));if(this._map&&!this._map.has(e)){var n=this._defaultValues[e];if(t===n)return this}var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:Ot(this,r)},At.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Ot(this,t)},At.prototype.wasAltered=function(){return this._map.wasAltered()},At.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterator(e,t)},At.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterate(e,t)},At.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Ot(this,t,e):(this.__ownerID=e,this._map=t,this)};var Kn=At.prototype;Kn[pn]=Kn.remove,Kn.deleteIn=Kn.removeIn=Wn.removeIn,Kn.merge=Wn.merge,Kn.mergeWith=Wn.mergeWith,Kn.mergeIn=Wn.mergeIn,Kn.mergeDeep=Wn.mergeDeep,Kn.mergeDeepWith=Wn.mergeDeepWith,Kn.mergeDeepIn=Wn.mergeDeepIn,Kn.setIn=Wn.setIn,Kn.update=Wn.update,Kn.updateIn=Wn.updateIn,Kn.withMutations=Wn.withMutations,Kn.asMutable=Wn.asMutable,Kn.asImmutable=Wn.asImmutable,e(zt,re),zt.of=function(){return this(arguments)},zt.fromKeys=function(e){return this(n(e).keySeq())},zt.prototype.toString=function(){return this.__toString("Set {","}")},zt.prototype.has=function(e){return this._map.has(e)},zt.prototype.add=function(e){return Ut(this,this._map.set(e,!0))},zt.prototype.remove=function(e){return Ut(this,this._map.remove(e))},zt.prototype.clear=function(){return Ut(this,this._map.clear())},zt.prototype.union=function(){var e=ln.call(arguments,0);return e=e.filter(function(e){return 0!==e.size}),0===e.length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)a(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},zt.prototype.intersect=function(){var e=ln.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return a(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.every(function(e){return e.includes(t)})||n.remove(t)})})},zt.prototype.subtract=function(){var e=ln.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return a(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.some(function(e){return e.includes(t)})&&n.remove(t)})})},zt.prototype.merge=function(){return this.union.apply(this,arguments)},zt.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return this.union.apply(this,t)},zt.prototype.sort=function(e){return Wt(wt(this,e))},zt.prototype.sortBy=function(e,t){return Wt(wt(this,t,e))},zt.prototype.wasAltered=function(){return this._map.wasAltered()},zt.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},zt.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},zt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},zt.isSet=Rt;var $n="@@__IMMUTABLE_SET__@@",er=zt.prototype;er[$n]=!0,er[pn]=er.remove,er.mergeDeep=er.merge,er.mergeDeepWith=er.mergeWith,er.withMutations=Wn.withMutations,er.asMutable=Wn.asMutable,er.asImmutable=Wn.asImmutable,er.__empty=Ft,er.__make=Bt;var tr;e(Wt,zt),Wt.of=function(){return this(arguments)},Wt.fromKeys=function(e){return this(n(e).keySeq())},Wt.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Wt.isOrderedSet=Ht;var nr=Wt.prototype;nr[fn]=!0,nr.__empty=Qt,nr.__make=Yt;var rr;e(Gt,ne),Gt.of=function(){return this(arguments)},Gt.prototype.toString=function(){return this.__toString("Stack [","]")},Gt.prototype.get=function(e,t){var n=this._head;for(e=g(this,e);n&&e--;)n=n.next;return n?n.value:t},Gt.prototype.peek=function(){return this._head&&this._head.value},Gt.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):qt(e,t)},Gt.prototype.pushAll=function(e){if(e=r(e),0===e.size)return this;de(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):qt(t,n)},Gt.prototype.pop=function(){return this.slice(1)},Gt.prototype.unshift=function(){return this.push.apply(this,arguments)},Gt.prototype.unshiftAll=function(e){return this.pushAll(e)},Gt.prototype.shift=function(){return this.pop.apply(this,arguments)},Gt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jt()},Gt.prototype.slice=function(e,t){if(v(e,t,this.size))return this;var n=y(e,this.size),r=b(t,this.size);if(r!==this.size)return ne.prototype.slice.call(this,e,t);for(var a=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=a,this._head=i,this.__hash=void 0,this.__altered=!0,this):qt(a,i)},Gt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?qt(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Gt.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&e(r.value,n++,this)!==!1;)r=r.next;return n},Gt.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new M(function(){if(r){var t=r.value;return r=r.next,x(e,n++,t)}return E()})},Gt.isStack=Xt;var ar="@@__IMMUTABLE_STACK__@@",ir=Gt.prototype;ir[ar]=!0,ir.withMutations=Wn.withMutations,ir.asMutable=Wn.asMutable,ir.asImmutable=Wn.asImmutable,ir.wasAltered=Wn.wasAltered;var or;t.Iterator=M,Vt(t,{toArray:function(){de(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new at(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new rt(this,!0)},toMap:function(){return ce(this.toKeyedSeq())},toObject:function(){de(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Ke(this.toKeyedSeq())},toOrderedSet:function(){return Wt(o(this)?this.valueSeq():this)},toSet:function(){return zt(o(this)?this.valueSeq():this)},toSetSeq:function(){return new it(this)},toSeq:function(){return u(this)?this.toIndexedSeq():o(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Gt(o(this)?this.valueSeq():this)},toList:function(){return Ue(o(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var e=ln.call(arguments,0);return It(this,mt(this,e))},includes:function(e){return this.some(function(t){return J(t,e)})},entries:function(){return this.__iterator(xn)},every:function(e,t){de(this.size);var n=!0;return this.__iterate(function(r,a,i){if(!e.call(t,r,a,i))return n=!1,!1}),n},filter:function(e,t){return It(this,dt(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return de(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){de(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(wn)},map:function(e,t){return It(this,lt(this,e,t))},reduce:function(e,t,n){de(this.size);var r,a;return arguments.length<2?a=!0:r=t,this.__iterate(function(t,i,o){a?(a=!1,r=t):r=e.call(n,r,t,i,o)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return It(this,st(this,!0))},slice:function(e,t){return It(this,pt(this,e,t,!0))},some:function(e,t){return!this.every($t(e),t)},sort:function(e){return It(this,wt(this,e))},values:function(){return this.__iterator(Mn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return h(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return ct(this,e,t)},equals:function(e){return V(this,e)},entrySeq:function(){var e=this;if(e._cache)return new O(e._cache);var t=e.toSeq().map(Kt).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter($t(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,a,i){if(e.call(t,n,a,i))return r=[a,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(m)},flatMap:function(e,t){return It(this,yt(this,e,t))},flatten:function(e){return It(this,vt(this,e,!0))},fromEntrySeq:function(){return new ot(this)},get:function(e,t){return this.find(function(t,n){return J(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,a=Pt(e);!(n=a.next()).done;){var i=n.value;if(r=r&&r.get?r.get(i,vn):vn,r===vn)return t}return r},groupBy:function(e,t){return ft(this,e,t)},has:function(e){return this.get(e,vn)!==vn},hasIn:function(e){return this.getIn(e,vn)!==vn},isSubset:function(e){return e="function"==typeof e.includes?e:t(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e="function"==typeof e.isSubset?e:t(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(t){return J(t,e)})},keySeq:function(){return this.toSeq().map(Zt).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Mt(this,e)},maxBy:function(e,t){return Mt(this,t,e)},min:function(e){return Mt(this,e?en(e):rn)},minBy:function(e,t){return Mt(this,t?en(t):rn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return It(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return It(this,gt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile($t(e),t)},sortBy:function(e,t){return It(this,wt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return It(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return It(this,ht(this,e,t))},takeUntil:function(e,t){return this.takeWhile($t(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=an(this))}});var ur=t.prototype;ur[sn]=!0,ur[_n]=ur.values,ur.__toJS=ur.toArray,ur.__toStringMapper=tn,ur.inspect=ur.toSource=function(){return this.toString()},ur.chain=ur.flatMap,ur.contains=ur.includes,Vt(n,{flip:function(){return It(this,ut(this))},mapEntries:function(e,t){var n=this,r=0;return It(this,this.toSeq().map(function(a,i){return e.call(t,[i,a],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return It(this,this.toSeq().flip().map(function(r,a){return e.call(t,r,a,n)}).flip())}});var lr=n.prototype;lr[dn]=!0,lr[_n]=ur.entries,lr.__toJS=ur.toObject,lr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+tn(e)},Vt(r,{toKeyedSeq:function(){return new rt(this,!1)},filter:function(e,t){return It(this,dt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return It(this,st(this,!1))},slice:function(e,t){return It(this,pt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=y(e,e<0?this.count():this.size);var r=this.slice(0,e);return It(this,1===n?r:r.concat(p(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return It(this,vt(this,e,!1))},get:function(e,t){return e=g(this,e),e<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return e=g(this,e),e>=0&&(void 0!==this.size?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return It(this,bt(this,e))},interleave:function(){var e=[this].concat(p(arguments)),t=Et(this.toSeq(),P.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),It(this,n)},keySeq:function(){return $(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return It(this,gt(this,e,t,!1))},zip:function(){var e=[this].concat(p(arguments));return It(this,Et(this,nn,e))},zipWith:function(e){var t=p(arguments);return t[0]=this,It(this,Et(this,e,t))}}),r.prototype[cn]=!0,r.prototype[fn]=!0,Vt(a,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),a.prototype.has=ur.includes,a.prototype.contains=a.prototype.includes,Vt(D,n.prototype),Vt(P,r.prototype),Vt(A,a.prototype),Vt(te,n.prototype),Vt(ne,r.prototype),Vt(re,a.prototype);var sr={Iterable:t,Seq:L,Collection:ee,Map:ce,OrderedMap:Ke,List:Ue,Stack:Gt,Set:zt,OrderedSet:Wt,Record:At,Range:$,Repeat:Z,is:J,fromJS:Q};return sr})},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var a=n(487),i=n(488),o=n(489),u=n(490),l=n(491);r.prototype.clear=a,r.prototype.delete=i,r.prototype.get=o,r.prototype.has=u,r.prototype.set=l,e.exports=r},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t,n){function r(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||a(e,t,n)}var a=n(70),i=n(75);e.exports=r},function(e,t,n){function r(e,t){t=a(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[i(t[n++])];return n&&n==r?e:void 0}var a=n(72),i=n(101);e.exports=r},function(e,t,n){function r(e,t){return o(i(e,t,a),e+"")}var a=n(595),i=n(493),o=n(498);e.exports=r},function(e,t,n){function r(e,t,n,r){if(!u(e))return e;t=i(t,e);for(var s=-1,d=t.length,c=d-1,f=e;null!=f&&++s<d;){var p=l(t[s]),h=n;if(s!=c){var g=f[p];h=r?r(g,p,f):void 0,void 0===h&&(h=u(g)?g:o(t[s+1])?[]:{})}a(f,p,h),f=f[p]}return e}var a=n(95),i=n(72),o=n(174),u=n(33),l=n(101);e.exports=r},function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}var a=n(109),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,u=o&&o.exports===i,l=u?a.Buffer:void 0,s=l?l.allocUnsafe:void 0;e.exports=r}).call(t,n(164)(e))},function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},function(e,t,n){function r(e){return a(function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,u=a>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,u&&i(n[0],n[1],u)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var l=n[r];l&&e(t,l,r,o)}return t})}var a=n(149),i=n(100);e.exports=r},function(e,t,n){var r=n(602),a=r(Object.keys,Object);e.exports=a},function(e,t,n){function r(e){return"function"!=typeof e.constructor||o(e)?{}:a(i(e))}var a=n(443),i=n(617),o=n(601);e.exports=r},function(e,t){var n=/<%=([\s\S]+?)%>/g;e.exports=n},function(e,t,n){function r(e,t,n){function r(t){var n=y,r=b;return y=b=void 0,I=t,M=e.apply(r,n)}function d(e){return I=e,x=setTimeout(p,t),_?r(e):M}function c(e){var n=e-E,r=e-I,a=t-n;return T?s(a,w-r):a}function f(e){var n=e-E,r=e-I;return void 0===E||n>=t||n<0||T&&r>=w}function p(){var e=i();return f(e)?h(e):void(x=setTimeout(p,c(e)))}function h(e){return x=void 0,C&&y?r(e):(y=b=void 0,M)}function g(){void 0!==x&&clearTimeout(x),I=0,y=E=b=x=void 0}function m(){return void 0===x?M:h(i())}function v(){var e=i(),n=f(e);if(y=arguments,b=this,E=e,n){if(void 0===x)return d(E);if(T)return x=setTimeout(p,t),r(E)}return void 0===x&&(x=setTimeout(p,t)),M}var y,b,w,M,x,E,I=0,_=!1,T=!1,C=!0;if("function"!=typeof e)throw new TypeError(u);return t=o(t)||0,a(n)&&(_=!!n.leading,T="maxWait"in n,w=T?l(o(n.maxWait)||0,t):w,C="trailing"in n?!!n.trailing:C),v.cancel=g,v.flush=m,v}var a=n(33),i=n(515),o=n(175),u="Expected a function",l=Math.max,s=Math.min;e.exports=r},function(e,t,n){function r(e){if(!i(e))return!1;var t=a(e);return t==l||t==u||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}var a=n(176),i=n(80),o=n(114),u="[object DOMException]",l="[object Error]";e.exports=r},function(e,t,n){var r,a,i;!function(n,o){a=[],r=o,i="function"==typeof r?r.apply(t,a):r,!(void 0!==i&&(e.exports=i))}(this,function(){return{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},deepPurple:{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},lightBlue:{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},lightGreen:{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},deepOrange:{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},blueGrey:{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},darkText:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},lightText:{primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},darkIcons:{active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},lightIcons:{active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},white:"#ffffff",black:"#000000"}})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var i=n(1),o=a(i),u=n(12),l=a(u),s=n(564),d=r(s),c=t.Checkboard=function(e){var t=e.white,n=e.grey,r=e.size,a=e.renderers,i=e.borderRadius,u=e.boxShadow,s=(0,l.default)({default:{grid:{borderRadius:i,boxShadow:u,absolute:"0px 0px 0px 0px",background:"url("+d.get(t,n,r,a.canvas)+") center left"}}});return o.default.createElement("div",{style:s.grid})};c.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),d=r(s),c=n(157),f=r(c),p=n(31),h=r(p),g=t.ColorWrap=function(e){var t=function(t){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){var r=h.default.simpleCheckForValidColor(e);if(r){var a=h.default.toState(e,e.h||t.state.oldHue);t.setState(a),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,a,n),t.props.onChange&&t.props.onChange(a,n)}},t.handleSwatchHover=function(e,n){var r=h.default.simpleCheckForValidColor(e);if(r){var a=h.default.toState(e,e.h||t.state.oldHue);t.setState(a),t.props.onSwatchHover&&t.props.onSwatchHover(a,n)}},t.state=u({},h.default.toState(e.color,0)),t.debounce=(0,f.default)(function(e,t,n){e(t,n)},100),t}return o(n,t),l(n,[{key:"componentWillReceiveProps",value:function(e){this.setState(u({},h.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),d.default.createElement(e,u({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}(s.PureComponent||s.Component);return t.propTypes=u({},e.propTypes),t.defaultProps=u({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=g},function(e,t,n){var r,a,i;!function(o,u){a=[n(1),n(41),n(578),n(23),n(614)],r=u,i="function"==typeof r?r.apply(t,a):r,!(void 0!==i&&(e.exports=i));
}(this,function(e,t,n,r,a){var i=a({propTypes:{className:r.string,color:r.string,component:r.any,corners:r.number,direction:r.oneOf([1,-1]),fps:r.number,hwaccell:r.bool,left:r.string,length:r.number,lines:r.number,loaded:r.bool,loadedClassName:r.string,opacity:r.number,options:r.object,parentClassName:r.string,position:r.string,radius:r.number,rotate:r.number,scale:r.number,shadow:r.bool,speed:r.number,top:r.string,trail:r.number,width:r.number,zIndex:r.number},getDefaultProps:function(){return{component:"div",loadedClassName:"loadedContent",parentClassName:"loader"}},getInitialState:function(){return{loaded:!1,options:{}}},componentDidMount:function(){this.updateState(this.props)},componentWillReceiveProps:function(e){this.updateState(e)},componentWillUnmount:function(){this.setState({loaded:!1})},updateState:function(e){e||(e={});var t=this.state.loaded,n=this.state.options;"loaded"in e&&(t=!!e.loaded);var r=Object.keys(this.constructor.propTypes);r.splice(r.indexOf("loaded"),1),r.splice(r.indexOf("options"),1);var a="options"in e?e.options:e;r.forEach(function(e){e in a&&(n[e]=a[e])}),this.setState({loaded:t,options:n},this.spin)},spin:function(){var e=!("undefined"==typeof window||!window.document||!window.document.createElement);if(e&&!this.state.loaded){var r=new n(this.state.options),a=t.findDOMNode(this.refs.loader);a.innerHTML="",r.spin(a)}},render:function(){var t,n;return this.state.loaded?(t={key:"content",className:this.props.loadedClassName},n=this.props.children):t={key:"loader",ref:"loader",className:this.props.parentClassName},e.createElement(this.props.component,t,n)}});return i})},function(e,t,n){e.exports=n(2)(119)},function(e,t,n){e.exports=n(2)(129)},function(e,t,n){e.exports=n(2)(158)},function(e,t,n){e.exports=n(2)(169)},function(e,t,n){e.exports=n(2)(259)},function(e,t,n){e.exports=n(2)(262)},function(e,t,n){e.exports=n(2)(263)},function(e,t,n){e.exports=n(2)(536)},function(e,t,n){e.exports=n(2)(554)},function(e,t,n){e.exports=n(2)(594)},function(e,t,n){e.exports=n(2)(612)},function(e,t,n){e.exports=n(2)(614)},function(e,t,n){e.exports=n(2)(629)},function(e,t,n){e.exports=n(2)(70)},function(e,t,n){e.exports=n(2)(736)},function(e,t,n){e.exports=n(2)(78)},function(e,t,n){e.exports=n(2)(96)},,function(e,t,n){e.exports={default:n(184),__esModule:!0}},function(e,t,n){e.exports={default:n(186),__esModule:!0}},function(e,t,n){n(110),n(106),e.exports=n(197)},function(e,t,n){n(110),n(106),e.exports=n(198)},function(e,t,n){var r=n(25),a=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},function(e,t,n){n(202),e.exports=n(25).Object.entries},function(e,t,n){n(199),e.exports=n(25).Object.getPrototypeOf},function(e,t,n){n(200),e.exports=n(25).Object.keys},function(e,t,n){n(613),n(106),n(110),n(201),n(203),n(204),e.exports=n(25).Promise},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(104),a=n(610),i=n(609),o=n(79),u=n(599),l=n(171),s={},d={},t=e.exports=function(e,t,n,c,f){var p,h,g,m,v=f?function(){return e}:l(e),y=r(n,c,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(p=u(e.length);p>b;b++)if(m=t?y(o(h=e[b])[0],h[1]):y(e[b]),m===s||m===d)return m}else for(g=v.call(e);!(h=g.next()).done;)if(m=a(g,y,h.value,t),m===s||m===d)return m};t.BREAK=s,t.RETURN=d},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(59),a=n(121).set,i=r.MutationObserver||r.WebKitMutationObserver,o=r.process,u=r.Promise,l="process"==n(165)(o);e.exports=function(){var e,t,n,s=function(){var r,a;for(l&&(r=o.domain)&&r.exit();e;){a=e.fn,e=e.next;try{a()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){o.nextTick(s)};else if(!i||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var d=u.resolve();n=function(){d.then(s)}}else n=function(){a.call(r,s)};else{var c=!0,f=document.createTextNode("");new i(s).observe(f,{characterData:!0}),n=function(){f.data=c=!c}}return function(r){var a={fn:r,next:void 0};t&&(t.next=a),e||(e=a,n()),t=a}}},function(e,t,n){var r=n(163),a=n(627),i=n(592).f;e.exports=function(e){return function(t){for(var n,o=a(t),u=r(o),l=u.length,s=0,d=[];l>s;)i.call(o,n=u[s++])&&d.push(e?[n,o[n]]:o[n]);return d}}},function(e,t,n){var r=n(626);e.exports=function(e,t,n){for(var a in t)n&&e[a]?e[a]=t[a]:r(e,a,t[a]);return e}},function(e,t,n){"use strict";var r=n(59),a=n(25),i=n(607),o=n(620),u=n(77)("species");e.exports=function(e){var t="function"==typeof a[e]?a[e]:r[e];o&&t&&!t[u]&&i.f(t,u,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(79),a=n(171);e.exports=n(25).getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(170),a=n(77)("iterator"),i=n(631);e.exports=n(25).isIterable=function(e){var t=Object(e);return void 0!==t[a]||"@@iterator"in t||i.hasOwnProperty(r(t))}},function(e,t,n){var r=n(166),a=n(612);n(117)("getPrototypeOf",function(){return function(e){return a(r(e))}})},function(e,t,n){var r=n(166),a=n(163);n(117)("keys",function(){return function(e){return a(r(e))}})},function(e,t,n){"use strict";var r,a,i,o,u=n(593),l=n(59),s=n(104),d=n(170),c=n(61),f=n(178),p=n(108),h=n(190),g=n(191),m=n(120),v=n(121).set,y=n(193)(),b=n(82),w=n(118),M=n(119),x="Promise",E=l.TypeError,I=l.process,_=l[x],T="process"==d(I),C=function(){},S=a=b.f,L=!!function(){try{var e=_.resolve(1),t=(e.constructor={})[n(77)("species")]=function(e){e(C,C)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof t}catch(e){}}(),D=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,a=1==e._s,i=0,o=function(t){var n,i,o=a?t.ok:t.fail,u=t.resolve,l=t.reject,s=t.domain;try{o?(a||(2==e._h&&k(e),e._h=1),o===!0?n=r:(s&&s.enter(),n=o(r),s&&s.exit()),n===t.promise?l(E("Promise-chain cycle")):(i=D(n))?i.call(n,u,l):u(n)):l(r)}catch(e){l(e)}};n.length>i;)o(n[i++]);e._c=[],e._n=!1,t&&!e._h&&A(e)})}},A=function(e){v.call(l,function(){var t,n,r,a=e._v,i=O(e);if(i&&(t=w(function(){T?I.emit("unhandledRejection",a,e):(n=l.onunhandledrejection)?n({promise:e,reason:a}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",a)}),e._h=T||O(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},O=function(e){return 1!==e._h&&0===(e._a||e._c).length},k=function(e){v.call(l,function(){var t;T?I.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},j=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},N=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=D(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,s(N,r,1),s(j,r,1))}catch(e){j.call(r,e)}}):(n._v=e,n._s=1,P(n,!1))}catch(e){j.call({_w:n,_d:!1},e)}}};L||(_=function(e){h(this,_,x,"_h"),p(e),r.call(this);try{e(s(N,this,1),s(j,this,1))}catch(e){j.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(195)(_.prototype,{then:function(e,t){var n=S(m(this,_));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?I.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=s(N,e,1),this.reject=s(j,e,1)},b.f=S=function(e){return e===_||e===o?new i(e):a(e)}),c(c.G+c.W+c.F*!L,{Promise:_}),n(594)(_,x),n(196)(x),o=n(25)[x],c(c.S+c.F*!L,x,{reject:function(e){var t=S(this),n=t.reject;return n(e),t.promise}}),c(c.S+c.F*(u||!L),x,{resolve:function(e){return M(u&&this===o?_:this,e)}}),c(c.S+c.F*!(L&&n(611)(function(e){_.all(e).catch(C)})),x,{all:function(e){var t=this,n=S(t),r=n.resolve,a=n.reject,i=w(function(){var n=[],i=0,o=1;g(e,!1,function(e){var u=i++,l=!1;n.push(void 0),o++,t.resolve(e).then(function(e){l||(l=!0,n[u]=e,--o||r(n))},a)}),--o||r(n)});return i.e&&a(i.v),n.promise},race:function(e){var t=this,n=S(t),r=n.reject,a=w(function(){g(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return a.e&&r(a.v),n.promise}})},function(e,t,n){var r=n(61),a=n(194)(!0);r(r.S,"Object",{entries:function(e){return a(e)}})},function(e,t,n){"use strict";var r=n(61),a=n(25),i=n(59),o=n(120),u=n(119);r(r.P+r.R,"Promise",{finally:function(e){var t=o(this,a.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then(function(){return n})}:e,n?function(n){return u(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(61),a=n(82),i=n(118);r(r.S,"Promise",{try:function(e){var t=a.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var r=function(){return this}()||Function("return this")(),a=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=a&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(206),a)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";function n(e,t,n,r){var i=t&&t.prototype instanceof a?t:a,o=Object.create(i.prototype),u=new p(r||[]);return o._invoke=s(e,n,u),o}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function a(){}function i(){}function o(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(n,a,i,o){var u=r(e[n],e,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==typeof s&&y.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,i,o)},function(e){t("throw",e,i,o)}):Promise.resolve(s).then(function(e){l.value=e,i(l)},o)}o(u.arg)}function n(e,n){function r(){return new Promise(function(r,a){t(e,n,r,a)})}return a=a?a.then(r,r):r()}var a;this._invoke=n}function s(e,t,n){var a=_;return function(i,o){if(a===C)throw new Error("Generator is already running");if(a===S){if("throw"===i)throw o;return g()}for(n.method=i,n.arg=o;;){var u=n.delegate;if(u){var l=d(u,n);if(l){if(l===L)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===_)throw a=S,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=C;var s=r(e,t,n);if("normal"===s.type){if(a=n.done?S:T,s.arg===L)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=S,n.method="throw",n.arg=s.arg)}}}function d(e,t){var n=e.iterator[t.method];if(n===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,d(e,t),"throw"===t.method))return L;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return L}var a=r(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,L;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,L):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,L)}function c(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(c,this),this.reset(!0)}function h(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(y.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=m,t.done=!0,t};return r.next=r}}return{next:g}}function g(){return{value:m,done:!0}}var m,v=Object.prototype,y=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},w=b.iterator||"@@iterator",M=b.asyncIterator||"@@asyncIterator",x=b.toStringTag||"@@toStringTag",E="object"==typeof e,I=t.regeneratorRuntime;if(I)return void(E&&(e.exports=I));I=t.regeneratorRuntime=E?e.exports:{},I.wrap=n;var _="suspendedStart",T="suspendedYield",C="executing",S="completed",L={},D={};D[w]=function(){return this};var P=Object.getPrototypeOf,A=P&&P(P(h([])));A&&A!==v&&y.call(A,w)&&(D=A);var O=o.prototype=a.prototype=Object.create(D);i.prototype=O.constructor=o,o.constructor=i,o[x]=i.displayName="GeneratorFunction",I.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},I.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,x in e||(e[x]="GeneratorFunction")),e.prototype=Object.create(O),e},I.awrap=function(e){return{__await:e}},u(l.prototype),l.prototype[M]=function(){return this},I.AsyncIterator=l,I.async=function(e,t,r,a){var i=new l(n(e,t,r,a));return I.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},u(O),O[x]="Generator",O[w]=function(){return this},O.toString=function(){return"[object Generator]"},I.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},I.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=m),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],i=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var o=y.call(a,"catchLoc"),u=y.call(a,"finallyLoc");if(o&&u){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,L):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),L},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),f(n),L}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;f(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=m),L}}}(function(){return this}()||Function("return this")())},function(e,t){},207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,207,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(9),v=r(m);n(207);var y=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClicked,r=e.text,a=(0,v.default)("x-add-text",t);return g.default.createElement("div",{className:a,onClick:n},r||"Add Text")}}]),t}(h.Component);t.default=y,y.propTypes={onClicked:h.PropTypes.func,className:h.PropTypes.string,text:h.PropTypes.string}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(47),v=n(63),y=r(v),b=n(9),w=r(b);n(208);var M=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.bgColor,n=e.canvasId,r=e.width,a=e.height;e.textInCenter;(0,m.clear)(n,0,0,r,a),(0,m.drawRect)(n,t,0,0,r,a,!1,0)}},{key:"handleMouseOver",value:function(){this.props.isHide}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.children,a=e.canvasId,i=e.width,o=e.height,u=e.handleClick,l=e.isHide,s=e.isHideUploadIcon,d=(0,w.default)("x-bg-element",t,{hide:l}),c=n(584),f=i/6,p=i/6;f=f>200?200:f<140?140:f,p=p>200?200:p<140?140:p;var h={position:"absolute",width:f+"px",height:p+"px",left:(i-f)/2+"px",top:(o-p)/2+"px",display:s?"none":"block"};return g.default.createElement("div",{className:d},g.default.createElement("canvas",{id:a,width:i,height:o}),g.default.createElement("img",{src:c,className:"upload-icon",style:h}),g.default.createElement(y.default,{handleClick:u,cursor:"pointer",handleMouseOver:this.handleMouseOver.bind(this)}),r)}}]),t}(h.Component);t.default=M,M.propTypes={canvasId:h.PropTypes.string.isRequired,bgColor:h.PropTypes.string.isRequired,width:h.PropTypes.number.isRequired,height:h.PropTypes.number.isRequired,className:h.PropTypes.string,isHide:h.PropTypes.bool,isHideUploadIcon:h.PropTypes.bool}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.onDragStarted,r=e.onDragEntered,a=e.onDragLeaved,i=e.onDragOvered,o=e.onDragEnded;return g.default.createElement("div",{onDragStart:n,onDragEnter:r,onDragLeave:a,onDragOver:i,onDragEnd:o,draggable:"true"},t)}}]),t}(h.Component);t.default=m,m.propTypes={onDragStarted:h.PropTypes.func.isRequired,onDragEntered:h.PropTypes.func,onDragLeaved:h.PropTypes.func,onDragOvered:h.PropTypes.func,onDragEnded:h.PropTypes.func}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(9),v=r(m),y=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"onDrapOvered",value:function(e){var t=this.props.onDragOvered;return e.stopPropagation(),e.preventDefault(),t&&t(),!1}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onDroped,r=e.onDragEntered,a=e.onDragLeaved,i=e.onDragEnded,o=e.data,u=void 0===o?{}:o,l=u.dropActiveClassName,s=u.isShowDropActive,d=void 0!==s&&s,c=(0,v.default)("drop-active",l);return g.default.createElement("div",{className:"on-drop",onDrop:n,onDragOver:this.onDrapOvered.bind(this),onDragEnter:r,onDragEnd:i,onDragLeave:a},d?g.default.createElement("div",{className:c}):null,t)}}]),t}(h.Component);t.default=y,y.propTypes={onDroped:h.PropTypes.func.isRequired,onDragEntered:h.PropTypes.func,onDragLeaved:h.PropTypes.func,onDragEnded:h.PropTypes.func}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(9),v=r(m);n(211);var y=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=(0,v.default)("x-elements",t);return g.default.createElement("div",{className:r},n)}}]),t}(h.Component);t.default=y,y.propTypes={className:h.PropTypes.string}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h);n(214);var m=n(585),v=r(m),y=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.handleLogoClick=n.handleLogoClick.bind(n),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"handleLogoClick",value:function(){var e=this.props,t=(e.isProjectEdited,e.boundSystemActions),n=e.onSaveProject,r=e.baseUrls,a=function(){window.onbeforeunload=null,window.location.href=r.baseUrl};t.showConfirm({confirmMessage:g.default.createElement("div",{className:"text-center"},"This will take you to home page.",g.default.createElement("br",null),"Please select an option before continuing."),onOkClick:function(){n(a)},onCancelClick:a,okButtonText:"Save",cancelButtonText:"Don't Save"})}},{key:"stopPropagation",value:function(e){var t=e||window.event;t.stopPropagation()}},{key:"render",value:function(){var e=this.props.children;return g.default.createElement("div",{className:"mod-header",onClick:this.stopPropagation.bind(this)},g.default.createElement("div",{className:"logo",onClick:this.handleLogoClick},g.default.createElement("img",{src:v.default,alt:"logo"})),g.default.createElement("div",{className:"header-area"},e))}}]),t}(h.Component);y.propTypes={boundSystemActions:h.PropTypes.object.isRequired,isProjectEdited:h.PropTypes.bool.isRequired,onSaveProject:h.PropTypes.func.isRequired,baseUrls:h.PropTypes.object.isRequired},t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=function(e){function t(){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.userId,n=e.userId;if(t!==n&&n!==-1){var r=e.interval,a=e.keepAlive,i=e.userId;setInterval(function(){a(i)},r)}}},{key:"render",value:function(){return null}}]),t}(h.Component);g.propTypes={keepAlive:h.PropTypes.func.isRequired,userId:h.PropTypes.number,interval:h.PropTypes.number},g.defaultProps={interval:24e4},t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),i=r(a),o=n(5),u=r(o),l=n(3),s=r(l),d=n(4),c=r(d),f=n(7),p=r(f),h=n(6),g=r(h),m=n(514),v=r(m),y=n(21),b=r(y),w=n(11),M=r(w),x=n(1),E=r(x),I=n(9),_=r(I),T=n(622),C=r(T);n(281);var S=n(48),L=r(S),D=n(46),P=n(27),A=n(26),O=r(A),k=n(20),j=r(k),N=n(37),z=r(N),R=n(580),U=r(R);n(215);var B=function(e,t,n,r){return(0,v.default)({x:e,y:t,width:n-e,height:r-t},function(e){return 100*e})},F=function(e,t,n,r){return(0,v.default)({cropLUX:e,cropLUY:t,cropRLX:n+e,cropRLY:r+t},function(e){return e/100})},W=function(e,t,n,r){var a=(0,D.getDefaultCrop)(e,t,n,r);return{x:100*a.px,y:100*a.py,width:100*a.pw,height:100*a.ph}},H=function(e,t,n,r){return W(t,e,n,r)},Y=function(e){function t(e){(0,s.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.state={imgSrc:"",rotate:0,outCrop:null,initCrop:{},needInitCropOnRotate:!1,isShowCropComponent:!1},n.onCropChange=n.onCropChange.bind(n),n.onImageLoaded=n.onImageLoaded.bind(n),n.onSubmit=n.onSubmit.bind(n),n}return(0,g.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.encImgId,n=this.props.imageId,r=this.state.rotation,a=e.imageEditApiTemplate,o=e.defaultImageEditParams,u=e.encImgId,l=e.imageId,s=e.rotation,d=e.crop,c=(e.imageWidth,e.imageHeight,e.elementWidth),f=e.elementHeight;if(t!==u||n!==l||r!==s){var p=(0,b.default)(a)((0,M.default)({},o,(0,i.default)({encImgId:u,imageId:l,imgFlip:!1,rotation:s},L.default)));p!==this.state.imgSrc&&this.setState({isShowCropComponent:!1}),this.setState({imgSrc:p,rotate:s,needInitCropOnRotate:!1})}var h=(this.props.crop,{aspect:c/f});d&&(h=(0,M.default)({},h,B(d.cropLUX,d.cropLUY,d.cropRLX,d.cropRLY))),this.setState({initCrop:h,outCrop:h})}},{key:"onCropChange",value:function(e,t){this.setState({outCrop:e})}},{key:"onImageLoaded",value:function(e,t,n){var r=this.state.needInitCropOnRotate;if(r){var a=this.props,i=a.imageWidth,o=a.imageHeight,u=a.elementWidth,l=a.elementHeight,s=this.state.rotate,d=90===Math.abs(s),c={};c=d?H(i,o,u,l):W(i,o,u,l);var f=(0,P.convertObjIn)((0,M.default)({},c,{aspect:u/l}));this.setState({outCrop:f,initCrop:f})}else this.setState({outCrop:e});this.setState({isShowCropComponent:!0})}},{key:"onSubmit",value:function(){var e=this.props,t=e.encImgId,n=e.onDoneClick,r=e.onCancelClick,a=this.state,i=a.outCrop,o=a.rotate,u=F(i.x,i.y,i.width,i.height);n(t,u,o),r()}},{key:"rotate",value:function e(t){var n=this.props,r=n.imageEditApiTemplate,a=n.defaultImageEditParams,i=n.encImgId,o=n.imageId,u=n.onRotateClick,e=this.state.rotate,l=0;l=t>0?180===e?-90:e+t:e===-90?180:e+t;var s=(0,b.default)(r)((0,M.default)({},a,{imageId:o,imgFlip:!1,encImgId:encodeURIComponent(i),rotation:l,securityString:L.default}));this.setState({imgSrc:s,rotate:l,needInitCropOnRotate:!0,isShowCropComponent:!1}),"function"==typeof u&&u()}},{key:"render",value:function(){var e=this.props,t=e.isShown,n=e.imageName,r=e.onCancelClick,a=e.isShowDvdCropCover,i=this.state,o=i.imgSrc,u=i.initCrop,l=i.isShowCropComponent,s=i.outCrop,d={};s&&s.width&&(d={width:s.width+"%",height:s.height+"%",left:s.x+"%",top:s.y+"%"});var c=(0,_.default)("crop-cover",{show:a});return E.default.createElement(O.default,{className:"image-edit-modal",opened:t,onClosed:r},E.default.createElement("h3",{className:"modal-title"},"Set Image"),E.default.createElement("div",{className:"image-name"},n),E.default.createElement("div",{className:"cropper-area"},E.default.createElement(z.default,{isShown:!l}),t?E.default.createElement(C.default,{src:o,crop:u,onChange:this.onCropChange,onImageLoaded:this.onImageLoaded,minWidth:10,minHeight:10,keepSelection:!0},E.default.createElement("img",{src:U.default,className:c,style:d})):null),E.default.createElement("div",{className:"rotate-controls"},E.default.createElement("div",{className:"left-control"},E.default.createElement("button",{className:"left-button",onClick:this.rotate.bind(this,-90)}),E.default.createElement("p",{className:"description"},"-90Â°")),E.default.createElement("div",{className:"right-control"},E.default.createElement("button",{className:"right-button",onClick:this.rotate.bind(this,90)}),E.default.createElement("p",{className:"description"},"+90Â°"))),E.default.createElement("p",{className:"modal-foot"},E.default.createElement(j.default,{onClicked:this.onSubmit},"Done")))}}]),t}(x.Component);Y.propTypes={isShown:x.PropTypes.bool.isRequired,imageName:x.PropTypes.string.isRequired,imageEditApiTemplate:x.PropTypes.string.isRequired,encImgId:x.PropTypes.string.isRequired,onDoneClick:x.PropTypes.func.isRequired,imageWidth:x.PropTypes.number.isRequired,imageHeight:x.PropTypes.number.isRequired,elementWidth:x.PropTypes.number.isRequired,elementHeight:x.PropTypes.number.isRequired,rotation:x.PropTypes.number.isRequired,crop:x.PropTypes.shape({cropLUX:x.PropTypes.number,cropLUY:x.PropTypes.number,cropRLX:x.PropTypes.number,cropRLY:x.PropTypes.number}).isRequired,onCancelClick:x.PropTypes.func.isRequired,onRotateClick:x.PropTypes.func},Y.defaultProps={defaultImageEditParams:{px:0,py:0,pw:1,ph:1,width:480,height:310,rotation:0},rotation:0,onRotateClick:function(){}},t.default=Y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(301);n(216);var v=function(e){function t(){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props.onChange,t=this.props,n=m.isIE||m.isEdge?"onInput":"onChange",r=new Array;r[n]=e;for(var a in t)r[a]=t[a];return g.default.createElement("input",r)}}]),t}(h.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(47),v=n(9),y=r(v);n(217);var b=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.lines,n=e.canvasId,r=document.getElementById(n);(0,m.clear)(n,0,0,r.width,r.height),t&&t.length&&t.forEach(function(e){e.dashed?(0,m.drawDashedLine)(n,e.color||"#bcbcbc",e.x1,e.y1,e.x2,e.y2,e.lineWidth||1,e.dashedGap||10):(0,m.drawLine)(n,e.color||"#bcbcbc",e.x1,e.y1,e.x2,e.y2,e.lineWidth||1)})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.canvasId,a=e.width,i=e.height,o=(0,y.default)("x-lines",t);return g.default.createElement("div",{className:o},g.default.createElement("canvas",{id:r,width:a,height:i}),n)}}]),t}(h.Component);t.default=b,b.propTypes={className:h.PropTypes.string,width:h.PropTypes.number.isRequired,height:h.PropTypes.number.isRequired,lines:h.PropTypes.arrayOf(h.PropTypes.shape({color:h.PropTypes.strings,x1:h.PropTypes.number,y1:h.PropTypes.number,x2:h.PropTypes.number,y2:h.PropTypes.number,lineWidth:h.PropTypes.number,dashed:h.PropTypes.bool,dashedGap:h.PropTypes.number})).isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(26),v=r(m),y=n(20),b=r(y),w=n(13);n(219);var M=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"login",value:function(){var e=this.props,t=e.loginActions,n=e.onClosed,r=this.refs.userName.value,a=this.refs.password.value;r&&a&&t.login(r,a),n()}},{key:"render",value:function(){var e=this.props,t=e.onClosed,n=e.opened,r=e.t;return g.default.createElement(v.default,{className:"x-login-modal",onClosed:t,opened:n},g.default.createElement("h3",{className:"title"},r("LOGIN_TITLE")),g.default.createElement("hr",null),g.default.createElement("div",{className:"data-group"},g.default.createElement("div",{className:"group-item"},g.default.createElement("p",{className:"label"},r("USERNAME")),g.default.createElement("input",{ref:"userName",type:"text",placeholder:r("USERNAME_PLACEHOLDER")
})),g.default.createElement("div",{className:"group-item"},g.default.createElement("p",{className:"label"},r("PASSWORD")),g.default.createElement("input",{ref:"password",type:"password",placeholder:r("PASSWORD_PLACEHOLDER")}))),g.default.createElement("div",{className:"btn-list"},g.default.createElement(b.default,{onClicked:this.login.bind(this)},r("LOGIN"))))}}]),t}(h.Component);M.propTypes={onClosed:h.PropTypes.func.isRequired,opened:h.PropTypes.bool.isRequired},t.default=(0,w.translate)("XLoginModal")(M)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(9),v=r(m);n(221);var y=function(e){function t(e,n){(0,u.default)(this,t);var r=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e,n));return r.state={autoHideTimer:null},r}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.guid,n=e.guid;if(t!==n){var r=this.state.autoHideTimer,a=this.props,i=a.hideNotify,o=a.hideDelay;clearTimeout(r);var u=setTimeout(i,o);this.setState({autoHideTimer:u})}}},{key:"render",value:function(){var e=this.props,t=e.notifyMessage,n=e.isShow,r=e.hideNotify,a=(0,v.default)("notify-top",{show:n});return g.default.createElement("div",{className:a},g.default.createElement("span",null,"â—†"),g.default.createElement("a",{href:"javascript:void(0)",className:"icon-close",onClick:r}),g.default.createElement("div",{className:"notify-mes"},t))}}]),t}(h.Component);y.propTypes={guid:h.PropTypes.string.isRequired,hideNotify:h.PropTypes.func.isRequired,notifyMessage:h.PropTypes.string.isRequired,isShow:h.PropTypes.bool.isRequired,hideDelay:h.PropTypes.number},y.defaultProps={hideDelay:3e3},t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(24),g=r(h),m=n(1),v=r(m),y=n(47),b=n(9),w=r(b),M=n(63),x=r(M);n(222);var E=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=!(0,g.default)({containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,options:this.props.options},{containerWidth:e.containerWidth,containerHeight:e.containerHeight,options:e.options});return n}},{key:"componentDidMount",value:function(){this.draw()}},{key:"componentDidUpdate",value:function(){this.draw()}},{key:"draw",value:function(){var e=this.props,t=e.canvasId,n=e.containerWidth,r=e.containerHeight,a=e.options,i=e.onDrawCompleted,o=e.onDrawStart,u=a.imageUrl,l=a.px,s=void 0===l?0:l,d=a.py,c=void 0===d?0:d,f=a.pw,p=void 0===f?1:f,h=a.ph,g=void 0===h?1:h;o&&o();var m=n*s,v=r*c,b=n*p,w=r*g;u&&((0,y.clear)(t,m,v,b,w),(0,y.drawImage)(t,u,m,v,function(){i&&i()},b,w))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.canvasId,a=e.containerWidth,i=e.containerHeight,o=e.options,u=(e.ratio,e.onClicked),l=o.pw,s=void 0===l?1:l,d=o.ph,c=void 0===d?1:d,f=(0,w.default)("x-photo-element",t),p=a*s,h=i*c;return v.default.createElement("div",{className:f},v.default.createElement("canvas",{id:r,width:p,height:h}),n,v.default.createElement(x.default,{handleClick:u}))}}]),t}(m.Component);t.default=E,E.propTypes={className:m.PropTypes.string,containerWidth:m.PropTypes.number.isRequired,containerHeight:m.PropTypes.number.isRequired,onDrawCompleted:m.PropTypes.func,onDrawStart:m.PropTypes.func,options:m.PropTypes.shape({imageUrl:m.PropTypes.string.isRequired,lineWidth:m.PropTypes.number,bleedTop:m.PropTypes.number,bleedBottom:m.PropTypes.number,bleedLeft:m.PropTypes.number,bleedRight:m.PropTypes.number,spineThicknessWidth:m.PropTypes.number,wrapSize:m.PropTypes.number}).isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=(n(41),n(9)),v=r(m);n(223);var y=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.shown,a=e.offset,i=(0,v.default)("x-popover",t,{show:r}),o={top:a.top+"px",left:a.left+"px"};return g.default.createElement("div",{className:i,style:o},n)}}]),t}(h.Component);t.default=y,y.propTypes={className:h.PropTypes.string,shown:h.PropTypes.bool,event:h.PropTypes.string,offset:h.PropTypes.shape({top:h.PropTypes.number,left:h.PropTypes.number})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h);n(224);var m=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.percent;return g.default.createElement("span",{className:"progress-c",style:{width:t?t+"px":"",height:n?n+"px":""}},g.default.createElement("span",{className:"progress",style:{width:r+"%"}}))}}]),t}(h.Component);t.default=m,m.propTypes={width:h.PropTypes.number,height:h.PropTypes.number}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(24),g=r(h),m=n(8),v=r(m),y=n(1),b=r(y),w=n(47),M=n(9),x=r(M),E=n(63),I=r(E);n(227);var _=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e)),r=e.ratio;return n.state={disX:0,disY:0,id:e.options.id,x:e.options.x*r,y:e.options.y*r,isMoving:!1,cursor:"move"},n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseUp=n.handleMouseUp.bind(n),n.handleDblClick=n.handleDblClick.bind(n),n.onTextLoad=n.onTextLoad.bind(n),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){(0,g.default)({options:this.props.options,ratio:this.props.ratio},{options:e.options,ratio:e.ratio})||this.setState({x:e.options.x*e.ratio,y:e.options.y*e.ratio})}},{key:"shouldComponentUpdate",value:function(e,t){var n=!(0,g.default)({options:(0,v.default)(this.props,"options"),x:(0,v.default)(this.state,"x"),y:(0,v.default)(this.state,"y"),ratio:(0,v.default)(this.props,"ratio")},{options:(0,v.default)(e,"options"),x:(0,v.default)(t,"x"),y:(0,v.default)(t,"y"),ratio:(0,v.default)(e,"ratio")});return this.setState({id:(0,v.default)(e,"options.id")}),n}},{key:"componentDidUpdate",value:function(){!this.state.isMoving}},{key:"componentDidMount",value:function(){}},{key:"onTextLoad",value:function(){var e=this.props,t=e.updateElement,n=e.options,r=e.disableCustomEvents,a=e.ratio,i=e.pageWidth,o=e.pageHeight;if(!r){var u=this.refs.textImg,l=u.width/a,s=u.height/a,d=l/i,c=s/o,f=(0,v.default)(n,"id");t({id:f,width:l,height:s,pw:d,ph:c})}}},{key:"draw",value:function(){var e=this.props,t=e.canvasId,n=e.options,r=n.computed,a=r.imgUrl,i=r.width,o=r.height;(0,w.clear)(t,0,0,i,o),(0,w.drawImage)(t,a,0,0,null,i,o)}},{key:"drawDashedRect",value:function(){var e=this.props,t=e.canvasId,n=e.width,r=e.height,a=(e.options,"#f7f7f7");(0,w.drawDashedLine)(t,a,-1,0,n,0,1,3),(0,w.drawDashedLine)(t,a,0,0,0,r,1,3),(0,w.drawDashedLine)(t,a,n,0,n,r,1,3),(0,w.drawDashedLine)(t,a,0,r,n,r,1,3)}},{key:"handleMouseDown",value:function e(t){if(this.props.disableCustomEvents)return!1;var n=this.props,e=n.handleMouseDown,r=(n.options,this.state),a=r.x,i=r.y,o=t.pageX-a,u=t.pageY-i;this.setState({disX:o,disY:u,isMoving:!0}),e&&e(t)}},{key:"handleMouseMove",value:function e(t){if(this.props.disableCustomEvents)return!1;var e=this.props.handleMouseMove,n=this.state,r=n.disX,a=n.disY,i=t.pageX-r,o=t.pageY-a,u=void 0;e&&(u=e({x:i,y:o,width:this.refs.textImg.width,height:this.refs.textImg.height}));var l=u?u.x:i,s=u?u.y:o;this.setState({x:l,y:s})}},{key:"handleMouseUp",value:function e(t){if(this.props.disableCustomEvents)return!1;var n=this.props,e=n.handleMouseUp,r=(n.options,this.state),a=r.id,i=r.x,o=r.y;this.setState({isMoving:!1}),e(a,i,o)}},{key:"handleDblClick",value:function e(){if(this.props.disableCustomEvents)return!1;var t=this.props,e=t.handleDblClick,n=t.options;this.setState({isMoving:!1}),e(n)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=(e.handleMouseMove,e.handleMouseDown,e.canvasId,e.options),a=this.state.x,i=this.state.y,o=(0,x.default)("x-text-element",t),u=(0,v.default)(r,"computed.imgUrl"),l={position:"absolute",zIndex:(0,v.default)(r,"dep")+101,top:i+"px",left:a+"px"};return b.default.createElement("div",{className:o,style:l},b.default.createElement("img",{ref:"textImg",className:"text-img",src:u,onLoad:this.onTextLoad}),n,b.default.createElement(I.default,{handleMouseDown:this.handleMouseDown,handleMouseUp:this.handleMouseUp,handleDblClick:this.handleDblClick,handleMouseMove:this.handleMouseMove,cursor:this.state.cursor,title:"Double Click to Edit"}))}}]),t}(y.Component);t.default=_,_.propTypes={className:y.PropTypes.string,containerWidth:y.PropTypes.number.isRequired,containerHeight:y.PropTypes.number.isRequired,disableCustomEvents:y.PropTypes.bool,options:y.PropTypes.shape({textUrl:y.PropTypes.string,lineWidth:y.PropTypes.number,top:y.PropTypes.number,left:y.PropTypes.number}).isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=(n(41),n(9)),v=r(m);n(228);var y=function(e){function t(){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.placeholder,r=e.className,a=e.onChanged,i=e.value,o=(0,v.default)("textarea",r);return g.default.createElement("textarea",{placeholder:n?n:"Enter text here",name:t,className:o,onChange:a,value:i,ref:"textareatext"})}}]),t}(h.Component);t.default=y,y.propTypes={placeholder:h.PropTypes.string,name:h.PropTypes.string,className:h.PropTypes.string,onChanged:h.PropTypes.func.isRequired}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.isOpera=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,r=(t.isFirefox="undefined"!=typeof InstallTrigger,t.isSafari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,t.isIE=!!document.documentMode),a=(t.isEdge=!r&&!!window.StyleMedia,t.isChrome=!!window.chrome&&!!window.chrome.webstore);t.isBlink=(a||n)&&!!window.CSS},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.formatDate=function(e){var t=new Date(e),n=t.getFullYear(),r=String(t.getMonth()+1),a=String(t.getDate());return r.length<2&&(r="0"+r),a.length<2&&(a="0"+a),[n,r,a].join("-")},r=t.formatTime=function(e){var t=new Date(e),n=String(t.getHours()),r=String(t.getMinutes()),a=String(t.getSeconds());return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),a.length<2&&(a="0"+a),[n,r,a].join(":")};t.formatDateTime=function(e){return e?n(e)+" "+r(e):""}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){};t.addEventListener=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;e&&e.addEventListener&&e.addEventListener(t,r)},t.removeEventListener=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;e&&e.removeEventListener&&e.removeEventListener(t,r)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(this.src=e,u("DummyImageContainer for",e),!this.promise||!this.image){u("Initiating DummyImageContainer"),a.prototype.image=new Image;var t=this.image;a.prototype.promise=new o.default(function(e,n){t.onload=e,t.onerror=n,t.src=l(),t.complete===!0&&e(t)})}}var i=n(16),o=r(i),u=n(35),l=n(29).smallImage;e.exports=a},function(e,t,n){"use strict";function r(e,t){var n,r,i=document.createElement("div"),o=document.createElement("img"),u=document.createElement("span"),l="Hidden Text";i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin=0,i.style.padding=0,document.body.appendChild(i),o.src=a(),o.width=1,o.height=1,o.style.margin=0,o.style.padding=0,o.style.verticalAlign="baseline",u.style.fontFamily=e,u.style.fontSize=t,u.style.margin=0,u.style.padding=0,u.appendChild(document.createTextNode(l)),i.appendChild(u),i.appendChild(o),n=o.offsetTop-u.offsetTop+1,i.removeChild(u),i.appendChild(document.createTextNode(l)),i.style.lineHeight="normal",o.style.verticalAlign="super",r=o.offsetTop-i.offsetTop+1,document.body.removeChild(i),this.baseline=n,this.lineWidth=1,this.middle=r}var a=n(29).smallImage;e.exports=r},function(e,t,n){"use strict";function r(){this.data={}}var a=n(305);r.prototype.getMetrics=function(e,t){return void 0===this.data[e+"-"+t]&&(this.data[e+"-"+t]=new a(e,t)),this.data[e+"-"+t]},e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){this.image=null,this.src=e;var a=this,i=l(e);this.promise=(t?new o.default(function(t){"about:blank"===e.contentWindow.document.URL||null==e.contentWindow.document.documentElement?e.contentWindow.onload=e.onload=function(){t(e)}:t(e)}):this.proxyLoad(r.proxy,i,r)).then(function(e){var t=n(125);return t(e.contentWindow.document.documentElement,{type:"view",width:e.width,height:e.height,proxy:r.proxy,javascriptEnabled:r.javascriptEnabled,removeContainer:r.removeContainer,allowTaint:r.allowTaint,imageTimeout:r.imageTimeout/2})}).then(function(e){return a.image=e})}var i=n(16),o=r(i),u=n(29),l=u.getBounds,s=n(86).loadUrlDocument;a.prototype.proxyLoad=function(e,t,n){var r=this.src;return s(r.src,e,r.ownerDocument,t.width,t.height,n)},e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){this.src=e,this.image=new Image;var n=this;this.tainted=null,this.promise=new o.default(function(r,a){n.image.onload=r,n.image.onerror=a,t&&(n.image.crossOrigin="anonymous"),n.image.src=e,n.image.complete===!0&&r(n.image)})}var i=n(16),o=r(i);e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){this.link=null,this.options=e,this.support=t,this.origin=this.getOrigin(window.location.href)}var i=n(16),o=r(i),u=n(35),l=n(308),s=n(304),d=n(311),c=n(307),f=n(128),p=n(317),h=n(127),g=n(319),m=n(29).bind;a.prototype.findImages=function(e){var t=[];return e.reduce(function(e,t){switch(t.node.nodeName){case"IMG":return e.concat([{args:[t.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[t.node],method:t.node.nodeName}])}return e},[]).forEach(this.addImage(t,this.loadImage),this),t},a.prototype.findBackgroundImage=function(e,t){return t.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},a.prototype.addImage=function(e,t){return function(n){n.args.forEach(function(r){this.imageExists(e,r)||(e.splice(0,0,t.call(this,n)),u("Added image #"+e.length,"string"==typeof r?r.substring(0,100):r))},this)}},a.prototype.hasImageBackground=function(e){return"none"!==e.method},a.prototype.loadImage=function(e){if("url"===e.method){var t=e.args[0];return!this.isSVG(t)||this.support.svg||this.options.allowTaint?t.match(/data:image\/.*;base64,/i)?new l(t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(t)||this.options.allowTaint===!0||this.isSVG(t)?new l(t,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new l(t,!0):this.options.proxy?new d(t,this.options.proxy):new s(t):new f(t)}return"linear-gradient"===e.method?new h(e):"gradient"===e.method?new g(e):"svg"===e.method?new p(e.args[0],this.support.svg):"IFRAME"===e.method?new c(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new s(e)},a.prototype.isSVG=function(e){return"svg"===e.substring(e.length-3).toLowerCase()||f.prototype.isInline(e)},a.prototype.imageExists=function(e,t){return e.some(function(e){return e.src===t})},a.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},a.prototype.getOrigin=function(e){var t=this.link||(this.link=document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port},a.prototype.getPromise=function(e){return this.timeout(e,this.options.imageTimeout).catch(function(){var t=new s(e.src);return t.promise.then(function(t){e.image=t})})},a.prototype.get=function(e){var t=null;return this.images.some(function(n){return(t=n).src===e})?t:null},a.prototype.fetch=function(e){return this.images=e.reduce(m(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach(function(e,t){e.promise.then(function(){u("Succesfully loaded image #"+(t+1),e)},function(n){u("Failed loading image #"+(t+1),e,n)})}),this.ready=o.default.all(this.images.map(this.getPromise,this)),u("Finished searching images"),this},a.prototype.timeout=function(e,t){var n,r=o.default.race([e.promise,new o.default(function(r,a){n=setTimeout(function(){u("Timed out loading image",e),a(e)},t)})]).then(function(e){return clearTimeout(n),e});return r.catch(function(){clearTimeout(n)}),r},e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,a){H("Starting NodeParser"),this.renderer=t,this.options=a,this.range=null,this.support=n,this.renderQueue=[],this.stack=new V(!0,1,e.ownerDocument,null);var i=new Q(e,null);if(a.background&&t.rectangle(0,0,t.width,t.height,new J(a.background)),e===e.ownerDocument.documentElement){var o=new Q(i.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);t.rectangle(0,0,t.width,t.height,o.color("backgroundColor"))}i.visibile=i.isElementVisible(a),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=N([i].concat(this.getChildren(i,a)).filter(function(e){return e.visible=e.isElementVisible(a)}).map(this.getPseudoElements,this)),this.fontMetrics=new q,H("Fetched nodes, total:",this.nodes.length),H("Calculate overflow clips"),this.calculateOverflowClips(),H("Start fetching images"),this.images=r.fetch(this.nodes.filter(S)),this.ready=this.images.ready.then(K(function(){return H("Images loaded, starting parsing"),H("Creating stacking contexts"),this.createStackingContexts(),H("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),H("Render queue created with "+this.renderQueue.length+" items"),new W.default(K(function(e){a.async?"function"==typeof a.async?a.async.call(this,this.renderQueue,e):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())},this))},this))}function i(e){return e.parent&&e.parent.clip.length}function o(e){return e.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})}function u(){}function l(e,t,n,r){return e.map(function(a,i){if(a.width>0){var o=t.left,u=t.top,l=t.width,s=t.height-e[2].width;switch(i){case 0:s=e[0].width,a.args=f({c1:[o,u],c2:[o+l,u],c3:[o+l-e[1].width,u+s],c4:[o+e[3].width,u+s]},r[0],r[1],n.topLeftOuter,n.topLeftInner,n.topRightOuter,n.topRightInner);break;case 1:o=t.left+t.width-e[1].width,l=e[1].width,a.args=f({c1:[o+l,u],c2:[o+l,u+s+e[2].width],c3:[o,u+s],c4:[o,u+e[0].width]},r[1],r[2],n.topRightOuter,n.topRightInner,n.bottomRightOuter,n.bottomRightInner);break;case 2:u=u+t.height-e[2].width,s=e[2].width,a.args=f({c1:[o+l,u+s],c2:[o,u+s],c3:[o+e[3].width,u],c4:[o+l-e[3].width,u]},r[2],r[3],n.bottomRightOuter,n.bottomRightInner,n.bottomLeftOuter,n.bottomLeftInner);break;case 3:l=e[3].width,a.args=f({c1:[o,u+s+e[2].width],c2:[o,u],c3:[o+l,u+e[0].width],c4:[o+l,u+s]},r[3],r[0],n.bottomLeftOuter,n.bottomLeftInner,n.topLeftOuter,n.topLeftInner)}}return a})}function s(e,t,n,r){var a=4*((Math.sqrt(2)-1)/3),i=n*a,o=r*a,u=e+n,l=t+r;return{topLeft:c({x:e,y:l},{x:e,y:l-o},{x:u-i,y:t},{x:u,y:t}),topRight:c({x:e,y:t},{x:e+i,y:t},{x:u,y:l-o},{x:u,y:l}),bottomRight:c({x:u,y:t},{x:u,y:t+o},{x:e+i,y:l},{x:e,y:l}),bottomLeft:c({x:u,y:l},{x:u-i,y:l},{x:e,y:t+o},{x:e,y:t})}}function d(e,t,n){var r=e.left,a=e.top,i=e.width,o=e.height,u=t[0][0]<i/2?t[0][0]:i/2,l=t[0][1]<o/2?t[0][1]:o/2,d=t[1][0]<i/2?t[1][0]:i/2,c=t[1][1]<o/2?t[1][1]:o/2,f=t[2][0]<i/2?t[2][0]:i/2,p=t[2][1]<o/2?t[2][1]:o/2,h=t[3][0]<i/2?t[3][0]:i/2,g=t[3][1]<o/2?t[3][1]:o/2,m=i-d,v=o-p,y=i-f,b=o-g;return{topLeftOuter:s(r,a,u,l).topLeft.subdivide(.5),topLeftInner:s(r+n[3].width,a+n[0].width,Math.max(0,u-n[3].width),Math.max(0,l-n[0].width)).topLeft.subdivide(.5),topRightOuter:s(r+m,a,d,c).topRight.subdivide(.5),topRightInner:s(r+Math.min(m,i+n[3].width),a+n[0].width,m>i+n[3].width?0:d-n[3].width,c-n[0].width).topRight.subdivide(.5),bottomRightOuter:s(r+y,a+v,f,p).bottomRight.subdivide(.5),bottomRightInner:s(r+Math.min(y,i-n[3].width),a+Math.min(v,o+n[0].width),Math.max(0,f-n[1].width),p-n[2].width).bottomRight.subdivide(.5),bottomLeftOuter:s(r,a+b,h,g).bottomLeft.subdivide(.5),bottomLeftInner:s(r+n[3].width,a+b,Math.max(0,h-n[3].width),g-n[2].width).bottomLeft.subdivide(.5)}}function c(e,t,n,r){var a=function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}};return{start:e,startControl:t,endControl:n,end:r,subdivide:function(i){var o=a(e,t,i),u=a(t,n,i),l=a(n,r,i),s=a(o,u,i),d=a(u,l,i),f=a(s,d,i);return[c(e,o,s,f),c(f,d,l,r)]},curveTo:function(e){e.push(["bezierCurve",t.x,t.y,n.x,n.y,r.x,r.y])},curveToReversed:function(r){r.push(["bezierCurve",n.x,n.y,t.x,t.y,e.x,e.y])}}}function f(e,t,n,r,a,i,o){var u=[];return t[0]>0||t[1]>0?(u.push(["line",r[1].start.x,r[1].start.y]),r[1].curveTo(u)):u.push(["line",e.c1[0],e.c1[1]]),n[0]>0||n[1]>0?(u.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(u),u.push(["line",o[0].end.x,o[0].end.y]),o[0].curveToReversed(u)):(u.push(["line",e.c2[0],e.c2[1]]),u.push(["line",e.c3[0],e.c3[1]])),t[0]>0||t[1]>0?(u.push(["line",a[1].end.x,a[1].end.y]),a[1].curveToReversed(u)):u.push(["line",e.c4[0],e.c4[1]]),u}function p(e,t,n,r,a,i,o){t[0]>0||t[1]>0?(e.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(e),r[1].curveTo(e)):e.push(["line",i,o]),(n[0]>0||n[1]>0)&&e.push(["line",a[0].start.x,a[0].start.y])}function h(e){return e.cssInt("zIndex")<0}function g(e){return e.cssInt("zIndex")>0}function m(e){return 0===e.cssInt("zIndex")}function v(e){return["inline","inline-block","inline-table"].indexOf(e.css("display"))!==-1}function y(e){return e instanceof V}function b(e){return e.node.data.trim().length>0}function w(e){return/^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))}function M(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(t){var n=e.css("border"+t+"Radius"),r=n.split(" ");return r.length<=1&&(r[1]=r[0]),r.map(O)})}function x(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function E(e){var t=e.css("position"),n=["absolute","relative","fixed"].indexOf(t)!==-1?e.css("zIndex"):"auto";return"auto"!==n}function I(e){return"static"!==e.css("position")}function _(e){return"none"!==e.css("float")}function T(e){return["inline-block","inline-table"].indexOf(e.css("display"))!==-1}function C(e){var t=this;return function(){return!e.apply(t,arguments)}}function S(e){return e.node.nodeType===Node.ELEMENT_NODE}function L(e){return e.isPseudoElement===!0}function D(e){return e.node.nodeType===Node.TEXT_NODE}function P(e){return function(t,n){return t.cssInt("zIndex")+e.indexOf(t)/e.length-(n.cssInt("zIndex")+e.indexOf(n)/e.length)}}function A(e){return e.getOpacity()<1}function O(e){return parseInt(e,10)}function k(e){return e.width}function j(e){return e.node.nodeType!==Node.ELEMENT_NODE||["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)===-1}function N(e){return[].concat.apply([],e)}function z(e){var t=e.substr(0,1);return t===e.substr(e.length-1)&&t.match(/'|"/)?e.substr(1,e.length-2):e}function R(e){for(var t,n=[],r=0,a=!1;e.length;)U(e[r])===a?(t=e.splice(0,r),t.length&&n.push(Y.ucs2.encode(t)),a=!a,r=0):r++,r>=e.length&&(t=e.splice(0,r),t.length&&n.push(Y.ucs2.encode(t)));return n}function U(e){return[32,13,10,9,45].indexOf(e)!==-1}function B(e){return/[^\u0000-\u00ff]/.test(e)}var F=n(16),W=r(F),H=n(35),Y=n(521),Q=n(55),G=n(318),X=n(312),q=n(306),J=n(85),V=n(315),Z=n(29),K=Z.bind,$=Z.getBounds,ee=Z.parseBackgrounds,te=Z.offsetBounds;a.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){if(S(e)){L(e)&&e.appendToDOM(),e.borders=this.parseBorders(e);var t="hidden"===e.css("overflow")?[e.borders.clip]:[],n=e.parseClip();n&&["absolute","fixed"].indexOf(e.css("position"))!==-1&&t.push([["rect",e.bounds.left+n.left,e.bounds.top+n.top,n.right-n.left,n.bottom-n.top]]),e.clip=i(e)?e.parent.clip.concat(t):t,e.backgroundClip="hidden"!==e.css("overflow")?e.clip.concat([e.borders.clip]):e.clip,L(e)&&e.cleanDOM()}else D(e)&&(e.clip=i(e)?e.parent.clip:[]);L(e)||(e.bounds=null)},this)},a.prototype.asyncRenderer=function(e,t,n){n=n||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?t():n+20>Date.now()?this.asyncRenderer(e,t,n):setTimeout(K(function(){this.asyncRenderer(e,t)},this),0)},a.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+X.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+X.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},a.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},a.prototype.createStyles=function(e,t){var n=e.createElement("style");n.innerHTML=t,e.body.appendChild(n)},a.prototype.getPseudoElements=function(e){var t=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var n=this.getPseudoElement(e,":before"),r=this.getPseudoElement(e,":after");n&&t.push(n),r&&t.push(r)}return N(t)},a.prototype.getPseudoElement=function(e,t){var n=e.computedStyle(t);if(!n||!n.content||"none"===n.content||"-moz-alt-content"===n.content||"none"===n.display)return null;for(var r=z(n.content),a="url"===r.substr(0,3),i=document.createElement(a?"img":"html2canvaspseudoelement"),u=new X(i,e,t),l=n.length-1;l>=0;l--){var s=o(n.item(l));i.style[s]=n[s]}if(i.className=X.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+X.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,a)return i.src=ee(r)[0].args[0],[u];var d=document.createTextNode(r);return i.appendChild(d),[u,new G(d,u)]},a.prototype.getChildren=function(e,t){return N([].filter.call(e.node.childNodes,x).map(function(n){var r=[n.nodeType===Node.TEXT_NODE?new G(n,e):new Q(n,e)].filter(j);return n.nodeType===Node.ELEMENT_NODE&&r.length&&"TEXTAREA"!==n.tagName?r[0].isElementVisible(t)?r.concat(this.getChildren(r[0])):[]:r},this))},a.prototype.newStackingContext=function(e,t){var n=new V(t,e.getOpacity(),e.node,e.parent);e.cloneTo(n);var r=t?n.getParentStack(this):n.parent.stack;r.contexts.push(n),e.stack=n},a.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){S(e)&&(this.isRootElement(e)||A(e)||E(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):S(e)&&(I(e)&&m(e)||T(e)||_(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)},this)},a.prototype.isBodyWithTransparentRoot=function(e){return"BODY"===e.node.nodeName&&e.parent.color("backgroundColor").isTransparent()},a.prototype.isRootElement=function(e){return null===e.parent},a.prototype.sortStackingContexts=function(e){e.contexts.sort(P(e.contexts.slice(0))),e.contexts.forEach(this.sortStackingContexts,this)},a.prototype.parseTextBounds=function(e){return function(t,n,r){if("none"!==e.parent.css("textDecoration").substr(0,4)||0!==t.trim().length){if(this.support.rangeBounds&&!e.parent.hasTransform()){var a=r.slice(0,n).join("").length;return this.getRangeBounds(e.node,a,t.length)}if(e.node&&"string"==typeof e.node.data){var i=e.node.splitText(t.length),o=this.getWrapperBounds(e.node,e.parent.hasTransform());return e.node=i,o}}else this.support.rangeBounds&&!e.parent.hasTransform()||(e.node=e.node.splitText(t.length));return{}}},a.prototype.getWrapperBounds=function(e,t){var n=e.ownerDocument.createElement("html2canvaswrapper"),r=e.parentNode,a=e.cloneNode(!0);n.appendChild(e.cloneNode(!0)),r.replaceChild(n,e);var i=t?te(n):$(n);return r.replaceChild(a,n),i},a.prototype.getRangeBounds=function(e,t,n){var r=this.range||(this.range=e.ownerDocument.createRange());return r.setStart(e,t),r.setEnd(e,t+n),r.getBoundingClientRect()},a.prototype.parse=function(e){var t=e.contexts.filter(h),n=e.children.filter(S),r=n.filter(C(_)),a=r.filter(C(I)).filter(C(v)),i=n.filter(C(I)).filter(_),o=r.filter(C(I)).filter(v),l=e.contexts.concat(r.filter(I)).filter(m),s=e.children.filter(D).filter(b),d=e.contexts.filter(g);t.concat(a).concat(i).concat(o).concat(l).concat(s).concat(d).forEach(function(e){this.renderQueue.push(e),y(e)&&(this.parse(e),this.renderQueue.push(new u))},this)},a.prototype.paint=function(e){try{e instanceof u?this.renderer.ctx.restore():D(e)?(L(e.parent)&&e.parent.appendToDOM(),this.paintText(e),L(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(e){if(H(e),this.options.strict)throw e}},a.prototype.paintNode=function(e){y(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),"INPUT"===e.node.nodeName&&"checkbox"===e.node.type?this.paintCheckbox(e):"INPUT"===e.node.nodeName&&"radio"===e.node.type?this.paintRadio(e):this.paintElement(e)},a.prototype.paintElement=function(e){var t=e.parseBounds();this.renderer.clip(e.backgroundClip,function(){this.renderer.renderBackground(e,t,e.borders.borders.map(k))},this),this.renderer.clip(e.clip,function(){this.renderer.renderBorders(e.borders.borders)},this),this.renderer.clip(e.backgroundClip,function(){switch(e.node.nodeName){case"svg":case"IFRAME":var n=this.images.get(e.node);n?this.renderer.renderImage(e,t,e.borders,n):H("Error loading <"+e.node.nodeName+">",e.node);break;case"IMG":var r=this.images.get(e.node.src);r?this.renderer.renderImage(e,t,e.borders,r):H("Error loading <img>",e.node.src);break;case"CANVAS":this.renderer.renderImage(e,t,e.borders,{image:e.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(e)}},this)},a.prototype.paintCheckbox=function(e){var t=e.parseBounds(),n=Math.min(t.width,t.height),r={width:n-1,height:n-1,top:t.top,left:t.left},a=[3,3],i=[a,a,a,a],o=[1,1,1,1].map(function(e){return{color:new J("#A5A5A5"),width:e}}),u=d(r,i,o);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(r.left+1,r.top+1,r.width-2,r.height-2,new J("#DEDEDE")),this.renderer.renderBorders(l(o,r,u,i)),e.node.checked&&(this.renderer.font(new J("#424242"),"normal","normal","bold",n-3+"px","arial"),this.renderer.text("âœ”",r.left+n/6,r.top+n-1))},this)},a.prototype.paintRadio=function(e){var t=e.parseBounds(),n=Math.min(t.width,t.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(t.left+1,t.top+1,n,new J("#DEDEDE"),1,new J("#A5A5A5")),
e.node.checked&&this.renderer.circle(Math.ceil(t.left+n/4)+1,Math.ceil(t.top+n/4)+1,Math.floor(n/2),new J("#424242"))},this)},a.prototype.paintFormValue=function(e){var t=e.getValue();if(t.length>0){var n=e.node.ownerDocument,r=n.createElement("html2canvaswrapper"),a=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];a.forEach(function(t){try{r.style[t]=e.css(t)}catch(e){H("html2canvas: Parse: Exception caught in renderFormValue: "+e.message)}});var i=e.parseBounds();r.style.position="fixed",r.style.left=i.left+"px",r.style.top=i.top+"px",r.textContent=t,n.body.appendChild(r),this.paintText(new G(r.firstChild,e)),n.body.removeChild(r)}},a.prototype.paintText=function(e){e.applyTextTransform();var t=Y.ucs2.decode(e.node.data),n=this.options.letterRendering&&!w(e)||B(e.node.data)?t.map(function(e){return Y.ucs2.encode([e])}):R(t),r=e.parent.fontWeight(),a=e.parent.css("fontSize"),i=e.parent.css("fontFamily"),o=e.parent.parseTextShadows();this.renderer.font(e.parent.color("color"),e.parent.css("fontStyle"),e.parent.css("fontVariant"),r,a,i),o.length?this.renderer.fontShadow(o[0].color,o[0].offsetX,o[0].offsetY,o[0].blur):this.renderer.clearShadow(),this.renderer.clip(e.parent.clip,function(){n.map(this.parseTextBounds(e),this).forEach(function(t,r){t&&(this.renderer.text(n[r],t.left,t.bottom),this.renderTextDecoration(e.parent,t,this.fontMetrics.getMetrics(i,a)))},this)},this)},a.prototype.renderTextDecoration=function(e,t,n){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(t.left,Math.round(t.top+n.baseline+n.lineWidth),t.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(t.left,Math.round(t.top),t.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(t.left,Math.ceil(t.top+n.middle+n.lineWidth),t.width,1,e.color("color"))}};var ne={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};a.prototype.parseBorders=function(e){var t=e.parseBounds(),n=M(e),r=["Top","Right","Bottom","Left"].map(function(t,n){var r=e.css("border"+t+"Style"),a=e.color("border"+t+"Color");"inset"===r&&a.isBlack()&&(a=new J([255,255,255,a.a]));var i=ne[r]?ne[r][n]:null;return{width:e.cssInt("border"+t+"Width"),color:i?a[i[0]](i[1]):a,args:null}}),a=d(t,n,r);return{clip:this.parseBackgroundClip(e,a,r,n,t),borders:l(r,t,a,n)}},a.prototype.parseBackgroundClip=function(e,t,n,r,a){var i=e.css("backgroundClip"),o=[];switch(i){case"content-box":case"padding-box":p(o,r[0],r[1],t.topLeftInner,t.topRightInner,a.left+n[3].width,a.top+n[0].width),p(o,r[1],r[2],t.topRightInner,t.bottomRightInner,a.left+a.width-n[1].width,a.top+n[0].width),p(o,r[2],r[3],t.bottomRightInner,t.bottomLeftInner,a.left+a.width-n[1].width,a.top+a.height-n[2].width),p(o,r[3],r[0],t.bottomLeftInner,t.topLeftInner,a.left+n[3].width,a.top+a.height-n[2].width);break;default:p(o,r[0],r[1],t.topLeftOuter,t.topRightOuter,a.left,a.top),p(o,r[1],r[2],t.topRightOuter,t.bottomRightOuter,a.left+a.width,a.top),p(o,r[2],r[3],t.bottomRightOuter,t.bottomLeftOuter,a.left+a.width,a.top+a.height),p(o,r[3],r[0],t.bottomLeftOuter,t.topLeftOuter,a.left,a.top+a.height)}return o},e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=document.createElement("a");n.href=e,e=n.href,this.src=e,this.image=new Image;var r=this;this.promise=new o.default(function(n,a){r.image.crossOrigin="Anonymous",r.image.onload=n,r.image.onerror=a,new u(e,t,document).then(function(e){r.image.src=e}).catch(a)})}var i=n(16),o=r(i),u=n(86).ProxyURL;e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){u.call(this,e,t),this.isPseudoElement=!0,this.before=":before"===n}var i=n(43),o=r(i),u=n(55);a.prototype.cloneTo=function(e){a.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},a.prototype=(0,o.default)(u.prototype),a.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},a.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},a.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",a.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",e.exports=a},function(e,t,n){"use strict";function r(e,t,n,r,a){this.width=e,this.height=t,this.images=n,this.options=r,this.document=a}var a=n(35);r.prototype.renderImage=function(e,t,n,r){var a=e.cssInt("paddingLeft"),i=e.cssInt("paddingTop"),o=e.cssInt("paddingRight"),u=e.cssInt("paddingBottom"),l=n.borders,s=t.width-(l[1].width+l[3].width+a+o),d=t.height-(l[0].width+l[2].width+i+u);this.drawImage(r,0,0,r.image.width||s,r.image.height||d,t.left+a+l[3].width,t.top+i+l[0].width,s,d)},r.prototype.renderBackground=function(e,t,n){t.height>0&&t.width>0&&(this.renderBackgroundColor(e,t),this.renderBackgroundImage(e,t,n))},r.prototype.renderBackgroundColor=function(e,t){var n=e.color("backgroundColor");n.isTransparent()||this.rectangle(t.left,t.top,t.width,t.height,n)},r.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},r.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},r.prototype.renderBackgroundImage=function(e,t,n){var r=e.parseBackgroundImages();r.reverse().forEach(function(r,i,o){switch(r.method){case"url":var u=this.images.get(r.args[0]);u?this.renderBackgroundRepeating(e,t,u,o.length-(i+1),n):a("Error loading background-image",r.args[0]);break;case"linear-gradient":case"gradient":var l=this.images.get(r.value);l?this.renderBackgroundGradient(l,t,n):a("Error loading background-image",r.args[0]);break;case"none":break;default:a("Unknown background-image type",r.args[0])}},this)},r.prototype.renderBackgroundRepeating=function(e,t,n,r,a){var i=e.parseBackgroundSize(t,n.image,r),o=e.parseBackgroundPosition(t,n.image,r,i),u=e.parseBackgroundRepeat(r);switch(u){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(n,o,i,t,t.left+a[3],t.top+o.top+a[0],99999,i.height,a);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(n,o,i,t,t.left+o.left+a[3],t.top+a[0],i.width,99999,a);break;case"no-repeat":this.backgroundRepeatShape(n,o,i,t,t.left+o.left+a[3],t.top+o.top+a[0],i.width,i.height,a);break;default:this.renderBackgroundRepeat(n,o,i,{top:t.top,left:t.left},a[3],a[0])}},e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){d.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=t),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},f("Initialized CanvasRenderer with size",e,"x",t)}function i(e){return e.length>0}var o=n(629),u=r(o),l=n(43),s=r(l),d=n(313),c=n(127),f=n(35);a.prototype=(0,s.default)(d.prototype),a.prototype.setFillStyle=function(e){return this.ctx.fillStyle="object"===("undefined"==typeof e?"undefined":(0,u.default)(e))&&e.isColor?e.toString():e,this.ctx},a.prototype.rectangle=function(e,t,n,r,a){this.setFillStyle(a).fillRect(e,t,n,r)},a.prototype.circle=function(e,t,n,r){this.setFillStyle(r),this.ctx.beginPath(),this.ctx.arc(e+n/2,t+n/2,n/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},a.prototype.circleStroke=function(e,t,n,r,a,i){this.circle(e,t,n,r),this.ctx.strokeStyle=i.toString(),this.ctx.stroke()},a.prototype.drawShape=function(e,t){this.shape(e),this.setFillStyle(t).fill()},a.prototype.taints=function(e){if(null===e.tainted){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch(t){this.taintCtx=document.createElement("canvas").getContext("2d"),e.tainted=!0}}return e.tainted},a.prototype.drawImage=function(e,t,n,r,a,i,o,u,l){this.taints(e)&&!this.options.allowTaint||this.ctx.drawImage(e.image,t,n,r,a,i,o,u,l)},a.prototype.clip=function(e,t,n){this.ctx.save(),e.filter(i).forEach(function(e){this.shape(e).clip()},this),t.call(n),this.ctx.restore()},a.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(e,t){"rect"===e[0]?this.ctx.rect.apply(this.ctx,e.slice(1)):this.ctx[0===t?"moveTo":e[0]+"To"].apply(this.ctx,e.slice(1))},this),this.ctx.closePath(),this.ctx},a.prototype.font=function(e,t,n,r,a,i){this.setFillStyle(e).font=[t,n,r,a,i].join(" ").split(",")[0]},a.prototype.fontShadow=function(e,t,n,r){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",t).setVariable("shadowOffsetX",n).setVariable("shadowBlur",r)},a.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},a.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},a.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},a.prototype.setVariable=function(e,t){return this.variables[e]!==t&&(this.variables[e]=this.ctx[e]=t),this},a.prototype.text=function(e,t,n){this.ctx.fillText(e,t,n)},a.prototype.backgroundRepeatShape=function(e,t,n,r,a,i,o,u,l){var s=[["line",Math.round(a),Math.round(i)],["line",Math.round(a+o),Math.round(i)],["line",Math.round(a+o),Math.round(u+i)],["line",Math.round(a),Math.round(u+i)]];this.clip([s],function(){this.renderBackgroundRepeat(e,t,n,r,l[3],l[0])},this)},a.prototype.renderBackgroundRepeat=function(e,t,n,r,a,i){var o=Math.round(r.left+t.left+a),u=Math.round(r.top+t.top+i);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,n),"repeat")),this.ctx.translate(o,u),this.ctx.fill(),this.ctx.translate(-o,-u)},a.prototype.renderBackgroundGradient=function(e,t){if(e instanceof c){var n=this.ctx.createLinearGradient(t.left+t.width*e.x0,t.top+t.height*e.y0,t.left+t.width*e.x1,t.top+t.height*e.y1);e.colorStops.forEach(function(e){n.addColorStop(e.stop,e.color.toString())}),this.rectangle(t.left,t.top,t.width,t.height,n)}},a.prototype.resizeImage=function(e,t){var n=e.image;if(n.width===t.width&&n.height===t.height)return n;var r,a=document.createElement("canvas");return a.width=t.width,a.height=t.height,r=a.getContext("2d"),r.drawImage(n,0,0,n.width,n.height,0,0,t.width,t.height),a},e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){u.call(this,n,r),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*t}var i=n(43),o=r(i),u=n(55);a.prototype=(0,o.default)(u.prototype),a.prototype.getParentStack=function(e){var t=this.parent?this.parent.stack:null;return t?t.ownStacking?t:t.getParentStack(e):e.stack},e.exports=a},function(e,t){"use strict";function n(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}n.prototype.testRangeBounds=function(e){var t,n,r,a,i=!1;return e.createRange&&(t=e.createRange(),t.getBoundingClientRect&&(n=e.createElement("boundtest"),n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n),r=t.getBoundingClientRect(),a=r.height,123===a&&(i=!0),e.body.removeChild(n))),i},n.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},n.prototype.testSVG=function(){var e=new Image,t=document.createElement("canvas"),n=t.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch(e){return!1}return!0},e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){this.src=e,this.image=null;var n=this;this.promise=t?new l.default(function(t,r){n.image=new Image,n.image.onload=t,n.image.onerror=r,n.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(e),n.image.complete===!0&&t(n.image)}):this.hasFabric().then(function(){return new l.default(function(t){window.html2canvas.svg.fabric.parseSVGDocument(e,n.createCanvas.call(n,t))})})}var i=n(43),o=r(i),u=n(16),l=r(u),s=n(128);a.prototype=(0,o.default)(s.prototype),e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){l.call(this,e,t)}function i(e,t,n){if(e.length>0)return t+n.toUpperCase()}var o=n(43),u=r(o),l=n(55);a.prototype=(0,u.default)(l.prototype),a.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},a.prototype.transform=function(e){var t=this.node.data;switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,i);case"uppercase":return t.toUpperCase();default:return t}},e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){u.apply(this,arguments),this.type="linear"===e.args[0]?u.TYPES.LINEAR:u.TYPES.RADIAL}var i=n(43),o=r(i),u=n(126);a.prototype=(0,o.default)(u.prototype),e.exports=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getBorderLinesXY=function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,o=[];return e&&t&&n?(o.push({x1:0,y1:0,x2:e,y2:0,lineWidth:n,color:r,dashed:a,dashedGap:i}),o.push({x1:0,y1:0,x2:0,y2:t,lineWidth:n,color:r,dashed:a,dashedGap:i}),o.push({x1:1,y1:t-n,x2:e,y2:t-n,lineWidth:n,color:r,dashed:a,dashedGap:i}),o.push({x1:e-n,y1:1,x2:e-n,y2:t-n,lineWidth:n,color:r,dashed:a,dashedGap:i}),o):o},t.getBleedLinesXY=function(e,t,n,r,a,i,o,u,l){var s=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5,d=[];return e&&t&&o?(d.push({x1:n,y1:a,x2:e-r,y2:a,lineWidth:o,color:u,dashed:l,dashedGap:s}),d.push({x1:n,y1:a,x2:n,y2:t-i,lineWidth:o,color:u,dashed:l,dashedGap:s}),d.push({x1:n,y1:t-i,x2:e-r,y2:t-i,lineWidth:o,color:u,dashed:l,dashedGap:s}),d.push({x1:e-r,y1:a,x2:e-r,y2:t-i,lineWidth:o,color:u,dashed:l,dashedGap:s}),d):d},t.getWrapLinesXY=function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5,u=[];return e&&t&&r&&n?(u.push({x1:n,y1:n,x2:e-n,y2:n,lineWidth:r,color:a,dashed:i,dashedGap:o}),u.push({x1:n,y1:n,x2:n,y2:t-n,lineWidth:r,color:a,dashed:i,dashedGap:o}),u.push({x1:n,y1:t-n,x2:e-n,y2:t-n,lineWidth:r,color:a,dashed:i,dashedGap:o}),u.push({x1:e-n,y1:n,x2:e-n,y2:t-n,lineWidth:r,color:a,dashed:i,dashedGap:o}),u):u},t.getSpineThicknessLinesXY=function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5,u=[];return e&&t&&r&&n?(u.push({x1:(e-n)/2,y1:0,x2:(e-n)/2,y2:t,lineWidth:r,color:a,dashed:i,dashedGap:o}),u.push({x1:(e-n)/2+n,y1:0,x2:(e-n)/2+n,y2:t,lineWidth:r,color:a,dashed:i,dashedGap:o}),u):u},t.getPreviewSpineThicknessLinesXY=function(e,t,n,r,a,i,o){var u=[];return t&&n&&a&&r?(u.push({x1:(t-r)/2,y1:e,x2:(t-r)/2,y2:n-e,lineWidth:a,color:i,dashed:o}),u.push({x1:(t-r)/2+r,y1:e,x2:(t-r)/2+r,y2:n-e,lineWidth:a,color:i,dashed:o}),u):u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(44),i=r(a),o=i.default.parse(window.location.search.substr(1));t.default=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.webClientId=1},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return function(e){return e((0,f.default)({},p.CALL_API,{apiPattern:{name:h.GET_ENV,params:{webClientId:m.webClientId,baseUrl:h.API_BASE,autoRandomNum:(0,v.getRandomNum)()}}}))}}function i(){return function(e,t){var n=(0,g.getUrl)(t(),"system.env.urls.baseUrl");return e((0,f.default)({},p.CALL_API,{apiPattern:{name:h.GET_SESSION_USER_INFO,params:{baseUrl:n,webClientId:m.webClientId,autoRandomNum:(0,v.getRandomNum)()}}}))}}function o(e,t){return function(n,r){var a=(0,g.getUrl)(r(),"system.env.urls.baseUrl");return n((0,f.default)({},p.CALL_API,{apiPattern:{name:h.GET_USER_ALBUM_ID,params:{baseUrl:a,userId:e,projectId:t}}}))}}function u(e,t,n){return function(r,a){var i=(0,g.getUrl)(a(),"system.env.urls.baseUrl");return r((0,f.default)({},p.CALL_API,{apiPattern:{name:h.ADD_ALBUM,params:{baseUrl:i,userId:e,webClientId:m.webClientId,projectId:n,albumName:t,autoRandomNum:(0,v.getRandomNum)()}}}))}}function l(e,t){return function(n,r){var a=(0,g.getUrl)(r(),"system.env.urls.baseUrl");return n((0,f.default)({},p.CALL_API,{apiPattern:{name:h.GET_TITLE,params:{baseUrl:a,userId:e,projectId:t}}}))}}function s(e,t,n){return function(r,a){var i=(0,g.getUrl)(a(),"system.env.urls.baseUrl");return r((0,f.default)({},p.CALL_API,{apiPattern:{name:h.CHECK_TITLE,params:{baseUrl:i,userId:e,projectId:t,projectName:n}}}))}}function d(e){return function(t,n){var r=(0,g.getUrl)(n(),"system.env.urls.baseUrl");return t((0,f.default)({},p.CALL_API,{apiPattern:{name:h.HEART_BEAT,params:{baseUrl:r,userId:e}}}))}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(32),f=r(c);t.getEnv=a,t.getUserInfo=i,t.getAlbumId=o,t.addAlbum=u,t.getProjectTitle=l,t.isProjectTitleExists=s,t.keepAlive=d;var p=n(39),h=n(15),g=n(87),m=n(322),v=n(18);n(321)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(t,n){var r=n(),a=r.system,i=r.project,o=a.images.uploading,u=a.env,s=a.workspace,d=s.autoAddPhotoToCanvas,c=(0,h.default)(b.GET_IMAGE_IDS)({uploadBaseUrl:u.urls.uploadBaseUrl}),f=(0,h.default)(b.UPLOAD_IMAGES)({uploadBaseUrl:u.urls.uploadBaseUrl});return!!a.env.userInfo&&(e.sort(function(e){return["image/jpeg","image/jpg","image/png","image/x-png"].indexOf(e.type)!==-1}),t({type:v.ADD_IMAGES,files:e}),void l(c,f,e,t,u,i.setting.title,o,d,n))}}function i(){return{type:v.CLEAR_IMAGES}}function o(e){return{type:v.DELETE_IMAGE,imageId:e}}function u(e){return function(t,n){var r=n(),a=r.system,i=r.project,o=a.images.uploading,u=a.env,s=a.workspace,d=s.autoAddPhotoToCanvas,c=(0,h.default)(b.GET_IMAGE_IDS)({uploadBaseUrl:u.urls.uploadBaseUrl}),f=(0,h.default)(b.UPLOAD_IMAGES)({uploadBaseUrl:u.urls.uploadBaseUrl});if(!a.env.userInfo)return!1;var p=o.findIndex(function(t){return t.imageId===e});l(c,f,[o[p].file],t,u,i.setting.title,o,d,n,!0,p)}}function l(e,t,n,r,a,i,o,u,l,c,p){var h=o.length,g=!1;(0,_.default)({url:(0,T.combine)(e,"",{imageIdCount:n.length}),success:function(e){if(e)for(var o=E.default.xml2js(e),u=o.imageIds.id,w=Array.isArray(u)?u.length:1,M=function(e){var o=Array.isArray(u)?u[e]:u,w="undefined"!=typeof p?p:e+h;r({type:v.UPDATE_IMAGEID,index:w,imageId:o}),c&&r({type:v.UPDATE_FIELDS,imageId:o,fields:{precent:0,info:""}});var M=["image/jpeg","image/jpg","image/png","image/x-png"].indexOf(n[e].type)!==-1,x=n[e].size/1048576;if(M&&x<100&&0!==x){var I=n[e],D=new FormData;D.append("uid",(0,m.default)(a,"userInfo.id")),D.append("timestamp",(0,m.default)(a,"userInfo.timestamp")),D.append("token",(0,m.default)(a,"userInfo.authToken")),D.append("albumId",(0,m.default)(a,"albumId")),D.append("albumName",i),D.append("Filename",I.name.replace(/[\&\/\_]+/g,"")),D.append("filename",I),r({type:v.UPDATE_FIELDS,imageId:o,fields:{status:y.PROGRESS}});var P=(0,_.default)({url:(0,T.combine)(t,"",{imageId:o}),method:"post",data:D,success:function(e){var t=l().system.workspace.autoAddPhotoToCanvas;if(e){var n=E.default.xml2js(e);if(e.indexOf('state="success"')!==-1){r({type:v.UPDATE_FIELDS,imageId:o,fields:{status:y.DONE,percent:"Done"}}),d(r,l,I);var i={name:I.name.replace(/[\&\/\_]+/g,""),url:(0,T.combine)((0,m.default)(a,"urls.uploadBaseUrl"),b.IMAGE_SRC,{qaulityLevel:0,puid:(0,m.default)(n,"resultData.img.encImgId")}),usedCount:0,status:y.DONE,imageId:o,totalSize:(0,m.default)(n,"resultData.img.size"),guid:(0,m.default)(n,"resultData.img.guid"),uploadTime:new Date((0,m.default)(n,"resultData.img.insertTime")).getTime(),shotTime:new Date(+(0,m.default)(n,"resultData.img.shotTime")).getTime(),encImgId:(0,m.default)(n,"resultData.img.encImgId"),width:(0,m.default)(n,"resultData.img.width"),height:(0,m.default)(n,"resultData.img.height"),createTime:I.lastModified,orientation:(0,L.getDegree)((0,m.default)(n,"resultData.img.exifOrientation"))};if(r({type:v.UPLOAD_COMPLETE,fields:i}),t&&t.status&&!g){var u=t.elementId,s=t.targetHeight,p=t.targetWidth;g=!0;var h=(0,S.convertObjIn)((0,f.default)({},i,{imageid:i.imageId})),w=(0,f.default)((0,C.getDefaultCropLRXY)(h.width,h.height,p,s),{imageid:i.imageId,encImgId:i.encImgId,id:u});r({type:v.UPDATE_ELEMENT,element:w}),r({type:v.UPDATE_IMAGE_USED_COUNT_MAP}),r({type:v.AUTO_ADD_PHOTO_TO_CANVAS,status:!1,elementId:"",targetWidth:0,targetHeight:0})}}else e.indexOf('state="fail"')!==-1&&(r({type:v.UPDATE_FIELDS,imageId:o,fields:{status:y.FAIL,percent:n.resultData.errorInfo,info:n.resultData.errorInfo,file:I}}),c||r({type:v.ERROR_TO_FIRST,imageId:o}))}},progress:function(e){var t=Math.floor(e.loaded/e.total*100);r({type:v.UPDATE_PERCENT,imageId:o,percent:t}),s(r,l,I,t)},readyStateChange:function(e,t){4==e&&413==t&&(r({type:v.UPDATE_FIELDS,imageId:o,fields:{status:y.FAIL,percent:"File exceeds maximum size of 100M",info:"File exceeds maximum size of 100M",file:null}}),c||r({type:v.ERROR_TO_FIRST,imageId:o}))},error:function(){r({type:v.UPDATE_FIELDS,imageId:o,fields:{status:y.FAIL,percent:"An unexpected error occurred. Try again",info:"An unexpected error occurred. Try again",file:null}}),c||r({type:v.ERROR_TO_FIRST,imageId:o})}});r({type:v.UPDATE_FIELDS,imageId:o,fields:{xhr:P}})}else{var A="Only .jpg .jpeg and .png files are supported",O="Only .jpg .jpeg and .png files are supported";x>=100&&(A="File exceeds maximum size of 100M",O="Failed: File exceeds maximum size of 100M"),0===x&&(A="Invalid image file, please select another file",O="Failed: Invalid image file, please select another file"),r({type:v.UPDATE_FIELDS,imageId:o,fields:{status:y.FAIL,percent:A,info:O,file:null}}),r({type:v.ERROR_TO_FIRST,imageId:o})}},x=0;x<w;x++)M(x)}})}function s(e,t,n,r){if(n.startUploadAt=n.startUploadAt||0,0===n.startUploadAt&&r>0){var a=t().project.setting.product,i=n.name,o=n.size;n.startUploadAt=(new Date).getTime();var u=M.default.stringify({product:a,startUploadAt:n.startUploadAt,photoName:i,photoSize:o});e({type:v.ADD_TRACKER,param:"StartUploadEachPhoto,"+u})}}function d(e,t,n){if(n.successUploadAt=n.successUploadAt||0,0===n.successUploadAt){var r=t().project.setting.product,a=n.name,i=n.size;n.successUploadAt=(new Date).getTime();var o=M.default.stringify({product:r,successUploadAt:n.successUploadAt,photoName:a,photoSize:i,uploadSpend:n.successUploadAt-n.startUploadAt});e({type:v.ADD_TRACKER,param:"CompleteUploadEachPhoto,"+o})}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(11),f=r(c),p=n(21),h=r(p),g=n(8),m=r(g);t.addImages=a,t.clearImages=i,t.deleteImage=o,t.retryImage=u;var v=n(14),y=n(57),b=n(15),w=n(44),M=r(w),x=n(141),E=r(x),I=n(423),_=r(I),T=n(93),C=n(46),S=(n(84),n(27)),L=n(433)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(n,r){var a=(0,h.getUrl)(r(),"system.env.urls.baseUrl");return n((0,l.default)({},c.CALL_API,{apiPattern:{name:f.LOGIN,params:{baseUrl:a,username:e,password:t}},options:{method:"POST",body:(0,d.default)({username:e})}}))}}function i(e){return{type:p.LOGIN_SUCCESS,text:e}}function o(e){return{type:p.LOGIN_FAIL,text:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(32),l=r(u),s=n(51),d=r(s);t.login=a,t.loginSuccess=i,t.loginFail=o;var c=n(39),f=n(15),p=n(14),h=n(87)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(t,n){if(1===e){var r=document.querySelector(".box-cover");(0,s.toCanvas)(r,300,null).then(function(e){e&&t({type:l.UPDATE_COVER_SNAP,coverSnapData:e.replace("data:image/png;base64,","")})})}return t({type:l.SWITCH_SHEET,index:e}),u.default.resolve()}}function i(e,t){return function(n){return n({type:l.SWITCH_PAGE,index:e,id:t}),u.default.resolve()}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(16),u=r(o);t.switchSheet=a,t.switchPage=i;var l=n(14),s=n(140)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(t,n){var r=[e.size,e.type,e.cover,e.leatherColor,e.spineThickness,e.finish,e.dvdType,e.dvdPrinted,e.usbCapacities,e.usbColor,e.cameo,e.cameoShape,e.paper];r=r.filter(function(e){return e&&"none"!==e}),r=r.join(",");var a=(0,l.default)(n(),"system.env.urls.baseUrl");return t((0,o.default)({},s.CALL_API,{apiPattern:{name:d.GET_PRODUCT_PRICE,params:{baseUrl:a,options:r,product:e.product}}}))}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(32),o=r(i),u=n(8),l=r(u);t.getProductPrice=a;var s=n(39),d=n(15)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if((0,u.default)(e))return null;var t=e.baseSize,n=e.innerBaseSize,r=(0,c.default)({},e);return r.baseSize={height:(0,p.getPxByInch)(t.heightInInch),width:(0,p.getPxByInch)(t.widthInInch)},r.innerBaseSize={height:(0,p.getPxByInch)(n.heightInInch),width:(0,p.getPxByInch)(n.widthInInch)},r}function i(e){return{id:(0,p.guid)(),type:f.elementTypes.photo,elType:"image",x:0,y:0,width:e.width,height:e.height,px:0,py:0,pw:1,ph:1,imgFlip:!1,rot:0,imgRot:0,encImgId:"",imageid:"",dep:0,cropLUX:0,cropLUY:0,cropRLX:0,cropRLY:0,lastModified:Date.now()}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatOldVersionProject=void 0;var o=n(111),u=r(o),l=n(8),s=r(l),d=n(11),c=r(d),f=n(10),p=n(18),h=n(92),g=n(66),m=r(g);t.formatOldVersionProject=function(e,t){var n=(0,s.default)(e,"project.imageBox.spec.option"),r=(0,s.default)(e,"project.imageBox.spreads.spread"),o=((0,s.default)(t(),"spec.allOptionMap"),e.project.title),u=e.project.images.image||[],l=t().project,d=(l.setting,l.parameterArray),c=l.variableArray,p=l.configurableOptionArray,g=l.cover,v=l.pageArray,y=n.reduce(function(e,t){var n="thickness"===t.id?"spineThickness":t.id;return e[n]=t.value,e},{});r=r instanceof Array?r:[r];var b=m.default.getDefaultProjectSetting(y,p),w=r.find(function(e){return"coverPage"===e.type}),M=r.find(function(e){return"innerPage"===e.type}),x=(0,s.default)(w,"elements.element"),E=(0,s.default)(M,"elements.element"),I=m.default.getParameters(b,d),_=a(I),T=m.default.getVariables(b,c);g=(0,h.generateCover)(b,_,T),g.containers=g.containers.map(function(e){return"Full"===e.type&&(x?e.elements=x instanceof Array?x:[x]:e.elements=[i(e)]),e}),v=(0,h.generatePageArray)(b,_,T);var C=v.map(function(e){return e.type!==f.pageTypes.page&&e.type!==f.pageTypes.dvd||(E?e.elements=E instanceof Array?E:[E]:(e.elements=[i(e)],e.position="left")),e}),S={spec:b,cover:g,pages:C,title:o,images:u,parameterMap:_,variableMap:T};return{project:S}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return{type:fe.CHANGE_PROJECT_TITLE,title:e}}function i(e,t){return function(n,r){var a=r(),i=(0,Z.default)(a,"system.env.urls.baseUrl");return n((0,X.default)({},ee.CALL_API,{apiPattern:{name:ce.GET_PROJECT_DATA,params:{baseUrl:i,userId:e,projectId:t}}})).then(function(e){ge(e,n,r)})}}function o(e){return function(t,n){var r=n(),a=(0,Z.default)(r,"system.env.urls.uploadBaseUrl");return t((0,X.default)({},ee.CALL_API,{apiPattern:{name:ce.GET_PREVIEW_PROJECT_DATA,params:{uploadBaseUrl:a,projectId:encodeURIComponent(e)}}})).then(function(e){ge(e,t,n)})}}function u(e,t){var n=this;return function(){var r=(0,Q.default)(F.default.mark(function r(a,i){var o,u,l,s,d,c,f,p;return F.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),u=(0,Z.default)(o,"system.env.urls.baseUrl"),l=1,s=1,d=Date.now(),t!==-1){n.next=7;break}return n.abrupt("return",{orderState:{}});case 7:return n.next=9,a((0,X.default)({},ee.CALL_API,{apiPattern:{name:ce.GET_PROJECT_ORDERED_STATE,params:{baseUrl:u,userId:e,projectId:t,webClientId:l,autoRandomNum:s}}}));case 9:if(c=n.sent,f=c.resultData){n.next=13;break}throw{code:ue.errorTypes.NETWORK_ERROR};case 13:return f={checkFailed:"true"===f.checkFailed,ordered:"true"===f.ordered},n.next=16,a((0,X.default)({},ee.CALL_API,{apiPattern:{name:ce.GET_PROJECT_ORDERED_INFO,params:{baseUrl:u,projectId:t,timestamp:d}}}));case 16:return p=n.sent,p={isOrdered:1===p.order,isInCart:1===p.cart,isInMarket:1===p.market||2===p.market,isShowPostToSale:"undefined"!=typeof p.market},n.abrupt("return",a({type:fe.SET_PROJECT_ORDERED_STATE,orderState:(0,H.default)({},f,p)}));case 19:case"end":return n.stop()}},r,n)}));return function(e,t){return r.apply(this,arguments)}}()}function l(e,t){var n=this;return function(){var r=(0,Q.default)(F.default.mark(function r(a,i){var o,u,l;return F.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=i(),u=(0,Z.default)(o,"system.env.urls.baseUrl"),n.next=4,a((0,X.default)({},ee.CALL_API,{apiPattern:{name:ce.UPDATE_CHECK_STATUS,params:{baseUrl:u,userId:e,projectId:t}}}));case 4:return l=n.sent,n.abrupt("return",200==l.resultData.code);case 6:case"end":return n.stop()}},r,n)}));return function(e,t){return r.apply(this,arguments)}}()}function s(){return{type:fe.PROJECT_LOAD_COMPLETED}}function d(e){return{type:fe.CHANGE_PROJECT_SETTING,setting:e}}function c(e){return{type:fe.ROTATE_COVER,isRotate:e}}function f(e){var t=e.projectId,n=e.boundProjectActions;return t!==-1&&t?n.uploadCoverImage(t):U.default.resolve()}function p(e,t,n,r){return function(a,i){var o=e.projectId;return f({projectId:o,boundProjectActions:r}).then(function(){var r=(0,Z.default)(i(),"system.env.urls"),o=r.baseUrl,u=i().spec.version,l=e.projectId,s=e.setting,d=s.product,c=t.id,f=(0,se.generateProject)(e,t,u),p=(0,se.generateSku)(f),h=~l?ce.SAVE_PROJECT:ce.NEW_PROJECT,g=n?{crossSell:"cart",mainProjectUid:n}:null,m=e.title,v=["web-h5","1","JSON",d,u,Date.now()],y=$.default.stringify((0,z.default)({title:m,projectJson:(0,j.default)(f),skuJson:(0,j.default)(p),requestKey:v.join("|")},g));return a((0,X.default)({},ee.CALL_API,{apiPattern:{name:h,params:{baseUrl:o,userId:c,projectId:l,product:d}},options:{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:y}}))})}}function h(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(n,a){var i=(0,Z.default)(a(),"system.env.urls"),o=i.baseUrl,u=a().spec.version,l=e.projectId,s=e.setting,d=s.product,c=t.id,f=(0,se.generateProject)(e,t,u),p=(0,se.generateSku)(f),h=["web-h5","1","JSON",d,u,Date.now()],g=$.default.stringify({title:r,projectJson:(0,j.default)(f),skuJson:(0,j.default)(p),requestKey:h.join("|")});return n((0,X.default)({},ee.CALL_API,{apiPattern:{name:ce.NEW_PROJECT,params:{baseUrl:o,userId:c,projectId:l,product:d}},options:{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:g}}))}}function g(){return function(e,t){return e({type:fe.CLEAR_ELEMENT_SELECT}),U.default.resolve()}}function m(e,t){return function(n){var r=(0,le.guid)(),a=(0,J.default)({},t,{id:r});return n({type:fe.CREATE_ELEMENT,pageId:e,element:a}),U.default.resolve(a)}}function v(e){return function(t,n){return t({type:fe.UPDATE_ELEMENT,element:e}),U.default.resolve()}}function y(e){return function(t,n){return t({type:fe.SELECT_ELEMENT,element:e}),U.default.resolve()}}function b(e,t){return function(n){n({type:fe.DELETE_ELEMENT,pageId:e,elementId:t})}}function w(e){return{type:fe.DELETE_PROJECT_IMAGE,imageId:e}}function M(e,t){var n=this;return function(){var r=(0,Q.default)(F.default.mark(function r(a,i){var o,u,l,s,d,c,f,p,h,g,m;return F.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=i(),u=(0,Z.default)(o,"system.env.urls.baseUrl"),l=123,n.next=5,a((0,X.default)({},ee.CALL_API,{apiPattern:{name:ce.GET_MAIN_PROJECT_IMAGE,
params:{baseUrl:u,mainProjectUid:e,autoRandomNum:l}}}));case 5:if(s=n.sent,d=s.errorCode,c=s.data,!c||"1"!==d){n.next=30;break}t=t.replace(/\s+/g,"+"),n.prev=10,c=JSON.parse(c),n.next=23;break;case 14:return n.prev=14,n.t0=n.catch(10),c=(0,Z.default)(ne.default.xml2js(c),"images.image"),c instanceof Array||(c=[c]),f=x(c),n.next=21,a((0,X.default)({},ee.CALL_API,{apiPattern:{name:ce.GET_ENCODE_IMAGE_IDS,params:{baseUrl:u}},options:{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:$.default.stringify({imageIds:f})}}));case 21:p=n.sent,c=E(c,(0,Z.default)(p,"result.images.image"));case 23:return n.prev=23,h=(0,Z.default)(o,"project.imageArray"),g=[].concat((0,O.default)(h?h:[]),(0,O.default)(c?c:[])),a({type:fe.INIT_IMAGE_ARRAY,images:g}),m=g.filter(function(e){return e.encImgId===encodeURIComponent(t)})[0],m&&_(i,a,m),n.finish(23);case 30:case"end":return n.stop()}},r,n,[[10,14,23,30]])}));return function(e,t){return r.apply(this,arguments)}}()}function x(e){return e.reduce(function(e,t){return e+","+t.id},"").replace(/^\,/,"")}function E(e,t){return t instanceof Array||(t=[t]),e.map(function(e){var n=t.filter(function(t){return t.id===e.id})[0];return e.encImgId=n.encImgId,e})}function I(e,t){var n=e(),r=(0,Z.default)(n,"system.env");return{name:t.name,url:(0,oe.combine)((0,Z.default)(r,"urls.uploadBaseUrl"),ce.IMAGE_SRC,{qaulityLevel:0,puid:t.encImgId}),usedCount:0,status:pe.DONE,imageId:t.id,totalSize:t.size,guid:t.guid,uploadTime:new Date(t.insertTime).getTime(),encImgId:t.encImgId,width:t.width,height:t.height,createTime:t.lastModified}}function _(e,t,n){var r=e(),a=(0,Z.default)(r,"project.cover.containers"),i=(0,Z.default)(r,"project.elementArray"),o=a.find(function(e){return e.type===ue.pageTypes.full||e.type===ue.pageTypes.front}),u=I(e,n),l=(0,ie.convertObjIn)((0,J.default)({},u,{imageid:u.imageId})),s=new ae.Element((0,J.default)(l,(0,re.getDefaultCropLRXY)(l.width,l.height,o.width,o.height),{width:o.width,height:o.height}));delete s.id;var d=o.elements.map(function(e){var t=i.find(function(t){return t.id===e});return t.type===ue.elementTypes.photo?t:null}).find(function(e){return null!==e});d=(0,z.default)({},d,s),t({type:fe.UPDATE_ELEMENT,element:d}),t({type:fe.UPDATE_IMAGE_USED_COUNT_MAP})}function T(e,t,n){return function(r,a){var i=(0,Z.default)(a(),"system.env.urls"),o=i.baseUrl;return r((0,X.default)({},ee.CALL_API,{apiPattern:{name:ce.SAVE_PROJECT_TITLE,params:{baseUrl:o,userId:e,projectId:t,projectName:n}}}))}}function C(e){var t=this;return function(){var n=(0,Q.default)(F.default.mark(function n(r,a){var i,o,u,l,s,d,c,f,p,h,g,m,v;return F.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=(0,Z.default)(a(),"system.env.urls"),o=(0,Z.default)(a(),"project"),u=(0,Z.default)(a(),"system.pagination.sheetIndex"),l=(0,Z.default)(a(),"system.env.userInfo"),s=l.timestamp,d=l.authToken,c=l.id,f=i.uploadBaseUrl,p=e||o.projectId,h=o.setting.product,g="",0===u){t.next=15;break}g=(0,Z.default)(a(),"system.snapData.coverSnap"),t.next=26;break;case 15:return m=document.querySelector(".box-cover"),v="",t.prev=17,t.next=20,(0,de.toCanvas)(m,300,null);case 20:v=t.sent,t.next=25;break;case 23:t.prev=23,t.t0=t.catch(17);case 25:v&&(g=v.replace("data:image/png;base64,",""));case 26:if(g&&!("string"==typeof g&&g.substring(0,50).length<50)){t.next=30;break}return t.next=29,U.default.resolve();case 29:return t.abrupt("return",t.sent);case 30:return t.next=32,r((0,X.default)({},ee.CALL_API,{apiPattern:{name:ce.UPLOAD_COVER_IMAGE,params:{uploadBaseUrl:f,timestamp:s,token:d,customerId:c}},options:{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:$.default.stringify({projectid:p,encodeimage:g,projectType:h})}}));case 32:return t.abrupt("return",t.sent);case 33:case"end":return t.stop()}},n,t,[[17,23]])}));return function(e,t){return n.apply(this,arguments)}}()}function S(e,t){return function(n,r){return n((0,X.default)({},ee.CALL_API,{apiPattern:{name:ce.GET_MY_PHOTO_IMAGES,params:{baseUrl:e}},options:{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:$.default.stringify({customerId:t})}}))}}function L(e){return function(t,n){var r=(0,Z.default)(n(),"system.env.urls"),a=r.baseUrl;return t((0,X.default)({},ee.CALL_API,{apiPattern:{name:ce.CHECK_PROJECT_TITLE,params:{baseUrl:a}},options:{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:$.default.stringify(e)}}))}}function D(e){return{type:fe.UPDATE_PROJECT_ID,projectId:e}}function P(){var e=this;return function(){var t=(0,Q.default)(F.default.mark(function t(n,r){var a,i,o,u,l;return F.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(),i=(0,Z.default)(a,"system.env.urls"),o=i.baseUrl,u=String((0,Z.default)(a,"system.env.albumId")),l=(0,Z.default)(a,"project.deletedEncImgIds"),l.length){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",n((0,X.default)({},ee.CALL_API,{apiPattern:{name:ce.DELETE_SERVER_PHOTOS,params:{baseUrl:o}},options:{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:$.default.stringify({data:(0,j.default)({albumId:u,images:l})})}})));case 8:case"end":return e.stop()}},t,e)}));return function(e,n){return t.apply(this,arguments)}}()}Object.defineProperty(t,"__esModule",{value:!0});var A=n(34),O=r(A),k=n(51),j=r(k),N=n(19),z=r(N),R=n(16),U=r(R),B=n(122),F=r(B),W=n(50),H=r(W),Y=n(115),Q=r(Y),G=n(32),X=r(G),q=n(11),J=r(q),V=n(8),Z=r(V);t.changeProjectTitle=a,t.getProjectData=i,t.getPreviewProjectData=o,t.getProjectOrderedState=u,t.updateCheckStatus=l,t.projectLoadCompleted=s,t.changeProjectSetting=d,t.rotateCover=c,t.uploadSnapData=f,t.saveProject=p,t.cloneProject=h,t.clearElementSelect=g,t.createElement=m,t.updateElement=v,t.selectElement=y,t.deleteElement=b,t.deleteProjectImage=w,t.loadMainProjectImages=M,t.saveProjectTitle=T,t.uploadCoverImage=C,t.getMyPhotoImages=S,t.checkProjectTitle=L,t.updateProjectId=D,t.deleteServerPhotos=P;var K=n(44),$=r(K),ee=n(39),te=n(67),ne=r(te),re=n(46),ae=n(84),ie=n(27),oe=n(93),ue=n(10),le=n(18),se=n(92),de=n(140),ce=n(15),fe=n(14),pe=n(57),he=n(328),ge=function(e,t,n){var r=(0,Z.default)(e,"project.version");r||(e=(0,he.formatOldVersionProject)(e,n));var a=e.project;t({type:fe.INIT_PROJECT_SETTING,setting:a.spec,isOldProject:!r}),t({type:fe.INIT_IMAGE_ARRAY,images:a.images}),t({type:fe.INIT_COVER,cover:a.cover}),t({type:fe.INIT_PAGE_ARRAY,pages:a.pages}),t({type:fe.CHANGE_PROJECT_SETTING,setting:a.spec,isOldProject:!r}),t({type:fe.INIT_COVER_ROTATE,isRotate:a.cover.isRotate})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return function(e,t){var n=(0,l.default)(t(),"system.env.urls.baseUrl");Date.now();return e((0,o.default)({},s.CALL_API,{apiPattern:{name:d.GET_SPEC_DATA,params:{baseUrl:n}}}))}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(32),o=r(i),u=n(8),l=r(u);t.getSpecData=a;var s=n(39),d=n(15)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return{type:y.SHOW_CONFIRM,confirmData:e}}function o(){return{type:y.HIDE_CONFIRM}}function u(e){return{type:y.SHOW_NOTIFY,notifyMessage:e}}function l(){return{type:y.HIDE_NOTIFY}}function s(e){return{type:y.SHOW_IMAGE_EDIT_MODAL,imageEditModalData:e}}function d(){return{type:y.HIDE_IMAGE_EDIT_MODAL}}function c(e){return{type:y.SHOW_LOADING,isModalShow:e}}function f(){return{type:y.HIDE_LOADING}}function p(){return function(e,t){var n=t().system.env.urls;return e((0,v.default)({},b.CALL_API,{apiPattern:{name:M.GET_FONTS,params:{baseUrl:n.baseUrl}}}))}}function h(){return{type:y.SHOW_CLONE_MODAL}}function g(){return{type:y.HIDE_CLONE_MODAL}}Object.defineProperty(t,"__esModule",{value:!0});var m=n(32),v=a(m);t.showConfirm=i,t.hideConfirm=o,t.showNotify=u,t.hideNotify=l,t.showImageEditModal=s,t.hideImageEditModal=d,t.showLoading=c,t.hideLoading=f,t.getFontList=p,t.showCloneModal=h,t.hideCloneModal=g;var y=n(14),b=n(39),w=n(15),M=r(w)},function(e,t,n){"use strict";function r(e){return{type:a.ADD_TRACKER,param:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addTracker=r;var a=n(14)},function(e,t,n){"use strict";function r(e){return{type:i.SHOW_USE_SPEC_MODAL,url:e}}function a(){return{type:i.HIDE_USE_SPEC_MODAL}}Object.defineProperty(t,"__esModule",{value:!0}),t.showUseSpecModal=r,t.hideUseSpecModal=a;var i=n(14)},function(e,t,n){"use strict";function r(e){return{type:s.CHANGE_WORKSPACE_SPREAD,spread:e}}function a(e){return{type:s.UPDATE_WORKSPACE_SPREADS,spreads:e}}function i(e,t,n,r){return{type:s.AUTO_ADD_PHOTO_TO_CANVAS,status:e,elementId:t,targetWidth:n,targetHeight:r}}function o(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{top:150,left:500};return{type:s.TOGGLE_OPERATION_PNAEL,status:e,offset:t}}function u(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:s.IN_PREVIEW_WORKSPACE,status:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:s.UPDATE_WORKSPACE_RATIO,ratio:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.changeSpread=r,t.updateSpreads=a,t.autoAddPhotoToCanvas=i,t.toggleOperationPanel=o,t.takeWorkspaceToPreview=u,t.updateWorkspaceRatio=l;var s=n(14)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(13),v=n(9),y=r(v),b=n(10),w=n(20),M=r(w);n(232);var x=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={showPaintedText:!1},n.showPaintedTextPanel=n.showPaintedTextPanel.bind(n),n.hidePaintedTextPanel=n.hidePaintedTextPanel.bind(n),n.onAddSpineText=n.onAddSpineText.bind(n),n.onAddCoverText=n.onAddCoverText.bind(n),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"showPaintedTextPanel",value:function(){this.setState({showSpineText:!0})}},{key:"hidePaintedTextPanel",value:function(){this.setState({showSpineText:!1})}},{key:"onAddSpineText",value:function(){var e=this.props.actions;e.onAddSpineText(),this.hidePaintedTextPanel()}},{key:"onAddCoverText",value:function(e){var t=this.props.actions;t.onAddCoverText(e),this.hidePaintedTextPanel()}},{key:"render",value:function(){var e=this,t=this.state.showSpineText,n=this.props.t,r=this.props,a=r.actions,i=r.data,o=i.isShowCameo,u=i.isShowAddCameoBtn,l=i.isShowPaintedText,s=i.isTwoDvdType,d=i.isSupportSpinePaintedText,c=i.spineCount,f=i.style,p=i.className,h=(0,y.default)(p,"cameo-painted-btns"),m=(0,y.default)("cameo-btn cp-btn show"),v=(0,y.default)("cameo-btn cp-btn show"),w=(0,y.default)("painted-text-btn cp-btn show"),x=(0,y.default)("top-panel",{show:t}),E=d&&!c,I={top:E?"-74px":"-49px",height:E?"74px":"49px"};return g.default.createElement("div",{className:h,style:f},l?g.default.createElement("div",{className:w,onMouseOver:this.showPaintedTextPanel,onMouseOut:this.hidePaintedTextPanel},n("PAINTED_TEXT"),g.default.createElement("ul",{className:x,style:I},g.default.createElement("li",{onClick:function(){e.onAddCoverText(b.pageTypes.front)}},n("FRONT_COVER_TEXT")),g.default.createElement("li",{onClick:function(){e.onAddCoverText(b.pageTypes.back)}},n("BACK_COVER_TEXT")),E?g.default.createElement("li",{onClick:this.onAddSpineText},n("SPINE_TEXT")):null)):null,o&&u&&!s?g.default.createElement(M.default,{className:m,onClicked:a.onAddCameo},n("ADD_CAMEO")):null,o&&!u?g.default.createElement(M.default,{className:v,onClicked:a.onRemoveCameo},n("REMOVE_CAMEO")):null)}}]),t}(h.Component);x.propTypes={actions:h.PropTypes.shape({onAddCameo:h.PropTypes.func.isRequired,onRemoveCameo:h.PropTypes.func.isRequired}),data:h.PropTypes.shape({isShowCameo:h.PropTypes.bool,isShowAddCameoBtn:h.PropTypes.bool,isShowPaintedText:h.PropTypes.bool})},x.defaultProps={data:{isShowAddCameo:!0,isShowPaintedText:!0}},t.default=(0,m.translate)("PaintedTextButtons")(x)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.computedCoverSheetStyle=t.getPageElements=void 0;var a=n(8),i=r(a),o=n(10);t.getPageElements=function(e,t,n){var r=[],a=(0,i.default)(t,"elements");return t&&a&&a.length&&n&&a.forEach(function(e){var t=(0,i.default)(n,e);t&&r.push(t)}),r},t.computedCoverSheetStyle=function(e){var t=e.page,n=e.pages,r=e.rate,a=void 0,u=void 0,l=t.type,s=t.bleed,d=t.wrapSize,c=(0,i.default)(s,"left")+(0,i.default)(s,"right"),f=(0,i.default)(s,"top")+(0,i.default)(s,"bottom"),p=(0,i.default)(d,"top")+(0,i.default)(d,"bottom");switch(l){case o.pageTypes.back:a={width:t.width*r+"px",height:t.height*r+"px",top:"-"+(s.top+(0,i.default)(d,"top"))*r+"px",left:"-"+(s.left+(0,i.default)(d,"left"))*r+"px"},u={width:(t.width-c-(0,i.default)(d,"left"))*r+"px",height:(t.height-f-p)*r+"px",top:0,left:0};break;case o.pageTypes.spine:var h=(t.width+(0,i.default)(t,"spineExpanding.expandingOverBackcover")+(0,i.default)(t,"spineExpanding.expandingOverFrontcover"),0),g=n.find(function(e){return e.type===o.pageTypes.full});if(g){var m=g.width-g.bleed.left-g.bleed.right-g.wrapSize.left-g.wrapSize.right;h=(m-t.width)/2*r}else{var v=n.find(function(e){return e.type===o.pageTypes.back}),y=v.width-(0,i.default)(v,"bleed.left")-(0,i.default)(v,"bleed.right")-(0,i.default)(v,"wrapSize.left");h=(y+(0,i.default)(t,"spineExpanding.expandingOverBackcover"))*r}a={width:t.width*r+"px",height:t.height*r+"px",top:"-"+(0,i.default)(d,"top")*r+"px",left:0},u={width:t.width*r+"px",height:(t.height-(0,i.default)(d,"top")-(0,i.default)(d,"bottom"))*r+"px",top:0,left:h+"px"};break;case o.pageTypes.front:var b=n.find(function(e){return e.type===o.pageTypes.back}),w=n.find(function(e){return e.type===o.pageTypes.spine}),M=b.width-(0,i.default)(b,"bleed.left")-(0,i.default)(b,"bleed.right")-(0,i.default)(b,"wrapSize.left"),x=w.width+(0,i.default)(w,"spineExpanding.expandingOverBackcover")+(0,i.default)(w,"spineExpanding.expandingOverFrontcover"),E=(M+x)*r,I=(0,i.default)(t,"bleed.left")+(0,i.default)(t,"bleed.right"),_=(0,i.default)(t,"bleed.top")+(0,i.default)(t,"bleed.bottom"),T=(0,i.default)(t,"wrapSize.top")+(0,i.default)(t,"wrapSize.bottom");a={width:t.width*r+"px",height:t.height*r+"px",top:"-"+((0,i.default)(t,"bleed.top")+(0,i.default)(t,"wrapSize.top"))*r+"px",left:"-"+(0,i.default)(t,"bleed.left")*r+"px"},u={width:(t.width-I-(0,i.default)(t,"wrapSize.right"))*r+"px",height:(t.height-_-T)*r+"px",top:0,left:E+"px"};break;case o.pageTypes.full:a={width:t.width*r+"px",height:t.height*r+"px",top:"-"+(s.top+d.top)*r+"px",left:"-"+(s.left+d.left)*r+"px"},u={width:(t.width-s.left-s.right-d.left-d.right)*r+"px",height:(t.height-s.top-s.bottom-d.top-d.bottom)*r+"px",top:0,left:0}}return{renderCoverSheetSize:a,renderCoverSheetSizeWithoutBleed:u}}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=a(i),u=n(3),l=a(u),s=n(4),d=a(s),c=n(7),f=a(c),p=n(6),h=a(p),g=n(8),m=a(g),v=n(1),y=a(v),b=n(13),w=n(9),M=a(w),x=n(132),E=a(x),I=n(89),_=a(I),T=n(10),C=n(54),S=n(336),L=r(S);n(233);var D=function(e){function t(e){(0,l.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.getPageElements=function(e,t){return L.getPageElements(n,e,t)},n.computedCoverSheetStyle=function(e){return L.computedCoverSheetStyle(e)},n.onImageLoaded=n.onImageLoaded.bind(n),n.state={isImgLoading:!1},n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.data.paginationSpread.summary.bgImageUrl,n=this.props.data.paginationSpread.summary.bgImageUrl;t&&t!=n&&this.setState({isImgLoading:!0})}},{key:"onImageLoaded",value:function(){this.setState({isImgLoading:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.actions,r=t.data,a=t.t,i=this.state.isImgLoading,o=n.boundProjectActions,u=n.boundPaginationActions,l=n.boundSystemActions,s=n.boundUploadedImagesActions,d=n.toggleModal,c=n.toggleOperationPanel,f=n.boundWorkspaceActions,p=n.boundTrackerActions,h=n.editText,g=n.selectElementOnMainContainer,v=n.editTextWithoutJustify,b=r.paginationSpread,w=r.rate,x=r.pagination,I=r.setting,S=r.urls,L=r.parameterMap,D=r.isPreview,P=r.isProjectLoadCompleted,A=r.userInfo,O=b.backgroundSize,k=b.summary,j=b.pages,N=b.elements,z=b.images,R=k.bgImageUrl,U=k.effectImageUrl,B=Math.floor((0,m.default)(O,"bgImageWidth")*w),F=Math.floor((0,m.default)(O,"bgImageHeight")*w),W=(0,m.default)(O,"paddingLeft")*w,H=(0,m.default)(O,"paddingRight")*w,Y=(0,m.default)(O,"paddingTop")*w,Q=(0,m.default)(O,"paddingBottom")*w,G=R?'url("'+R+'")':"",X=(0,m.default)(I,"product"),q=(0,M.default)("box-cover-container",{hide:0!==x.sheetIndex}),J={width:B+"px",height:F+"px",backgroundImage:G},V={width:B-W-H+"px",height:F-Y-Q+"px",top:Y+"px",left:W+"px"},Z=(0,C.getScreenRatio)()>1?(0,C.getScreenRatio)():1,K={width:B-W-H+"px",top:Y-26+"px",left:W+"px",fontSize:12/Z+"px"},$={boundProjectActions:o,boundPaginationActions:u,boundSystemActions:l,boundUploadedImagesActions:s,toggleModal:d,toggleOperationPanel:c,boundWorkspaceActions:f,boundTrackerActions:p,editText:h,selectElementOnMainContainer:g,editTextWithoutJustify:v},ee=[];return j&&j.length&&j.forEach(function(t,n){var r={isPreview:D,summary:k,urls:S,page:t,images:z,pagination:x,elements:e.getPageElements(t,N),rate:w,index:n,setting:I,paginationSpread:b,parameterMap:L,userInfo:A},a=e.computedCoverSheetStyle({page:t,pages:j,pageIndex:n,rate:w}),i=(0,M.default)("cover-sheet",{});ee.push(y.default.createElement("div",{key:n,className:i,style:a.renderCoverSheetSizeWithoutBleed},y.default.createElement("div",{className:"cover-sheet-with-bleed",style:a.renderCoverSheetSize},y.default.createElement(E.default,{actions:$,data:r}))))}),y.default.createElement("div",{key:"cover",className:q},X===T.productTypes.woodBox||D||!P?null:y.default.createElement("div",{className:"box-cover-describe","data-html2canvas-ignore":"true",style:K},y.default.createElement("span",null,a("BACK_COVER")),y.default.createElement("span",null,a("FRONT_COVER"))),y.default.createElement("div",{className:"box-cover",style:J},y.default.createElement("img",{style:{display:"none"},width:"100%",height:"100%",src:R,onLoad:this.onImageLoaded}),y.default.createElement("div",{className:"cover-effect",draggable:"false"},y.default.createElement("img",{className:"effect-img",src:U})),y.default.createElement("div",{className:"center-render-area",style:V},ee),y.default.createElement(_.default,{isShow:i,isModalShow:i,isWhiteBackground:i})))}}]),t}(v.Component);t.default=(0,b.translate)("BookCover")(D)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){var a=[],i=t||e.props,o=e.state?e.state.elementArray:[];return n.forEach(function(t){var n=E(e,i,t,r),u=o.find(function(e){return(0,f.default)(e,"id")===(0,f.default)(t,"id")}),l={isDisabled:!1,isSelected:!1};u&&(l.isDisabled=(0,f.default)(u,"isDisabled"),l.isSelected=(0,f.default)(u,"isSelected")),a.push((0,d.default)({},t,{computed:n},l))}),a}Object.defineProperty(t,"__esModule",{value:!0}),t.computedElementOptions=t.getCurrentScale=void 0;var i=n(19),o=r(i),u=n(21),l=r(u),s=n(11),d=r(s),c=n(8),f=r(c);t.convertElements=a;var p=n(139),h=n(10),g=n(38),m=n(48),v=r(m),y=n(30),b=n(15),w=140,M=140,x=t.getCurrentScale=function(e,t,n){var r=t.data.images,a=e.props.data,i=a.images,o=void 0,u=n.imgRot,l=n.width,s=n.height,d=n.cropLUX,c=n.cropLUY,h=n.cropRLX,g=n.cropRLY,m=n.encImgId,v=(0,f.default)(i,m),y=(0,f.default)(r,m);return v=v||y,o=v?(0,p.getScale)({imgRot:u,imageDetail:v,width:l,height:s,cropRLX:h,cropLUX:d,cropRLY:g,cropLUY:c}):0},E=t.computedElementOptions=function(e,t,n,r){var a=t||e.props,i=a.data,u=i.urls,s=i.page,c=i.images,p=r||i.rate,m={width:0,height:0,left:0,top:0,imgUrl:""},E=(0,f.default)(n,"imgRot"),I=(0,f.default)(n,"imgFlip"),_=(0,f.default)(s,"width"),T=(0,f.default)(s,"height");m.width=Math.round(_*(0,f.default)(n,"pw")*p),m.height=Math.round(T*(0,f.default)(n,"ph")*p),m.left=_*(0,f.default)(n,"px")*p,m.top=T*(0,f.default)(n,"py")*p,(0,f.default)(n,"type")===h.elementTypes.cameo&&(m.width=Math.round((0,f.default)(n,"width")*p),m.height=Math.round((0,f.default)(n,"height")*p),m.left=((_-(0,f.default)(s,"bleed.left")-(0,f.default)(s,"bleed.right")-(0,f.default)(s,"wrapSize.right")-(0,f.default)(n,"width"))/2+(0,f.default)(s,"bleed.left"))*p,m.top=(T-(0,f.default)(n,"height"))/2*p);var C=(0,f.default)(n,"encImgId");switch((0,f.default)(n,"type")){case h.elementTypes.paintedText:if((0,f.default)(i,"page.type")===h.pageTypes.spine){m.width=(0,f.default)(n,"width")*p,m.height=(0,f.default)(n,"height")*p,m.left=(0,f.default)(n,"x")*p,m.top=(0,f.default)(n,"y")*p;var S=(0,f.default)(n,"text"),L=(0,f.default)(n,"fontColor")?(0,f.default)(n,"fontColor"):"#ffffff";m.imgUrl=(0,l.default)(b.PAINETEXT_SRC)({text:S,color:(0,g.hexString2Number)(L),fontFamily:(0,f.default)(n,"fontFamily"),width:(0,f.default)(n,"height"),height:(0,f.default)(n,"width"),baseUrl:u.baseUrl,ratio:p})}else{var D=(0,f.default)(n,"text"),P=(0,f.default)(n,"fontSize"),A=P*(0,f.default)(s,"height"),O=(0,f.default)(n,"fontColor")?(0,f.default)(n,"fontColor"):"#ffffff";m.imgUrl=(0,l.default)(b.TEXT_SRC)({text:D,fontSize:A,fontColor:(0,g.hexString2Number)(O),fontFamily:(0,f.default)(n,"fontFamily"),width:(0,f.default)(n,"width"),height:(0,f.default)(n,"height"),originalWidth:(0,f.default)(n,"width"),originalHeight:(0,f.default)(n,"height"),originalFontSize:A,baseUrl:u.baseUrl,textAlign:(0,f.default)(n,"textAlign"),verticalTextAlign:(0,f.default)(n,"textVAlign"),ratio:p}),m.minHeight=w*p,m.minWidth=M*p}break;case h.elementTypes.text:case h.elementTypes.usbText:var k=(0,f.default)(n,"text"),j=(0,f.default)(n,"fontSize"),N=j*s.height;m.imgUrl=(0,l.default)(b.TEXT_SRC)({text:k,fontSize:N,fontColor:(0,g.hexString2Number)(n.fontColor),fontFamily:n.fontFamily,width:n.width,height:n.height,originalWidth:n.width,originalHeight:n.height,originalFontSize:N,baseUrl:u.baseUrl,textAlign:n.textAlign,verticalTextAlign:n.textVAlign,ratio:p}),m.minHeight=w*p,m.minWidth=M*p;break;case h.elementTypes.cameo:case h.elementTypes.dvd:case h.elementTypes.photo:if(m.keepRatio=!1,C){var z=null;if((0,f.default)(n,"cropRLY"))z=(0,y.getCropOptionsByLR)((0,f.default)(n,"cropLUX"),(0,f.default)(n,"cropLUY"),(0,f.default)(n,"cropRLX"),(0,f.default)(n,"cropRLY"),m.width,m.height);else{var R=c?(0,f.default)(c,"encImgId"):null;R&&(z=(0,y.getCropOptions)(R.width,R.height,m.width,m.height,E))}if(z){var U="rect",B={effectId:0,opacity:100};(0,f.default)(n,"style")&&(B=(0,f.default)(n,"style")),m.imgUrl=C?(0,l.default)(""+b.IMAGES_CROPPER+b.IMAGES_CROPPER_PARAMS)((0,d.default)({},z,B,(0,o.default)({encImgId:C,imgFlip:I,shape:U,rotation:E,baseUrl:u.baseUrl},v.default))):null,m.corpApiTemplate=(0,l.default)(b.IMAGES_CROPPER)({baseUrl:u.baseUrl})+b.IMAGES_CROPPER_PARAMS,m.scale=x(e,t,n)}}}return m}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.onPageDroped=t.onPageDragOver=t.convertElement=t.switchPage=t.stopEvent=void 0;var a=n(8),i=r(a),o=n(10),u=n(53),l=n(30),s=t.stopEvent=function(e){var t=e||window.event;t.preventDefault(),t.stopPropagation()},d=(t.switchPage=function(e,t,n){var r=e.props,a=r.actions,u=r.data,l=a.boundPaginationActions,s=u.page,d=u.index,c=u.pagination;t||window.event;s&&s.enabled&&c.pageId!==(0,i.default)(s,"id")&&(0,i.default)(s,"type")!==o.pageTypes.spine&&l.switchPage(d,(0,i.default)(s,"id")).then(function(){n&&n()})},t.convertElement=function(e,t){var n=e.props,r=n.data,a=(n.actions,r.page),u=t.width,s=t.height,d=(0,i.default)(a,"type"),c=(0,l.getCropOptions)(u,s,a.width,a.height,0),f=c.cropLUX,p=c.cropLUY,h=c.cropRLX,g=c.cropRLY,m=d===o.pageTypes.dvd?o.elementTypes.dvd:o.elementTypes.photo,v=d===o.pageTypes.dvd?"dvd":"image",y={type:m,elType:v,x:0,y:0,width:a.width,height:a.height,px:0,py:0,pw:1,ph:1,imgFlip:!1,rot:0,imgRot:0,encImgId:t.encImgId,imageid:t.imageid,dep:0,cropLUX:f,cropLUY:p,cropRLX:h,cropRLY:g,lastModified:Date.now()};return y}),c=(t.onPageDragOver=function(e){s(e)},function(e,t){var n=e.props,r=n.data,a=n.actions,u=r.page,l=a.boundProjectActions,s=(0,i.default)(u,"type"),c=u.id,f=d(e,t);l.createElement(c,f),s===o.pageTypes.page&&l.changeProjectSetting({type:"IW"})});t.onPageDroped=function(e,t){var n=t||window.event,r=e.props,a=r.data,i=(r.actions,a.rate,a.paginationSpread,a.pagination,a.page,void 0);i=(0,u.getTransferData)(n),i&&c(e,i),s(n)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.handleTextMouseUp=t.checkPrintedTextPosition=t.handleTextMove=t.handleTextRemove=t.handleTextMouseDown=void 0;var a=n(8),i=r(a),o=n(10);t.handleTextMouseDown=function(e,t,n){var r=e.props.actions,a=r.boundProjectActions,i=r.selectElementOnMainContainer;a.selectElement({id:t}),i(n.target)},t.handleTextRemove=function(e,t){var n=e.props,r=n.actions,a=n.data,i=a.page,o=(a.rate,r.boundProjectActions);o.deleteElement(i.id,t)},t.handleTextMove=function(e,t){var n=e.props.data,r=n.page,a=n.rate,o=r.width,u=r.height,l=r.bleed,s=r.wrapSize,d=((0,i.default)(l,"top")+(0,i.default)(s,"top"))*a,c=(o-(0,i.default)(l,"right")-(0,i.default)(s,"right"))*a,f=(u-(0,i.default)(l,"bottom")-(0,i.default)(s,"bottom"))*a,p=((0,i.default)(l,"left")+(0,i.default)(s,"left"))*a;return t.x<=p?t.x=p:t.x>=c-30&&(t.x=c-30),t.y<=d?t.y=d:t.y>=f-10&&(t.y=f-10),t},t.checkPrintedTextPosition=function(e,t){var n=e.props.data,r=n.page,a=n.rate,u=n.summary,l=n.elements,s=r.width,d=r.height,c=(r.bleed,r.wrapSize,u.hasCameoElement);if(c&&(0,i.default)(r,"type")===o.pageTypes.front){var f=l.find(function(e){return(0,i.default)(e,"type")===o.elementTypes.cameo}),p=(0,i.default)(f,"width"),h=(0,i.default)(f,"height"),g=(d-h)/2*a,m=(s-p)/2*a,v=s*a-m,y=d*a-g;(t.x<m&&m<t.x+t.width||t.x<v&&v<t.x+t.width||m<=t.x&&t.x<=v)&&(t.y<g&&g<t.y+t.height||t.y<y&&y<t.y+t.height||g<=t.y&&t.y<=y)&&(t.x=(s*a-t.width)/2,t.y=t.y+t.height/2<=d*a/2?(g-(0,i.default)(r,"bleed.top")*a-t.height)/2+(0,i.default)(r,"bleed.top"):y+(g-(0,i.default)(r,"bleed.bottom"))/2-t.height/2)}return t},t.handleTextMouseUp=function(e,t,n,r,a,i){var o=e.props,u=o.actions,l=o.data,s=l.page,d=l.rate,c=u.boundProjectActions,f=s.width,p=s.height,h=n/(f*d),g=r/(p*d),m=n/d,v=r/d,y=a/(f*d),b=i/(p*d),w=a/d,M=i/d;c.updateElement({id:t,x:m,y:v,px:h,py:g,pw:y,ph:b,width:w,height:M})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.computedInnerSheet=t.getPageElements=void 0;var a=n(8),i=r(a);t.getPageElements=function(e,t,n){var r=[],a=(0,i.default)(t,"elements");return t&&a&&a.length&&n&&a.forEach(function(e){var t=(0,i.default)(n,e);t&&r.push(t)}),r},t.computedInnerSheet=function(e){var t=e.page,n=(e.pageIndex,e.rate),r=e.backgroundSize,a=void 0,i=void 0,o=t.bleed,u=t.wrapSize,l=r.lPagePaddingTop,s=r.lPagePaddingLeft,d=r.rPagePaddingTop,c=r.rPagePaddingLeft;switch(t.position){case"left":a={width:t.width*n+"px",height:t.height*n+"px",top:"-"+(o.top+u.top)*n+"px",left:"-"+(o.left+u.left)*n+"px"},i={width:(t.width-o.left-o.right-u.left-u.right)*n+"px",height:(t.height-o.top-o.bottom-u.top-u.bottom)*n+"px",top:l*n+"px",left:s*n+"px"};break;case"right":a={width:t.width*n+"px",height:t.height*n+"px",top:"-"+(o.top+u.top)*n+"px",left:"-"+(o.left+u.left)*n+"px"},i={width:(t.width-o.left-o.right-u.left-u.right)*n+"px",height:(t.height-o.top-o.bottom-u.top-u.bottom)*n+"px",top:d*n+"px",left:c*n+"px"}}return{renderInnerSheetSize:a,renderInnerSheetSizeWithoutBleed:i}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),i=r(a),o=n(5),u=r(o),l=n(3),s=r(l),d=n(4),c=r(d),f=n(7),p=r(f),h=n(6),g=r(h),m=n(21),v=r(m),y=n(8),b=r(y),w=n(1),M=r(w),x=n(13),E=n(9),I=r(E),_=n(10),T=n(15),C=n(341),S=n(48),L=r(S),D=n(132),P=r(D);n(235);var A=function(e){function t(e){(0,s.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.getPageElements=function(e,t){return(0,C.getPageElements)(n,e,t)},n.computedInnerSheet=function(e){return(0,C.computedInnerSheet)(e)},n}return(0,g.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.actions,r=t.data,a=n.boundProjectActions,o=n.boundPaginationActions,u=n.boundSystemActions,l=n.boundUploadedImagesActions,s=n.toggleModal,d=n.toggleOperationPanel,c=n.boundWorkspaceActions,f=n.boundTrackerActions,p=n.editText,h=n.selectElementOnMainContainer,g=n.editTextWithoutJustify,m=r.paginationSpread,y=r.rate,w=r.urls,x=r.setting,E=r.pagination,C=r.parameterMap,S=r.isPreview,D=r.userInfo,A=m.backgroundSize,O=m.summary,k=m.pages,j=m.images,N=m.elements,z=O.bgImageUrl,R=O.effectImageUrl,U=O.isSetCoverAsInnerBg,B=O.innerPageBackImageEncImgID,F=Math.floor((0,b.default)(A,"bgImageWidth")*y),W=Math.floor((0,b.default)(A,"bgImageHeight")*y),H=(0,b.default)(A,"paddingTop")*y,Y=(0,b.default)(A,"paddingRight")*y,Q=(0,b.default)(A,"paddingBottom")*y,G=(0,b.default)(A,"paddingLeft")*y,X=z?'url("'+z+'")':"",q=(0,b.default)(x,"product"),J=(0,I.default)("box-sheet-container",{hide:1!==E.sheetIndex}),V={width:F+"px",height:W+"px",backgroundImage:X},Z={width:F+"px",height:W+"px",zIndex:q===_.productTypes.usbCase?50:200},K=void 0;U&&(K=B?(0,v.default)(""+T.IMAGES_CROPPER+T.IMAGES_CROPPER_PARAMS)((0,i.default)({encImgId:B,imgFlip:!0,shape:"rect",px:0,py:0,pw:1,ph:1,width:Math.round(F-G-Y),height:Math.round(W-H-Q),rotation:0,effectId:0,opacity:100,baseUrl:w.baseUrl},L.default)):null);var $={width:Math.ceil(F-G-Y)+2+"px",height:Math.ceil(W-H-Q)+2+"px",top:H+"px",left:G+"px",backgroundImage:K?"url("+K+")":"",backgroundSize:"100% 100%"},ee={boundProjectActions:a,boundPaginationActions:o,boundSystemActions:u,boundUploadedImagesActions:l,toggleModal:s,toggleOperationPanel:d,boundWorkspaceActions:c,boundTrackerActions:f,editText:p,selectElementOnMainContainer:h,editTextWithoutJustify:g},te=[];return k&&k.length&&k.forEach(function(t,n){var r={isPreview:S,summary:O,urls:w,page:t,images:j,pagination:E,elements:e.getPageElements(t,N),rate:y,index:n,setting:x,paginationSpread:m,parameterMap:C,userInfo:D},a=e.computedInnerSheet({page:t,pageIndex:n,rate:y,backgroundSize:A});te.push(M.default.createElement("div",{key:n,className:"inner-sheet",style:a.renderInnerSheetSizeWithoutBleed},M.default.createElement("div",{className:"inner-sheet-with-bleed",style:a.renderInnerSheetSize},M.default.createElement(P.default,{actions:ee,data:r}))))}),M.default.createElement("div",{key:"inner",className:J},M.default.createElement("div",{className:"box-sheet",style:V},M.default.createElement("div",{className:"inner-effect",style:Z,draggable:"false"},M.default.createElement("img",{className:"effect-img",src:R})),M.default.createElement("div",{className:"center-render-area",style:$},te)))}}]),t}(w.Component);t.default=(0,x.translate)("BookSheet")(A)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(9),v=r(m);n(236);var y=function(e){function t(){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){
var e=this.props,t=e.className,n=e.children,r=e.width,a=e.height,i=e.boxSize,o=i.wrapSize,u=i.bleedTop,l=i.bleedRight,s=i.bleedBottom,d=i.bleedLeft,c=i.color,f=i.marginLeft,p=void 0===f?0:f,h=i.marginTop,m=void 0===h?0:h,y=(0,v.default)("x-boxes",t),b={width:r+"px",height:a+"px",borderTop:o+u+"px solid "+c,borderRight:o+l+"px solid "+c,borderBottom:o+s+"px solid "+c,borderLeft:o+d+"px solid "+c,marginLeft:p+"px",marginTop:m+"px",boxSizing:"border-box"};return g.default.createElement("div",{className:y,style:b},n)}}]),t}(h.Component);t.default=y,y.propTypes={className:h.PropTypes.string,width:h.PropTypes.number.isRequired,height:h.PropTypes.number.isRequired,allowDraw:h.PropTypes.bool,boxSize:h.PropTypes.shape({width:h.PropTypes.number,height:h.PropTypes.number,color:h.PropTypes.strings,bleedTop:h.PropTypes.number,bleedBottom:h.PropTypes.number,bleedLeft:h.PropTypes.number,bleedRight:h.PropTypes.number,wrapSize:h.PropTypes.number,lineWidth:h.PropTypes.number}).isRequired}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.onCrop=function(e,t){var n=e.props,r=n.actions,a=n.data,i=a.disabledIcons,o=t||window.event;o.stopPropagation(),i.cropDisable||r.onCrop&&r.onCrop(o)},t.onRotate=function(e,t){var n=e.props,r=n.actions,a=n.data,i=a.disabledIcons,o=t||window.event;o.stopPropagation(),i.rotateDisable||r.onRotate&&r.onRotate(o)},t.onFlip=function(e,t){var n=e.props,r=n.actions,a=n.data,i=a.disabledIcons,o=t||window.event;o.stopPropagation(),i.flipDisable||r.onFlip&&r.onFlip(o)}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=a(i),u=n(3),l=a(u),s=n(4),d=a(s),c=n(7),f=a(c),p=n(6),h=a(p),g=n(1),m=a(g),v=n(9),y=a(v),b=n(13),w=n(10),M=n(344),x=r(M);n(237);var E=function(e){function t(e){(0,l.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.onCrop=function(e){return x.onCrop(n,e)},n.onRotate=function(e){return x.onRotate(n,e)},n.onFlip=function(e){return x.onFlip(n,e)},n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.actions,r=e.data,a=(r.className,r.style),i=r.highlightIcons,o=r.disabledIcons,u=r.roundLabel,l=r.hasImage,s=i.largeHightlight,d=i.mediumHightlight,c=i.smallHightlight,f=i.rectHightlight,p=i.roundHightlight,h=o.cropDisable,g=o.rotateDisable,v=(o.flipDisable,o.rectDisable),b=o.roundDisable,M=o.sDisable,x=o.mDisable,E=o.lDisable,I=o.removeDisable,_={L:s?"highlight":"",M:d?"highlight":"",S:c?"highlight":"",rect:f?"highlight":"",round:p?"highlight":""},T=(0,y.default)("icon-item item-rect",{hide:v}),C=(0,y.default)("icon-item item-round",{hide:b}),S=((0,y.default)("icon-item item-small",{hide:M}),(0,y.default)("icon-item item-medium",{hide:x}),(0,y.default)("icon-item item-large",{hide:E}),(0,y.default)("icon-item item-clear",{hide:I}));return m.default.createElement("ul",{style:a,className:"cameo-action-bar","data-html2canvas-ignore":"true"},m.default.createElement("li",{className:"icon-item item-crop",title:t("CROP_ITEM")},m.default.createElement("label",null,m.default.createElement("input",{type:"checkbox",disabled:h}),m.default.createElement("a",{onClick:this.onCrop}))),m.default.createElement("li",{className:"icon-item item-rotate",title:t("ROTATE_ITEM")},m.default.createElement("label",null,m.default.createElement("input",{type:"checkbox",disabled:g}),m.default.createElement("a",{onClick:this.onRotate}))),m.default.createElement("li",{className:T,title:t("RECT_ITEM")},m.default.createElement("label",null,m.default.createElement("input",{type:"checkbox",className:_.rect,disabled:v}),m.default.createElement("a",{onClick:n.onRect}))),m.default.createElement("li",{className:C,title:t(u===w.cameoShapeTypes.round?"ROUND_ITEM":"OVAL_ITEM")},m.default.createElement("label",null,m.default.createElement("input",{type:"checkbox",className:_.round,disabled:b}),m.default.createElement("a",{onClick:n.onRound}))),m.default.createElement("li",{className:S,title:t(l?"CLEAR_IMAGE":"CLEAR_ITEM")},m.default.createElement("label",null,m.default.createElement("input",{type:"checkbox"}),m.default.createElement("a",{onClick:n.onClear}))))}}]),t}(g.Component);E.propTypes={actions:g.PropTypes.shape({onCrop:g.PropTypes.func,onRotate:g.PropTypes.func,onFlip:g.PropTypes.func,onRect:g.PropTypes.func,onRound:g.PropTypes.func,onSmall:g.PropTypes.func,onMedium:g.PropTypes.func,onLarge:g.PropTypes.func,onClear:g.PropTypes.func}),data:g.PropTypes.shape({className:g.PropTypes.string,style:g.PropTypes.object,highlight:g.PropTypes.shape({largeHightlight:g.PropTypes.bool,mediumHightlight:g.PropTypes.bool,smallHightlight:g.PropTypes.bool,rectHightlight:g.PropTypes.bool,roundHightlight:g.PropTypes.bool}),disabledIcons:g.PropTypes.shape({cropDisable:g.PropTypes.bool,rotateDisable:g.PropTypes.bool,flipDisable:g.PropTypes.bool})})},E.defaultProps={},t.default=(0,b.translate)("CameoActionBar")(E)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.handleClick=t.onDrop=t.handleDragOver=t.stopEvent=t.getCameoShadowStyle=void 0;var a=n(11),i=r(a),o=n(8),u=r(o),l=n(66),s=(r(l),n(10)),d=n(30),c=(n(424),n(53)),f=(t.getCameoShadowStyle=function(e,t,n){var r=void 0,a=void 0,i=void 0,o=void 0;return e===s.cameoShapeTypes.rect?(r=t.width/(1-2*s.cameoPaddingsRatio.rectCameoPaddingLeft),a=t.height/(1-2*s.cameoPaddingsRatio.rectCameoPaddingTop),i=n.top-a*s.cameoPaddingsRatio.rectCameoPaddingTop,o=n.left-a*s.cameoPaddingsRatio.rectCameoPaddingLeft):e===s.cameoShapeTypes.round&&(r=t.width/(1-2*s.cameoPaddingsRatio.roundCameoPaddingLeft),a=t.height/(1-2*s.cameoPaddingsRatio.roundCameoPaddingTop),i=n.top-a*s.cameoPaddingsRatio.roundCameoPaddingTop,o=n.left-a*s.cameoPaddingsRatio.roundCameoPaddingLeft),{width:r+"px",height:a+"px",top:i+"px",left:o+"px"}},t.stopEvent=function(e){var t=e||window.event;t.preventDefault(),t.stopPropagation()});t.handleDragOver=function(e,t){f(t)},t.onDrop=function(e,t){var n=e.props,r=n.data,a=n.actions,o=r.element,l=(r.page,r.ratio,a.boundProjectActions),s=0,p=(0,u.default)(o,"computed.width"),h=(0,u.default)(o,"computed.height"),g=t||window.event,m=(0,c.getTransferData)(t),v=m.width,y=m.height,b=(0,u.default)(o,"id"),w=(0,d.getCropOptions)(v,y,p,h,s),M=w.cropLUX,x=w.cropLUY,E=w.cropRLX,I=w.cropRLY,_=(0,i.default)({},{id:b,cropLUX:M,cropLUY:x,cropRLX:E,cropRLY:I,imgRot:s,encImgId:m.encImgId,imageid:m.imageid});l.updateElement(_),f(g)},t.handleClick=function(e,t,n){var r=e.props,a=r.actions,i=r.data,o=a.openUploadImageModal,l=a.boundWorkspaceActions,s=i.element,d=(0,u.default)(s,"encImgId");if(d)e.showCameoActionBar(n);else{var c=(0,u.default)(s,"id"),f=(0,u.default)(s,"computed.width"),p=(0,u.default)(s,"computed.height");l.autoAddPhotoToCanvas(!0,c,f,p),o()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.onClear=t.onRound=t.onRect=t.onRotate=t.onCrop=t.hideCameoActionBar=t.showCameoActionBar=t.stopEvent=void 0;var a=n(11),i=r(a),o=n(8),u=r(o),l=n(30),s=n(10),d=n(48),c=r(d),f=t.stopEvent=function(e){var t=e||window.event;t.preventDefault(),t.stopPropagation()};t.showCameoActionBar=function(e,t){var n=t||window.event;e.setState({isShowActionBar:!0}),f(n)},t.hideCameoActionBar=function(e,t){t||window.event;e.setState({isShowActionBar:!1})},t.onCrop=function(e){var t=e.props,n=t.data,r=t.actions,a=r.boundProjectActions,o=(r.boundTrackerActions,r.boundSystemActions),l=n.element,s=n.paginationSpread,d=(0,u.default)(l,"width"),f=(0,u.default)(l,"height"),p=l.computed,h=l.encImgId,g=l.imgRot,m=l.imageid,v=l.cropLUX,y=l.cropLUY,b=l.cropRLX,w=l.cropRLY,M=s.images,x=M[h],E=x.width,I=x.height,_=x.name;if(90===Math.abs(g)){var T=E;E=I,I=T}o.showImageEditModal({imageEditApiTemplate:p.corpApiTemplate,encImgId:h,imageId:h?0:m,rotation:g,imageWidth:E,imageHeight:I,imageName:_,elementWidth:d,elementHeight:f,crop:{cropLUX:v,cropLUY:y,cropRLX:b,cropRLY:w},securityString:c.default,onDoneClick:function(e,t,n){var r=(0,i.default)({},t),o=(0,u.default)(t,"cropRLX")-(0,u.default)(t,"cropLUX"),s=(0,u.default)(t,"cropRLY")-(0,u.default)(t,"cropLUY");o&&s||(0,i.default)(r,{cropLUX:v-0,cropLUY:y-0,cropRLX:b-0,cropRLY:w-0}),a.updateElement((0,i.default)({},t,{imgRot:n,id:(0,u.default)(l,"id")}))}})},t.onRotate=function(e,t){var n=e.props,r=n.data,a=n.actions,i={0:90,90:180,180:-90,"-90":0},o=a.boundProjectActions,s=(a.boundTrackerActions,r.element),d=r.paginationSpread,c=s.imgRot,p=s.encImgId,h=d.images,g=h[p],m=(0,u.default)(s,"computed.width"),v=(0,u.default)(s,"computed.height"),y=g.width,b=g.height,w=i[c],M=(0,l.getCropOptions)(y,b,m,v,w),x=(0,l.getCropLRByOptions)(M.px,M.py,M.pw,M.ph);o.updateElement({id:(0,u.default)(s,"id"),imgRot:w,cropLUX:x.cropLUX,cropLUY:x.cropLUY,cropRLX:x.cropRLX,cropRLY:x.cropRLY}),f(t)},t.onRect=function(e,t){var n=e.props,r=n.data,a=n.actions,i=a.boundProjectActions,o=r.setting;o.cameoShape!==s.cameoShapeTypes.rect&&i.changeProjectSetting({cameoShape:s.cameoShapeTypes.rect}),f(t)},t.onRound=function(e,t){var n=e.props,r=n.data,a=n.actions,i=a.boundProjectActions,o=r.setting;o.cameoShape!==s.cameoShapeTypes.round&&i.changeProjectSetting({cameoShape:s.cameoShapeTypes.round}),f(t)},t.onClear=function(e,t){var n=e.props,r=n.data,a=n.actions,i=r.element,o=r.page,l=a.boundProjectActions;(0,u.default)(i,"encImgId")?l.updateElement({id:(0,u.default)(i,"id"),encImgId:"",imageid:""}):(l.deleteElement((0,u.default)(o,"id"),(0,u.default)(i,"id")),l.changeProjectSetting({cameoShape:s.cameoShapeTypes.rect})),f(t)}},function(e,t){"use strict"},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=a(i),u=n(3),l=a(u),s=n(4),d=a(s),c=n(7),f=a(c),p=n(6),h=a(p),g=n(8),m=a(g),v=n(11),y=a(v),b=n(9),w=(a(b),n(1)),M=a(w),x=n(13),E=n(303),I=n(10),_=n(37),T=a(_),C=n(45),S=a(C),L=n(56),D=a(L),P=n(345),A=a(P),O=n(131),k=a(O),j=n(346),N=r(j),z=n(348),R=(r(z),n(347)),U=r(R);n(238);var B=10,F=10,W=function(e){function t(e){(0,l.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.onDrop=function(e){return N.onDrop(n,e)},n.handleClick=function(e){return N.handleClick(n,e)},n.handleDragOver=function(e){return N.handleDragOver(n,e)},n.getCameoShadowStyle=function(e,t,n){return N.getCameoShadowStyle(e,t,n)},n.showCameoActionBar=function(e){return U.showCameoActionBar(n,e)},n.hideCameoActionBar=function(e){return U.hideCameoActionBar(n,e)},n.actionBarHandler={onCrop:function(e){return U.onCrop(n,e)},onRotate:function(e){return U.onRotate(n,e)},onRect:function(e){return U.onRect(n,e)},onRound:function(e){return U.onRound(n,e)},onClear:function(e){return U.onClear(n,e)}},n.onImageLoaded=n.onImageLoaded.bind(n),n.state={isShowActionBar:!1,isImgLoading:!1},n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.data.element.encImgId,n=(0,m.default)(this.props.data.element,"computed.imgUrl"),r=(0,m.default)(e.data.element,"computed.imgUrl");t&&n!==r&&r&&this.setState({isImgLoading:!0})}},{key:"componentDidMount",value:function(){(0,E.addEventListener)(window,"click",this.hideCameoActionBar)}},{key:"componentWillUnmount",value:function(){(0,E.removeEventListener)(window,"click",this.hideCameoActionBar)}},{key:"onImageLoaded",value:function(){this.setState({isImgLoading:!1})}},{key:"render",value:function(){var e=this.props,t=e.t,n=(e.actions,e.data),r=n.summary,a=n.element,i=n.rate,o=(n.page,n.setting),u=n.parameterMap,l=n.isPreview,s=(n.paginationSpread,this.state.isImgLoading),d=(0,m.default)(a,"computed.imgUrl"),c=(0,m.default)(a,"computed.scale"),f=(0,m.default)(a,"computed.width"),p=(0,m.default)(a,"computed.height"),h=(0,m.default)(a,"computed.top"),g=(0,m.default)(a,"computed.left"),v=(0,m.default)(r,"cameoShape"),b=(0,m.default)(u,"cameoBleed"),w={top:(0,m.default)(b,"top")*i,right:(0,m.default)(b,"right")*i,bottom:(0,m.default)(b,"bottom")*i,left:(0,m.default)(b,"left")*i},x={width:f-(w.left+w.right),height:p-(w.top+w.bottom)},E={width:f+"px",height:p+"px",top:h+"px",left:g+"px",zIndex:(0,m.default)(a,"dep")+100},_={top:w.top+"px",left:w.left+"px",width:x.width+"px",height:x.height+"px",borderRadius:v===I.cameoShapeTypes.rect?x.width*I.cameoPaddingsRatio.rectCameoRadius+"px":x.width/2+"px/"+x.height/2+"px",zIndex:parseInt(100*Math.random())},C={top:"-"+w.top+"px",left:"-"+w.left+"px",width:f+"px",height:p+"px"},L=this.getCameoShadowStyle(v,x,w),P=!!(0,m.default)(a,"encImgId"),O={handleClick:this.handleClick,handleDrop:this.onDrop,handleDragOver:this.handleDragOver},j={top:0,left:0,width:f+"px",height:p+"px"},N=(0,y.default)({},n,{className:"cameo-element",style:j}),z=({left:B+w.left,bottom:F+w.bottom},{display:this.state.isShowActionBar?"block":"none",position:"absolute",left:(f-250)/2+"px",bottom:"-15px"}),R=this.actionBarHandler,U={style:z,highlightIcons:{rectHightlight:o.cameoShape===I.cameoShapeTypes.rect||!1,roundHightlight:o.cameoShape===I.cameoShapeTypes.round||o.cameoShape===I.cameoShapeTypes.oval||!1},roundLabel:I.cameoShapeTypes.round,hasImage:P,disabledIcons:{cropDisable:!P,rotateDisable:!P,flipDisable:!P}};return M.default.createElement("div",{className:"cameo-wrap absolute",style:E},M.default.createElement("div",{className:"cameo-effect absolute",style:L},M.default.createElement("img",{className:"effect-img",src:"./assets/cameo/"+v+".png"})),M.default.createElement("div",{className:"cameo-item absolute",style:_},l||P?null:M.default.createElement(k.default,{viewWidth:x.width,viewHeight:x.height,hasImage:P}),M.default.createElement("div",{className:"cameo-item-with-bleed absolute",style:C},M.default.createElement(D.default,{actions:O,data:N},M.default.createElement("div",null,M.default.createElement("div",{className:"layer-image"},M.default.createElement(T.default,{isShown:s})),d?M.default.createElement("img",{className:"cameo-img",src:d,onLoad:this.onImageLoaded,onError:this.onImageLoaded}):null,l?null:M.default.createElement(S.default,{isShown:c>I.RESIZE_LIMIT,title:t("BEYOND_SIZE_TIP",{n:c,m:I.RESIZE_LIMIT}),left:B+w.left,bottom:B+w.left}))))),M.default.createElement(A.default,{actions:R,data:U}))}}]),t}(w.Component);t.default=(0,x.translate)("CameoElement")(W)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(9),g=r(h),m=n(13),v=n(1),y=r(v),b=n(26),w=r(b),M=n(20),x=r(M);n(239);var E=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={name:"",timer:null,isInvalid:!1,isFormatInvalid:!1,errorTip:".",placeHolder:"input new box title here"},n.handleClone=n.handleClone.bind(n),n.resetTitle=n.resetTitle.bind(n),n.handleCloseCloneModal=n.handleCloseCloneModal.bind(n),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"resetTitle",value:function(e){this.setState({name:e.target.value}),this.checkProjectTitleFun(e.target.value)}},{key:"checkProjectTitleFun",value:function(e,t){return e.trim()?/^[a-zA-Z 0-9\d_\s-]+$/.test(e)?(this.setState({isInvalid:!1,errorTip:""}),void(t&&t(e))):void this.setState({isInvalid:!0,isFormatInvalid:!0,errorTip:"Only letters, numbers, blank space, - (hyphen) and _ (underscore) are allowed in the title."}):void this.setState({isInvalid:!0,isFormatInvalid:!0,errorTip:"Title is required"})}},{key:"handleCloseCloneModal",value:function(){var e=this.props.closeCloneModal;e(),this.setState({name:"",timer:null,isInvalid:!1,isFormatInvalid:!1,errorTip:"."})}},{key:"handleClone",value:function(){var e=this.props,t=e.onCloneProject,n=e.addTracker;n("ClickCloneAndDone"),this.checkProjectTitleFun(this.state.name,t),this.handleCloseCloneModal()}},{key:"render",value:function(){var e=this.props.isShown,t=(0,g.default)("error-tip",{show:this.state.isInvalid});return y.default.createElement(w.default,{className:"clone-modal",onClosed:this.handleCloseCloneModal,opened:e},y.default.createElement("p",{className:"modal-title"},"Clone Project"),y.default.createElement("p",{className:"input-tip"},"Please input new box title"),y.default.createElement("div",{className:"name-inputer-wrap"},y.default.createElement("input",{type:"text",value:this.state.name,onChange:this.resetTitle,maxLength:"50",placeholder:this.state.placeHolder}),y.default.createElement("span",{className:t},this.state.errorTip)),y.default.createElement("div",{className:"button-wrap"},y.default.createElement(x.default,{className:"little-button white",onClicked:this.handleCloseCloneModal},"Cancel"),y.default.createElement(x.default,{className:"little-button",disabled:this.state.isInvalid||!this.state.name,onClicked:this.handleClone},"Clone")))}}]),t}(v.Component);E.propTypes={isShown:v.PropTypes.bool.isRequired,closeCloneModal:v.PropTypes.func.isRequired,onCloneProject:v.PropTypes.func.isRequired,addAlbum:v.PropTypes.func.isRequired,userId:v.PropTypes.number,addTracker:v.PropTypes.func.isRequired},t.default=(0,m.translate)("CloneModal")(E)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(26),v=r(m),y=n(20),b=r(y);n(240);var w=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.handleConfirm=n.handleConfirm.bind(n),n.handleCancel=n.handleCancel.bind(n),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"handleConfirm",value:function(){var e=this.props,t=e.onOkClick,n=e.onModalClose;t(),n()}},{key:"handleCancel",value:function(){var e=this.props,t=e.onCancelClick,n=e.onModalClose;t&&t(),n()}},{key:"render",value:function(){var e=this.props,t=e.isShow,n=e.confirmMessage,r=e.okButtonText,a=e.confirmTitle,i=e.cancelButtonText,o=e.onModalClose;return g.default.createElement(v.default,{className:"confirm-wrap",onClosed:o,opened:t},g.default.createElement("div",{className:"confirm-title"},a),g.default.createElement("div",{className:"confirm-mes"},n),g.default.createElement("div",{className:"button-wrap"},g.default.createElement(b.default,{onClicked:this.handleConfirm},r),i?g.default.createElement(b.default,{className:"button-white",onClicked:this.handleCancel},i):null))}}]),t}(h.Component);w.propTypes={isShow:h.PropTypes.bool.isRequired,onOkClick:h.PropTypes.func.isRequired,onModalClose:h.PropTypes.func.isRequired,confirmMessage:h.PropTypes.oneOfType([h.PropTypes.string,h.PropTypes.node]),okButtonText:h.PropTypes.string,cancelButtonText:h.PropTypes.string,onCancelClick:h.PropTypes.func,confirmTitle:h.PropTypes.string},w.defaultProps={okButtonText:"Done"},t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(9),v=r(m);n(241);var y=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.disable=function(e){var t=e||window.event;t.stopPropagation(),t.preventDefault()},n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.children,r=t.className,a=t.style,i=(0,v.default)("disable-handler",r);return g.default.createElement("div",{style:a,className:i,onClick:this.disable,onDoubleClick:this.disable,onMouseDown:this.disable,onMouseOver:this.disable,onMouseOut:this.disable,onDrop:this.disable,onDragStart:this.disable,onDragOver:this.disable,onDragEnter:this.disable,onDragLeave:this.disable,onDragEnd:this.disable,draggable:this.disable,onContextMenu:this.disable},n)}}]),t}(h.Component);t.default=y,y.propTypes={data:h.PropTypes.shape({className:h.PropTypes.string,style:h.PropTypes.Object})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.handlerClick=t.onDrop=t.handleDragOver=t.stopEvent=void 0;var a=n(11),i=r(a),o=n(8),u=r(o),l=n(30),s=n(10),d=n(53),c=t.stopEvent=function(e){var t=e||window.event;t.preventDefault(),t.stopPropagation()};t.handleDragOver=function(e,t){c(t)},t.onDrop=function(e,t){var n=e.props,r=n.data,a=n.actions,o=r.element,f=r.page,p=r.rate,h=r.pagination,g=a.boundProjectActions,m=a.boundPaginationActions,v=a.toggleOperationPanel,y=(0,u.default)(o,"pw")*(0,u.default)(f,"width")*p,b=(0,u.default)(o,"ph")*(0,u.default)(f,"height")*p,w=t||window.event,M=(0,d.getTransferData)(w);if(f&&h.pageId!==(0,u.default)(f,"id")&&(0,u.default)(f,"type")!==s.pageTypes.spine){var x=1===h.pageIndex?0:1;m.switchPage(x,(0,u.default)(f,"id"))}if(M){var E=M,I=E.width,_=E.height,T=(0,u.default)(o,"id"),C=(0,l.getCropOptions)(I,_,y,b,0),S=(0,i.default)({},(0,l.getCropLRByOptions)(C.px,C.py,C.pw,C.ph),{id:T,encImgId:E.encImgId,imageid:E.imageid,imgRot:0,style:{effectId:0,opacity:100},imgFlip:!1});g.updateElement(S)}v(!1),c(t)},t.handlerClick=function(e,t,n){var r=e.props,a=r.actions,o=r.data,l=a.toggleOperationPanel,s=a.openUploadImageModal,d=a.boundWorkspaceActions,c=o.element,f=(0,u.default)(c,"encImgId");if(f){var p=n||window.event,h={top:p.clientY,left:p.clientX};l(!0,h,(0,i.default)({},c))}else{var g=(0,u.default)(c,"id"),m=(0,u.default)(c,"computed.width"),v=(0,u.default)(c,"computed.height");d.autoAddPhotoToCanvas(!0,g,m,v),s()}}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=a(i),u=n(3),l=a(u),s=n(4),d=a(s),c=n(7),f=a(c),p=n(6),h=a(p),g=n(11),m=a(g),v=n(8),y=a(v),b=n(9),w=a(b),M=n(1),x=a(M),E=n(13),I=n(37),_=a(I),T=n(45),C=a(T),S=n(56),L=a(S),D=n(353),P=r(D),A=n(10),O=n(54);n(242);var k=function(e){function t(e){(0,l.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleDragOver=function(e){return P.handleDragOver(n,e)},n.onDrop=function(e){return P.onDrop(n,e)},n.handlerClick=function(e,t){return P.handlerClick(n,e,t)},n.onImageLoaded=n.onImageLoaded.bind(n),n.state={isImgLoading:!1},n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.data.element.encImgId,n=(0,y.default)(this.props.data.element,"computed.imgUrl"),r=(0,y.default)(e.data.element,"computed.imgUrl");t&&n!==r&&r&&this.setState({isImgLoading:!0})}},{key:"onImageLoaded",value:function(){this.setState({isImgLoading:!1})}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.actions,r=e.data,a=r.element,i=r.rate,o=r.page,u=r.isPreview,l=(r.isCover,(0,y.default)(a,"computed")),s=(0,y.default)(a,"computed.imgUrl"),d=(0,y.default)(a,"computed.scale"),c=(0,y.default)(l,"left"),f=(0,y.default)(l,"top"),p=(0,y.default)(l,"width"),h=(0,y.default)(l,"height"),g=this.state,v=g.isImgLoading,b=g.src,M={zIndex:(0,y.default)(a,"dep")+100,width:p,height:h,left:c,top:f,transform:"rotate("+(0,y.default)(a,"rot")+"deg)"},E={position:"absolute",width:(0,y.default)(l,"width")+"px",height:(0,y.default)(l,"height")+"px",top:0,left:0},I=(0,m.default)({},E,{display:s?"block":"none"}),T=(0,m.default)({},n,{handleDrop:this.onDrop,handleClick:this.handlerClick,handleDragOver:this.handleDragOver}),S=(0,m.default)({},r,{className:(0,w.default)("dvd-element",{"has-image":!!s,"error-image":!!s&&!b}),style:M,handlerStyle:E}),D=(0,y.default)(o,"width")/2*i-9,P=((0,y.default)(o,"bleed.bottom")+(0,y.default)(o,"wrapSize.bottom"))*i+8,k={isShown:d>A.RESIZE_LIMIT,title:t("BEYOND_SIZE_TIP",{n:d,m:A.RESIZE_LIMIT}),left:D,bottom:P},j=(0,O.getScreenRatio)()>1?(0,O.getScreenRatio)():1,N={fontSize:12/j+"px"};return x.default.createElement(L.default,{actions:T,data:S},x.default.createElement(_.default,{isShown:v}),x.default.createElement("img",{className:"photo-img",src:s,style:I,onLoad:this.onImageLoaded}),u||s?null:x.default.createElement("div",{className:"bg-tip",style:N},"Click To Add Photo"),u?null:x.default.createElement(C.default,k))}}]),t}(M.Component);t.default=(0,E.translate)("DvdElement")(k)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.onDragStart=function(e,t){var n=e.props,r=n.data,a=n.actions;a.onDragStart&&a.onDragStart(r,t)},t.onDrag=function(e,t,n){var r=e.props,a=r.data,i=r.actions;i.onDrag&&i.onDrag(a,t,n)},t.onDragStop=function(e,t){var n=e.props,r=n.data,a=n.actions;a.onDragStop&&a.onDragStop(r,t)},t.onDragOver=function(e,t){var n=e.props,r=(n.data,n.actions);r.handleDragOver&&r.handleDragOver(t)},t.onDrop=function(e,t){var n=e.props,r=(n.data,n.actions);r.handleDrop&&r.handleDrop(t)},t.onResizeStart=function(e,t){var n=e.props,r=n.data,a=n.actions;a.onResizeStart&&a.onResizeStart(r,t)},t.onResize=function(e,t,n,r){var a=e.props,i=a.data,o=a.actions;o.onResize&&o.onResize(i,t,n,r)},t.onResizeStop=function(e,t){var n=e.props,r=n.data,a=n.actions;a.onResizeStop&&a.onResizeStop(r,t)},t.onRotateStart=function(e,t){var n=e.props,r=n.data,a=n.actions;a.onRotateStart&&a.onRotateStart(r,t)},t.onRotate=function(e,t,n){var r=e.props,a=r.data,i=r.actions;i.onRotate&&i.onRotate(a,t,n)},t.onRotateStop=function(e,t){var n=e.props,r=n.data,a=n.actions;a.onRotateStop&&a.onRotateStop(r,t)},t.onMouseDown=function(e,t){var n=e.props,r=n.data,a=n.actions;a.onMouseDown&&a.onMouseDown(r,t)},t.onClick=function(e,t){var n=e.props,r=n.data,a=n.actions,i=t||window.event;i.stopPropagation(),i.preventDefault(),a.handleClick&&a.handleClick(r,i)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=(n(41),n(83)),v=r(m),y=n(9),b=r(y);n(244);var w=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={labelhide:!1,inputShow:!1,sliderShow:!1,min:4,max:120,step:1},n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"handleLabelClick",value:function(){this.setState({labelhide:!0,inputShow:!0,sliderShow:!0})}},{key:"handleBlur",value:function(){this.setState({labelhide:!1,inputShow:!1,sliderShow:!1})}},{key:"handleChange",value:function(e){var t=this.props.handleSizeChange,n=e.target.value;/^\d+$/.test(n)&&(n>this.state.max?n=this.state.max:n<this.state.min&&(n=this.state.min)),t(n)}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.handleSliderChange,r=(0,b.default)("label",{hide:this.state.labelhide}),a=(0,b.default)("fontsize",{show:this.state.inputShow}),i=(0,b.default)("slider",{show:this.state.sliderShow});return g.default.createElement("div",{className:"select-size"},g.default.createElement("input",{type:"text",value:t,className:a,id:"select-size",onBlur:this.handleBlur.bind(this),onChange:this.handleChange.bind(this)}),g.default.createElement("label",{className:r,onClick:this.handleLabelClick.bind(this),htmlFor:"select-size"},t+" pt"),g.default.createElement("span",{className:"Select-arrow-zone",onClick:this.handleLabelClick.bind(this)},g.default.createElement("span",{className:"Select-arrow"})),g.default.createElement("div",{className:i},g.default.createElement(v.default,{value:t,min:this.state.min,max:this.state.max,step:this.state.step,handleSliderChange:n})))}}]),t}(h.Component);w.propTypes={value:h.PropTypes.number,min:h.PropTypes.number,max:h.PropTypes.number,step:h.PropTypes.number,tipFormatter:h.PropTypes.func,vertical:h.PropTypes.bool,handleSliderChange:h.PropTypes.func},t.default=w},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.onHandleMouseMove=function(e,t){var n=e.props.actions,r=n.handleMouseMove;r&&r(t||window.event)},r=t.onHandleMouseUp=function(e,t){var n=e.props.actions,r=n.handleMouseUp;r&&r(t||window.event)};t.onHandleMouseOut=function(e,t){var n=e.props.actions,r=n.handleMouseOut;r&&r(t||window.event)},t.onHandleMouseOver=function(e,t){var n=e.props.actions,r=n.handleMouseOver;r&&r(t||window.event)},t.onHandleMouseDown=function(e,t){var a=e.props.actions,i=a.handleMouseDown;i&&i(t||window.event),document.onmousemove=function(t){n(e,t||window.event)},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null,r(e,t||window.event)}},t.onHandleDblClick=function(e,t){var n=e.props,r=n.actions,a=n.data,i=r.handleDblClick;i&&i(a,t||window.event)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(8),g=r(h),m=n(1),v=r(m),y=(n(93),n(9)),b=r(y),w=n(434);n(247);var M=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={src:null,isImgLoading:!0},n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=(0,g.default)(this.props,"imageObj.src"),r=(0,g.default)(e,"imageObj.src"),a=(0,g.default)(e,"imageObj.orientation");n!==r&&(r?a?(0,w.convertRotateImg)(r,a).then(function(e){t.setState({imageUrl:e,isImgLoading:!1})}):this.setState({imageUrl:r,isImgLoading:!1}):this.setState({imageUrl:"",isImgLoading:!1}))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.imageObj,n=t.src,r=t.orientation;n&&(r?(0,w.convertRotateImg)(n,r).then(function(t){e.setState({imageUrl:t,isImgLoading:!1})}):this.setState({imageUrl:n,isImgLoading:!1}))}},{key:"shouldComponentUpdate",value:function(e,t){var n=(0,g.default)(this.state,"imageUrl"),r=(0,g.default)(t,"imageUrl"),a=(0,g.default)(this.props,"imageObj.usedCount"),i=(0,g.default)(e,"imageObj.usedCount"),o=(0,g.default)(this.state,"isImgLoading"),u=(0,g.default)(t,"isImgLoading"),l=(0,g.default)(this.props,"isSelected"),s=(0,g.default)(e,"isSelected");return n!==r||a!==i||o!==u||l!==s}},{key:"handleImageName",value:function(e){return e=e.length>15?e.substr(0,5)+"..."+e.substr(e.length-6):e}},{key:"render",value:function(){var e=this.props,t=e.imageObj,n=e.deleteImage,r=this.state,a=(r.isImgLoading,r.imageUrl),i=t.name,o=(t.src,t.usedCount),u=(t.imageId,(0,b.default)("icon-count",{hide:0===o})),l=(0,b.default)("icon-delete",{show:0!==o});return v.default.createElement("div",{className:"image-item"},v.default.createElement("div",{className:"wrap-image"},v.default.createElement("div",{className:"loaded-image"},v.default.createElement("img",{className:"preview-image",src:a}),v.default.createElement("div",{className:u},v.default.createElement("span",null,o)),v.default.createElement("div",{className:l,title:"delete",onClick:n}))),v.default.createElement("div",{className:"preview-image-tip",title:i},this.handleImageName(i)))}}]),t}(m.Component);t.default=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(51),i=r(a),o=n(5),u=r(o),l=n(3),s=r(l),d=n(4),c=r(d),f=n(7),p=r(f),h=n(6),g=r(h),m=n(8),v=r(m),y=n(1),b=r(y),w=n(358),M=r(w),x=n(87),E=n(15),I=n(286),_=r(I);n(248);var T=function(e){function t(e){return(0,s.default)(this,t),(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e))}return(0,g.default)(t,e),(0,c.default)(t,[{key:"onDragStarted",value:function(e,t){var n=e.encImgId,r=e.width,a=e.height,o=e.id,u=e.orientation,l=(0,i.default)({encImgId:n,width:r,height:a,imageid:o,orientation:u});t.dataTransfer?t.dataTransfer.setData("text",l):document.querySelector("body").setAttribute("data-drag",l);
}},{key:"deleteImage",value:function(e){var t=this.props.boundProjectActions;e.id&&t.deleteProjectImage(e.id)}},{key:"render",value:function(){var e=this,t=this.props,n=t.uploadedImages,r=t.baseUrls,a=t.userInfo,i=a.timestamp,o=a.authToken,u=a.id,l=n.map(function(e){var t=e;return t.src=(0,x.combine)((0,v.default)(r,"uploadBaseUrl"),E.IMAGE_SRC,{qaulityLevel:0,puid:e.encImgId||e.id,rendersize:"fit350",timestamp:i,token:o,customerId:u}),t});return b.default.createElement("div",{className:"image-list"},l?l.map(function(t,n){return b.default.createElement("div",{key:n},b.default.createElement(_.default,{onDragStarted:e.onDragStarted.bind(e,t)},b.default.createElement(M.default,{imageObj:t,deleteImage:e.deleteImage.bind(e,t)})))}):null)}}]),t}(y.Component);T.propTypes={},t.default=T},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=e||window.event;t.preventDefault(),t.stopPropagation()};t.onReadMoreToggle=function(e,t){var r=e.props.actions,a=r.boundTrackerActions;a.addTracker("CheckPrice,"+e.payPrice);var i=e.state.priceDetailShow;e.setState({priceDetailShow:!i},function(){e.state.priceDetailShow&&e.popupDetail.focus()}),n(t)}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(52),o=a(i),u=n(5),l=a(u),s=n(3),d=a(s),c=n(4),f=a(c),p=n(7),h=a(p),g=n(6),m=a(g),v=n(40),y=a(v),b=n(1),w=a(b),M=n(13),x=n(360),E=r(x),I=n(10),_=n(581),T=a(_);n(249);var C=n(18),S=["pagescope"],L="",D="",P=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.state={priceDetailShow:!1,basicPrice:0},n.onReadMoreToggle=function(e){return E.onReadMoreToggle(n,e)},n.hidePriceDetail=n.hidePriceDetail.bind(n),n}return(0,m.default)(t,e),(0,f.default)(t,[{key:"hidePriceDetail",value:function(){this.setState({priceDetailShow:!1})}},{key:"calcTextElementCount",value:function(e){var t=0,n=this.props,r=(n.t,n.data),a=r.allElements;return e.elements.forEach(function(e){var n=a.find(function(t){return t.id===e});n&&n.type===I.elementTypes.paintedText&&""!==n.text?t++:n&&n.type===I.elementTypes.usbText&&""!==n.text&&t++}),t}},{key:"renderDetail",value:function(e,t){var n=this;L=0,D=0;var r=this.props,a=r.t,i=r.data,u=(i.parameters,i.allElements),l=(i.settings,i.allCovers),s=i.allPages,d=[],c=0,f=0,p=0,h=0,g=0,m=0;u.forEach(function(e){e.type===I.elementTypes.cameo&&f++}),l.containers.forEach(function(e){switch(e.type){case I.pageTypes.front:p=n.calcTextElementCount(e),p=p>0?1:0;break;case I.pageTypes.back:h=n.calcTextElementCount(e),h=h>0?1:0;break;case I.pageTypes.spine:g=n.calcTextElementCount(e),g=g>0?1:0}}),s.forEach(function(e){switch(e.type){case I.pageTypes.usb:m=n.calcTextElementCount(e)}});var v={CAMEO:f},b={FRONT_COVER:p,BACK_COVER:h,SPINE_COVER:g,USB:m},M=0;return e&&(M="undefined"!=typeof e.trialPrice?+e.trialPrice:+e.sPrice?+e.sPrice:+e.oriPrice,L+=+e.oriPrice,D+=M,d.push(w.default.createElement("div",{key:d.length},w.default.createElement("label",null,a("BOX")),w.default.createElement("span",null,"$"+(0,C.round)(+e.oriPrice,2))))),(0,y.default)(t,function(e,t){if(S.indexOf(t)<0){var n=0;n=+e.sPrice?+e.sPrice:+e.oriPrice;var r=v[t.toUpperCase()]?v[t.toUpperCase()]:0;n*=r,n&&(D+=n,L+=+e.oriPrice*r,d.push(w.default.createElement("div",{key:d.length+t},w.default.createElement("label",null,a(t.toUpperCase())),w.default.createElement("span",null,"$"+(0,C.round)(r*+e.oriPrice,2)))))}}),(0,y.default)(t,function(e,t){S.indexOf(t)<0&&"paintedText"===t&&(0,o.default)(b).forEach(function(n,r){var i=0;i=+e.sPrice?+e.sPrice:+e.oriPrice;var o=b[n];i*=o,i&&(D+=i,L+=+e.oriPrice*o,d.push(w.default.createElement("div",{key:d.length+t+r},w.default.createElement("label",null,a(n)),w.default.createElement("span",null,"$"+(0,C.round)(o*+e.oriPrice,2)))))})}),c=(0,C.round)(+L-+D,2),d.push(w.default.createElement("div",{key:d.length},w.default.createElement("label",null,a("DISCOUNT")),w.default.createElement("span",{className:"discount"},w.default.createElement("i",null,"- "),"$"+c))),d.push(w.default.createElement("hr",{key:d.length})),d.push(w.default.createElement("div",{key:d.length},w.default.createElement("label",null,a("TOTAL")),w.default.createElement("span",null,"$"+(0,C.round)(+D,2)))),this.payPrice=D,d}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.t,a=(n.parameters,n.price),i=a.main,o=a.options,u=this.renderDetail(i,o),l="",s="",d="";0===D?(l=I.FREE,s="$"+(0,C.round)(+L,2),d=r("GET_FREE_TRIAL")):(D<L&&(s="$"+(0,C.round)(+L,2)),l=D!==I.FREE?"$"+(0,C.round)(+D,2)+" USD":(0,C.round)(+D,2));var c={display:this.state.priceDetailShow?"block":"none"};return w.default.createElement("div",{className:"item-price"},w.default.createElement("div",{className:"item-price-container"},w.default.createElement("span",{className:"price",title:d,alt:d},w.default.createElement("span",null,s),l),w.default.createElement("a",{href:"javascript:void(0);",onClick:this.onReadMoreToggle},w.default.createElement("img",{src:T.default})),w.default.createElement("div",{className:"detail",style:c,tabIndex:"-1",ref:function(t){e.popupDetail=t},onBlur:this.hidePriceDetail},u)))}}]),t}(b.Component);t.default=(0,M.translate)("ItemPrice")(P)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialUsbTextElement=void 0;var r=n(10);t.initialUsbTextElement=function(e){var t=(e.setting,e.pageArray),n=e.variableMap.usbTextSize,a=e.boundProjectActions,i=t.find(function(e){return e.type===r.pageTypes.usb});if(n&&i&&0===i.elements.length){var o=i.width,u=i.height,l=(o-n.width)/2,s=(u-n.height)/2,d=l/o,c=s/u,f=n.width/o,p=n.height/u,h={type:r.elementTypes.usbText,elType:"text",px:d,py:c,pw:f,ph:p,x:d*o,y:c*u,height:n.height,width:n.width,fontColor:"#000000",fontFamilyId:r.defaultFontStyle.defaultFontFamilyId,fontId:r.defaultFontStyle.defaultFontId,fontFamily:r.defaultFontStyle.defaultFontFamily,fontWeight:r.defaultFontStyle.defaultFontWeight,textAlign:"center",dep:1,rot:0,text:""};a.createElement(i.id,h)}}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=a(i),u=n(122),l=a(u),s=n(115),d=a(s),c=n(16),f=a(c),p=n(5),h=a(p),g=n(3),m=a(g),v=n(4),y=a(v),b=n(7),w=a(b),M=n(6),x=a(M),E=n(24),I=a(E),_=n(1),T=a(_),C=n(351),S=a(C),L=n(291),D=a(L),P=n(295),A=a(P),O=n(290),k=a(O),j=n(28),N=n(362),z=r(N),R=function(e){function t(e){(0,m.default)(this,t);var n=(0,w.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));return n.onRotateClick=n.onRotateClick.bind(n),n.onImageEditModalCanceled=n.onImageEditModalCanceled.bind(n),n}return(0,x.default)(t,e),(0,y.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.boundSpecActions,n=e.boundEnvActions,r=e.boundProjectActions,a=e.projectId,i=e.encProjectIdString,o=e.boundSystemActions;n.getEnv().then(function(){i?(t.getSpecData(),o.getFontList(),r.getPreviewProjectData(i).then(function(){r.projectLoadCompleted()})):a!==-1?(t.getSpecData(),o.getFontList(),n.getUserInfo()):f.default.all([t.getSpecData(),n.getUserInfo(),o.getFontList()]).then(function(){r.projectLoadCompleted()}).catch(function(e){return console.log(e)})})}},{key:"componentWillReceiveProps",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,d.default)(l.default.mark(function e(t){var n,r,a,i,o,u,s,d,c,f,p,h,g,m,v,y;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props.userId,r=t.userId,a=this.props,i=a.boundProjectActions,o=a.boundSystemActions,u=a.boundPriceActions,s=a.boundEnvActions,d=a.boundTrackerActions,c=a.onSaveProject,f=a.projectId,p=a.setting,h=a.baseUrls,g=a.project,m=a.isProjectLoadCompleted,!t.isSpecLoaded||r===-1||n===r&&this.props.isSpecLoaded===t.isSpecLoaded){e.next=24;break}if(r){e.next=8;break}return e.next=7,o.showConfirm({confirmMessage:"Please log in!",okButtonText:"Done",cancelButtonText:"Cancel",onOkClick:function(){window.location.href=h.baseUrl}});case 7:return e.abrupt("return");case 8:if(f===-1){e.next=23;break}return e.next=11,i.getProjectData(r,f);case 11:return e.next=13,i.getProjectOrderedState(r,f);case 13:return e.next=15,s.getAlbumId(r,f);case 15:return e.next=17,s.getProjectTitle(r,f);case 17:return v=e.sent,i.changeProjectTitle(v.projectName),e.next=21,i.projectLoadCompleted();case 21:e.next=24;break;case 23:c();case 24:y=t.project.projectId,f!==y&&(console.log("init project"),s.addAlbum(r,t.project.title,y).then(function(){f===-1&&(i.projectLoadCompleted(),d.addTracker("BookLoadComplete"))}));case 26:case"end":return e.stop()}},e,this)}));return e}()},{key:"componentDidUpdate",value:function(e){var t=this.props,n=(t.onSaveProject,t.setting),r=t.userId,a=t.isProjectLoadCompleted,i=t.projectId,o=t.boundPriceActions,u=t.boundProjectActions,l=(t.mainProjectUid,t.encImgId,t.pageArray),s=t.variableMap,d=t.isFromMyPhoto,c=t.baseUrls,f=t.allOptionMap;if(a&&"usbCase"===n.product&&z.initialUsbTextElement({setting:n,pageArray:l,boundProjectActions:u,variableMap:s}),a&&e.isProjectLoadCompleted!==a){var p=document.querySelector("title"),h=f.product.find(function(e){return e.id===n.product}).title;p.innerText=p.innerText.replace("Box",h)}a&&"true"===d&&e.isProjectLoadCompleted!==a&&u.getMyPhotoImages(c.baseUrl,r),i===-1&&r!==-1&&e.isProjectLoadCompleted!==a&&a,(0,I.default)(e.setting,n)||o.getProductPrice(n)}},{key:"onRotateClick",value:function(){var e=this.props.boundTrackerActions;e.addTracker(j.ClickRotateImage)}},{key:"onImageEditModalCanceled",value:function(){var e=this.props.boundSystemActions;e.hideImageEditModal()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.confirmData,a=e.notifyData,i=e.userId,u=e.imageEditModalData,l=e.boundSystemActions,s=e.boundEnvActions;return T.default.createElement("div",{className:n},t,T.default.createElement(S.default,(0,o.default)({},r,{onModalClose:l.hideConfirm})),T.default.createElement(A.default,(0,o.default)({},a,{hideNotify:l.hideNotify})),T.default.createElement(D.default,(0,o.default)({imageName:""},u,{onRotateClick:this.onRotateClick,onCancelClick:this.onImageEditModalCanceled.bind(this)})),T.default.createElement(k.default,{userId:i,keepAlive:s.keepAlive}))}}]),t}(_.Component);R.propTypes={children:_.PropTypes.node.isRequired,boundSpecActions:_.PropTypes.object.isRequired,boundProjectActions:_.PropTypes.object.isRequired,boundEnvActions:_.PropTypes.object.isRequired,boundSystemActions:_.PropTypes.object.isRequired,boundPriceActions:_.PropTypes.object.isRequired,projectId:_.PropTypes.number.isRequired,userId:_.PropTypes.number.isRequired,setting:_.PropTypes.object.isRequired,onSaveProject:_.PropTypes.func.isRequired,isProjectLoadCompleted:_.PropTypes.bool.isRequired,encProjectIdString:_.PropTypes.string.isRequired,baseUrls:_.PropTypes.object.isRequired,className:_.PropTypes.string,confirmData:_.PropTypes.object,notifyData:_.PropTypes.object,imageEditModalData:_.PropTypes.object,mainProjectUid:_.PropTypes.string,encImgId:_.PropTypes.string},t.default=R},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=a(i),u=n(3),l=a(u),s=n(4),d=a(s),c=n(7),f=a(c),p=n(6),h=a(p),g=n(8),m=a(g),v=n(1),y=a(v),b=n(13),w=n(337),M=a(w),x=n(342),E=a(x),I=n(134),_=a(I),T=n(365),C=r(T);n(251);var S=function(e){function t(e){(0,l.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.onRotateImage=function(e){return C.onRotateImage(n,e)},n.onRemoveImage=function(e){return C.onRemoveImage(n,e)},n.onCropImage=function(e){return C.onCropImage(n,e)},n.toggleOperationPanel=n.toggleOperationPanel.bind(n),n.hideOperationPanel=n.hideOperationPanel.bind(n),n.clearElementSelect=n.clearElementSelect.bind(n),n.selectElementOnMainContainer=n.selectElementOnMainContainer.bind(n),n.state={isOperationPanelShow:!1,operationPanelPosition:{top:300,left:950},activeElement:null,selectElement:null},n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.clearElementSelect),window.addEventListener("click",this.hideOperationPanel)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.clearElementSelect),window.removeEventListener("click",this.hideOperationPanel)}},{key:"clearElementSelect",value:function(e){var t=this.props,n=t.boundProjectActions;t.elementArray;e.target!==this.state.selectElement&&n.clearElementSelect()}},{key:"selectElementOnMainContainer",value:function(e){this.setState({selectElement:e})}},{key:"toggleOperationPanel",value:function(e,t,n){var r=this.props.boundProjectActions;this.setState({isOperationPanelShow:e,operationPanelPosition:{top:t&&t.top||0,left:t&&t.left||0},activeElement:n}),r.clearElementSelect()}},{key:"hideOperationPanel",value:function(){this.setState({isOperationPanelShow:!1,operationPanelPosition:{top:0,left:0},activeElement:null})}},{key:"render",value:function(){var e=this.props,t=e.paginationSpread,n=e.rate,r=e.boundProjectActions,a=e.urls,i=e.pagination,o=e.boundPaginationActions,u=e.boundSystemActions,l=e.boundUploadedImagesActions,s=e.boundWorkspaceActions,d=e.boundTrackerActions,c=e.toggleModal,f=e.isProjectLoadCompleted,p=e.setting,h=e.parameterMap,g=e.editText,v=e.coverPageSpread,b=e.innerPageSpread,w=e.isPreview,x=e.editTextWithoutJustify,I=e.userInfo,T={boundProjectActions:r,boundPaginationActions:o,boundSystemActions:u,boundUploadedImagesActions:l,toggleModal:c,toggleOperationPanel:this.toggleOperationPanel,boundWorkspaceActions:s,boundTrackerActions:d,editText:g,selectElementOnMainContainer:this.selectElementOnMainContainer,editTextWithoutJustify:x},C={boundProjectActions:r,boundPaginationActions:o,boundSystemActions:u,boundUploadedImagesActions:l,toggleModal:c,toggleOperationPanel:this.toggleOperationPanel,boundWorkspaceActions:s,boundTrackerActions:d,editText:g,selectElementOnMainContainer:this.selectElementOnMainContainer,editTextWithoutJustify:x},S=t.backgroundSize,L=(t.summary,t.pages,(0,m.default)(S,"bgImageWidth")*n),D=(0,m.default)(S,"bgImageHeight")*n,P={width:L+"px",height:D+"px"},A=[],O={paginationSpread:v,rate:n,urls:a,pagination:i,setting:p,parameterMap:h,isPreview:w,isProjectLoadCompleted:f,userInfo:I};A.push(y.default.createElement(M.default,{key:0,actions:T,data:O}));var k={paginationSpread:b,rate:n,urls:a,pagination:i,setting:p,parameterMap:h,isPreview:w};return A.push(y.default.createElement(E.default,{key:1,actions:C,data:k})),y.default.createElement("div",{className:"main-render-container",style:P},y.default.createElement(_.default,{shown:this.state.isOperationPanelShow,offset:this.state.operationPanelPosition,onRotateImage:this.onRotateImage,onRemoveImage:this.onRemoveImage,onCropImage:this.onCropImage}),A)}}]),t}(v.Component);t.default=(0,b.translate)("MainRenderContainer")(S)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.onRemoveImage=t.onRotateImage=t.onCropImage=void 0;var a=n(11),i=r(a),o=n(8),u=r(o),l=n(10),s=n(30),d=n(28),c=n(48);r(c),t.onCropImage=function(e){var t=e.props,n=(t.boundImageEditModalActions,t.boundProjectActions),r=t.boundSystemActions,a=t.rate,o=t.paginationSpread,c=t.boundTrackerActions,f=o.images,p=e.state.activeElement,h=(0,u.default)(p,"width"),g=(0,u.default)(p,"height"),m=p.computed,v=p.encImgId,y=p.imgRot,b=p.imageid,w=p.cropLUX,M=p.cropLUY,x=p.cropRLX,E=p.cropRLY,I=p.type,_=m.width,T=m.height,C=(0,u.default)(f,v),S=C.width,L=C.height,D=C.name,P=I===l.elementTypes.dvd;if(Math.round(h*a)!==_||Math.round(g*a)!==T){var A=(0,s.getCropOptions)(S,L,_,T,y);w=A.cropLUX,M=A.cropLUY,x=A.cropRLX,E=A.cropRLY}r.showImageEditModal({imageEditApiTemplate:m.corpApiTemplate,encImgId:v,imageId:v?0:parseInt(b),rotation:parseInt(y),imageWidth:parseInt(S),imageHeight:parseInt(L),imageName:D,elementWidth:parseInt(_/a),elementHeight:parseInt(T/a),isShowDvdCropCover:P,crop:{cropLUX:w-0,cropLUY:M-0,cropRLX:x-0,cropRLY:E-0},onDoneClick:function(e,t,r){var a=(0,i.default)({},t),o=(0,u.default)(t,"cropRLX")-(0,u.default)(t,"cropLUX"),l=(0,u.default)(t,"cropRLY")-(0,u.default)(t,"cropLUY");o&&l||(0,i.default)(a,{cropLUX:w-0,cropLUY:M-0,cropRLX:x-0,cropRLY:E-0}),n.updateElement((0,i.default)({},a,{imgRot:r,id:(0,u.default)(p,"id")}))}}),c.addTracker(d.ClickCropImage)},t.onRotateImage=function(e){var t=e.props,n=t.boundProjectActions,r=t.paginationSpread,a=t.boundTrackerActions,i=r.images,o=e.state.activeElement,l={0:90,90:180,180:-90,"-90":0},c=o.imgRot,f=o.encImgId,p=(0,u.default)(i,f),h=(0,u.default)(o,"computed.width"),g=(0,u.default)(o,"computed.height"),m=p.width,v=p.height,y=l[c],b=(0,s.getCropOptions)(m,v,h,g,y),w=(0,s.getCropLRByOptions)(b.px,b.py,b.pw,b.ph);n.updateElement({id:(0,u.default)(o,"id"),imgRot:y,cropLUX:w.cropLUX,cropLUY:w.cropLUY,cropRLX:w.cropRLX,cropRLY:w.cropRLY}),a.addTracker(d.ClickRotateImage)},t.onRemoveImage=function(e,t){var n=e.props,r=n.boundProjectActions,a=n.paginationSpread,i=n.boundTrackerActions,o=(a.images,e.state.activeElement);(0,u.default)(o,"type")!==l.elementTypes.photo&&(0,u.default)(o,"type")!==l.elementTypes.dvd||!(0,u.default)(o,"encImgId")?r.deleteElement((0,u.default)(page,"id"),(0,u.default)(o,"id")):(r.updateElement({id:(0,u.default)(o,"id"),encImgId:"",imageid:"",cropLUX:0,cropLUY:0,cropRLX:0,cropRLY:0,imgRot:0}),i.addTracker(d.ClickRemoveImage))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h);n(253);var m=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"onClick",value:function e(){var t=this.props,e=t.onClick,n=t.id,r=t.type;e(r,n)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.isSelected,r=e.type,a=e.thumbnailUrl,i=!!a;return g.default.createElement("div",{className:"OptionItem"+(i?" isImage":"")},i?g.default.createElement("img",{title:t,src:a,onClick:this.onClick,className:"OptionItem__image"+(n?" isSelected":"")}):null,i?null:g.default.createElement("label",{className:"OptionItem__select",onClick:this.onClick},g.default.createElement("input",{name:r,type:"radio",checked:n,onChange:function(){}}),t))}}]),t}(h.Component);m.propTypes={id:h.PropTypes.string.isRequired,type:h.PropTypes.string.isRequired,title:h.PropTypes.string.isRequired,onClick:h.PropTypes.func.isRequired,isSelected:h.PropTypes.bool.isRequired},t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectAvailableOptions=t.resetSettingHandler=void 0;var a=n(116),i=r(a),o=n(81),u=r(o),l=n(182),s=r(l),d=n(32),c=r(d),f=n(19),p=r(f),h=n(66),g=r(h),m=n(400),v=r(m),y=function(e){return v.default.find(function(t){return t.product===e.product}).optionIds},b=function(e,t){return t.id===e?t.isSelected=!0:t.isSelected=!1,t},w=function(e,t,n,r,a){var i=g.default.getVariables((0,p.default)({},t,(0,c.default)({},n,r.id)),a)[e];return(0,p.default)({},r,i)},M=function(e,t,n,r){var a=t[e];return n.map(function(n){return n=b(a,n),"leatherColor"===e&&(n=w("coverAsset",t,e,n,r)),n})};t.resetSettingHandler=function(e){var t=(0,p.default)({},e);return t},t.getProjectAvailableOptions=function(e,t,n,r){var a=[],o=y(e),l=(0,s.default)(g.default.getAvailableOptionMap(e,t,n)),d=!0,c=!1,f=void 0;try{for(var p,h=(0,u.default)(o);!(d=(p=h.next()).done);d=!0){var m=p.value,v=!0,b=!1,w=void 0;try{for(var x,E=(0,u.default)(l);!(v=(x=E.next()).done);v=!0){var I=(0,i.default)(x.value,2),_=I[0],T=I[1];m.type===_&&a.push({type:m.type,title:m.title,showHr:m.showHr,options:M(_,e,T,r)})}}catch(e){b=!0,w=e}finally{try{!v&&E.return&&E.return()}finally{if(b)throw w}}}}catch(e){c=!0,f=e}finally{try{!d&&h.return&&h.return()}finally{if(c)throw f}}return a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(32),i=r(a),o=n(50),u=r(o),l=n(5),s=r(l),d=n(3),c=r(d),f=n(4),p=r(f),h=n(7),g=r(h),m=n(6),v=r(m),y=n(1),b=r(y),w=n(366),M=r(w);n(254);var x=n(367),E=function(e){function t(e){(0,c.default)(this,t);var n=(0,g.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return(0,v.default)(t,e),(0,p.default)(t,[{key:"onClick",value:function(e,t){var n=this.props,r=n.boundProjectActions,a=n.setting;a[e]!==t&&r.changeProjectSetting((0,u.default)({},a,(0,i.default)({},e,t)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.setting,r=t.allOptionMap,a=t.variableArray,i=t.configurableOptionArray,o=(0,x.getProjectAvailableOptions)((0,x.resetSettingHandler)(n),i,r,a);return b.default.createElement("div",{className:"OptionList"},o.map(function(t,n){var r=t.title,a=t.options,i=t.showHr,o=t.type;return a.some(function(e){return"none"===e.id})&&1===a.length?null:b.default.createElement("div",{className:"OptionType"+(i?" showHr":""),key:n},b.default.createElement("div",{className:"OptionType__title"},r),a.map(function(t,n){return b.default.createElement(M.default,{type:o,key:n,id:t.id,title:t.name||t.title,onClick:e.onClick,isSelected:t.isSelected,thumbnailUrl:t.thumbnailUrl})}))}))}}]),t}(y.Component);E.propTypes={},t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(21),g=r(h),m=n(1),v=r(m),y=n(289),b=r(y),w=n(15),M=n(10),x=n(28);n(256);var E=n(385),I=r(E),_=["cover","dvdType","type","spineThickness"],T=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.handleDownload=n.handleDownload.bind(n),n.handlePreview=n.handlePreview.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleOrder=n.handleOrder.bind(n),n.handleSave=n.handleSave.bind(n),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"generateSpecPackageName",value:function(){var e=this.props.setting,t=e.size+"SPEC";return t+=_.reduce(function(t,n){return t+("none"!==e[n]?"_"+e[n]:"")},"")}},{key:"handleDownload",value:function(){var e=this.props,t=e.setting,n=e.baseUrls,r=e.boundTrackerActions,a=(e.useSpecModal,e.boundUseSpecActions),i=(0,g.default)(w.GET_BOX_SPEC)({baseUrl:n.baseUrl,product:t.product,specName:this.generateSpecPackageName()});a.showUseSpecModal({url:i}),r.addTracker(x.ClickDownloadSpec)}},{key:"handleSetOption",value:function(){alert("handleSetOption")}},{key:"handlePreview",value:function(){var e=this.props.boundSystemActions;e.showConfirm({confirmMessage:"Your current project was already orderd or added to cart.You need to save your addtional changes into a new project.",okButtonText:"Save as",cancelButtonText:"Cancel",onOkClick:function(){},onCancelClick:function(){}})}},{key:"handleSave",value:function(){var e=this.props,t=e.projectId,n=e.onSaveProject,r=e.boundSystemActions,a=e.boundTrackerActions;t&&(a.addTracker(x.ClickSave),n(function(){r.showNotify("Saved successfully!")}))}},{key:"isElementEmpty",value:function(e){return!(Boolean(e.encImgId)||Boolean(e.imageid)||Boolean(e.text))}},{key:"isCameoEmpty",value:function(e){var t=e.find(function(e){return e.type===M.elementTypes.cameo});return t&&this.isElementEmpty(t)}},{key:"isAllElementsEmpty",value:function(e){var t=this;return e.every(function(e){return t.isElementEmpty(e)})}},{key:"orderProject",value:function(){var e=this.props,t=e.onSaveProject,n=e.baseUrls,r=e.projectId;t(function(){window.onbeforeunload=null,window.location.href=(0,g.default)(w.ORDER)({baseUrl:n.baseUrl,projectId:r})})}},{key:"isSomeDvdElementEmpty",value:function(e){var t=this;return e.some(function(e){return e.type===M.elementTypes.dvd&&t.isElementEmpty(e)})}},{key:"handleOrder",value:function(){var e=this,t=this.props,n=(t.onSaveProject,t.baseUrls,t.projectId),r=t.boundTrackerActions,a=t.boundSystemActions,i=t.boundPaginationActions,o=t.elementArray,u=t.setting;n&&(r.addTracker(x.ClickOrder),this.isCameoEmpty(o)?a.showConfirm({confirmTitle:"ERROR",confirmMessage:"You added a cameo window in your box, please place image in it.",okButtonText:"Back to edit",onOkClick:function(){a.hideConfirm(),i.switchSheet(0)}}):this.isAllElementsEmpty(o)?a.showConfirm({confirmMessage:"Do you really want to add a blank product to your cart?",okButtonText:"Continue",cancelButtonText:"Cancel",onOkClick:function(){e.orderProject()}}):"dvdCase"===u.product&&this.isSomeDvdElementEmpty(o)?a.showConfirm({confirmMessage:"Do you really want to add a blank product to your cart?",okButtonText:"Continue",cancelButtonText:"Cancel",onOkClick:function(){e.orderProject()}}):this.orderProject())}},{key:"handleSubmit",value:function(){var e=this.props,t=e.boundProjectActions,n=e.boundSystemActions,r=e.orderState,a=e.projectId,i=e.userId,o=e.onSaveProject;r.checkFailed&&o(function(){t.updateCheckStatus(i,a).then(function(e){e?(t.getProjectOrderedState(i,a),n.showConfirm({confirmMessage:"Thank you for submitting your changes to this ordered frame project. We will review this frame project again. If no issue is found, we will proceed with your order processing.",onOkClick:function(){n.hideConfirm()},okButtonText:"OK"})):n.showConfirm({confirmMessage:"Submit failed, please try again or contact us.",onOkClick:function(){n.hideConfirm()},okButtonText:"OK"})})})}},{key:"render",value:function(){var e=this.props,t=e.boundProjectActions,n=e.boundTrackerActions,r=e.boundSystemActions,a=e.setting,i=(e.onLoginHandle,e.onPreviewHandle),o=e.isProjectEdited,u=e.showCloneModal,l=e.onSaveProject,s=e.baseUrls,d=e.typeText,c=e.orderState,f=e.projectId,p=e.userId,h=(e.env,e.spec,e.project),g="",m=h?h.title:"",y=a.product,w=a.size;if(y&&w){var M="IB"===y?"Image Box":"",x=w.replace("X","*");g="Customize your "+M+" - "+x+" - "+d}var E={title:m,projectId:f,userId:p,orderState:c},_={boundProjectActions:t,boundTrackerActions:n,boundSystemActions:r};return v.default.createElement(b.default,{boundSystemActions:r,isProjectEdited:o,onSaveProject:l,baseUrls:s,dontStopPropagation:!0},v.default.createElement(I.default,{data:E,actions:_,projectSettings:a}),v.default.createElement("div",{className:"head-nav"},v.default.createElement("span",{className:"nav-item",onClick:this.handleDownload},"Box Spec"),v.default.createElement("span",{className:"nav-item",onClick:u},"Clone"),v.default.createElement("span",{className:"nav-item",onClick:i},"Preview"),v.default.createElement("span",{className:"nav-item",onClick:this.handleSave},"Save"),c.checkFailed?v.default.createElement("span",{className:"nav-item",onClick:this.handleSubmit},"Submit"):v.default.createElement("span",{className:"nav-item",onClick:this.handleOrder},"Order")))}}]),t}(m.Component);T.propTypes={onLoginHandle:m.PropTypes.func.isRequired,onPreviewHandle:m.PropTypes.func.isRequired,projectId:m.PropTypes.number.isRequired,baseUrls:m.PropTypes.object.isRequired,setting:m.PropTypes.object.isRequired,typeText:m.PropTypes.string.isRequired,onSaveProject:m.PropTypes.func.isRequired,boundSystemActions:m.PropTypes.object.isRequired,isProjectEdited:m.PropTypes.bool.isRequired,boundTrackerActions:m.PropTypes.object.isRequired},t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(8),g=r(h),m=n(9),v=r(m),y=n(13),b=n(1),w=r(b);n(257);var M=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.switchPage=function(e){var t=n.props.actions,r=t.switchPage;r&&r(e)},n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=(e.actions,e.children,t.pagination),r=t.style,a=t.hasLeftPage,i=t.hasRightPage,o=(0,v.default)("page-item left-item",{active:0===(0,g.default)(n,"pageIndex"),disable:!a}),u=a?1:0,l=(0,v.default)("page-item right-item",{active:(0,g.default)(n,"pageIndex")===u,disable:!i});return w.default.createElement("div",{className:"page-number-icon",style:r},w.default.createElement("div",{onClick:this.switchPage.bind(this,0),className:o}),w.default.createElement("div",{onClick:this.switchPage.bind(this,u),className:l}))}}]),t}(b.Component);M.propTypes={},M.defaultProps={actions:{switchPage:function(){}},data:{pageNumber:{leftPage:{text:"Page 1",active:!0,disable:!1},rightPage:{text:"Page 2",active:!1,disable:!1}}}},t.default=(0,y.translate)("PageNumber")(M)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(9),g=r(h),m=n(1),v=r(m),y=n(13);n(258);var b=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.rotatePage=n.rotatePage.bind(n),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"rotatePage",value:function(e){var t=this.props,n=t.rotation,r=t.rotateCover;n!==e&&r&&r(e)}},{key:"render",value:function(){var e=this,t=this.props.rotation,n=(0,g.default)("landscape-button",{active:!t}),r=(0,g.default)("portrait-button",{active:t});return v.default.createElement("div",{className:"bottons-wrap"},v.default.createElement("div",{onClick:function(){e.rotatePage(!1)},className:n},"Landscape"),v.default.createElement("div",{onClick:function(){e.rotatePage(!0)},className:r},"Portrait"))}}]),t}(m.Component);t.default=(0,y.translate)("PageRotateButtons")(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.handlerClick=t.onDrop=t.handleDragOver=t.stopEvent=void 0;var a=n(11),i=r(a),o=n(8),u=r(o),l=n(30),s=n(10),d=n(53),c=t.stopEvent=function(e){var t=e||window.event;t.preventDefault(),t.stopPropagation()};t.handleDragOver=function(e,t){c(t)},t.onDrop=function(e,t){var n=e.props,r=n.data,a=n.actions,o=r.element,f=r.page,p=r.rate,h=r.pagination,g=a.boundProjectActions,m=a.boundPaginationActions,v=a.toggleOperationPanel,y=(0,u.default)(o,"pw")*(0,u.default)(f,"width")*p,b=(0,u.default)(o,"ph")*(0,u.default)(f,"height")*p,w=t||window.event,M=(0,d.getTransferData)(w);if(f&&h.pageId!==(0,u.default)(f,"id")&&(0,u.default)(f,"type")!==s.pageTypes.spine){var x=1===h.pageIndex?0:1;m.switchPage(x,(0,u.default)(f,"id"))}if(M){var E=M,I=parseInt(E.orientation)||0,_=E.width,T=E.height,C=(0,u.default)(o,"id"),S=(0,l.getCropOptions)(_,T,y,b,I),L=(0,i.default)({},(0,l.getCropLRByOptions)(S.px,S.py,S.pw,S.ph),{id:C,encImgId:E.encImgId,imageid:E.imageid,imgRot:I,style:{effectId:0,opacity:100},imgFlip:!1});g.updateElement(L)}v(!1),c(t)},t.handlerClick=function(e,t,n){var r=e.props,a=r.actions,o=r.data,l=a.toggleOperationPanel,s=a.openUploadImageModal,d=a.boundWorkspaceActions,c=o.element,f=(0,u.default)(c,"encImgId");if(f){var p=n||window.event,h={top:p.clientY,left:p.clientX};l(!0,h,(0,i.default)({},c))}else{var g=(0,u.default)(c,"id"),m=(0,u.default)(c,"computed.width"),v=(0,u.default)(c,"computed.height");d.autoAddPhotoToCanvas(!0,g,m,v),s()}}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);
return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=a(i),u=n(3),l=a(u),s=n(4),d=a(s),c=n(7),f=a(c),p=n(6),h=a(p),g=n(11),m=a(g),v=n(8),y=a(v),b=n(9),w=a(b),M=n(1),x=a(M),E=n(13),I=n(37),_=a(I),T=n(45),C=a(T),S=n(56),L=a(S),D=n(131),P=a(D),A=n(372),O=r(A),k=n(10);n(259);var j=function(e){function t(e){(0,l.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.handleDragOver=function(e){return O.handleDragOver(n,e)},n.onDrop=function(e){return O.onDrop(n,e)},n.handlerClick=function(e,t){return O.handlerClick(n,e,t)},n.onImageLoaded=n.onImageLoaded.bind(n),n.state={isImgLoading:!1},n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.data.element.encImgId,n=(0,y.default)(this.props.data.element,"computed.imgUrl"),r=(0,y.default)(e.data.element,"computed.imgUrl");t&&n!==r&&r&&this.setState({isImgLoading:!0})}},{key:"onImageLoaded",value:function(){this.setState({isImgLoading:!1})}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.actions,r=e.data,a=r.element,i=r.rate,o=r.page,u=r.isPreview,l=(r.isCover,(0,y.default)(a,"computed")),s=(0,y.default)(a,"computed.imgUrl"),d=(0,y.default)(a,"computed.scale"),c=(0,y.default)(l,"left"),f=(0,y.default)(l,"top"),p=(0,y.default)(l,"width"),h=(0,y.default)(l,"height"),g=this.state,v=g.isImgLoading,b=g.src,M={zIndex:(0,y.default)(a,"dep")+100,width:p,height:h,left:c,top:f,transform:"rotate("+(0,y.default)(a,"rot")+"deg)"},E={position:"absolute",width:(0,y.default)(l,"width")+"px",height:(0,y.default)(l,"height")+"px",top:0,left:0},I=(0,m.default)({},E,{display:s?"block":"none"}),T=(0,m.default)({},n,{handleDrop:this.onDrop,handleClick:this.handlerClick,handleDragOver:this.handleDragOver}),S=(0,m.default)({},r,{className:(0,w.default)("photo-element",{"has-image":!!s,"error-image":!!s&&!b}),style:M,handlerStyle:E}),D=((0,y.default)(o,"bleed.bottom")+(0,y.default)(o,"wrapSize.bottom"))*i+8,A=((0,y.default)(o,"bleed.left")+(0,y.default)(o,"wrapSize.left"))*i+8,O={isShown:d>k.RESIZE_LIMIT,title:t("BEYOND_SIZE_TIP",{n:d,m:k.RESIZE_LIMIT}),left:A,bottom:D};return x.default.createElement(L.default,{actions:T,data:S},x.default.createElement(_.default,{isShown:v}),x.default.createElement("img",{className:"photo-img",src:s,style:I,onLoad:this.onImageLoaded}),u?null:x.default.createElement(P.default,{viewWidth:p,viewHeight:h,hasImage:s}),u?null:x.default.createElement(C.default,O))}}]),t}(M.Component);t.default=(0,E.translate)("PhotoElement")(j)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(26),v=r(m),y=n(20),b=(r(y),n(136)),w=(r(b),n(135)),M=(r(w),n(137)),x=r(M),E=n(13);n(54),n(10),n(15);n(260);var I=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.onClosed,n=e.opened,r=e.hasPreview,a=(e.boundSystemActions,e.boundProjectActions),i=e.boundWorkspaceActions,o=e.boundTrackerActions,u=e.boundUploadedImagesActions,l=e.setting,s=e.baseUrls,d=e.loadingData,c=e.imageArray,f=(e.toggleModal,e.getImageDetail,e.ratio),p=e.pagination,h=e.boundPaginationActions,m=e.cover,y=e.pageArray,b=e.elementArray,w=e.variableMap,M=e.paginationSpread,E=e.coverPageSpread,I=e.innerPageSpread,_=e.parameterMap,T=e.isProjectLoadCompleted,C=e.userInfo;return g.default.createElement(v.default,{className:"preview-modal",onClosed:t,isHideIcon:r,opened:n},g.default.createElement("div",{className:"box-preview"},g.default.createElement("div",{className:"container-preview"},g.default.createElement(x.default,{boundProjectActions:a,boundWorkspaceActions:i,boundTrackerActions:o,setting:l,baseUrls:s,loadingData:d,imageArray:c,boundUploadedImagesActions:u,toggleModal:this.toggleModal,getImageDetail:this.getImageDetail,ratio:f,pagination:p,boundPaginationActions:h,cover:m,pageArray:y,elementArray:b,variableMap:w,paginationSpread:M,parameterMap:_,coverPageSpread:E,innerPageSpread:I,isPreview:!0,isProjectLoadCompleted:T,userInfo:C}))))}}]),t}(h.Component);I.propTypes={onClosed:h.PropTypes.func.isRequired,opened:h.PropTypes.bool.isRequired},t.default=(0,E.translate)("PreviewModal")(I)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(24),g=r(h),m=n(11),v=r(m),y=n(1),b=r(y),w=n(62),M=r(w),x=n(20),E=(r(x),n(10),n(28)),I=n(13),_=n(380),T=r(_),C=n(376),S=r(C),L=n(359),D=r(L),P=n(368),A=r(P);n(261);var O=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e)),r=n.props.imageArray;return n.state={selectedTab:"IMAGES",selectedSize:null,sortBy:"<,uploadTime",isChecked:!1,imageArray:r},n.onSelected=n.onSelected.bind(n),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"onToggleHideUsed",value:function(e){var t=this.props,n=t.imageArray,r=t.imageUsedCountMap,a=this.state.sortBy.split(","),i=a[0],o=a[1];this.setState({isChecked:e});var u=this.checkUsageCount((0,v.default)([],n),r);u.sort(function(e,t){switch(i){case"<":return"name"===o?t[o].localeCompare(e[o]):t[o]-e[o];default:return"name"===o?e[o].localeCompare(t[o]):e[o]-t[o]}}),e?(u=this.state.imageArray.filter(function(e){return 0===e.usedCount}),this.setState({imageArray:u})):this.setState({imageArray:u})}},{key:"componentWillReceiveProps",value:function(e){if(!(0,g.default)(this.props.imageArray,e.imageArray)||!(0,g.default)(this.props.imageUsedCountMap,e.imageUsedCountMap)){var t=this.state.sortBy.split(","),n=t[0],r=t[1],a=this.checkUsageCount((0,v.default)([],e.imageArray),e.imageUsedCountMap);if(a.sort(function(e,t){switch(n){case"<":return"name"===r?t[r].localeCompare(e[r]):t[r]-e[r];default:return"name"===r?e[r].localeCompare(t[r]):e[r]-t[r]}}),this.state.isChecked){var i=a.filter(function(e){return 0===e.usedCount});this.setState({imageArray:i})}else this.setState({imageArray:a})}}},{key:"checkUsageCount",value:function(e,t){return e&&e.length&&e.forEach(function(e){var n=t&&t[e.id]?t[e.id]:0;e.usedCount=n}),e}},{key:"onSorted",value:function(e){var t=this.props,n=t.imageArray,r=t.imageUsedCountMap,a=e.value,i=a.split(","),o=i[0],u=i[1];this.setState({sortBy:a});var l=this.checkUsageCount((0,v.default)([],n),r);if(l.sort(function(e,t){switch(o){case"<":return"name"===u?t[u].localeCompare(e[u]):t[u]-e[u];default:return"name"===u?e[u].localeCompare(t[u]):e[u]-t[u]}}),this.state.isChecked){var s=l.filter(function(e){return 0===e.usedCount});this.setState({imageArray:s})}else this.setState({imageArray:l})}},{key:"uploadFileClicked",value:function(){var e=this.props.boundTrackerActions,t=function(){e.addTracker(E.ClickAddPhotos)};this.timer&&clearTimeout(this.timer);var n=setTimeout(t,30);this.timer=n}},{key:"getImageListAndBtnsHtml",value:function(){var e="",t=this.props,n=t.boundUploadedImagesActions,r=t.boundProjectActions,a=t.imageArray,i=t.baseUrls,o=t.userInfo;return a&&a.length&&(e=b.default.createElement("div",null,b.default.createElement(S.default,{onSorted:this.onSorted.bind(this),onToggleHideUsed:this.onToggleHideUsed.bind(this),isChecked:this.state.isChecked}),b.default.createElement(D.default,{uploadedImages:this.state.imageArray,baseUrls:i,boundUploadedImagesActions:n,boundProjectActions:r,userInfo:o}))),e}},{key:"onSelected",value:function(e){this.setState({selectedTab:e})}},{key:"render",value:function(){var e=this.props,t=e.boundUploadedImagesActions,n=e.boundProjectActions,r=e.setting,a=e.allOptionMap,i=e.variableArray,o=e.configurableOptionArray,u=e.toggleModal,l=e.orderState,s=e.t,d=this.state.selectedTab;return b.default.createElement("aside",{className:"side-bar"},b.default.createElement(T.default,{className:"list-tab",onSelected:this.onSelected,selectedTab:d},"OPTIONS","IMAGES"),"IMAGES"===d?b.default.createElement("div",null,b.default.createElement(M.default,{className:"add-photo",boundUploadedImagesActions:t,toggleModal:u,uploadFileClicked:this.uploadFileClicked.bind(this),multiple:"multiple"},s("ADD_PHOTOS")),this.getImageListAndBtnsHtml()):null,l&&!l.checkFailed&&"OPTIONS"===d?b.default.createElement(A.default,{setting:r,allOptionMap:a,variableArray:i,configurableOptionArray:o,boundProjectActions:n}):null)}}]),t}(y.Component);t.default=(0,I.translate)("SideBar")(O)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(13),v=n(64),y=r(v);n(262);var b=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e)),r=e.t;return n.state={sortOptions:[{label:r("DATE_TOKEN_O_T_N"),value:">,shotTime"},{label:r("DATE_TOKEN_N_T_O"),value:"<,shotTime"},{label:r("UPLOAD_TIME_O_T_N"),value:">,uploadTime"},{label:r("UPLOAD_TIME_N_T_O"),value:"<,uploadTime"},{label:r("TITLE_A_Z"),value:">,name"},{label:r("TITLE_Z_A"),value:"<,name"}],sortValue:"<,uploadTime"},n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"handleOptionChange",value:function(e){this.setState({sortValue:e.value});var t=this.props.onSorted;t({value:e.value})}},{key:"handleHideUsedToggle",value:function(e){var t=this.props.onToggleHideUsed,n=e.target.checked;t(n)}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.isChecked;return g.default.createElement("div",{className:"upload-hide"},g.default.createElement("div",{className:"t-left"},g.default.createElement(y.default,{value:this.state.sortValue,onChanged:this.handleOptionChange.bind(this),searchable:!1,options:this.state.sortOptions})),g.default.createElement("div",{className:"t-right"},g.default.createElement("input",{type:"checkbox",id:"hideUsed",onChange:this.handleHideUsedToggle.bind(this),checked:n}),g.default.createElement("label",{htmlFor:"hideUsed",className:"hide-used"},t("HIDE_USED"))))}}]),t}(h.Component);t.default=(0,m.translate)("SortAndFilter")(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.drawImage=void 0;var a=n(8),i=r(a),o=n(427);t.drawImage=function(e,t){var n=t||e.props,r=n.data,a=r.element,u=(0,i.default)(a,"computed.imgUrl");if(u){var l=e.state.canvasId,s=(0,i.default)(a,"computed"),d=(0,i.default)(s,"width"),c=(0,i.default)(s,"height");(0,o.loadImg)(u).then(function(e){var t=e.img;if(t){var n=t.width,r=t.height,a=document.getElementById(l);if(a){a.width=r,a.height=n,a.style.left=(d-a.width)/2+"px",a.style.top=(c-a.height)/2+"px";var i=a.getContext("2d");i.save(),i.rotate(90*Math.PI/180),i.drawImage(e.img,0,-r),i.restore()}}})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(24),g=r(h),m=n(8),v=r(m),y=n(11),b=r(y),w=n(1),M=r(w),x=n(142),E=r(x),I=n(9),_=r(I),T=n(18),C=n(91),S=(r(C),n(37)),L=(r(S),n(45)),D=(r(L),n(56)),P=r(D),A=n(377);n(263);var O=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={isImgLoading:!1,image:null,canvasId:(0,T.guid)()},n.handleMouseDown=n.handleMouseDown.bind(n),n.handleTextRemove=n.handleTextRemove.bind(n),n.handleTextEdit=n.handleTextEdit.bind(n),n.handleDblClick=n.handleDblClick.bind(n),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){(0,A.drawImage)(this)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.data.element,n=e.data.element,r=(0,v.default)(t,"computed.imgUrl"),a=(0,v.default)(n,"computed.imgUrl");r!==a&&(0,v.default)(n,"text")&&(0,A.drawImage)(this,e)}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props.data.element,r=e.data.element;return!(0,g.default)(n,r)}},{key:"handleDblClick",value:function e(){var t=this.props,n=t.actions,r=t.data,e=n.handleDblClick,a=r.element;e&&e(a)}},{key:"handleMouseDown",value:function e(t){var n=this.props,r=n.actions,a=n.data,e=r.handleMouseDown,i=a.element,o=i.id,u=t||window.event;e&&e(o,u)}},{key:"handleTextRemove",value:function e(){var t=this.props,n=t.actions,r=t.data,e=n.handleTextRemove,a=r.element,i=a.id;e&&e(i)}},{key:"handleTextEdit",value:function(){var e=this.props,t=e.actions,n=e.data,r=t.editTextWithoutJustify,a=n.element;r&&r(a)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.actions,r=t.element,a=t.containerOffset,i=(t.isPreview,(0,v.default)(r,"computed")),o={position:"absolute",width:(0,v.default)(i,"width")+"px",height:(0,v.default)(i,"height")+"px",top:0,left:0},u=(0,b.default)({},n,{handleMouseDown:this.handleMouseDown,handleDblClick:this.handleDblClick}),l=Boolean((0,v.default)(r,"text")),s=(0,v.default)(r,"isSelect"),d={title:"Double click to edit text"};l||(d["data-html2canvas-ignore"]=!0);var c={className:(0,_.default)("spinetext-element",{"has-text":l,selected:s}),style:{zIndex:(0,v.default)(r,"dep")+100,width:(0,v.default)(i,"width"),height:(0,v.default)(i,"height"),left:(0,v.default)(i,"left"),top:(0,v.default)(i,"top")},handlerStyle:o,handlerData:r,element:r,containerOffset:a,elementAttrs:d},f=this.state,p=(f.isImgLoading,f.imageSrc,{});return l&&s&&(p=(0,b.default)({},o)),M.default.createElement(P.default,{data:c,actions:u},M.default.createElement("div",{className:"img-border",style:p,"data-html2canvas-ignore":"true"}),l?M.default.createElement("canvas",{className:"absolute",id:this.state.canvasId}):null,M.default.createElement("div",{className:"ActionBar","data-html2canvas-ignore":"true"},M.default.createElement("div",{className:"ActionBar_edit",onClick:this.handleTextEdit},M.default.createElement("a",{title:"Edit Text"})),M.default.createElement("div",{className:"ActionBar_clear",onClick:this.handleTextRemove},M.default.createElement("a",{title:"Remove Text Frame"}))))}}]),t}(w.Component);O.propTypes={actions:w.PropTypes.shape({boundProjectActions:w.PropTypes.object.isRequired}).isRequired,data:w.PropTypes.shape({element:w.PropTypes.instanceOf(E.default.Map).isRequired}).isRequired},t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(9),v=(r(m),n(13));n(265);var y=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"isSelectedTab",value:function(e){return e===this.props.selectedTab}},{key:"selectTab",value:function(e){this.props.onSelected(e)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.onSelected,t.tab),r=t.t,a=this.isSelectedTab(n)?"list-tab-selected":"list-tab-noselect";return g.default.createElement("div",{className:a,onClick:function(){return e.selectTab(n)}},r(n))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.tab,n=e.onSelected;this.isSelectedTab(t)&&n(t)}}]),t}(h.Component);t.default=(0,v.translate)("Tab")(y)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(9),v=r(m),y=n(379),b=r(y);n(266);var w=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onSelected,r=e.children,a=e.selectedTab;(0,v.default)("list-tab",t);return g.default.createElement("div",{className:t},r.map(function(e,t){return g.default.createElement(b.default,{selectedTab:a,onSelected:n,key:t,tab:e})}))}}]),t}(h.Component);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(21),g=r(h),m=n(8),v=r(m),y=n(1),b=r(y),w=n(9),M=r(w),x=n(26),E=r(x),I=n(20),_=r(I),T=n(64),C=r(T),S=n(83),L=r(S),D=n(123),P=r(D),A=n(88),O=r(A),k=n(384),j=r(k),N=n(18),z=n(38),R=n(15),U=n(91),B=r(U),F=n(10);n(267);var W=4,H=120,Y=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e)),r=[{value:"left",title:"Align Text Left"},{value:"center",title:"Center Text"},{value:"right",title:"Align Text Right"}],a=[{value:"top",title:"Vertical Align Text Top"},{value:"middle",title:"Middle Text"},{value:"bottom",title:"Vertical Align Text Bottom"}];return n.state={alignOptionList:r,verticalAlignOptionList:a,previewTextImageSrc:null,previewTextImageBlobSrc:null,timer:null,lastRequestTime:null,isShowIllegalCharTip:!1,isShowTextNotFit:!1,hideTipTimer:null,lastAppearIllegalCharTime:null},n.onTextAreaChange=n.onTextAreaChange.bind(n),n.onFontNameChange=n.onFontNameChange.bind(n),n.onFontWeightChange=n.onFontWeightChange.bind(n),n.onFontColorChange=n.onFontColorChange.bind(n),n.onSliderChange=n.onSliderChange.bind(n),n.onSizeInputChange=n.onSizeInputChange.bind(n),n.onSizeInputBlur=n.onSizeInputBlur.bind(n),n.onSubmit=n.onSubmit.bind(n),n.updatePreviewTextSrc=n.updatePreviewTextSrc.bind(n),n.delayUpdatePreviewTextSrc=n.delayUpdatePreviewTextSrc.bind(n),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentWillMount",value:function(){this.initData(this.props.element)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.isShown,n=e.isShown;t!==n&&n&&this.initData(e.element)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.isShown!==e.isShown||this.state.fontName!==t.fontName||this.state.fontWeight!==t.fontWeight||this.state.align!==t.align||this.state.verticalAlign!==t.verticalAlign||this.state.fontSize!==t.fontSize||this.state.fontColor!==t.fontColor||this.state.inputText!==t.inputText||this.state.inputSize!==t.inputSize||this.state.previewTextImageSrc!==t.previewTextImageSrc||this.state.previewTextImageBlobSrc!==t.previewTextImageBlobSrc||this.state.isShowIllegalCharTip!==t.isShowIllegalCharTip||this.state.isShowTextNotFit!==t.isShowTextNotFit}},{key:"componentDidUpdate",value:function(e,t){var n=t.fontWeight,r=this.state.fontWeight;n!==r&&this.updatePreviewTextSrc();var a=t.fontSize,i=this.state.fontSize;a!==i&&this.delayUpdatePreviewTextSrc();var o=t.fontColor,u=this.state.fontColor;o!==u&&this.delayUpdatePreviewTextSrc();var l=t.inputText,s=this.state.inputText;l!==s&&this.delayUpdatePreviewTextSrc();var d=t.align,c=this.state.align;d!==c&&this.updatePreviewTextSrc();var f=t.verticalAlign,p=this.state.verticalAlign;f!==p&&this.updatePreviewTextSrc();var h=t.previewTextImageSrc,g=this.state.previewTextImageSrc;h!==g&&this.getPreviewTextBlobAndTextInfo(g);var m=e.isShown,v=this.props.isShown;m!==v&&v&&this.refs.inputText.focus()}},{key:"initData",value:function(e){var t=this.props,n=t.fontList,r=t.baseUrls,a=t.paginationSpread,i=t.pagination,o=a.pages,u=(0,v.default)(i,"pageId"),l=o.find(function(e){return e.id===u}),s=F.defaultFontStyle,d=n.filter(function(e){return!e.deprecated}),c=this.state,f=c.alignOptionList,p=c.verticalAlignOptionList,h=s.defaultFontFamilyId,m=s.defaultFontId,y=s.defaultFontSize,b=s.defaultColor,w=f[0].value,M=p[0].value,x="",E=null;if(e){d.forEach(function(t){t.font.forEach(function(n){n.fontFace===decodeURIComponent(e.fontFamily)&&(h=t.id,m=n.id)})});var I=e.fontSize;y=Math.round((0,N.getPtByPx)(I*l.height)),b=e.fontColor,w=e.textAlign,M=e.textVAlign||M,x=decodeURIComponent(e.text)||"",E=this.getPreviewTextImageSrc(x,y,b,decodeURIComponent(e.fontFamily),w,M,e);var _=this.props.element;_&&_.id!==e.id&&this.setState({isShowTextNotFit:!1})}var T=d.find(function(e){return e.id===h}),C=T.deprecated?n:d,S=C.map(function(e){return{disabled:e.deprecated,title:e.displayName,label:e.displayName,value:e.id,fontThumbnailUrl:(0,g.default)(R.GET_FONT_THUMBNAIL)({baseUrl:r.baseUrl,fontName:e.name})}}),L=T.font.map(function(e){var t=e.displayName.replace(/\s*\d+/,"");return{disabled:T.deprecated,title:t,label:t,value:e.id}});this.getPreviewTextBlobAndTextInfo(E),this.setState({fontName:h,fontWeight:m,timer:null,lastRequestTime:null,inputSize:y,previewTextImageSrc:E,fontSize:y,fontColor:b,align:w,verticalAlign:M,inputText:x,fontOptionList:S,fontWeightOptionList:L})}},{key:"onFontNameChange",value:function(e){var t=this.props.fontList,n=t.filter(function(e){return!e.deprecated}),r=n.find(function(t){return t.id===e.value}),a=r.font.map(function(e){var t=e.displayName.replace(/\s*\d+/,"");return{title:t,label:t,value:e.id}});this.setState({fontName:e.value,fontWeight:r.font[0].id,fontWeightOptionList:a})}},{key:"onFontWeightChange",value:function(e){this.setState({fontWeight:e.value})}},{key:"onSliderChange",value:function(e){this.setState({fontSize:e,inputSize:e})}},{key:"onSizeInputChange",value:function(e){var t=e.target.value.trim();this.setState({inputSize:t})}},{key:"onSizeInputBlur",value:function(e){var t=+e.target.value,n=t;t>H?n=H:t<W&&(n=W),this.setState({inputSize:n,fontSize:n})}},{key:"onFontColorChange",value:function(e){this.setState({fontColor:e.hex})}},{key:"onTextAreaChange",value:function(e){var t=this,n=/[^\u000d\u000a\u0020-\u007e]*/g,r=e.target.value,a=r.replace(n,""),i=this.props.hideTipInterval,o=this.state,u=o.hideTipTimer,l=o.lastAppearIllegalCharTime;if(/^\s*$/.test(r))return void this.setState({inputText:r});if(a!==r){if(!l||Date.now()-l<i){window.clearTimeout(u);var s=window.setTimeout(function(){t.setState({isShowIllegalCharTip:!1})},i);this.setState({hideTipTimer:s})}else this.setState({lastAppearIllegalCharTime:Date.now()});this.setState({isShowIllegalCharTip:!0})}else this.setState({isShowIllegalCharTip:!1});this.setState({inputText:a})}},{key:"getFontObj",value:function(e){var t=this.props.fontList,n=t.filter(function(e){return!e.deprecated}),r=null;return n.forEach(function(t){t.font.forEach(function(t){t.id===e&&(r=t)})}),r}},{key:"onSubmit",value:function(){var e=this.state,t=e.fontWeight,n=e.fontSize,r=e.fontColor,a=e.align,i=e.verticalAlign,o=e.inputText,u=this.props,l=u.updateElement,s=u.closeTextEditModal,d=u.element,c=u.paginationSpread,f=u.pagination,p=c.pages,h=(0,v.default)(f,"pageId"),g=p.find(function(e){return e.id===h}),m=this.getFontObj(t),y=o.replace(/\s+$/g,"");l({fontSize:(0,N.getPxByPt)(n)/g.height,fontColor:r,text:encodeURIComponent(y),id:d.id,textAlign:a,textVAlign:i,fontWeight:encodeURIComponent(m.weight),fontFamily:encodeURIComponent(m.fontFace)}),s()}},{key:"getPreviewTextImageSrc",value:function(e,t,n,r,a,i,o){var u=this.props,l=u.baseUrls,s=u.ratio;if(!e&&!e.trim().length)return null;var d=o.computed,c=(0,N.getPxByPt)(t),f=o.width/d.width;return(0,g.default)(R.TEXT_SRC)({text:window.encodeURIComponent(e),fontSize:c/f/s,fontColor:(0,z.hexString2Number)(n),fontFamily:window.encodeURIComponent(r),width:d.width/s,height:d.height/s,originalWidth:o.width,originalHeight:o.height,originalFontSize:c,baseUrl:l.baseUrl,textAlign:a,verticalTextAlign:i,ratio:s})}},{key:"updatePreviewTextSrc",value:function(){var e=this.state,t=e.fontWeight,n=e.fontSize,r=e.fontColor,a=e.align,i=e.verticalAlign,o=e.inputText;if(!o)return void this.setState({previewTextImageSrc:null});var u=this.getFontObj(t);this.setState({previewTextImageSrc:this.getPreviewTextImageSrc(o,n,r,u.fontFace,a,i,this.props.element)})}},{key:"getPreviewTextBlobAndTextInfo",value:function(e){var t=this;if(!e)return void this.setState({previewTextImageBlobSrc:null,isShowTextNotFit:!1});var n=this.props.element,r=n.width,a=n.height;(0,B.default)(e,r,a).then(function(e){var n=e.isShowTextNotFit,r=e.blobUrl;t.props.isShown&&t.setState({previewTextImageBlobSrc:r,isShowTextNotFit:n})}).catch(function(e){t.setState({previewTextImageBlobSrc:null,isShowTextNotFit:!1})})}},{key:"delayUpdatePreviewTextSrc",value:function(){var e=this.props.requestInterval,t=this.state,n=t.lastRequestTime,r=t.timer;if(!n||Date.now()-n<e){window.clearTimeout(r);var a=window.setTimeout(this.updatePreviewTextSrc,e);this.setState({timer:a})}else this.setState({lastRequestTime:Date.now()})}},{key:"onAlignChange",value:function(e){this.setState({align:e})}},{key:"onVerticalAlignChange",value:function(e){this.setState({verticalAlign:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.fontOptionList,r=t.fontWeightOptionList,a=t.alignOptionList,i=t.verticalAlignOptionList,o=t.fontName,u=t.fontWeight,l=t.fontSize,s=t.fontColor,d=t.inputSize,c=t.inputText,f=t.align,p=t.verticalAlign,h=t.previewTextImageBlobSrc,g=t.isShowIllegalCharTip,m=t.isShowTextNotFit,v=this.props,y=v.isShown,w=v.closeTextEditModal,x=y;return console.log("render"),b.default.createElement(E.default,{className:"text-edit-modal",onClosed:w,opened:y},b.default.createElement("h2",{className:"modal-title"},"Edit Text"),b.default.createElement("div",{className:"modal-content"},b.default.createElement("div",{className:"option-container"},b.default.createElement("div",{className:"option-item"},b.default.createElement("div",{className:"select-container font-name"},b.default.createElement(C.default,{className:"font",options:n,searchable:!1,onChanged:this.onFontNameChange,value:o,optionComponent:O.default})),b.default.createElement("div",{className:"select-container font-weight"},b.default.createElement(C.default,{className:"font-weight",options:r,searchable:!1,onChanged:this.onFontWeightChange,value:u}))),b.default.createElement("div",{className:"divider"}),b.default.createElement("div",{className:"option-item"},b.default.createElement("div",{className:"size-container"},b.default.createElement("input",{type:"number",className:"size-input",value:d,min:W,max:H,onChange:this.onSizeInputChange,onBlur:this.onSizeInputBlur}),b.default.createElement("div",{className:"slider-container"},b.default.createElement(L.default,{value:l,min:W,max:H,step:1,handleSliderChange:this.onSliderChange,vertical:!0})))),b.default.createElement(P.default,{needResetColor:x,initHexString:s,onColorChange:this.onFontColorChange}),b.default.createElement("div",{className:"divider"}),b.default.createElement("div",{className:"align-container"},b.default.createElement("div",{className:"horizonal-group"},a.map(function(t,n){var r="align-"+t.value,a=(0,M.default)("icon",r,{selected:t.value===f});return b.default.createElement("button",{type:"button",className:a,title:t.title,onClick:e.onAlignChange.bind(e,t.value),key:n})})),b.default.createElement("div",{className:"divider"}),b.default.createElement("div",{className:"vertical-group"},i.map(function(t,n){var r="align-"+t.value,a=(0,M.default)("icon",r,{selected:t.value===p});return b.default.createElement("button",{type:"button",className:a,title:t.title,onClick:e.onVerticalAlignChange.bind(e,t.value),key:n})})))),b.default.createElement("div",{className:"text-box"},b.default.createElement("textarea",{className:"text-box",placeholder:"Type here...",onInput:this.onTextAreaChange,value:c,ref:"inputText"}),b.default.createElement("p",{className:"illegal-char-tip"},m?b.default.createElement("span",null,"Text does not fit"):null,g?b.default.createElement("span",null,"Invalid characters removed"):null)),b.default.createElement("p",{className:"button-container"},b.default.createElement(_.default,{onClicked:this.onSubmit,disabled:!c.trim()||!c.length},"Done")),b.default.createElement(j.default,{imageSrc:h,fontColor:s})))}}]),t}(y.Component);Y.defaultProps={requestInterval:1e3,hideTipInterval:2e3},t.default=Y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(8),g=r(h),m=n(21),v=r(m);n(60);var y=n(1),b=r(y),w=n(13),M=n(26),x=r(M),E=n(300),I=r(E),_=n(15),T=n(141),C=r(T),S=n(88),L=r(S),D=n(356),P=r(D),A=n(64),O=r(A),k=n(20),j=r(k),N=n(9),z=r(N),R=n(10),U=n(28),B=n(18),F=n(65),W=n(38);n(268);var H=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={text:"",families:null,fontFamily:"",fontStyle:"",fontSize:23,fontColor:"",fontOptions:null,styleOptions:null,isDoneDisabled:!0,colorOptions:n.getColorOptions(),hideTipTimer:null,lastAppearIllegalCharTime:null},n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){if(this.props.opened!==e.opened&&e.opened)if(null==e.textOptions)this.resetState(e.fontList),this.setState({isDoneDisabled:!0});else{var t=e.fontList,n=e.pagination,r=e.paginationSpread,a=e.textOptions,i=(e.ratio,a.fontFamily),o=a.fontSize,u=a.fontColor,l=a.text,s=r.pages,d=(0,g.default)(n,"pageId"),c=decodeURIComponent(l),f=s.find(function(e){return e.id===d}),p=t.filter(function(e){return Array.isArray(e.font)?e.font.some(function(e){return e.fontFamily===decodeURIComponent(i)}):e.font.fontFamily===decodeURIComponent(i)}),h=p.map(function(e){var t=[];return Array.isArray(e.font)?t=e.font.map(function(t){return{label:t.displayName,weight:t.weight,value:t.fontFamily,id:e.id,isDefault:!!t.isDefault}}):t.push({label:e.font.displayName,weight:e.font.weight,value:e.font.fontFamily,id:e.id,isDefault:!0}),{value:e.displayName,label:e.displayName,id:e.id,fontStyle:t}}),m=h[0].fontStyle.filter(function(e){return e.value===decodeURIComponent(i)}),v=Math.round((0,B.getPtByPx)(o*(0,g.default)(f,"height"))),y=this.state.colorOptions.filter(function(e){return e.value==(0,W.hexString2Number)(u)});this.setTextValue(h[0]),this.setState({text:c,fontStyle:m[0],fontSize:v,fontColor:y[0],isDoneDisabled:!1})}}},{key:"componentDidMount",value:function(){this.resetState(this.props.fontList)}},{key:"getColorOptions",value:function(){return[{label:"Black",value:"0"},{label:"Gray",value:"6712688"},{label:"Light Gray",value:"13289166"},{label:"White",value:"16711422"},{label:"Cardinal",value:"10497843"},{label:"Red",value:"16711680"},{label:"Pink",value:"16042184"},{label:"Orange",value:"15690240"},{label:"Gold",value:"14202129"},{label:"Yellow",value:"16776960"},{label:"Green",value:"5679643"},{label:"Navy",value:"13158"}]}},{key:"resetState",value:function(e){var t=(0,g.default)(this.props,"baseUrls.baseUrl"),n=e.filter(function(e){return!e.deprecated}),r=n.map(function(e){var n=[];return Array.isArray(e.font)?n=e.font.map(function(t){return{label:t.displayName,weight:t.weight,value:t.fontFamily,id:e.id,isDefault:!!t.isDefault}}):n.push({label:e.font.displayName,weight:e.font.weight,value:e.font.fontFamily,id:e.id,isDefault:!0}),{value:e.displayName,label:e.displayName,title:e.displayName,id:e.id,disabled:e.deprecated,fontStyle:n,fontThumbnailUrl:(0,v.default)(_.GET_FONT_THUMBNAIL)({baseUrl:t,fontName:e.name})}}),a=r.find(function(e){return e.id===R.defaultFontStyle.defaultFontId}),i=a.fontStyle.filter(function(e){return e.isDefault}),o=this.getColorOptions();this.setState({families:e,fontFamily:a,styleOptions:a.fontStyle,fontStyle:i[0],fontOptions:r,fontSize:23,colorOptions:o,fontColor:o[0],text:""})}},{key:"loadOptions",value:function(){var e=this;fetch(_.GET_LOCAL_FONTS).then(function(e){return e.text()}).then(function(t){var n=C.default.xml2js(t);e.resetState(n)}),this.setState({fontColor:this.state.colorOptions[0]})}},{key:"handleClosed",value:function(){var e=this.props.onClosed;e()}},{key:"onTextChanged",value:function(e){var t=this,n=/[^\u000d\u000a\u0020-\u007e]*/g,r=e.target.value,a=r.replace(n,""),i=this.props.hideTipInterval,o=this.state,u=o.hideTipTimer,l=o.lastAppearIllegalCharTime;if(/^\s*$/.test(r))return this.setState({text:r}),void this.setState({isDoneDisabled:!0});if(a!==r){if(!l||Date.now()-l<i){window.clearTimeout(u);var s=window.setTimeout(function(){
t.setState({isShowIllegalCharTip:!1})},i);this.setState({hideTipTimer:s})}else this.setState({lastAppearIllegalCharTime:Date.now()});this.setState({isShowIllegalCharTip:!0})}else this.setState({isShowIllegalCharTip:!1}),this.setState({isDoneDisabled:!1});this.setState({text:a,isDoneDisabled:!a.replace(/^\s*$/,"")})}},{key:"setTextValue",value:function(e){var t=[],n=void 0;this.state.fontOptions.map(function(r){e.id===r.id&&(Array.isArray(r.fontStyle)?t=r.fontStyle.map(function(e){return e.isDefault&&(n=e),{label:e.label,weight:e.weight,value:e.value,id:r.id,isDefault:e.isDefault}}):(n=t,t.push({label:r.fontStyle.label,weight:r.fontStyle.weight,value:r.fontStyle.value,id:r.id,isDefault:!0})))}),this.setState({fontFamily:e,fontStyle:n,styleOptions:t})}},{key:"setStyleValue",value:function(e){this.setState({fontStyle:e})}},{key:"setColorValue",value:function(e){this.setState({fontColor:e})}},{key:"handleSliderChange",value:function(e){this.setState({fontSize:e})}},{key:"handleSizeChange",value:function(e){this.setState({fontSize:e})}},{key:"handleDoneClick",value:function(){var e=this,t=this.props,n=(t.boundTextOptionsActions,t.boundProjectActions),r=t.textOptions,a=t.baseUrls,i=t.ratio,o=t.boundTrackerActions,u=t.pagination,l=t.paginationSpread,s=t.elementArray,d=this.state,c=d.fontStyle,f=d.fontColor,p=l.pages,h=(0,g.default)(u,"pageId"),m=p.find(function(e){return e.id===h}),y=(0,g.default)(m,"elements"),b=(0,g.default)(m,"type"),w=m.height,M=m.wrapSize,x=m.bleed,E=encodeURIComponent(this.state.text),I=(0,B.getPxByPt)(this.state.fontSize),T=m.width*i,C=m.height*i,S=encodeURIComponent(c.value),L=encodeURIComponent(c.weight),D=f.value,P="left",A=M.left+x.left+30,O=0;if(s.forEach(function(e){y.indexOf((0,g.default)(e,"id"))!==-1&&(O=O<(0,g.default)(e,"dep")?(0,g.default)(e,"dep"):O)}),null===r){var k=(0,v.default)(_.TEXT_SRC)({baseUrl:a.baseUrl,text:E,fontSize:I,fontColor:D,fontFamily:S,textAlign:P,ratio:i});I/=w,(0,F.loadImg)(k).then(function(t){var n=t.img,r=n.width,a=n.height,o=r/T,u=a/C;r/=i,a/=i;var l=b===R.pageTypes.dvd?(T-n.width)/2/i:A,s=b===R.pageTypes.dvd?C/4/i:A,d=l*i/T,c=s*i/C,f=0,p=O+1,h="text";e.createElement({text:E,fontFamily:S,fontSize:I,fontColor:(0,W.numberToHex)(D),fontWeight:L,textAlign:P,width:r,height:a,x:l,y:s,px:d,py:c,pw:o,ph:u,rot:f,dep:p,elType:h})})}else{var j=r.id,N=r.width,z=r.height,H=(0,v.default)(_.TEXT_SRC)({baseUrl:a.baseUrl,text:E,fontSize:I,fontColor:D,fontFamily:S,textAlign:P,width:N,height:z,ratio:i});I/=z,(0,F.loadImg)(H).then(function(e){var t=e.img,r=t.width,a=t.height,o=r/T,u=a/C;r/=i,a/=i,n.updateElement({id:j,text:E,fontFamily:S,fontSize:I,fontColor:(0,W.numberToHex)(D),fontWeight:L,width:r,height:a,pw:o,ph:u})})}this.handleClosed(),o.addTracker(U.CompleteTextEdit)}},{key:"createElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.elementTypes.text,n=this.props,r=n.boundProjectActions,a=n.pagination,i=(0,g.default)(a,"pageId"),o=e.text,u=e.fontFamily,l=e.fontSize,s=e.fontColor,d=e.fontWeight,c=e.textAlign,f=e.width,p=e.height,h=e.x,m=e.y,v=e.px,y=e.py,b=e.pw,w=e.ph,M=e.rot,x=e.dep,E=e.elType;r.createElement(i,{type:t,text:o,fontFamily:u,fontSize:l,fontColor:s,fontWeight:d,textAlign:c,width:f,height:p,x:h,y:m,px:v,py:y,pw:b,ph:w,rot:M,dep:x,elType:E})}},{key:"deleteElement",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.elementTypes.text,this.props),t=e.boundProjectActions,n=e.textOptions,r=e.pagination,a=n.id,i=r.pageId;t.deleteElement(i,a),this.handleClosed()}},{key:"render",value:function(){var e=this.props,t=e.opened,n=e.t,r=e.textOptions,a=this.state.isShowIllegalCharTip,i=(0,z.default)("",{disabled:this.state.isDoneDisabled}),o=(0,z.default)("remove",{show:!!r});return b.default.createElement(x.default,{className:"texteditor-modal",onClosed:this.handleClosed.bind(this),opened:t},b.default.createElement("div",{className:"text-editor"},b.default.createElement("h3",{className:"title"},n("TEXT_EDITOR")),b.default.createElement("div",{className:"editor"},b.default.createElement(I.default,{onChanged:this.onTextChanged.bind(this),value:this.state.text}),b.default.createElement("p",{className:"illegal-char-tip"},a?b.default.createElement("span",null,"Invalid characters removed"):null),b.default.createElement("div",{className:"row"},b.default.createElement("div",{className:"col col-2"},b.default.createElement("label",null,n("FONT_FAMILY")),b.default.createElement(O.default,{options:this.state.fontOptions,onChanged:this.setTextValue.bind(this),value:this.state.fontFamily,searchable:!1,optionComponent:L.default})),b.default.createElement("div",{className:"col col-2 right"},b.default.createElement("label",{className:"right"},n("FONT_STYLE")),b.default.createElement(O.default,{options:this.state.styleOptions,searchable:!1,onChanged:this.setStyleValue.bind(this),value:this.state.fontStyle}))),b.default.createElement("div",{className:"row"},b.default.createElement("div",{className:"col col-2"},b.default.createElement("label",null,n("FONT_SIZE")),b.default.createElement(P.default,{value:this.state.fontSize,handleSliderChange:this.handleSliderChange.bind(this),handleSizeChange:this.handleSizeChange.bind(this)})),b.default.createElement("div",{className:"col col-2 right"},b.default.createElement("label",{className:"right"},n("FONT_COLOR")),b.default.createElement(O.default,{options:this.state.colorOptions,onChanged:this.setColorValue.bind(this),searchable:!1,value:this.state.fontColor}))),b.default.createElement("div",{className:"row buttons"},b.default.createElement(j.default,{onClicked:this.handleDoneClick.bind(this),className:i},n("DONE")),b.default.createElement("a",{href:"javascript:void(0);",onClick:this.deleteElement.bind(this),className:o},"remove")))))}}]),t}(y.Component);H.defaultProps={requestInterval:1e3,hideTipInterval:2e3},t.default=(0,w.translate)("TextEditor")(H)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(32),i=r(a),o=n(5),u=r(o),l=n(3),s=r(l),d=n(4),c=r(d),f=n(7),p=r(f),h=n(6),g=r(h),m=n(24),v=r(m),y=n(8),b=r(y),w=n(1),M=r(w),x=n(47),E=n(9),I=r(E),_=n(37),T=r(_),C=n(63),S=r(C),L=n(45),D=r(L);n(269);var P=n(10),A=n(91),O=r(A),k=50,j=100,N=function(e){function t(e){(0,s.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e)),r=e.ratio;return n.state={disX:0,disY:0,id:e.options.id,x:e.options.x*r,y:e.options.y*r,width:e.options.width*r,height:e.options.height*r,isMoving:!1,cursor:"move",actionType:"",p1:{x:0,y:0},p2:{x:0,y:0},resizeDir:"",isImgLoading:!1,isShowTextNotFit:!1,imageBlobSrc:null},n.resizablePoints=[],n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseUp=n.handleMouseUp.bind(n),n.handleDblClick=n.handleDblClick.bind(n),n.onTextLoad=n.onTextLoad.bind(n),n.handleTextRemove=n.handleTextRemove.bind(n),n.handleTextEdit=n.handleTextEdit.bind(n),n}return(0,g.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.options.computed.imgUrl,n=e.options.computed.imgUrl;(0,v.default)({options:this.props.options,ratio:this.props.ratio},{options:e.options,ratio:e.ratio})||(this.setState({x:e.options.x*e.ratio,y:e.options.y*e.ratio,width:e.options.width*e.ratio,height:e.options.height*e.ratio}),t!==n&&this.getPreviewTextBlobAndTextInfo(n,e.options.width,e.options.height))}},{key:"componentWillMount",value:function(){var e=this.props.options,t=e.computed.imgUrl;e.text&&this.getPreviewTextBlobAndTextInfo(t,e.width,e.height)}},{key:"shouldComponentUpdate",value:function(e,t){var n=!(0,v.default)({options:(0,b.default)(this.props,"options"),x:(0,b.default)(this.state,"x"),y:(0,b.default)(this.state,"y"),width:(0,b.default)(this.state,"width"),height:(0,b.default)(this.state,"height"),ratio:(0,b.default)(this.props,"ratio"),imageBlobSrc:(0,b.default)(this.state,"imageBlobSrc")},{options:(0,b.default)(e,"options"),x:(0,b.default)(t,"x"),y:(0,b.default)(t,"y"),width:(0,b.default)(t,"width"),height:(0,b.default)(t,"height"),ratio:(0,b.default)(e,"ratio"),imageBlobSrc:(0,b.default)(t,"imageBlobSrc")});return this.setState({id:(0,b.default)(e,"options.id")}),n}},{key:"componentDidUpdate",value:function(){!this.state.isMoving}},{key:"componentDidMount",value:function(){this.resizablePoints.push({dir:P.resizeDirs.topLeft,el:this.refs.topLeft}),this.resizablePoints.push({dir:P.resizeDirs.topRight,el:this.refs.topRight}),this.resizablePoints.push({dir:P.resizeDirs.bottomLeft,el:this.refs.bottomLeft}),this.resizablePoints.push({dir:P.resizeDirs.bottomRight,el:this.refs.bottomRight}),this.resizablePoints.push({dir:P.resizeDirs.top,el:this.refs.top}),this.resizablePoints.push({dir:P.resizeDirs.bottom,el:this.refs.bottom}),this.resizablePoints.push({dir:P.resizeDirs.left,el:this.refs.left}),this.resizablePoints.push({dir:P.resizeDirs.right,el:this.refs.right})}},{key:"onTextLoad",value:function(){var e=this.props,t=e.updateElement,n=e.options,r=e.disableCustomEvents,a=e.ratio,i=e.pageWidth,o=e.pageHeight;if(!r){var u=this.refs.textImg,l=u.width/a,s=u.height/a,d=l/i,c=s/o,f=(0,b.default)(n,"id");t({id:f,width:l,height:s,pw:d,ph:c})}}},{key:"draw",value:function(){var e=this.props,t=e.canvasId,n=e.options,r=n.computed,a=r.imgUrl,i=r.width,o=r.height;(0,x.clear)(t,0,0,i,o),(0,x.drawImage)(t,a,0,0,null,i,o)}},{key:"drawDashedRect",value:function(){var e=this.props,t=e.canvasId,n=e.width,r=e.height,a=(e.options,"#f7f7f7");(0,x.drawDashedLine)(t,a,-1,0,n,0,1,3),(0,x.drawDashedLine)(t,a,0,0,0,r,1,3),(0,x.drawDashedLine)(t,a,n,0,n,r,1,3),(0,x.drawDashedLine)(t,a,0,r,n,r,1,3)}},{key:"handleMouseDown",value:function e(t){if(this.props.disableCustomEvents)return!1;var n=this.props,e=n.handleMouseDown,r=(n.options,this.state),a=r.id,i=r.x,o=r.y,u=this.resizablePoints.find(function(e){return e.el===t.target});if(u){var l={x:t.pageX,y:t.pageY};this.setState({p1:l,isMoving:!1,actionType:P.elementActionType.textResize,resizeDir:u.dir})}else{var s=t.pageX-i,d=t.pageY-o;this.setState({disX:s,disY:d,isMoving:!0,actionType:P.elementActionType.textMove})}e&&e(a,t)}},{key:"handleTextMove",value:function e(t){var e=this.props.handleTextMove,n=this.state,r=n.disX,a=n.disY,i=t.pageX-r,o=t.pageY-a,u=void 0;e&&(u=e({x:i,y:o,width:this.refs.textImg.width,height:this.refs.textImg.height}));var l=u?u.x:i,s=u?u.y:o;this.setState({x:l,y:s})}},{key:"handleTextResize",value:function e(t){var n=this.props,e=n.handleTextResize,r=n.options,a=n.ratio,i=r.width,o=r.height,u=r.x,l=r.y,s=this.state,d=s.id,c=s.p1,f=s.resizeDir,p={x:t.pageX,y:t.pageY},h=i*a,g=o*a,m=u*a,v=l*a,y=p.x-c.x,b=p.y-c.y;switch(f){case P.resizeDirs.topLeft:m=u*a+y,v=l*a+b,h=i*a-y,g=o*a-b;break;case P.resizeDirs.topRight:m=u*a,v=l*a+b,h=i*a+y,g=o*a-b;break;case P.resizeDirs.bottomLeft:m=u*a+y,v=l*a,h=i*a-y,g=o*a+b;break;case P.resizeDirs.bottomRight:h=i*a+y,g=o*a+b;break;case P.resizeDirs.top:v=l*a+b,g=o*a-b;break;case P.resizeDirs.bottom:g=o*a+b;break;case P.resizeDirs.left:m=u*a+y,h=i*a-y;break;case P.resizeDirs.right:h=i*a+y}h<j&&(h=j),g<k&&(g=k),v>(l+o)*a-k&&(v=(l+o)*a-k),m>(u+i)*a-j&&(m=(u+i)*a-j),this.setState({x:m,y:v,width:h,height:g}),e&&e(d,m,v,h,g)}},{key:"handleMouseMove",value:function(e){if(this.props.disableCustomEvents)return!1;switch(this.state.actionType){case P.elementActionType.textMove:this.handleTextMove(e);break;case P.elementActionType.textResize:this.handleTextResize(e)}}},{key:"handleMouseUp",value:function e(t){if(this.props.disableCustomEvents)return!1;var n=this.props,e=n.handleMouseUp,r=(n.options,n.checkPrintedTextPosition,this.state),a=r.id,i=r.x,o=r.y,u=r.width,l=r.height,s=void 0,d=s?s.x:i,c=s?s.y:o;this.setState({isMoving:!1,x:d,y:c,actionType:""}),e(a,d,c,u,l)}},{key:"handleDblClick",value:function e(){if(this.props.disableCustomEvents)return!1;var t=this.props,e=t.handleDblClick,n=t.options;this.setState({isMoving:!1}),e(n)}},{key:"handleTextRemove",value:function e(){var e=this.props.handleTextRemove,t=this.state.id;e&&e(t)}},{key:"getPreviewTextBlobAndTextInfo",value:function(e,t,n){var r=this;this.setState({isImgLoading:!0}),(0,O.default)(e,t,n).then(function(e){var t=e.isShowTextNotFit,n=e.blobUrl;r.setState({isShowTextNotFit:t,imageBlobSrc:n,isImgLoading:!1})}).catch(function(e){r.setState({isImgLoading:!1})})}},{key:"handleTextEdit",value:function e(){if(this.props.disableCustomEvents)return!1;var t=this.props,e=t.handleTextEdit,n=t.options;this.setState({isMoving:!1}),e(n)}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.children,a=(t.handleMouseMove,t.handleMouseDown,t.canvasId,t.options),o=(t.handleTextRemove,t.disableCustomEvents),u=this.state,l=u.x,s=u.y,d=u.width,c=u.height,f=u.isShowTextNotFit,p=u.imageBlobSrc,h=u.isImgLoading,g=(0,I.default)((e={"x-text-element":!0},(0,i.default)(e,n,!0),(0,i.default)(e,"selected",a.isSelect),(0,i.default)(e,"no-text",!a.text),e)),m=((0,b.default)(a,"computed.imgUrl"),{position:"absolute",zIndex:(0,b.default)(a,"dep")+101,top:s+"px",left:l+"px",width:d+"px",height:c+"px"}),v={position:"absolute",overflow:"hidden",width:d+"px",height:c+"px"},y={isShown:f&&!o,title:"Text does not fit"};return M.default.createElement("div",{className:g,style:m},M.default.createElement(T.default,{isShown:h}),M.default.createElement("div",{style:v},M.default.createElement("img",{ref:"textImg",className:"text-img",src:p})),r,M.default.createElement(S.default,{handleMouseDown:this.handleMouseDown,handleMouseUp:this.handleMouseUp,handleDblClick:this.handleDblClick,handleMouseMove:this.handleMouseMove,cursor:this.state.cursor,title:"Double click to edit text"},M.default.createElement("div",{className:"XHandler__border","data-html2canvas-ignore":"true"}),M.default.createElement("div",{className:"XHandler__border-noText","data-html2canvas-ignore":"true"}),M.default.createElement("div",{className:"Resizable","data-html2canvas-ignore":"true"},M.default.createElement("div",{className:"topLeft",ref:"topLeft"}),M.default.createElement("div",{className:"topRight",ref:"topRight"}),M.default.createElement("div",{className:"bottomLeft",ref:"bottomLeft"}),M.default.createElement("div",{className:"bottomRight",ref:"bottomRight"}),M.default.createElement("div",{className:"left",ref:"left"}),M.default.createElement("div",{className:"right",ref:"right"}),M.default.createElement("div",{className:"top",ref:"top"}),M.default.createElement("div",{className:"bottom",ref:"bottom"}))),M.default.createElement("div",{className:"ActionBar","data-html2canvas-ignore":"true"},M.default.createElement("div",{className:"ActionBar__edit",onClick:this.handleTextEdit},M.default.createElement("a",{title:"Edit Text"})),M.default.createElement("div",{className:"ActionBar__clear",onClick:this.handleTextRemove},M.default.createElement("a",{title:"Remove Text Frame"}))),M.default.createElement(D.default,y))}}]),t}(w.Component);t.default=N,N.propTypes={className:w.PropTypes.string,containerWidth:w.PropTypes.number.isRequired,containerHeight:w.PropTypes.number.isRequired,disableCustomEvents:w.PropTypes.bool,options:w.PropTypes.shape({textUrl:w.PropTypes.string,lineWidth:w.PropTypes.number,top:w.PropTypes.number,left:w.PropTypes.number}).isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),i=r(a),o=n(5),u=r(o),l=n(3),s=r(l),d=n(4),c=r(d),f=n(7),p=r(f),h=n(6),g=r(h),m=n(1),v=r(m),y=n(9),b=r(y),w=n(162),M=r(w);n(270);var x={backgroundImage:"linear-gradient(to right, rgba(255, 255, 255, 0.3) 50%, rgba(0, 0, 0, 0.3) 50%), linear-gradient(to right, rgba(255, 255, 255, 0.3) 50%, rgba(0, 0, 0, 0.3) 50%), linear-gradient(to bottom, rgba(255, 255, 255, 0.3) 50%, rgba(0, 0, 0, 0.3) 50%), linear-gradient(to bottom, rgba(255, 255, 255, 0.3) 50%, rgba(0, 0, 0, 0.3) 50%)",padding:"1px",backgroundSize:"10px 1px, 10px 1px, 1px 10px, 1px 10px",backgroundPosition:"0 0, 0 100%, 0 0, 100% 0",backgroundRepeat:"repeat-x, repeat-x, repeat-y, repeat-y"},E=function(e){function t(e){(0,s.default)(this,t);var n=(0,p.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.onLoad=n.onLoad.bind(n),n.state={previewImgPosition:{x:0,y:0},isLoaded:!0},window.addEventListener("mousemove",n.onDrag),window.addEventListener("mouseup",n.onDragStop),n}return(0,g.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.imageSrc,n=e.imageSrc;t!==n&&(this.setState({previewImgPosition:{x:0,y:0},isLoaded:!1}),n||this.setState({imgWidth:0,imgHeight:0}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousedown",this.onDragStart),window.removeEventListener("mousemove",this.onDrag),window.removeEventListener("mouseup",this.onDragStop)}},{key:"onDragStart",value:function(e){this.isDragging=!0,this.startDragPosition={x:e.pageX,y:e.pageY}}},{key:"onDrag",value:function(e){if(this.isDragging){var t=e.pageX-this.startDragPosition.x,n=e.pageY-this.startDragPosition.y;this.startDragPosition={x:e.pageX,y:e.pageY};var r=this.state,a=r.previewImgPosition,i=r.imgWidth,o=r.imgHeight,u=a.x+t,l=a.y+n,s=this.imgContainer.offsetWidth,d=this.imgContainer.offsetHeight,c=i>s?s-i:0,f=o>d?d-o:0;u<c?u=c:u>0&&(u=0),l<f?l=f:l>0&&(l=0),this.setState({previewImgPosition:{x:u,y:l}})}}},{key:"onDragStop",value:function(e){this.isDragging=!1}},{key:"onLoad",value:function(e){this.setState({imgWidth:e.target.offsetWidth,imgHeight:e.target.offsetHeight,isLoaded:!0})}},{key:"renderPreviewBox",value:function(){var e=this.props.imageSrc,t={lines:13,length:20,width:10,radius:30,scale:.12,corners:1,color:"#7b7b7b",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,top:"50%",left:"-36%",shadow:!1,hwaccel:!1,position:"absolute"},n=this.state,r=n.previewImgPosition,a=n.isLoaded,i={left:r.x+"px",top:r.y+"px",border:"1px dashed transparent"},o=[];return e?(a||o.push(v.default.createElement("div",{className:"load-container",key:"0"},v.default.createElement("div",{className:"load-mask"}),v.default.createElement("div",{className:"load-content"},v.default.createElement(M.default,{loaded:a,options:t}),"Loading"))),o.push(v.default.createElement("img",{key:"1",src:e,alt:"",className:"preview-img",style:i,draggable:"false",onLoad:this.onLoad}))):o.push(v.default.createElement("div",{className:"no-preview",key:"2"},"No Preview available")),o}},{key:"render",value:function(){var e=this,t=this.state,n=t.imgWidth,r=t.imgHeight,a=this.props,o=a.maxImgContainerWidth,u=a.maxImgContainerHeight,l=a.initImgContainerWidth,s=a.initImgContainerHeight,d=a.fontColor,c=(0,b.default)("img-container",{grab:this.imgContainer&&n&&r&&(n>o||r>u)}),f={width:n||l,height:r||s,maxHeight:u,maxWidth:o};return n&&r&&(f=(0,i.default)({},f,x)),"#ffffff"===d&&n&&r&&(f.backgroundColor="#7B7B7B"),v.default.createElement("div",{className:"text-preview-box"},v.default.createElement("div",{className:c,style:f,ref:function(t){e.imgContainer=t},onMouseDown:this.onDragStart},this.renderPreviewBox()))}}]),t}(m.Component);E.propTypes={imageSrc:m.PropTypes.string,maxImgContainerWidth:m.PropTypes.number,maxImgContainerHeight:m.PropTypes.number,initImgContainerWidth:m.PropTypes.number,initImgContainerHeight:m.PropTypes.number},E.defaultProps={maxImgContainerWidth:720,maxImgContainerHeight:262,initImgContainerHeight:100,initImgContainerWidth:720},t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(8),g=r(h),m=n(9),v=r(m),y=n(13),b=n(1),w=r(b);n(271);var M=n(589),x=r(M),E=n(588),I=r(E),_=n(587),T=r(_),C=function(e){function t(e){(0,u.default)(this,t);var n=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={title:n.props.data.title||"",isEditIconShow:!1,isInEdit:!1,isInvalid:!1,invalidText:"It is invalid"},n.toggleEditIcon=n.toggleEditIcon.bind(n),n.toggleEditModel=n.toggleEditModel.bind(n),n.editDone=n.editDone.bind(n),n.cancelEdit=n.cancelEdit.bind(n),n.editTitle=n.editTitle.bind(n),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.data.title,n=e.data.title;t!==n&&this.setState({title:n})}},{key:"toggleEditIcon",value:function(e){this.setState({isEditIconShow:e})}},{key:"toggleEditModel",value:function(e){if(e){var t=this.props.actions,n=t.boundTrackerActions;n.addTracker("ClickChangeTitle")}this.setState({isInEdit:e,isInvalid:!1,invalidText:""})}},{key:"editDone",value:function(){var e=this;if(this.state.title)if(/^[a-zA-Z 0-9\d_\s\-]+$/.test(this.state.title))if(this.state.title!==this.props.data.title){var t=this.props,n=t.actions,r=t.data,a=(t.projectSettings,n.boundProjectActions),i=n.boundTrackerActions,o=n.boundSystemActions,u=r.projectId,l=r.userId,s=this.state.title;a.saveProjectTitle(l,u,s).then(function(t){var n=+(0,g.default)(t,"respCode");switch(n){case 2:e.setState({isInvalid:!0,invalidText:"Please use a name you haven't used before."});break;case 3:o.showConfirm({confirmMessage:"Your session has timed out. You must log in again to continue.",okButtonText:"Log in",cancelButtonText:"Cancel",onOkClick:function(){return window.open("/sign-in.html","_blank")}});break;case 200:e.setState({isInvalid:!1,invalidText:"",isInEdit:!1}),i.addTracker("ClickChangeTitleAndDone"),a.changeProjectTitle(s);break;default:o.showConfirm({confirmMessage:"Your network is offline!",onOkClick:function(){o.hideConfirm()},okButtonText:"OK"})}})}else this.state.title===this.props.data.title&&this.setState({isInEdit:!1});else this.setState({isInvalid:!0,invalidText:"Only letters, numbers, blank space, - (hyphen) and _ (underscore) are allowed in the title"});else this.setState({isInvalid:!0,invalidText:"Title is required"})}},{key:"cancelEdit",value:function(){var e=this.props.actions,t=e.boundTrackerActions;t.addTracker("CancelChangeTitle"),this.setState({title:this.props.data.title,isInEdit:!1})}},{key:"editTitle",value:function(e){this.setState({title:e.target.value})}},{key:"render",value:function(){var e=this.props.data,t=e.title,n=e.orderState,r=(0,g.default)(n,"isInCart")||(0,g.default)(n,"isOrdered"),a=(0,v.default)("title-edit-icon",{hide:!this.state.isEditIconShow}),i=(0,v.default)("title-warn",{show:this.state.isInvalid});return w.default.createElement("div",{className:"bed-title"},w.default.createElement("div",{onMouseOver:this.toggleEditIcon.bind(this,!0),onMouseOut:this.toggleEditIcon.bind(this,!1),className:this.state.isInEdit?"hide":""},w.default.createElement("p",{className:"box-title"},t),r?null:w.default.createElement("label",{htmlFor:"titleInputer"},w.default.createElement("img",{className:a,title:"Click to edit title",alt:"edit title",src:x.default,onClick:this.toggleEditModel.bind(this,!0)}))),r?null:w.default.createElement("div",{className:this.state.isInEdit?"":"hide"},w.default.createElement("div",{className:"box-title-edit"},w.default.createElement("input",{className:"title-edit",type:"text",maxLength:"50",value:this.state.title,onChange:this.editTitle,id:"titleInputer"}),w.default.createElement("img",{className:"icon-done",src:I.default,alt:"Done",onClick:this.editDone}),w.default.createElement("img",{className:"icon-delete",src:T.default,alt:"Cancel",onClick:this.cancelEdit})),w.default.createElement("span",{className:i},this.state.invalidText)))}}]),t}(b.Component);C.propTypes={},t.default=(0,y.translate)("TitleEditor")(C)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getFontWeightList=t.getFontOptionList=void 0;var i=n(21),o=a(i),u=n(15),l=r(u);t.getFontOptionList=function(e,t){if(!e)return[];var n=t.filter(function(e){return!e.deprecated}),r=n.map(function(t){return{disabled:t.deprecated,title:t.displayName,label:t.displayName,value:t.id,fontThumbnailUrl:(0,o.default)(l.GET_FONT_THUMBNAIL)({baseUrl:e.baseUrl,fontName:t.name})}});return r},t.getFontWeightList=function(e){return e.font.map(function(t){var n=t.displayName.replace(/\s*\d+/,"");return{disabled:e.deprecated,title:n,label:n,value:t.id,weight:t.weight,fontFamily:t.fontFamily}})}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=a(i),u=n(3),l=a(u),s=n(4),d=a(s),c=n(7),f=a(c),p=n(6),h=a(p),g=n(21),m=a(g),v=n(8),y=a(v),b=n(1),w=a(b),M=n(9),x=(a(M),n(26)),E=a(x),I=n(20),_=a(I),T=n(64),C=a(T),S=n(83),L=(a(S),n(123)),D=a(L),P=n(88),A=a(P),O=n(386),k=(r(O),n(10)),j=(n(18),n(38),n(15));n(272);var N=function(e){function t(e){(0,l.default)(this,t);var n=(0,f.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return n.state={timer:null,lastRequestTime:null,isShowIllegalCharTip:!1,isShowTooLongTextTip:!1,hideTipTimer:null,hideTooLongTextTipTimer:null,lastAppearIllegalCharTime:null,lastAppearTooLongTextTime:!1},n.onTextAreaChange=n.onTextAreaChange.bind(n),n.onFontNameChange=n.onFontNameChange.bind(n),n.onFontWeightChange=n.onFontWeightChange.bind(n),n.onFontColorChange=n.onFontColorChange.bind(n),n.onSubmit=n.onSubmit.bind(n),n}return(0,h.default)(t,e),(0,d.default)(t,[{key:"componentWillMount",value:function(){this.initData(this.props.element)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.isShown,n=e.isShown;t!==n&&n&&this.initData(e.element)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.isShown!==e.isShown||this.state.fontName!==t.fontName||this.state.fontWeight!==t.fontWeight||this.state.fontSize!==t.fontSize||this.state.fontColor!==t.fontColor||this.state.inputText!==t.inputText||this.state.isShowIllegalCharTip!==t.isShowIllegalCharTip||this.state.isShowTooLongTextTip!==t.isShowTooLongTextTip}},{key:"componentDidUpdate",value:function(e,t){var n=e.isShown,r=this.props.isShown;n!==r&&r&&this.refs.inputText.focus()}},{key:"initData",value:function(e){var t=this.props,n=t.fontList,r=t.baseUrls,a=t.paginationSpread,i=t.pagination,o=a.pages,u=(0,y.default)(i,"pageId"),l=(o.find(function(e){return e.id===u}),k.defaultFontStyle),s=n.filter(function(e){return!e.deprecated}),d=l.defaultFontFamilyId,c=l.defaultFontId,f=l.defaultColor,p="";e&&(s.forEach(function(t){t.font.forEach(function(n){n.fontFace===decodeURIComponent(e.fontFamily)&&(d=t.id,c=n.id)})}),f=e.fontColor,p=decodeURIComponent(e.text)||"");var h=s.find(function(e){return e.id===d}),g=h.deprecated?n:s,v=g.map(function(e){return{disabled:e.deprecated,title:e.displayName,label:e.displayName,value:e.id,fontThumbnailUrl:(0,m.default)(j.GET_FONT_THUMBNAIL)({baseUrl:r.baseUrl,fontName:e.name})}}),b=h.font.map(function(e){var t=e.displayName.replace(/\s*\d+/,"");return{disabled:h.deprecated,title:t,label:t,value:e.id}});this.setState({fontName:d,fontWeight:c,timer:null,lastRequestTime:null,fontColor:f,inputText:p,fontOptionList:v,fontWeightOptionList:b})}},{key:"onFontNameChange",value:function(e){var t=this.props.fontList,n=t.filter(function(e){return!e.deprecated}),r=n.find(function(t){return t.id===e.value}),a=r.font.map(function(e){var t=e.displayName.replace(/\s*\d+/,"");return{title:t,label:t,value:e.id}});this.setState({fontName:e.value,fontWeight:r.font[0].id,fontWeightOptionList:a})}},{key:"onFontWeightChange",value:function(e){this.setState({fontWeight:e.value})}},{key:"onFontColorChange",value:function(e){this.setState({fontColor:e.hex})}},{key:"onTextAreaChange",value:function(e){var t=this,n=this.props,r=n.hideTipInterval,a=n.element,i=this.state,o=i.hideTipTimer,u=i.hideTooLongTextTipTimer,l=i.lastAppearIllegalCharTime,s=i.lastAppearTooLongTextTime,d=/[^\u000d\u000a\u0020-\u007e]*[\r\n]*/g,c=e.target.value,f=a.type===k.elementTypes.usbText?c.replace(d,"").slice(0,13).trimLeft():c.replace(d,"").trimLeft();if(a.type===k.elementTypes.usbText&&c.length>13){if(!s||Date.now()-s<r){window.clearTimeout(u);var p=window.setTimeout(function(){t.setState({isShowTooLongTextTip:!1})},r);this.setState({hideTooLongTextTipTimer:p})}else this.setState({lastAppearTooLongTextTime:Date.now()});this.setState({isShowTooLongTextTip:!0})}else this.setState({isShowTooLongTextTip:!1});if(f!==c&&c.length<=13){if(!l||Date.now()-l<r){window.clearTimeout(o);var h=window.setTimeout(function(){t.setState({isShowIllegalCharTip:!1})},r);this.setState({hideTipTimer:h})}else this.setState({lastAppearIllegalCharTime:Date.now()});this.setState({isShowIllegalCharTip:!0})}else this.setState({isShowIllegalCharTip:!1});this.setState({inputText:f})}},{key:"getFontObj",value:function(e){var t=this.props.fontList,n=t.filter(function(e){return!e.deprecated}),r=null;return n.forEach(function(t){t.font.forEach(function(t){t.id===e&&(r=t)})}),r}},{key:"onSubmit",value:function(){var e=this.state,t=e.fontWeight,n=(e.fontSize,e.fontColor),r=e.inputText,a=this.props,i=a.updateElement,o=a.closeTextEditModal,u=a.element,l=this.getFontObj(t),s=r.replace(/\s+$/g,"");i({fontColor:n,text:encodeURIComponent(s),id:u.id,fontWeight:encodeURIComponent(l.weight),fontFamily:encodeURIComponent(l.fontFace)}),o()}},{key:"render",value:function(){var e=this.state,t=e.fontOptionList,n=e.fontWeightOptionList,r=e.fontName,a=e.fontWeight,i=(e.fontSize,e.fontColor),o=(e.inputSize,e.inputText),u=e.isShowTooLongTextTip,l=e.isShowIllegalCharTip,s=this.props,d=s.isShown,c=s.closeTextEditModal,f=d;return w.default.createElement(E.default,{className:"text-edit-modal",onClosed:c,opened:d},w.default.createElement("h2",{className:"modal-title"},"Edit Text"),w.default.createElement("div",{className:"modal-content"},w.default.createElement("div",{className:"option-container"},w.default.createElement("div",{className:"option-item"},w.default.createElement("div",{className:"select-container font-name"},w.default.createElement(C.default,{className:"font",options:t,searchable:!1,onChanged:this.onFontNameChange,value:r,optionComponent:A.default})),w.default.createElement("div",{className:"select-container font-weight"},w.default.createElement(C.default,{className:"font-weight",options:n,searchable:!1,onChanged:this.onFontWeightChange,value:a}))),w.default.createElement("div",{className:"divider"}),w.default.createElement(D.default,{needResetColor:f,initHexString:i,onColorChange:this.onFontColorChange})),w.default.createElement("div",{className:"text-box"},w.default.createElement("textarea",{className:"text-box",placeholder:"Type here...",onInput:this.onTextAreaChange,value:o,ref:"inputText"}),w.default.createElement("p",{className:"illegal-char-tip"},u?w.default.createElement("span",null,"13 characters limited"):null,l?w.default.createElement("span",null,"Invalid characters removed"):null)),w.default.createElement("p",{className:"button-container"},w.default.createElement(_.default,{onClicked:this.onSubmit},"Done"))))}}]),t}(b.Component);N.propTypes={},N.defaultProps={requestInterval:1e3,hideTipInterval:2e3},t.default=N},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stopEvent=t.getOffset=t.onDrop=t.handleDragOver=void 0;var r=n(30),a=n(10),i=n(53),o=(t.handleDragOver=function(e,t){s(t)},t.onDrop=function(e,t){var n=e.props,r=n.data,u=(n.actions,r.ratio,r.paginationSpread,r.pagination,r.parameters,r.page,t.pageX),l=t.pageY,d=(0,i.getTransferData)(t);d.length||d.type===a.elementTypes.sticker&&o(e,d,0,u,l),s(t)},function(e,t,n,r,i){var o=e.props,l=o.data,s=o.actions,d=l.pagination,c=l.paginationSpread,f=s.boundProjectActions,p=d.pageId,h=c.get("pages"),g=h.find(function(e){return e.get("id")===p}),m=u(e,g,t,0,r,i);f.createElement(p,m).then(function(){t.type===a.elementTypes.photo})}),u=function(e,t,n,i,o,u){
var s=e.props,d=s.data,c=(s.actions,d.ratio),f=d.paginationSpread,p=(d.pagination,d.parameters),h=d.elementArray,g=n.width,m=n.height,v=n.type===a.elementTypes.photo?960:n.width,y=n.type===a.elementTypes.photo?640:n.height,b=80,w=v*c.workspace,M=y*c.workspace,x=t.get("width")*c.workspace,E=t.get("height")*c.workspace,I=l(document.querySelector(".inner-sheet")?document.querySelector(".inner-sheet"):document.querySelector(".cover-sheet")),_=o-I.left,T=u-I.top,C=i*b,S=i*b,L=f.getIn(["pages",0]),D=p.get("innerPageBleed");(L.get("width")-D.get("left")-D.get("right"))*c.workspace;_<=0&&(_=0),T<=0&&(T=0),_>=x-w&&(_=x-w,C-=2*b),T>=E-M&&(T=E-M,S-=2*b);var P=_/c.workspace+C,A=T/c.workspace+S,O={x:P,y:A},k=(0,r.getCropOptions)(g,m,v*c.workspace,y*c.workspace,0),j=k.cropLUX,N=k.cropLUY,z=k.cropRLX,R=k.cropRLY,U=h.maxBy(function(e){return e.get("dep")}),B=(U?U.get("dep"):0)+1,F=void 0;return n.type===a.elementTypes.photo?F=new Element({type:a.elementTypes.photo,x:O.x,y:O.y,width:v,height:y,px:O.x/t.get("width"),py:O.y/t.get("height"),pw:v/t.get("width"),ph:y/t.get("height"),encImgId:n.encImgId,imageid:n.imageid,dep:B,cropLUX:j,cropLUY:N,cropRLX:z,cropRLY:R}):n.type===a.elementTypes.sticker&&(F={type:a.elementTypes.decoration,x:O.x,y:O.y,width:v,height:y,px:O.x/t.get("width"),py:O.y/t.get("height"),pw:v/t.get("width"),ph:y/t.get("height"),decorationid:n.guid,decorationtype:a.elementTypes.sticker,rot:0,dep:B}),F},l=t.getOffset=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:n,left:t}},s=t.stopEvent=function(e){var t=e||window.event;t.preventDefault(),t.stopPropagation()}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=a(i),u=n(5),l=a(u),s=n(3),d=a(s),c=n(4),f=a(c),p=n(7),h=a(p),g=n(6),m=a(g),v=n(1),y=a(v),b=n(9),w=a(b),M=n(37),x=a(M),E=n(56),I=a(E),_=n(388),T=(r(_),n(426)),C=a(T),S=(n(10),n(38));n(273);var L=n(590),D=a(L),P=n(591),A=a(P),O=160,k=50,j=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.state={isImgLoading:!1,imageSrc:null},n.onImgLoad=n.onImgLoad.bind(n),n}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.data,n=t.isPreview,r=t.element,a=t.urls;if(n)return(0,C.default)(a,(0,o.default)({},r,{fontColor:(0,S.hexString2Number)(r.fontColor)})).then(function(t){e.setState({imageSrc:URL.createObjectURL(t),isImgLoading:!1})})}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props.data.element,r=e.data.element,a=e.data.urls,i=this.props.data.setting,u=e.data.setting,l=e.actions.boundProjectActions;this.props.data.page,e.data.page;if(i.usbColor!==u.usbColor&&("#000000"===r.fontColor||"#FFFFFF"===r.fontColor)){var s="#000000";"usb_silver"===u.usbColor?s="#000000":"usb_black"===u.usbColor&&(s="#FFFFFF"),l.updateElement({id:r.id,fontColor:s})}if((r.computed.width!==n.computed.width||r.computed.height!==n.computed.height||n.text!==r.text||n.fontFamily!==r.fontFamily||n.fontWeight!==r.fontWeight||n.fontColor!==r.fontColor||null===this.state.imageSrc&&!this.state.isImgLoading)&&r.text)return this.setState({isImgLoading:!0}),(0,C.default)(a,(0,o.default)({},r,{fontColor:(0,S.hexString2Number)(r.fontColor)})).then(function(e){t.setState({imageSrc:URL.createObjectURL(e),isImgLoading:!1})})}},{key:"onClick",value:function(){var e=this.props,t=e.actions,n=e.data,r=t.editTextWithoutJustify,a=n.element;r(a,"usbtexteditorShow")}},{key:"getPlaceholder",value:function(){var e=this.props.data.setting.usbColor;switch(e){case"usb_silver":return y.default.createElement("img",{className:"USBTextElement__placeHolder",src:A.default});case"usb_black":return y.default.createElement("img",{className:"USBTextElement__placeHolder",src:D.default})}}},{key:"onImgLoad",value:function(){this.setState({isImgLoading:!1})}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.actions,r=t.element,a=(t.isPreview,t.urls,t.rate),i=t.paginationSpread.backgroundSize,u=t.page,l=this.state,s=l.isImgLoading,d=l.imageSrc;if(r.needInitialize)return null;var c=i.bgImageWidth-i.paddingLeft-i.paddingRight,f=c-i.rPagePaddingLeft-u.width,p=f*a-i.rPagePaddingRight*a,h=i.bgImageHeight-i.paddingTop-i.paddingLeft,g=h-i.rPagePaddingTop-u.height,m=g*a-i.rPagePaddingTop*a,v=O*i.ratioX*a,b=k*i.ratioY*a,M={position:"absolute",width:v+"px",height:b+"px",top:(r.computed.height-b)/2+"px",left:(r.computed.width-v)/2+"px"},E=(0,o.default)({},n,{handleClick:this.onClick.bind(this)}),_={className:(0,w.default)("USBTextElement","text-element",{"has-text":Boolean(r.text)}),style:{zIndex:r.dep+100,width:r.computed.width,height:r.computed.height+m/2,left:r.computed.left+p/2,top:r.computed.top},handlerStyle:M,handlerData:r,element:r},T={width:v,height:b};return y.default.createElement(I.default,{data:_,actions:E},y.default.createElement(x.default,{isShown:s}),_.element.text?y.default.createElement("img",{className:"USBTextElement__image",src:d,onLoad:this.onImgLoad}):this.getPlaceholder(),y.default.createElement("div",{className:"USBTextElement__border",style:T}))}}]),t}(v.Component);j.propTypes={},t.default=j},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(298),v=r(m),y=n(57),b=n(9),w=r(b),M=n(583),x=r(M);n(274);var E=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"handleDelete",value:function(){var e=this.props,t=e.uploadItem,n=e.boundUploadedImagesActions;t.xhr.abort(),n.deleteImage(t.imageId)}},{key:"handleRetry",value:function(){var e=this.props,t=e.uploadItem,n=e.boundUploadedImagesActions;n.retryImage(t.imageId)}},{key:"render",value:function(){var e=this.props.uploadItem,t="";switch(e.status){case y.PROGRESS:t="progress";break;case y.DONE:t="done";break;case y.FAIL:t="fail";break;default:t=""}var n=(0,w.default)("upload-item",t),r=e.name,a=e.info,i=e.status,o=e.percent;return g.default.createElement("li",{className:n},g.default.createElement("div",{className:"file-name"},r?r.substr(0,5)+"..."+r.substr(r.length-3):""),g.default.createElement("div",{className:"file-progress"},g.default.createElement(v.default,{percent:o}),g.default.createElement("span",{className:"status",title:a},i===y.DONE||i===y.FAIL?""+o:o+"%"),g.default.createElement("a",{href:"javascript:void(0);",className:"delete"},g.default.createElement("img",{width:"8px",height:"8px",src:x.default,onClick:this.handleDelete.bind(this),alt:"Delete"})),g.default.createElement("span",{className:"failed"},"Failed"),g.default.createElement("a",{href:"javascript:void(0);",className:"retry",onClick:this.handleRetry.bind(this)},"Retry")))}}]),t}(h.Component);E.propTypes={uploadItem:h.PropTypes.object.isRequired},t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(13),v=n(390),y=r(v);n(275);var b=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.uploadList,n=e.t,r=e.boundUploadedImagesActions;return g.default.createElement("div",null,g.default.createElement("ul",{className:"upload-title"},g.default.createElement("li",{className:"upload-title"},g.default.createElement("div",{className:"file-name"},n("FILE")),g.default.createElement("div",{className:"file-progress"},n("FILE_PROGRESS")))),g.default.createElement("div",{className:"box-list"},g.default.createElement("ul",{className:"upload-list"},t&&t.map(function(e,t){return g.default.createElement(y.default,{key:t,uploadItem:e,boundUploadedImagesActions:r})}))))}}]),t}(h.Component);b.propTypes={uploadList:h.PropTypes.array.isRequired},t.default=(0,m.translate)("ItemList")(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(1),g=r(h),m=n(57),v=n(26),y=r(v),b=n(20),w=r(b),M=n(62),x=r(M),E=n(13),I=n(391),_=r(I),T=n(28);n(276);var C=function(e){function t(e){(0,u.default)(this,t);var n=e.t,r=(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return r.state={completeButton:n("CANCELL_ALL")},r}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.t,r=t.boundTrackerActions;if(this.props.uploadingImages.length){var a=0,i=0;this.props.uploadingImages.map(function(e){e.status===m.DONE&&a++,e.status===m.FAIL&&i++}),a===e.uploadingImages.length?a&&(r.addTracker(T.UploadComplete),this.handleUploadModalClosed()):i+a===e.uploadingImages.length&&(r.addTracker(T.PhotosUploadFailed+","+i),this.setState({completeButton:n("DONE")}))}}},{key:"handleAddMore",value:function(e){}},{key:"handleUploadModalClosed",value:function(){var e=this.props,t=e.boundUploadedImagesActions,n=e.toggleModal,r=e.uploadingImages,a=e.boundTrackerActions,i=e.t,o=r.filter(function(e){return e.status===m.PENDING||e.status===m.PROGRESS}),u=r.some(function(e){return e.status===m.PENDING});if(u)return null;if(o.length){if(!window.confirm("Your image has not been uploaded.\n What do you want to do?"))return!1;r.map(function(e){e.xhr.abort()})}n("upload",!1),t.clearImages(),a.addTracker(T.CloseMonitor),this.setState({completeButton:i("CANCELL_ALL")})}},{key:"selectFile",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.opened,n=e.t,r=e.uploadingImages,a=e.boundUploadedImagesActions,i=e.toggleModal,o=0,u=0;return r.map(function(e){e.status===m.DONE?o++:e.status===m.FAIL&&u++}),g.default.createElement(y.default,{className:"upload-modal",onClosed:this.handleUploadModalClosed.bind(this),opened:t},g.default.createElement("div",{className:"box-image-upload"},g.default.createElement("h3",{className:"title"},n("UPLOAD_IMAGES")),g.default.createElement(_.default,{uploadList:r,boundUploadedImagesActions:a}),g.default.createElement("div",{className:"upload-meta"},g.default.createElement("div",{className:"upload-info"},g.default.createElement("span",{className:"compelete"},n("COMPLETE_COUNT",{n:o})),g.default.createElement("span",{className:"failed"},u?n("FILED_COUNT",{n:u}):"")),g.default.createElement("div",{className:"upload-buttons"},g.default.createElement(x.default,{className:"white",boundUploadedImagesActions:a,toggleModal:i,multiple:"multiple"},n("ADD_MORE_PHOTOS")),g.default.createElement(w.default,{onClicked:this.handleUploadModalClosed.bind(this),className:"cancel-all"},this.state.completeButton)))))}}]),t}(h.Component);C.propTypes={className:h.PropTypes.string,width:h.PropTypes.number,height:h.PropTypes.number,uploadList:h.PropTypes.array},t.default=(0,E.translate)("UploadModal")(C)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=n(7),c=r(d),f=n(6),p=r(f),h=n(9),g=(r(h),n(13),n(1)),m=r(g),v=n(26),y=r(v),b=n(20),w=r(b);n(277);var M=function(e){function t(e){return(0,u.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,p.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.isShown,n=e.onClone,r=e.useSpecModal,a=r.toJS(),i=a&&a.url&&a.url.url;return m.default.createElement(y.default,{className:"how-this-work-modal",onClosed:n,opened:t},m.default.createElement("div",{className:"modal-title"},"How to use the spec file?"),m.default.createElement("div",{className:"line-item"},m.default.createElement("div",{className:"line-num"},"1"),m.default.createElement("div",{className:"use-spec-content"},"Download the spec file and unzip.")),m.default.createElement("div",{className:"line-item"},m.default.createElement("div",{className:"line-num"},"2"),m.default.createElement("div",{className:"use-spec-content"},"Open the .psd file to use as template to design each spread in your book.")),m.default.createElement("div",{className:"line-item"},m.default.createElement("div",{className:"line-num"},"3"),m.default.createElement("div",{className:"use-spec-content"},"Once your design is completed, remove all guide lines and save as a .jpg file.")),m.default.createElement("div",{className:"line-item"},m.default.createElement("div",{className:"line-num"},"4"),m.default.createElement("div",{className:"use-spec-content"},"Upload your completed spreads into design app and drag it to the page. We will auto layout the image file.")),m.default.createElement("div",{className:"line-item"},m.default.createElement("div",{className:"line-num"},"5"),m.default.createElement("div",{className:"use-spec-content"},"Review all pages and place order.")),m.default.createElement("div",{className:"button-wrap"},m.default.createElement("a",{href:i,download:!0},m.default.createElement(w.default,{className:"little-button",onClicked:n},"Download spec file"))))}}]),t}(g.Component);t.default=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=e.props,u=o.boundProjectActions,l=(o.project,o.pagination),s=(o.settings,o.paginationSpread),c=o.variableMap,f=o.coverPageSpread,v=o.elementArray,y=(0,d.default)(f,"pages"),b=l.pageId;if(!b)throw"currentPageId can not null";var w=(0,d.default)(s,"pages"),M=w.find(function(e){return(0,d.default)(e,"id")===a}),x=v.filter(function(e){return(0,d.default)(M,"elements").indexOf((0,d.default)(e,"id"))!==-1}),E=0;x.forEach(function(e){(0,d.default)(e,"type")!==m.elementTypes.cameo&&(0,d.default)(e,"dep")>E&&(E=(0,d.default)(e,"dep"))});var I=(0,h.getNewPosition)(v,M,n,r),_=null;if(t===m.elementTypes.paintedText){var T=c&&(0,d.default)(c,"paintedTextColor");isNaN(T)&&(T=0);var C=(0,g.decToHex)(T),S=m.defaultFontStyle.defaultFontSize,L=encodeURIComponent(m.defaultFontStyle.defaultFontWeight),D=encodeURIComponent(m.defaultFontStyle.defaultFontFamily),P=y.find(function(e){return(0,d.default)(e,"type")===m.pageTypes.spine});y.find(function(e){return(0,d.default)(e,"type")===m.pageTypes.back}),(0,d.default)(P,"bleed");if(i===m.pageTypes.spine){var A=(0,d.default)(P,"width"),O=(0,d.default)(P,"height"),k=(0,d.default)(P,"wrapSize"),j=(0,p.getSpineRect)(A,O,k),N=j.x,z=j.y,R=j.width,U=j.height;_={width:R,height:U,fontColor:C,fontWeight:L,fontFamily:D,fontSize:0,text:"",type:m.elementTypes.paintedText,textAlign:"left",textVAlign:"top",dep:E+1,x:N,y:z,px:N/(0,d.default)(P,"width"),py:z/(0,d.default)(P,"height"),pw:R/(0,d.default)(P,"width"),ph:U/(0,d.default)(P,"height"),rot:90}}else _={width:n,height:r,fontColor:C,fontWeight:L,fontFamily:D,fontSize:(0,g.getPxByPt)(S)/(0,d.default)(M,"height"),text:"",type:m.elementTypes.paintedText,textAlign:"left",textVAlign:"top",dep:E?E+1:0,x:I.x,y:I.y,px:I.x/(0,d.default)(M,"width"),py:I.y/(0,d.default)(M,"height"),pw:n/(0,d.default)(M,"width"),ph:r/(0,d.default)(M,"height"),rot:0}}u.createElement(a||b,_)}Object.defineProperty(t,"__esModule",{value:!0}),t.onAddCoverText=t.onAddSpineText=t.onRemoveCameo=t.onAddCameo=t.hideCameoActionBar=t.computedCameoElementOptions=void 0;var i=n(76),o=r(i),u=n(11),l=r(u),s=n(8),d=r(s),c=n(425),f=r(c),p=n(429),h=n(138),g=n(18),m=n(10),v=t.computedCameoElementOptions=function(e,t,n){var r=e.width,a=e.height,i=(0,d.default)(e,"bleed.left")+(0,d.default)(e,"bleed.right"),o=(0,d.default)(t,"width")+(0,d.default)(n,"left")+(0,d.default)(n,"right"),u=(0,d.default)(t,"height")+(0,d.default)(n,"top")+(0,d.default)(n,"top"),l=(r-i-(0,d.default)(e,"wrapSize.right")-o)/2+(0,d.default)(e,"bleed.left"),s=(a-u)/2,c=l,f=s,p=c/r,h=f/a,g=o/r,m=u/a;return{x:c,y:f,px:p,py:h,pw:g,ph:m}},y=function(e){var t=e.props,n=t.parameterMap,r=t.boundProjectActions,a=t.cover,i=(0,d.default)(n,"cameoSize"),o=(0,d.default)(n,"cameoBleed"),u=(0,d.default)(i,"width")+(0,d.default)(o,"left")+(0,d.default)(o,"right"),s=(0,d.default)(i,"height")+(0,d.default)(o,"top")+(0,d.default)(o,"top"),c=(0,d.default)(a,"containers"),p=c.find(function(e){return e.type===m.pageTypes.front}),h=v(p,i,o),g=new f.default((0,l.default)({},h,{type:m.elementTypes.cameo,elType:"cameo",dep:100,width:u,height:s}));p&&r.createElement(p.id,g)},b=(t.hideCameoActionBar=function(e){e.setState({isCameoActionBarShow:!1})},t.onAddCameo=function(e,t){var n=t||window.event,r=e.props,a=r.boundTrackerActions,i=r.paginationSpread,o=i.summary,u=o.cameo,l=o.cameoShape;a.addTracker("AddCameo"),u&&l&&y(e),n&&(n.preventDefault(),n.stopPropagation())},t.onRemoveCameo=function(e){var t=e.props,n=t.boundTrackerActions,r=t.paginationSpread,a=t.boundProjectActions,i=t.cover;n.addTracker("RemoveCameo");var u=(0,d.default)(r,"elements"),l=null,s=(0,d.default)(i,"containers"),c=s.find(function(e){return e.type===m.pageTypes.front});(0,o.default)(u,function(e){(0,d.default)(e,"type")===m.elementTypes.cameo&&(l=(0,d.default)(e,"id"))}),l&&c&&(a.deleteElement(c.id,l),a.changeProjectSetting({cameoShape:m.cameoShapeTypes.rect}))},t.onAddSpineText=function(e){var t=e.props.coverPageSpread,n=(0,d.default)(t,"pages"),r=n.find(function(e){return(0,d.default)(e,"type")===m.pageTypes.spine}),i=(0,d.default)(r,"id"),o=m.pageTypes.spine;a(e,m.elementTypes.paintedText,(0,d.default)(r,"width"),(0,d.default)(r,"height"),i,o)},function(e){var t=0,n=0;if(e){var r=(0,d.default)(e,"width"),a=m.defaultFrameOptions.default.value,i=m.defaultFrameOptions.default.whRatio;t=r*a,n=t/i}return{width:t,height:n}});t.onAddCoverText=function(e,t){var n=e.props.coverPageSpread,r=(0,d.default)(n,"pages"),i=r.find(function(e){return(0,d.default)(e,"type")===t}),o=(0,d.default)(i,"id");if(i){var u=b(i);a(e,m.elementTypes.paintedText,u.width,u.height,o)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initWorkspace=t.getWorkspaceAvailableSize=void 0;var a=n(8),i=r(a),o=n(54),u=n(10),l=t.getWorkspaceAvailableSize=function(e,t,n,r,a,o){var l=void 0,s=void 0;o?(l=e.width*r,s=e.height-50-u.bottomHeight):(l=(e.width-u.sideBarWidth)*r,s=e.height-u.topHeight-u.bottomHeight);var d=(0,i.default)(a,"bgImageWidth"),c=(0,i.default)(a,"bgImageHeight");if(!(t&&n&&d&&c))return{width:l,height:s};var f=s*d/c,p=l*c/d;f>l?f=l:p=s;var h=p*t/n;return{width:h,height:p}};t.initWorkspace=function(e,t,n){var r=e.backgroundSize,a=(0,o.getSize)(),s=u.workSpacePrecent.big,d=(0,i.default)(r,"bgImageWidth"),c=(0,i.default)(r,"bgImageHeight"),f=l(a,d,c,s,t,n),p=f.width,h=p/d,g=n?(a.width-p)/2:u.sideBarWidth+(a.width-u.sideBarWidth-p)/2;return{workspaceSize:f,rate:h,left:g}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.switchPageTo=t.switchPage=void 0;var a=n(8),i=r(a),o=n(10);t.switchPage=function(e,t){var n=t||e.props,r=n.boundPaginationActions,a=n.paginationSpread,o=n.pagination,u=(0,i.default)(a,"pages"),l=u.findIndex(function(e){return(0,i.default)(e,"enabled")});l=l===-1?0:l;var s=(0,i.default)(u,"["+l+"].id");u.length&&o.pageId!==s&&r.switchPage(l,s)},t.switchPageTo=function(e,t){var n=e.props,r=n.boundPaginationActions,a=n.paginationSpread,u=n.pagination,l=(0,i.default)(a,"pages"),s=(0,i.default)(l,t.toString()),d=(0,i.default)(s,"type"),c=(0,i.default)(s,"id"),f=t;l.length&&u.pageId!==c&&t<l.length&&d!==o.pageTypes.full&&d!==o.pageTypes.spine&&r.switchPage(f,c)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addText=void 0;var a=n(8),i=r(a),o=(n(15),n(65),n(138)),u=(n(18),n(10));n(38),t.addText=function(e){var t=e.boundProjectActions,n=e.ratio,r=e.pagination,a=e.paginationSpread,l=e.elementArray,s=a.pages,d=(0,i.default)(r,"pageId"),c=s.find(function(e){return e.id===d}),f=(0,i.default)(c,"elements"),p=c.height,h="",g=u.defaultFontStyle.defaultFontSize/n,m=encodeURIComponent(u.defaultFontStyle.defaultFontFamily),v=encodeURIComponent(u.defaultFontStyle.defaultFontWeight),y="#000000",b="center",w=c.width*u.defaultFrameOptions.default.value,M=w/u.defaultFrameOptions.default.whRatio,x=(0,o.getNewPosition)(l,c,w,M),E="middle",I=0,_="text",T=0;l.forEach(function(e){f.indexOf((0,i.default)(e,"id"))!==-1&&(T=T<(0,i.default)(e,"dep")?(0,i.default)(e,"dep"):T)});var C=T+1;g/=p,t.createElement(d,{type:u.elementTypes.text,text:h,fontFamily:m,fontSize:g,fontColor:y,fontWeight:v,textAlign:b,textVAlign:E,width:w,height:M,x:x.x,y:x.y,px:x.x/c.width,py:x.y/c.height,pw:w/c.width,ph:M/c.height,rot:I,dep:C,elType:_})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getPageSpread=t.getPaginationSpread=t.convertSheetPages=t.convertCoverSummaryPages=t.getCoverImageEncId=t.checkIsEnablePage=void 0;var a=n(8),i=r(a),o=n(11),u=r(o),l=n(90),s=n(10),d=(t.checkIsEnablePage=function(){var e=!0;return e},t.getCoverImageEncId=function(e,t){var n=(0,i.default)(e,"containers"),r=Array.isArray(n)&&n.find(function(e){return(0,i.default)(e,"type")===s.pageTypes.full});if(r){var a=(0,i.default)(r,"elements");if(!a.length)return"";var o=t.find(function(e){return a.indexOf(e.id)!==-1&&"PhotoElement"===e.type});return o?o.encImgId:""}}),c=t.convertCoverSummaryPages=function(e,t){var n=[],r={},a=(0,i.default)(e,"bleed"),o=(0,i.default)(e,"height"),l=(0,i.default)(e,"width"),d=(0,i.default)(e,"backgroundSize"),c=(0,i.default)(e,"bgImageUrl"),f=(0,i.default)(e,"effectImageUrl"),p=(0,i.default)(e,"containers");(0,i.default)(t,"product"),(0,i.default)(t,"cover");(0,u.default)(r,{bgImageUrl:c,effectImageUrl:f,bleed:a,height:o,width:l,cameo:(0,i.default)(t,"cameo"),cameoShape:(0,i.default)(t,"cameoShape")});var h={isPageDraggable:!1,isPageDropable:!1};if(p){var g=p.find(function(e){return(0,i.default)(e,"type")===s.pageTypes.full}),m=p.find(function(e){return(0,i.default)(e,"type")===s.pageTypes.front}),v=p.find(function(e){return(0,i.default)(e,"type")===s.pageTypes.back}),y=p.find(function(e){return(0,i.default)(e,"type")===s.pageTypes.spine});g&&n.push((0,u.default)({},g,h,{width:(0,i.default)(g,"width"),height:(0,i.default)(g,"height"),offset:{top:0,left:0},enabled:!0})),v&&n.push((0,u.default)({},v,h,{width:(0,i.default)(v,"width"),height:(0,i.default)(v,"height"),offset:{top:0,left:0},enabled:!1})),y&&n.push((0,u.default)({},y,h,{width:(0,i.default)(y,"width"),height:(0,i.default)(y,"height"),offset:{top:0,left:0},enabled:!1})),m&&n.push((0,u.default)({},m,h,{width:(0,i.default)(m,"width"),height:(0,i.default)(m,"height"),offset:{top:0,left:0},enabled:!1}))}return{summary:r,pages:n,backgroundSize:d}},f=t.convertSheetPages=function(e){var t=[];return e.forEach(function(e){return t.push((0,u.default)({},e,{width:(0,i.default)(e,"width"),height:(0,i.default)(e,"height"),offset:{top:0,left:0},enabled:(0,i.default)(e,"type")!==s.pageTypes.usb,isPageDraggable:!1,isPageDropable:!1}))}),t};t.getPaginationSpread=function(e){var t=e.setting,n=e.cover,r=e.pageArray,a=e.elementArray,o=e.imageArray,p=e.pagination,h=e.inner,g=(t.product,t.cover),m={isCover:!0,pageId:"",isSupportImageInCover:(0,l.checkIsSupportImageInCover)(g),isSetCoverAsInnerBg:(0,l.checkIsSetCoverAsInnerBg)(g),isSupportPaintedText:(0,l.checkIsSupportPaintedTextInCover)(g),sheetIndex:p.sheetIndex},v=[],y=[],b={},w={},M={},x=p.sheetIndex;if(0===x){if(n){var E=c(n,t,p);(0,u.default)(m,E.summary),(0,u.default)(y,E.pages),(0,u.default)(M,E.backgroundSize),y.forEach(function(e){return v.push((0,i.default)(e,"id"))})}}else m.isCover=!1,(0,u.default)(M,h.backgroundSize),m.effectImageUrl=h.effectImageUrl,m.bgImageUrl=n.bgImageUrl,y=f(r),y.forEach(function(e){return v.push((0,i.default)(e,"id"))}),m.isSetCoverAsInnerBg&&(m.innerPageBackImageEncImgID=d(n,a));if(y.length&&y.forEach(function(e){var t=(0,i.default)(e,"elements");t.forEach(function(e){var t=a.find(function(t){return(0,i.default)(t,"id")===e});t&&(b[e]=t)})}),y.length>p.pageIndex&&(m.pageId=y[p.pageIndex].id),m.isCover){var I=!1,_=!1,T=void 0;for(T in b)(0,i.default)(b[T],"type")===s.elementTypes.cameo?I=!0:(0,i.default)(b[T],"type")===s.elementTypes.paintedText&&(_=!0);m.hasCameoElement=I,m.hasPaintedTextElement=_}if(o&&o.length){var C=void 0,S=function(){var e=(0,i.default)(b[C],"encImgId");if(e){var t=o.find(function(t){return(0,i.default)(t,"encImgId")===e});t&&(w[t.encImgId]=t)}};for(C in b)S()}var L={summary:m,pages:y,elements:b,images:w,pageIds:v,backgroundSize:M};return L},t.getPageSpread=function(e){var t=e.setting,n=e.cover,r=e.pageArray,a=e.elementArray,o=e.imageArray,p=e.pagination,h=e.sheetIndex,g=e.inner,m=(t.product,t.cover),v={isCover:!0,pageId:"",isSupportImageInCover:(0,l.checkIsSupportImageInCover)(m),isSetCoverAsInnerBg:(0,l.checkIsSetCoverAsInnerBg)(m),isSupportPaintedText:(0,l.checkIsSupportPaintedTextInCover)(m),sheetIndex:h},y=[],b=[],w={},M={},x={};if(0===h){if(n){var E=c(n,t);(0,u.default)(v,E.summary),(0,u.default)(b,E.pages),(0,u.default)(x,E.backgroundSize),b.forEach(function(e){return y.push((0,i.default)(e,"id"))})}}else v.isCover=!1,(0,u.default)(x,g.backgroundSize),v.effectImageUrl=g.effectImageUrl,v.bgImageUrl=n.bgImageUrl,b=f(r),b.forEach(function(e){return y.push((0,i.default)(e,"id"))}),v.isSetCoverAsInnerBg&&(v.innerPageBackImageEncImgID=d(n,a));if(b.length&&b.forEach(function(e){var t=(0,i.default)(e,"elements");t.forEach(function(e){var t=a.find(function(t){return(0,i.default)(t,"id")===e});t&&(w[e]=t)})}),b.length>p.pageIndex&&(v.pageId=b[p.pageIndex].id),v.isCover){var I=!1,_=!1,T=void 0;for(T in w)(0,i.default)(w[T],"type")===s.elementTypes.cameo?I=!0:(0,i.default)(w[T],"type")===s.elementTypes.paintedText&&(_=!0);v.hasCameoElement=I,v.hasPaintedTextElement=_}if(o&&o.length){var C=void 0,S=function(){var e=(0,i.default)(w[C],"encImgId");if(e){var t=o.find(function(t){return(0,i.default)(t,"encImgId")===e});t&&(M[t.encImgId]=t)}};for(C in w)S()}var L={summary:v,pages:b,elements:w,images:M,pageIds:y,backgroundSize:x};return L}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(52),o=a(i),u=n(5),l=a(u),s=n(3),d=a(s),c=n(4),f=a(c),p=n(7),h=a(p),g=n(6),m=a(g),v=n(169),y=a(v),b=n(11),w=a(b),M=n(24),x=a(M),E=n(8),I=a(E),_=n(103),T=a(_),C=n(1),S=a(C),L=n(177),D=n(42),P=n(44),A=a(P),O=n(13);n(280),n(279);var k=n(330),j=r(k),N=n(329),z=r(N),R=n(323),U=r(R),B=n(325),F=r(B),W=n(324),H=r(W),Y=n(331),Q=r(Y),G=n(327),X=r(G),q=n(334),J=r(q),V=n(332),Z=r(V),K=n(326),$=r(K),ee=n(333),te=r(ee),ne=n(10),re=n(363),ae=a(re),ie=n(369),oe=a(ie),ue=n(375),le=a(ue),se=n(137),de=a(se),ce=n(350),fe=a(ce),pe=n(393),he=a(pe),ge=n(392),me=a(ge),ve=n(294),ye=a(ve),be=n(374),we=a(be),Me=n(361),xe=a(Me),Ee=n(382),Ie=(a(Ee),n(381)),_e=a(Ie),Te=n(387),Ce=a(Te),Se=n(89),Le=(a(Se),n(28)),De=n(398),Pe=r(De),Ae=function(e){function t(e){(0,d.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e)),r=A.default.parse(window.location.search.substr(1)),a=Boolean("true"===r.isPreview),i=r.mainProjectUid,o=r.encImageId,u=r.isFromMyPhoto;return n.state={modalSwitches:{options:!1,upload:!1,login:!1,preview:!1,texteditorShow:!1,usbtexteditorShow:!1,textEditorType:""},spreads:[],textOptions:null,hasPreview:a,mainProjectUid:i,encImgId:o,isFromMyPhoto:u},n.addText=n.addText.bind(n),n.editText=n.editText.bind(n),n.toggleModal=n.toggleModal.bind(n),n.onSaveProject=n.onSaveProject.bind(n),n.onCloneProject=n.onCloneProject.bind(n),n.getImageDetail=n.getImageDetail.bind(n),n.editTextWithoutJustify=n.editTextWithoutJustify.bind(n),n}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.spreads,n=e.currentSpread,r=e.boundWorkspaceActions;if(t&&!(0,x.default)(this.state.spreads,t)){var a=t.map(function(e){return(0,w.default)({},e,{width:e.w,height:e.h,bgColor:"#f6f6f6"})});this.setState({spreads:a,currentSpread:n})}this.state.hasPreview&&!this.props.isProjectLoadCompleted&&e.isProjectLoadCompleted&&r.takeWorkspaceToPreview(!0)}},{key:"componentWillMount",value:function(){this.state.hasPreview&&this.toggleModal("preview",!0)}},{key:"componentDidMount",value:function(){window.onbeforeunload=function(){return"Unsaved changes(If any) will be discarded. Are you sure to exit?"}}},{key:"toggleModal",value:function(e,t){var n=(0,T.default)(this.state,"modalSwitches."+e,t);this.setState(n)}},{key:"toggleNewAdded",value:function(e){var t=(0,T.default)(this.state,"textOptions.newAdded",e);this.setState(t)}},{key:"handleLogin",value:function(){this.toggleModal.bind(this,"login",!1)}},{key:"addText",value:function(){var e=this.props.boundTrackerActions;this.toggleModal("texteditorShow",!0),this.setState({textOptions:null}),e.addTracker(Le.AddText)}},{key:"editText",value:function(e){this.toggleModal("texteditorShow",!0),this.setState({textOptions:e,textEditorType:ne.textEditorTypes.TEXT_EDITOR})}},{key:"editTextWithoutJustify",value:function(e){var t=this.props.orderState;t&&!t.checkFailed&&(this.toggleModal("usbtexteditorShow",!0),this.setState({textOptions:e,textEditorType:ne.textEditorTypes.TEXT_EDITOR_NO_JUSTIFY}))}},{key:"onSaveProject",value:function(e){var t=this.props,n=t.boundProjectActions,r=t.boundSystemActions,a=(t.boundTrackerActions,t.project),i=t.userInfo,o=(t.baseUrls,this.state.mainProjectUid);return n.getProjectOrderedState(i.id,a.projectId).then(function(t){var u=t.orderState;return!u.isInCart&&!u.isOrdered||u.checkFailed?(n.deleteServerPhotos(),n.saveProject(a,i,o,n).then(function(t){var n="success"===(0,I.default)(t,"status");if(n){var i=(0,I.default)(t,"data.guid");a.projectId===-1&&i&&window.history.replaceState({},"Box","?"+A.default.stringify({initGuid:i,webClientId:1})),(0,y.default)(e)||e()}else{var o=+(0,I.default)(t,"errorCode");switch(o){case-111:r.showConfirm({confirmMessage:"Your session has timed out. You must log in again to continue.",okButtonText:"Log in",cancelButtonText:"Cancel",onOkClick:function(){return window.open("/sign-in.html","_blank")}});break;default:r.showNotify("Saving project failed!")}}})):r.showConfirm({confirmMessage:"Your current project has been ordered or is in the cart. You need to clone it to save your additional changes",onOkClick:function(){r.hideConfirm(),r.showCloneModal()},onCancelClick:function(){r.hideConfirm()},okButtonText:"Clone",cancelButtonText:"Cancel"})}).catch(function(e){switch(console.log(">>>>>error",e),e.code){case ne.errorTypes.NETWORK_ERROR:r.showConfirm({confirmMessage:"Your network is offline!",onOkClick:function(){r.hideConfirm()},okButtonText:"OK"});break;default:r.showConfirm({confirmMessage:"An unexpected error occurred. Try again",onOkClick:function(){r.hideConfirm()},okButtonText:"OK"})}})}},{key:"onCloneProject",value:function(e,t){var n=this.props,r=n.boundProjectActions,a=n.boundSystemActions,i=n.project,o=n.userInfo,u=(n.spec,this.state.mainProjectUid);r.cloneProject(i,o,u,e).then(function(n){var i="success"===(0,I.default)(n,"status");if(i){var u=+(0,I.default)(n,"data.guid");u&&(r.changeProjectTitle(e),r.updateProjectId(u),r.uploadCoverImage(u),r.getProjectOrderedState(o,u),window.history.replaceState({},"Box","?"+A.default.stringify({initGuid:u})),t?t():a.showNotify("Project cloned successfully!"));
}else{var l=+(0,I.default)(n,"errorCode");switch(l){case-111:a.showConfirm({confirmMessage:"Your session has timed out. You must log in again to continue.",okButtonText:"Log in",cancelButtonText:"Cancel",onOkClick:function(){return window.open("/sign-in.html","_blank")}});break;default:a.showNotify("Saving project failed!")}}})}},{key:"getImageDetail",value:function(e){var t=this.props.imageArray,n=t.filter(function(t){return t.id===e});return n?n[0]:{}}},{key:"onPreviewHandle",value:function(){var e=this.props,t=e.boundWorkspaceActions,n=e.boundTrackerActions;t.takeWorkspaceToPreview(!0),this.toggleModal("preview",!0),n.addTracker(Le.ClickPreview)}},{key:"onClosedPreview",value:function(){var e=this.props.boundWorkspaceActions;e.takeWorkspaceToPreview(!1),this.toggleModal("preview",!1)}},{key:"render",value:function(){var e=this.props,t=e.translations,n=e.boundSpecActions,r=e.boundProjectActions,a=e.boundLoginActions,i=e.boundEnvActions,u=e.boundSystemActions,l=(e.boundNotifyActions,e.boundUploadedImagesActions),s=e.boundPriceActions,d=e.boundWorkspaceActions,c=e.boundTrackerActions,f=e.boundPaginationActions,p=e.boundUseSpecActions,h=e.projectId,g=(e.optionMap,e.setting),m=(e.userId,e.albumId,e.spreadArray,e.imageArray),v=e.imageUsedCountMap,y=e.isProjectLoadCompleted,b=e.isProjectEdited,w=e.encProjectIdString,M=e.orderState,x=e.uploadingImages,E=e.price,_=e.notifyData,T=e.confirmData,C=e.loadingData,L=e.imageEditModalData,D=e.currentSpread,P=(e.operationPanel,e.inPreviewWorkspace,e.allSpreads,e.baseUrls),A=e.ratio,k=(e.containerBaseSize,e.pagination),j=e.allOptionMap,N=e.variableArray,z=e.parameterMap,R=e.configurableOptionArray,U=e.cover,B=e.inner,F=e.pageArray,W=e.elementArray,H=e.userInfo,Y=e.variableMap,Q=e.fontList,G=e.project,X=e.isSpecLoaded,q=e.cloneModalData,J=e.useSpecModal,V=this.state,Z=V.hasPreview,K=V.mainProjectUid,$=V.encImgId,ee=V.isFromMyPhoto,te=V.textEditorType,re=(0,I.default)(D,"spreadOptions.type"),ie=re?re===ne.spreadTypes.innerPage?"Inner":"Cover":"[ERROR]",ue=Pe.getPaginationSpread({setting:g,cover:U,pageArray:F,elementArray:W,imageArray:m,pagination:k,inner:B}),se=Pe.getPageSpread({setting:g,cover:U,pageArray:F,elementArray:W,imageArray:m,pagination:k,sheetIndex:0,inner:B}),ce=Pe.getPageSpread({setting:g,cover:U,pageArray:F,elementArray:W,imageArray:m,pagination:k,sheetIndex:1,inner:B}),pe={boundTrackerActions:c},ge={price:E,parameters:z,allCovers:U,allElements:W,settings:g,allPages:F};return S.default.createElement(O.TranslatorProvider,{translations:t},S.default.createElement(ae.default,{className:"app",boundSpecActions:n,boundProjectActions:r,boundEnvActions:i,boundSystemActions:u,boundPriceActions:s,boundTrackerActions:c,imageEditModalData:L,projectId:h,userId:H.id,setting:g,baseUrls:P,onSaveProject:this.onSaveProject,confirmData:T,notifyData:_,isProjectLoadCompleted:y,encProjectIdString:w,mainProjectUid:K,isFromMyPhoto:ee,encImgId:$,pageArray:F,variableMap:Y,project:G,isSpecLoaded:X,allOptionMap:j},S.default.createElement(oe.default,{onLoginHandle:this.toggleModal.bind(this,"login",!0),onPreviewHandle:this.onPreviewHandle.bind(this),onSaveProject:this.onSaveProject,setting:g,typeText:ie,baseUrls:P,projectId:h,boundSystemActions:u,isProjectEdited:b,orderState:M,boundProjectActions:r,boundTrackerActions:c,boundPaginationActions:f,useSpecModal:J,boundUseSpecActions:p,userId:H.id,elementArray:W,project:G,showCloneModal:u.showCloneModal}),(0,o.default)(E).length?S.default.createElement(xe.default,{actions:pe,data:ge}):null,S.default.createElement(le.default,{boundUploadedImagesActions:l,boundProjectActions:r,boundWorkspaceActions:d,boundTrackerActions:c,toggleModal:this.toggleModal.bind(this),imageArray:m,imageUsedCountMap:v,baseUrls:P,paginationSpread:ue,setting:g,allOptionMap:j,variableArray:N,configurableOptionArray:R,orderState:M,userInfo:H}),S.default.createElement(de.default,{boundSystemActions:u,boundProjectActions:r,boundWorkspaceActions:d,boundTrackerActions:c,setting:g,baseUrls:P,loadingData:C,imageArray:m,boundUploadedImagesActions:l,addText:this.addText,editText:this.editText,toggleModal:this.toggleModal,getImageDetail:this.getImageDetail,ratio:A,pagination:k,boundPaginationActions:f,cover:U,pageArray:F,elementArray:W,variableMap:Y,paginationSpread:ue,parameterMap:z,coverPageSpread:se,innerPageSpread:ce,isPreview:!1,isProjectLoadCompleted:y,editTextWithoutJustify:this.editTextWithoutJustify,orderState:M,userInfo:H}),S.default.createElement(me.default,{opened:this.state.modalSwitches.upload,uploadingImages:x,boundUploadedImagesActions:l,boundWorkspaceActions:d,currentSpread:D,boundTrackerActions:c,toggleModal:this.toggleModal.bind(this)}),S.default.createElement(ye.default,{loginActions:a,onClosed:this.toggleModal.bind(this,"login",!1),opened:this.state.modalSwitches.login}),this.state.modalSwitches.preview?S.default.createElement(we.default,{onClosed:this.onClosedPreview.bind(this),opened:this.state.modalSwitches.preview,hasPreview:Z,boundSystemActions:u,boundProjectActions:r,boundWorkspaceActions:d,boundTrackerActions:c,setting:g,baseUrls:P,loadingData:C,imageArray:m,boundUploadedImagesActions:l,toggleModal:this.toggleModal,getImageDetail:this.getImageDetail,ratio:A,pagination:k,boundPaginationActions:f,cover:U,pageArray:F,elementArray:W,variableMap:Y,paginationSpread:ue,parameterMap:z,coverPageSpread:se,innerPageSpread:ce,isProjectLoadCompleted:y,userInfo:H}):null,Q.length&&te===ne.textEditorTypes.TEXT_EDITOR?S.default.createElement(_e.default,{fontList:Q,baseUrls:P,isShown:this.state.modalSwitches.texteditorShow,element:this.state.textOptions,pagination:k,paginationSpread:ue,elementArray:W,closeTextEditModal:this.toggleModal.bind(this,"texteditorShow",!1),updateElement:r.updateElement,ratio:A}):null,Q.length&&te===ne.textEditorTypes.TEXT_EDITOR_NO_JUSTIFY?S.default.createElement(Ce.default,{fontList:Q,baseUrls:P,isShown:this.state.modalSwitches.usbtexteditorShow,element:this.state.textOptions,pagination:k,paginationSpread:ue,elementArray:W,closeTextEditModal:this.toggleModal.bind(this,"usbtexteditorShow",!1),updateElement:r.updateElement,ratio:A}):null,S.default.createElement(fe.default,{userId:H.id,isShown:q.isShown,onCloneProject:this.onCloneProject,addAlbum:i.addAlbum,closeCloneModal:u.hideCloneModal,checkProjectTitle:r.checkProjectTitle,addTracker:c.addTracker}),S.default.createElement(he.default,{userId:H.id,isShown:J.get("isShown"),onClone:p.hideUseSpecModal,addTracker:c.addTracker,useSpecModal:J,boundUseSpecActions:p})))}}]),t}(C.Component),Oe=function(e){return{optionMap:(0,I.default)(e,"project.availableOptionMap"),setting:(0,I.default)(e,"project.setting"),spreadArray:(0,I.default)(e,"project.spreadArray"),imageArray:(0,I.default)(e,"project.imageArray"),projectId:(0,I.default)(e,"project.projectId"),createdDate:(0,I.default)(e,"project.createdDate"),coverThumbnail:(0,I.default)(e,"project.coverThumbnail"),encProjectIdString:(0,I.default)(e,"project.encProjectIdString"),albumId:(0,I.default)(e,"system.env.albumId"),orderState:(0,I.default)(e,"project.orderState"),imageUsedCountMap:(0,I.default)(e,"project.imageUsedCountMap"),useSpecModal:(0,I.default)(e,"system.useSpecModal"),spreads:(0,I.default)(e,"project.spreadArray"),currentSpread:(0,I.default)(e,"system.workspace.currentSpread"),allSpreads:(0,I.default)(e,"system.workspace.allSpreads"),operationPanel:(0,I.default)(e,"system.workspace.operationPanel"),inPreviewWorkspace:(0,I.default)(e,"system.workspace.inPreviewWorkspace"),uploadingImages:e.system.images.uploading,price:e.system.price,baseUrls:(0,I.default)(e,"system.env.urls"),notifyData:e.system.notifyData,confirmData:e.system.confirmData,loadingData:e.system.loadingData,imageEditModalData:(0,I.default)(e,"system.imageEditModalData"),ratio:(0,I.default)(e,"system.workspace.workspaceRatio"),isProjectLoadCompleted:(0,I.default)(e,"project.isProjectLoadCompleted"),isProjectEdited:(0,I.default)(e,"project.isProjectEdited"),containerBaseSize:(0,I.default)(e,"system.workspace.currentSpread.containerSizeBaseOnScreen"),configurableOptionArray:(0,I.default)(e,"project.configurableOptionArray"),allOptionMap:(0,I.default)(e,"spec.allOptionMap"),variableArray:(0,I.default)(e,"project.variableArray"),variableMap:(0,I.default)(e,"project.variableMap"),parameterMap:(0,I.default)(e,"project.parameterMap"),cover:(0,I.default)(e,"project.cover"),inner:(0,I.default)(e,"project.inner"),pageArray:(0,I.default)(e,"project.pageArray"),elementArray:(0,I.default)(e,"project.elementArray"),pagination:(0,I.default)(e,"system.pagination"),userInfo:(0,I.default)(e,"system.env.userInfo"),fontList:(0,I.default)(e,"system.fontList"),project:(0,I.default)(e,"project"),isSpecLoaded:(0,I.default)(e,"project.isSpecLoaded"),cloneModalData:(0,I.default)(e,"system.cloneModalData")}},ke=function(e){return{boundSpecActions:(0,D.bindActionCreators)(j,e),boundProjectActions:(0,D.bindActionCreators)(z,e),boundLoginActions:(0,D.bindActionCreators)(F,e),boundEnvActions:(0,D.bindActionCreators)(U,e),boundUploadedImagesActions:(0,D.bindActionCreators)(H,e),boundSystemActions:(0,D.bindActionCreators)(Q,e),boundPriceActions:(0,D.bindActionCreators)(X,e),boundWorkspaceActions:(0,D.bindActionCreators)(J,e),boundTrackerActions:(0,D.bindActionCreators)(Z,e),boundPaginationActions:(0,D.bindActionCreators)($,e),boundUseSpecActions:(0,D.bindActionCreators)(te,e)}};t.default=(0,L.connect)(Oe,ke)(Ae)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{product:"IB",optionIds:[{type:"product",title:"Products",showHr:!0},{type:"type",title:"Panel Type",showHr:!0},{type:"size",title:"Size"}]},{product:"woodBox",optionIds:[{type:"product",title:"Products",showHr:!0},{type:"finish",title:"Print Options",showHr:!0},{type:"size",title:"Size"}]},{product:"usbCase",optionIds:[{type:"product",title:"Products",showHr:!0},{type:"cover",title:"Cover",showHr:!0},{type:"leatherColor",title:"Cover Color",showHr:!0},{type:"usbColor",title:"USB Color",showHr:!0},{type:"usbCapacities",title:"USB Capacities",showHr:!0},{type:"type",title:"Panel Type"}]},{product:"dvdCase",optionIds:[{type:"product",title:"Products",showHr:!0},{type:"cover",title:"Cover",showHr:!0},{type:"leatherColor",title:"Cover Color",showHr:!0},{type:"dvdType",title:"Holder Type",showHr:!0},{type:"dvdPrinted",title:"DVD",showHr:!0},{type:"type",title:"Panel Type"}]}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),i=r(a),o=n(14),u=n(10),l=n(435);t.default=function(e){return function(t){return function(n){var r=e.getState(),a=(0,i.default)(r,"project"),s=a&&(0,i.default)(a,"setting.product"),d=a&&(0,i.default)(a,"projectId"),c=u.clientType+"_"+s+","+d;return s&&d&&n.type===o.ADD_TRACKER&&(0,l.goTracker)(c+","+n.param),t(n)}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),i=r(a),o=n(14),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case o.SHOW_ALERT:return[].concat((0,i.default)(e),[{title:t.title,content:t.content,alertType:t.alertType}]);case o.CLOSED_ALERT:return[].concat((0,i.default)(e.slice(0,t.index)),(0,i.default)(e.slice(t.index+1)));default:return e}};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.urls=void 0;var r=n(14),a=n(15);t.urls=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case r.API_SUCCESS:if(t.apiPattern.name===a.GET_ENV){var n=t.response;return n.env||{}}return e;default:return e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=r(a),o=n(14),u={isShown:!1},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case o.SHOW_CLONE_MODAL:return(0,i.default)({},e,{isShown:!0});case o.HIDE_CLONE_MODAL:return(0,i.default)({},e,{isShown:!1});default:return e}};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=r(a),o=n(14),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isShow:!1,onOkClick:function(){}},t=arguments[1];switch(t.type){case o.SHOW_CONFIRM:return(0,i.default)({},e,t.confirmData,{isShow:!0});case o.HIDE_CONFIRM:return{isShow:!1,onOkClick:function(){},onModalClose:function(){}};default:return e}};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),a=n(412),i=n(403);t.default=(0,r.combineReducers)({cookies:a.cookies,userInfo:a.userInfo,albumId:a.albumId,urls:i.urls})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.fontFamilies.fontFamily,n=[];return t.forEach(function(e){var t=(0,c.default)({},e,{font:(0,p.default)(e.font)?[].concat((0,u.default)(e.font)):[e.font]});n.push(t)}),n}Object.defineProperty(t,"__esModule",{value:!0});var o=n(34),u=a(o),l=n(8),s=a(l),d=n(11),c=a(d),f=n(22),p=a(f),h=n(14),g=r(h),m=n(15),v=r(m),y=n(27),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case g.API_SUCCESS:switch(t.apiPattern.name){case v.GET_FONTS:var n=(0,s.default)(t,"response.fontConfig");return(0,y.convertObjIn)(i(n));default:return e}default:return e}};t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=r(a),o=n(14),u={isShown:!1,imageEditApiTemplate:"",encImgId:"",imageWidth:0,imageHeight:0,elementWidth:0,elementHeight:0,crop:{},onDoneClick:function(){},onCancelClick:function(){}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case o.SHOW_IMAGE_EDIT_MODAL:return(0,i.default)({},e,t.imageEditModalData,{isShown:!0});case o.HIDE_IMAGE_EDIT_MODAL:return(0,i.default)({},e,{isShown:!1,isShowDvdCropCover:!1});default:return e}};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),i=r(a),o=n(605),u=r(o),l=n(103),s=r(l),d=n(11),c=r(d),f=n(42),p=n(57),h=n(14),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case h.ADD_IMAGES:var n=(0,u.default)(t.files),r=n.map(function(e){return{name:e.name,imageId:"",xhr:null,file:null,info:"",status:p.PENDING,percent:0}});return[].concat((0,i.default)(e),(0,i.default)(r));case h.UPDATE_FIELDS:var a=e.findIndex(function(e){return e.imageId==t.imageId});return(0,s.default)((0,c.default)([],e),""+a,(0,c.default)({},e[a],t.fields));case h.UPDATE_IMAGEID:return(0,s.default)((0,c.default)([],e),t.index+".imageId",t.imageId);case h.UPDATE_PERCENT:var a=e.findIndex(function(e){return e.imageId==t.imageId});return t.percent=100==t.percent?99:t.percent,(0,s.default)((0,c.default)([],e),a+".percent",t.percent);case h.CLEAR_IMAGES:return[];case h.DELETE_IMAGE:var a=e.findIndex(function(e){return e.imageId==t.imageId});return[].concat((0,i.default)(e.slice(0,a)),(0,i.default)(e.slice(a+1)));case h.ERROR_TO_FIRST:var a=e.findIndex(function(e){return e.imageId==t.imageId}),o=(0,c.default)([],e),l=o.splice(a,1);return o.unshift(l[0]),o;default:return e}};t.default=(0,f.combineReducers)({uploading:g})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(42),i=n(416),o=r(i),u=n(418),l=r(u),s=n(419),d=r(s);t.default=(0,a.combineReducers)({spec:l.default,project:o.default,system:d.default})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=r(a),o=n(14),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isShow:!1,isModalShow:!1},t=arguments[1];switch(t.type){case o.SHOW_LOADING:return(0,i.default)({},e,{isShow:!0,isModalShow:t.isModalShow||!1});case o.HIDE_LOADING:return(0,i.default)({},e,{isShow:!1});default:return e}};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.albumId=t.userInfo=t.cookies=void 0;var a=n(51),i=r(a),o=n(8),u=r(o),l=n(14),s=n(15),d=n(48),c=r(d),f=n(27),p="COOKIES_IN_STORAGE",h="USERINFO_IN_STORAGE",g=function(e){document.cookie=e},m=function(e,t){localStorage.setItem(e,(0,i.default)(t))},v=function(){var e=localStorage.getItem(p);if(e){var t=JSON.parse(e);return t.forEach(function(e){return g(e["Set-Cookie"])}),t}return[]},y=function(){var e=localStorage.getItem(h);return e?JSON.parse(e):{id:-1}},b=v(),w=y();t.cookies=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments[1];switch(t.type){case l.API_SUCCESS:if(t.apiPattern.name===s.LOGIN){var n=(0,u.default)(t.response,"cookies");return m(p,n),n.forEach(function(e){return g(e["Set-Cookie"])}),n||[]}return e;default:return e}},t.userInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments[1];switch(t.type){case l.API_SUCCESS:if(t.apiPattern.name===s.LOGIN){var n=(0,f.convertObjIn)((0,u.default)(t.response,"userInfo")),r={id:n.userId,email:n.email,authToken:n.authToken,isProCustomer:n.isPro,timestamp:n.timestamp};return m(h,r),r}if(t.apiPattern.name===s.GET_SESSION_USER_INFO){var a=(0,u.default)(t.response,"userSessionData.user");return a.id&&(c.default.customerId=a.id,c.default.token=a.authToken,c.default.timestamp=a.timestamp),(0,f.convertObjIn)(a)}return e;default:return e}},t.albumId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments[1];switch(t.type){case l.API_SUCCESS:switch(t.apiPattern.name){case s.GET_USER_ALBUM_ID:case s.ADD_ALBUM:return+(0,u.default)(t.response,"resultData.albumId")||-1;default:return e}default:return e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=r(a),o=n(14),u=n(18),l={guid:"",isShow:!1,notifyMessage:""},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.SHOW_NOTIFY:return(0,i.default)({},e,{notifyMessage:t.notifyMessage,isShow:!0,guid:(0,u.guid)()});case o.HIDE_NOTIFY:return(0,i.default)({},e,{notifyMessage:"",isShow:!1});default:return e}};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=r(a),o=n(14),u={sheetIndex:0,pageIndex:0,pageId:""},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case o.SWITCH_SHEET:var n=e.sheetIndex;return n!==t.index?(0,i.default)({},e,{sheetIndex:t.index}):e;case o.SWITCH_PAGE:return(0,i.default)({},e,{pageIndex:t.index,pageId:t.id});default:return e}};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=r(a),o=n(44),u=(r(o),n(14)),l=n(15),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case u.API_SUCCESS:switch(t.apiPattern.name){case l.GET_PRODUCT_PRICE:var n=t.response.data;return(0,i.default)({},e,n);default:return e}default:return e}};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){var a=r.needDefaultSetting,u=r.currentSetting,l=r.newSetting,s=(r.bgColor,r.prevCover),d=r.prevPageArray,c=r.prevElementArray,f=r.imageArray,p=r.isRotate,h=r.shouldBeDefaultCrop,g=null,m=!1,v=!1;g=a?K.default.getDefaultProjectSetting(u,e):K.default.getNewProjectSetting(u,l,e);var y=K.default.getParameters(g,t),b=ue(y),M=K.default.getVariables(g,n),x=(0,J.generateCover)(g,b,M,p),E=(0,J.generatePageArray)(g,b,M),I=(0,J.generateInner)(g,b,M,E);(u.size!==g.size||u.product!==g.product||h)&&(m=!0,v=!0),u.dvdType!==g.dvdType&&(v=!0),"two"===g.dvdType&&(g.cameoShape="Box_Rect");var _=o(s,x,c,f,g,m),T=_.cover,C=_.elementArray,S=i(d,E,c,f,g,v),L=S.pageArray,D=S.elementArray;return{setting:g,cover:T,inner:I,pageArray:L,variableMap:M,variableArray:n,parameterArray:t,configurableOptionArray:e,parameterMap:b,elementArray:[].concat((0,w.default)(C),(0,w.default)(D))}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments[4],i=arguments[5],o=[],u=0,l=1;t=t.map(function(t,n){var r=!(n%2),i=e.find(function(e){return e.position===(r?"left":"right")});if(r&&(a.type===te.panelTypes.blackLeatherette||a.type===te.panelTypes.blackPanel)&&"two"!==a.dvdType||"noPrinted"===a.dvdPrinted&&t.type===te.pageTypes.dvd)return te.AUTO_DELETE_PAGE?null:(0,y.default)({},t,{elements:[]});if(i&&i.type===t.type&&i.elements.length)return(0,y.default)({},t,{elements:i.elements});switch(t.type){case te.pageTypes.page:var u=c(t);return o.push(u),(0,y.default)({},t,{elements:[u.id]});case te.pageTypes.dvd:var l=f(t);return o.push(l),(0,y.default)({},t,{elements:[l.id]});default:return(0,y.default)({},t,{elements:[]})}}),t[u]&&(t[u].position="left"),t[l]&&(t[l].position="right"),t=t.filter(function(e){return null!==e});var s=d(n,t,r,i);return{pageArray:t,elementArray:[].concat((0,w.default)(s),o)}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments[4],i=arguments[5],o=t.containers||[],u=e.containers||[],l=[],s=[];if(!(0,X.checkIsSupportPaintedTextInCover)(a.cover)){var f=n.filter(function(e){return e.type===te.elementTypes.paintedText});s=[].concat((0,w.default)(s),(0,w.default)(f))}o=o.map(function(e){var t=u.find(function(t){return t.type===e.type});if(t&&0!==t.elements.length){var n=t.elements.filter(function(e){return!s.length||s.every(function(t){return e!==t.id})});return(0,y.default)({},e,{elements:n})}if(e.type===te.pageTypes.full){var r=c(e);return l.push(r),(0,y.default)({},e,{elements:[r.id]})}return e});var p=d(n,o,r,i);if("two"===a.dvdType){var h=p.find(function(e){return e.type===te.elementTypes.cameo});h&&(o=o.map(function(e){return e.elements=e.elements.filter(function(e){return e!==h.id}),e}),p=p.filter(function(e){return e.type!==te.elementTypes.cameo}))}return{cover:(0,y.default)({},t,{containers:o}),elementArray:[].concat((0,w.default)(p),l)}}function u(e,t,n){return Math.max(Math.min(e,n),t)}function l(e,t,n){var r=4,a=120,i=u(e.fontSize,(0,q.getPxByPt)(r)/n,(0,q.getPxByPt)(a)/n);return(0,y.default)({},e,{x:e.px*t,y:e.py*n,width:e.pw*t,height:e.ph*n,fontSize:i})}function s(e,t,n,r,a){var i=e.pw*n,o=e.ph*r,u=e.px*n,l=e.py*r,s=t.find(function(t){return t.encImgId===e.encImgId}),d={width:i,height:o,x:u,y:l};if(s&&a){var c=(0,G.getCropOptions)(s.width,s.height,i,o,e.imgRot),f=c.cropLUX,p=c.cropLUY,h=c.cropRLX,g=c.cropRLY;d=(0,y.default)({},d,{cropLUX:f,cropLUY:p,cropRLX:h,cropRLY:g})}return(0,y.default)({},e,d)}function d(e,t,n,r){var a=[];return t.forEach(function(t){var i=t.elements,o=t.width,u=t.height;i&&i.length&&e.forEach(function(e){if(i.indexOf(e.id)!==-1){var d=null;switch(e.type){case te.elementTypes.text:d=l(e,o,u,r);break;case te.elementTypes.photo:d=s(e,n,o,u,r);break;case te.elementTypes.cameo:(o-(0,U.default)(t,"bleed.left")-(0,U.default)(t,"bleed.right")-(0,U.default)(t,"wrapSize.right")-(0,U.default)(e,"width"))/2+(0,U.default)(t,"bleed.left"),(u-(0,U.default)(e,"height"))/2;d=(0,y.default)({},e,{x:e.px*o,y:e.py*u,width:e.width,height:e.height,pw:e.width/o,ph:e.height/u});break;default:d=(0,y.default)({},e,{x:e.px*o,y:e.py*u,width:e.pw*o,height:e.ph*u})}a.push(d)}})}),a}function c(e){return{id:(0,q.guid)(),type:te.elementTypes.photo,elType:"image",x:0,y:0,width:e.width,height:e.height,px:0,py:0,pw:1,ph:1,imgFlip:!1,rot:0,imgRot:0,encImgId:"",imageid:"",dep:0,cropLUX:0,cropLUY:0,cropRLX:0,cropRLY:0,lastModified:Date.now()}}function f(e){return{id:(0,q.guid)(),type:te.elementTypes.dvd,elType:"image",x:0,y:0,width:e.width,height:e.height,px:0,py:0,pw:1,ph:1,imgFlip:!1,rot:0,imgRot:0,encImgId:"",imageid:"",dep:0,cropLUX:0,cropLUY:0,cropRLX:0,cropRLY:0,lastModified:Date.now()}}Object.defineProperty(t,"__esModule",{value:!0}),t.variableArray=t.parameterArray=t.allOptionMap=t.configurableOptionArray=void 0;var p=n(50),h=r(p),g=n(52),m=r(g),v=n(19),y=r(v),b=n(34),w=r(b),M=n(517),x=r(M),E=n(33),I=r(E),_=n(169),T=r(_),C=n(22),S=(r(C),n(510)),L=r(S),D=n(111),P=r(D),A=n(40),O=r(A),k=n(516),j=r(k),N=n(103),z=r(N),R=n(8),U=r(R),B=n(11),F=r(B),W=n(44),H=r(W),Y=n(14),Q=n(15),G=n(30),X=n(90),q=n(18),J=n(92),V=n(27),Z=n(66),K=r(Z),$=n(130),ee=r($),te=n(10),ne=H.default.parse(window.location.search.substr(1)),re=(0,j.default)(ne,["product","size","type","cover","leatherColor","spineThickness","finish","dvdType","dvdPrinted","usbCapacities","paper"]);re.spineThickness=ne.spine,ne.isPreview&&(re.product=re.product?re.product:"IB");var ae=ne.initGuid,ie={projectId:+ae||-1,encProjectIdString:+ae?"":ae||"",title:ne.title||"",setting:re,inner:{},cover:{},pageArray:[],elementArray:[],spreadArray:[],imageArray:[],imageUsedCountMap:{},deletedEncImgIds:[],isProjectLoadCompleted:!1,isProjectEdited:!1,createdDate:new Date,orderState:{},isSpecLoaded:!1},oe=["size","type"],ue=function(e){if((0,P.default)(e))return null;var t=e.baseSize,n=e.innerBaseSize,r=(0,F.default)({},e);return r.baseSize={height:(0,q.getPxByInch)(t.heightInInch),width:(0,q.getPxByInch)(t.widthInInch)},r.innerBaseSize={height:(0,q.getPxByInch)(n.heightInInch),width:(0,q.getPxByInch)(n.widthInInch)},r},le=function(e,t){var n=[];return e.forEach(function(e){if(e){if(e.id||(e=(0,F.default)({},e,{id:(0,q.guid)()})),!e.encImgId){var r=t.find(function(t){return String(t.id)===e.imageid})||{};e.encImgId=r.encImgId}n.push(e)}}),n},se=function(e){e.baseWidth,e.baseHeight,e.bleedSize,e.wrapSize,e.spineThickness,e.width,e.height;return{x:0,y:0,width:0,height:0}},de=function e(t){var n={};return(0,O.default)(t,function(t,r){if("imageid"===r&&(n[t]=1),(0,I.default)(t)){var a=e(t);(0,O.default)(a,function(e,t){(0,T.default)(n[t])?n[t]=a[t]:n[t]+=a[t]})}}),n},ce=t.configurableOptionArray=null,fe=t.allOptionMap=null,pe=t.parameterArray=null,he=t.variableArray=null,ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,n=arguments[1];switch(n.type){case Y.API_SUCCESS:switch(n.apiPattern.name){case Q.GET_PROJECT_DATA:var r=n.response,i=r.project;return(0,F.default)({},e,{__originalData__:i,createdDate:new Date(i.createdDate)});case Q.GET_SPEC_DATA:var o=(0,U.default)(n,"response.product-spec");t.configurableOptionArray=ce=ee.default.prepareConfigurableOptionMap(o),t.allOptionMap=fe=ee.default.prepareOptionGroup(o),t.parameterArray=pe=ee.default.prepareParameters(o),t.variableArray=he=ee.default.prepareVariables(o);var u=K.default.getDefaultProjectSetting(e.setting,ce);if(e.projectId!==-1)return(0,F.default)({},e,a(ce,pe,he,{needDefaultSetting:!0,currentSetting:u}),{isSpecLoaded:!0});var l=(K.default.getAvailableOptionMap(u,ce,fe),K.default.getParameters(u,pe)),s=ue(l),d=((0,J.generateSpreadArray)(u.type,s),se(s));return(0,F.default)({},e,a(ce,pe,he,{needDefaultSetting:!0,currentSetting:u}),{allOptionMap:fe,coverThumbnail:d,parameterArray:pe,variableArray:he,configurableOptionArray:ce,prevElementArray:e.elementArray,isSpecLoaded:!0});case Q.NEW_PROJECT:return(0,F.default)({},e,{projectId:+(0,U.default)(n.response,"data.guid")||-1,isProjectEdited:!1});case Q.SAVE_PROJECT:return(0,F.default)({},e,{isProjectEdited:!1});case Q.GET_MY_PHOTO_IMAGES:var c=n.response;if(c&&"success"===(0,U.default)(c,"status")&&(0,U.default)(c,"data")){var f=JSON.parse((0,U.default)(c,"data"));return(0,F.default)({},e,{imageArray:(0,U.default)(e,"imageArray").concat((0,V.convertObjIn)(f))})}return e;default:return e}case Y.INIT_PROJECT_SETTING:case Y.CHANGE_PROJECT_SETTING:var p=n.setting;n.isOldProject;if(!(0,P.default)(p)){var g=e.configurableOptionArray,v=e.parameterArray,b=e.variableArray,M=g,E=(0,x.default)((0,m.default)(p),function(e){return oe.indexOf(e)!==-1});if(M&&E){var I=K.default.getNewProjectSetting(e.setting,p,g),_=K.default.getAvailableOptionMap(I,g,fe),T=K.default.getParameters(I,v),C=K.default.getVariables(I,b),S=ue(T),D=(0,J.generateSpreadArray)(I.type,S),A=se(S),O=(0,F.default)({},e,{setting:I,parameterMap:S,variableMap:C}),k=a(g,v,b,{needDefaultSetting:!1,currentSetting:e.setting,newSetting:p,prevCover:e.cover,prevPageArray:e.pageArray,prevElementArray:e.elementArray,imageArray:e.imageArray,isRotate:"woodBox"===I.product&&e.isProjectRotate}),j=de((0,V.convertObjIn)(k.elementArray));return(0,z.default)(O,"spreadArray",D),(0,z.default)(O,"coverThumbnail",A),(0,z.default)(O,"availableOptionMap",_),(0,z.default)(O,"imageUsedCountMap",j),(0,z.default)(O,"isProjectEdited",!0),(0,z.default)(O,"cover",k.cover),(0,z.default)(O,"inner",k.inner),(0,z.default)(O,"pageArray",k.pageArray),(0,z.default)(O,"elementArray",k.elementArray),(0,z.default)(O,"parameterMap",S),(0,z.default)(O,"variableMap",C),(0,z.default)(O,"setting",k.setting),O}return(0,F.default)({},e,{setting:p,isProjectEdited:!0})}return e;case Y.INIT_IMAGE_ARRAY:var N=n.images;return N=N instanceof Array?N:[N],(0,F.default)({},e,{imageArray:(0,V.convertObjIn)(N)});case Y.INIT_IMAGE_USED_COUNT_MAP:case Y.UPDATE_IMAGE_USED_COUNT_MAP:var R=e.elementArray;return(0,y.default)({},e,{imageUsedCountMap:de(R)});case Y.CREATE_ELEMENT:var B=(0,U.default)(e,"cover.containers"),W=(0,U.default)(e,"pageArray"),H=(0,U.default)(e,"elementArray"),G=n.pageId,X=n.element,q=X.id,Z=B.findIndex(function(e){return(0,U.default)(e,"id")===G}),$=W.findIndex(function(e){return(0,U.default)(e,"id")===G}),ne=[].concat((0,w.default)(H),[X]),re={};if(Z!==-1){var ae=(0,U.default)(e,"cover.containers["+Z+"].elements"),ge=[].concat((0,w.default)(ae),[q]);(0,z.default)(re,"cover.containers["+Z+"].elements",ge)}else if($!==-1){var me=(0,U.default)(e,"pageArray["+$+"].elements"),ve=[].concat((0,w.default)(me),[q]);(0,z.default)(re,"pageArray["+$+"].elements",ve)}return(0,z.default)(re,"elementArray",ne),(0,F.default)({},e,re);case Y.UPDATE_ELEMENT:var ye=n.element,be=(0,U.default)(e,"elementArray"),we=(0,y.default)({},e),Me=[];return be.forEach(function(e){var t=(0,U.default)(e,"id");t===(0,U.default)(ye,"id")?Me.push((0,F.default)({},e,ye,{lastModified:Date.now()})):Me.push(e)}),(0,y.default)({},we,{elementArray:Me,imageUsedCountMap:de(Me)});case Y.SELECT_ELEMENT:var xe=n.element,Ee=(0,U.default)(e,"elementArray"),Ie=(0,y.default)({},e),_e=Ee.map(function(e){return(0,y.default)({},e,{isSelect:e.id===xe.id})});return(0,y.default)({},Ie,{elementArray:_e});case Y.CLEAR_ELEMENT_SELECT:var Te=(0,U.default)(e,"elementArray"),Ce=(0,y.default)({},e),Se=Te.map(function(e){return(0,y.default)({},e,{isSelect:!1})});return(0,y.default)({},Ce,{elementArray:Se});case Y.DELETE_ELEMENT:var Le=n.pageId,De=n.elementId,Pe=(0,U.default)(e,"cover.containers"),Ae=(0,U.default)(e,"pageArray"),Oe=(0,U.default)(e,"elementArray"),ke=Pe.findIndex(function(e){return(0,U.default)(e,"id")===Le}),je=Ae.findIndex(function(e){return(0,U.default)(e,"id")===Le}),Ne=(0,F.default)({},e);if(ke!==-1){var ze=(0,U.default)(Ne,"cover.containers["+ke+"].elements"),Re=ze.filter(function(e){return e!==De});(0,z.default)(Ne,"cover.containers["+ke+"].elements",Re)}else if(je!==-1){var Ue=(0,U.default)(Ne,"pageArray["+je+"].elements"),Be=Ue.filter(function(e){
return e!==De});(0,z.default)(Ne,"pageArray["+je+"].elements",Be)}var Fe=Oe.filter(function(e){return(0,U.default)(e,"id")!==De});return(0,z.default)(Ne,"elementArray",Fe),(0,z.default)(Ne,"imageUsedCountMap",de(Fe)),Ne;case Y.UPLOAD_COMPLETE:var We=e.imageArray,He=n.fields,Ye={id:He.imageId,guid:He.guid,encImgId:He.encImgId,name:He.name,height:He.height,width:He.width,createTime:He.createTime,order:We.length,shotTime:He.shotTime,uploadTime:He.uploadTime,orientation:He.orientation};return(0,F.default)({},e,{imageArray:[].concat((0,w.default)(We),[(0,V.convertObjIn)(Ye)]),isProjectEdited:!0});case Y.DELETE_PROJECT_IMAGE:var Qe=e.imageArray,Ge=n.imageId,Xe=(0,L.default)(Qe,function(e){return e.id===Ge}),qe=(0,U.default)(Qe,Xe+".encImgId"),Je=e.deletedEncImgIds.slice();return qe&&Je.push(qe),(0,z.default)((0,F.default)({},e,{isProjectEdited:!0,deletedEncImgIds:Je}),"imageArray",[].concat((0,w.default)(Qe.slice(0,Xe)),(0,w.default)(Qe.slice(Xe+1))));case Y.PROJECT_LOAD_COMPLETED:return(0,F.default)({},e,{isProjectLoadCompleted:!0,isProjectEdited:!1});case Y.UPDATE_PROJECT_ID:return(0,F.default)({},e,{projectId:n.projectId});case Y.SET_PROJECT_ORDERED_STATE:var Ve=n.orderState;return(0,F.default)({},e,{orderState:Ve});case Y.CHANGE_PROJECT_TITLE:return(0,F.default)({},e,{title:n.title});case Y.INIT_COVER:var Ze=n.cover,Ke=(0,J.generateCover)(e.setting,e.parameterMap,e.variableMap),$e={width:Ke.width,height:Ke.height,bleed:Ke.bleed,bgImageUrl:Ke.bgImageUrl,backgroundSize:Ke.backgroundSize,baseHeight:Ke.baseHeight,baseWidth:Ke.baseWidth,effectImageUrl:Ke.effectImageUrl},et=Ke.containers.find(function(e){return e.type===te.pageTypes.full}),tt=Ke.containers.find(function(e){return e.type===te.pageTypes.spine}),nt=(0,F.default)({},Ze,$e),rt=[],at=[];return nt.containers.forEach(function(t){var n=le(t.elements,e.imageArray);at=at.concat(n);var r=(0,F.default)({},t,{elements:n.map(function(e){return e.id})});switch(r.type){case te.pageTypes.full:var a={width:et.width,height:et.height,bleed:et.bleed,wrapSize:Ke.wrapSize};rt.push((0,F.default)({},r,a));break;case te.pageTypes.spine:var i={width:tt.width,height:tt.height,bleed:tt.bleed};rt.push((0,F.default)({},r,i));break;default:rt.push(r)}}),nt.containers=rt,(0,h.default)({},e,{cover:nt,elementArray:at,title:""});case Y.INIT_PAGE_ARRAY:var it=n.pages,ot=e.setting,ut=e.elementArray,lt=e.imageArray,st=e.pageArray,dt=(0,J.generatePageArray)(ot,e.parameterMap,e.variableMap),ct=[],ft=[];it.forEach(function(e,t){var n=le(e.elements,lt);ft=ft.concat(n);var r={width:dt[t].width,height:dt[t].height,bleed:dt[t].bleed,baseHeight:dt[t].baseHeight,baseWidth:dt[t].baseWidth},a=(0,F.default)({},e,{elements:n.map(function(e){return e.id})},r);ct.push(a)});var pt=ut.concat(ft);return ct[0]=st[0]?(0,h.default)({},st[0],ct[0]):null,ct[1]=st[1]?(0,h.default)({},st[1],ct[1]):null,ct=ct.filter(function(e){return null!==e}),(0,y.default)({},e,{pageArray:(0,V.convertObjIn)(ct),elementArray:pt,imageUsedCountMap:de(pt)});case Y.INIT_COVER_ROTATE:case Y.ROTATE_COVER:var ht=e.configurableOptionArray,gt=e.parameterArray,mt=e.variableArray,vt=e.setting,yt=e.cover,bt=e.pageArray,wt=e.elementArray,Mt=e.imageArray,xt=(0,F.default)({},e,a(ht,gt,mt,{needDefaultSetting:!1,currentSetting:vt,newSetting:vt,prevCover:yt,prevPageArray:bt,prevElementArray:wt,imageArray:Mt,isRotate:n.isRotate,shouldBeDefaultCrop:n.type===Y.ROTATE_COVER}),{isProjectRotate:n.isRotate});return xt;default:return e}};t.default=ge},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=r(a),o=n(14),u={coverSnap:""},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case o.UPDATE_COVER_SNAP:return t.coverSnapData?(0,i.default)({},e,{coverSnap:t.coverSnapData}):e;default:return e}};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),i=r(a),o=n(11),u=r(o),l=n(14),s=n(15),d=n(130),c=r(d),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case l.API_SUCCESS:switch(t.apiPattern.name){case s.GET_SPEC_DATA:var n=(0,i.default)(t,"response.product-spec");return(0,u.default)({},e,{__originalData__:n,version:(0,i.default)(n,"version"),dpi:(0,i.default)(n,"global.dpi"),imageQualityBufferPercent:(0,i.default)(n,"global.imageQualityBufferPercent"),allOptionMap:c.default.prepareOptionGroup(n)});default:return e}default:return e}};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(42),i=n(402),o=r(i),u=n(406),l=r(u),s=n(409),d=r(s),c=n(413),f=r(c),p=n(405),h=r(p),g=n(415),m=r(g),v=n(408),y=r(v),b=n(411),w=r(b),M=n(421),x=r(M),E=n(414),I=r(E),_=n(407),T=r(_),C=n(417),S=r(C),L=n(404),D=r(L),P=n(420),A=r(P);t.default=(0,a.combineReducers)({alerts:o.default,env:l.default,images:d.default,price:m.default,imageEditModalData:y.default,notifyData:f.default,confirmData:h.default,loadingData:w.default,workspace:x.default,pagination:I.default,fontList:T.default,snapData:S.default,cloneModalData:D.default,useSpecModal:A.default})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(142),i=r(a),o=n(14),u=i.default.Map({isShown:!1}),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case o.SHOW_USE_SPEC_MODAL:var n=t.url;return n=n||{},e.merge({isShown:!0,url:n});case o.HIDE_USE_SPEC_MODAL:return e.merge({isShown:!1});default:return e}};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=r(a),o=n(42),u=n(14),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case u.CHANGE_WORKSPACE_SPREAD:return t.spread;default:return e}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case u.UPDATE_WORKSPACE_SPREADS:return t.spreads;default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:!1},t=arguments[1];switch(t.type){case u.AUTO_ADD_PHOTO_TO_CANVAS:var n=t.status,r=t.elementId,a=t.targetWidth,o=t.targetHeight;return(0,i.default)({},e,{status:n,elementId:r,targetWidth:a,targetHeight:o});default:return e}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:!1,offset:{top:150,left:500}},t=arguments[1];switch(t.type){case u.TOGGLE_OPERATION_PNAEL:var n=t.status,r=t.offset;return(0,i.default)({},e,{status:n,offset:r});default:return e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case u.IN_PREVIEW_WORKSPACE:return t.status;default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];switch(t.type){case u.UPDATE_WORKSPACE_RATIO:return t.ratio;default:return e}};t.default=(0,o.combineReducers)({currentSpread:l,autoAddPhotoToCanvas:d,operationPanel:c,inPreviewWorkspace:f,allSpreads:s,workspaceRatio:p})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[(0,i.applyMiddleware)(u.default),(0,i.applyMiddleware)(h.default),(0,i.applyMiddleware)(f.default)],n=i.compose.apply(void 0,t)(i.createStore),r=n(d.default,e);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(42),o=n(625),u=r(o),l=n(624),s=(r(l),n(410)),d=r(s),c=n(39),f=r(c),p=n(401),h=r(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(50),i=r(a),o=function(e){var t={method:"get",async:!0},n=(0,i.default)({},t,e),r=u();return r.upload.onprogress=function(e){n.progress&&n.progress(e)},r.onload=function(){n.success&&n.success(this.responseText)},r.onerror=function(){n.error&&n.error()},r.onerror=function(){n.error&&n.error()},r.onreadystatechange=function(){n.readyStateChange&&n.readyStateChange(this.readyState,this.status)},r.open(n.method,n.url,n.async),"post"===n.method.toLowerCase()?r.send(n.data):r.send(null),r},u=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;if(!window.ActiveXObject)throw new Error("xhr not support");for(var e=["MSXML2.XMLHttp","Microsoft.XMLHTTP"],t=0,n=e.length;t<n;t++)try{return new ActiveXObject(version[t])}catch(e){}};t.default=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.computedCameoElementOptions=function(e,t,n,r){var a=(e.width-r.width)/2,i=e.height,o=t.get("width")+n.get("left")+n.get("right"),u=t.get("height")+n.get("top")+n.get("top"),l=(a-o)/2,s=(i-u)/2,d=a+r.width+l,c=s,f=d/e.width,p=c/e.height,h=o/e.width,g=u/e.height;return{x:d,y:c,px:f,py:p,pw:h,ph:g}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(3),i=r(a),o=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,e);var n=t.type,r=void 0===n?"PhotoElement":n,a=t.elType,o=void 0===a?"image":a,u=t.x,l=void 0===u?0:u,s=t.y,d=void 0===s?0:s,c=t.width,f=void 0===c?0:c,p=t.height,h=void 0===p?0:p,g=t.px,m=void 0===g?0:g,v=t.py,y=void 0===v?0:v,b=t.pw,w=void 0===b?1:b,M=t.ph,x=void 0===M?1:M,E=t.dep,I=void 0===E?0:E,_=t.imageid,T=void 0===_?"":_,C=t.encImgId,S=void 0===C?"":C,L=t.rot,D=void 0===L?0:L,P=t.imgRot,A=void 0===P?0:P,O=t.imgFlip,k=void 0!==O&&O,j=t.cropLUX,N=void 0===j?0:j,z=t.cropLUY,R=void 0===z?0:z,U=t.cropRLX,B=void 0===U?0:U,F=t.cropRLY,W=void 0===F?0:F,H=t.border,Y=void 0===H?{color:"#000000",size:0,opacity:100}:H,Q=t.lastModified,G=void 0===Q?Date.now():Q;this.type=r,this.elType=o,this.x=l,this.y=d,this.width=f,this.height=h,this.px=m,this.py=y,this.pw=w,this.ph=x,this.dep=I,this.imageid=T,this.encImgId=S,this.rot=D,this.imgRot=A,this.imgFlip=k,this.cropLUX=N,this.cropLUY=R,this.cropRLX=B,this.cropRLY=W,this.border=Y,this.lastModified=G};t.default=o},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(60);var i=n(44),o=(a(i),n(67)),u=(a(o),n(27),n(15));r(u);t.default=function(e,t){if(!e)return null;var n=t.fontColor,r=t.textAlign,a=t.fontFamily,i=(t.rate,t.text),o=t.computed.height,u=t.computed.width;decodeURIComponent(i);return fetch(e.baseUrl+"api/product/text/textImage?"+(n||0===n?"color="+n+"&":"")+(r?"align="+r+"&":"")+(a?"font="+a+"&":"")+(i?"text="+i+"&":"")+(o?"height="+o+"&":"")+(u?"width="+u+"&":"")).then(function(e){return e.blob()})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadImgWithBase64=t.loadImg=void 0;var a=n(16),i=r(a),o=n(11),u=r(o),l=t.loadImg=function(e){var t=new i.default(function(t,n){if(e){var r=new Image;r.onload=function(){t({msg:"done",url:e,img:r})},r.onerror=function(t){n({msg:t.message,url:e,img:null})},r.src=e}else n({msg:"url is not empty",url:e,img:null})});return t};t.loadImgWithBase64=function(e,t,n){l(e).then(function(e){var n=document.createElement("CANVAS"),r=n.getContext("2d");n.height=e.img.height,n.width=e.img.width,r.drawImage(e.img,0,0);var a=n.toDataURL();t&&t((0,u.default)({},e,{img:a}))},function(e){n&&n(e)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getInnerBackgroundSize=t.getCoverBackgroundSize=t.getBackCoverSize=t.getFrontCoverSize=t.getCoverSheetSize=t.getInnerPageSize=void 0;var a=n(19),i=r(a);t.getInnerPageSize=function(e,t,n){var r=t.left+t.right,a=t.top+t.bottom,i=n.left+n.right,o=n.top+n.bottom,u=e.width,l=e.height;return{width:e.width+r+i,height:e.height+a+o,baseWidth:u,baseHeight:l}},t.getCoverSheetSize=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments[6],u=t.left+t.right,l=n.left+n.right,s=t.top+t.bottom,d=n.top+n.bottom,c=i.expandingOverFrontcover,f=void 0===c?0:c,p=i.expandingOverBackcover,h=void 0===p?0:p,g=e.width,m=e.height;o&&(g=e.height,m=e.width);var v=(a?g:2*g)+u+l+r+f+h,y=m+s+d,b=(a?g:2*g)+r+f+h,w=m;return{width:v,height:y,baseWidth:b,baseHeight:w,wrapSize:n}},t.getFrontCoverSize=function(e,t,n){var r=t.left+t.right,a=t.top+t.bottom,i=n.top+n.bottom;return{width:e.width+r+n.right,height:e.height+a+i}},t.getBackCoverSize=function(e,t,n){var r=t.left+t.right,a=t.top+t.bottom,i=n.top+n.bottom;return{width:e.width+r+n.left,height:e.height+a+i}},t.getCoverBackgroundSize=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.width,a=e.height,o=e.paddingTop,u=e.paddingRight,l=e.paddingBottom,s=e.paddingLeft;n&&(r=e.rWidth,a=e.rHeight,o=e.rPaddingTop,u=e.rPaddingRight,l=e.rPaddingBottom,s=e.rPaddingLeft);var d=r-s-u,c=a-o-l,f=t.baseWidth/d,p=t.baseHeight/c,h={bgImageWidth:r*f,bgImageHeight:a*p,paddingTop:o*p,paddingRight:u*f,paddingBottom:l*p,paddingLeft:s*f};return(0,i.default)({},h,{ratioX:f,ratioY:p})},t.getInnerBackgroundSize=function(e,t,n){var r=e,a={};n?(a.width=r.width-r.lPagePaddingLeft-r.lPagePaddingRight,a.height=r.height-r.lPagePaddingTop-r.lPagePaddingBottom):(a.width=r.width-r.rPagePaddingLeft-r.rPagePaddingRight,a.height=r.height-r.rPagePaddingTop-r.rPagePaddingBottom);var o=t.baseWidth/a.width,u=t.baseHeight/a.height,l={bgImageWidth:e.width*o,bgImageHeight:e.height*u,paddingLeft:e.paddingLeft*o,paddingTop:e.paddingTop*u,paddingRight:e.paddingRight*o,paddingBottom:e.paddingBottom*u,lPagePaddingLeft:(e.lPagePaddingLeft-e.paddingLeft)*o,lPagePaddingTop:(e.lPagePaddingTop-e.paddingTop)*u,lPagePaddingRight:(e.lPagePaddingRight-e.paddingRight)*o,lPagePaddingBottom:(e.lPagePaddingBottom-e.paddingBottom)*u,rPagePaddingLeft:(e.rPagePaddingLeft-e.paddingLeft||0)*o,rPagePaddingTop:(e.rPagePaddingTop-e.paddingTop||0)*u,rPagePaddingRight:(e.rPagePaddingRight-e.paddingRight||0)*o,rPagePaddingBottom:(e.rPagePaddingBottom-e.paddingBottom||0)*u};return(0,i.default)({},l,{ratioX:o,ratioY:u})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getSpineRect=void 0;var a=n(8),i=r(a);t.getSpineRect=function(e,t,n){var r=.82,a=300,o=.82*e,u=t-(0,i.default)(n,"top")-(0,i.default)(n,"bottom")-300,l=e*(1-r)/2,s=a/2+(0,i.default)(n,"top");return{width:o,height:u,x:l,y:s}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(16),i=r(a),o=n(3),u=r(o),l=n(4),s=r(l),d=function(){function e(t){(0,u.default)(this,e),this._promise=new i.default(t),this._canceled=!1}return(0,s.default)(e,null,[{key:"all",value:function(e){return i.default.all(e)}},{key:"race",value:function(e){return i.default.race(e)}},{key:"reject",value:function(e){return i.default.reject(e)}},{key:"resolve",value:function(e){return i.default.resolve(e)}}]),(0,s.default)(e,[{key:"then",value:function(t,n){var r=this,a=new e(function(e,i){r._promise.then(function(n){r._canceled&&a.cancel(),e(t&&!r._canceled?t(n):n)},function(t){r._canceled&&a.cancel(),n&&!r._canceled?e(n(t)):i(t)})});return a}},{key:"catch",value:function(e){return this.then(void 0,e)}},{key:"cancel",value:function(){return this._canceled=!0,this}}]),e}();t.default=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.getDefaultCrop=function(e,t,n,r){if(e&&t&&n&&r){var a=e/t,i=n/r,o=void 0,u=void 0,l=void 0,s=void 0;if(a>i){var d=t,c=d*i,f=(e-c)/2;o=f/e,u=0,l=c/e,s=1}else{var p=e,h=p/i,g=(t-h)/2;o=0,u=g/t,l=1,s=h/t}return{px:o,py:u,pw:l,ph:s}}return{px:0,py:0,pw:1,ph:1}};t.getRotatedAngle=function(e,t){var n=e,r=t;return void 0!==n&&null!=n?(r=parseFloat(r)||90,n+=r,n=n>180?n-=360:n,n=n<-90?n+=360:n):0},t.getDefaultCropLRXY=function(e,t,r,a){var i=n(e,t,r,a),o=i.px,u=i.py,l=i.pw,s=i.ph;return{cropLUX:o,cropLUY:u,cropRLX:o+l,cropRLY:u+s}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.drawBox=t.resizeImage=t.replaceColor=t.fillEmptyDataWithColor=t.setSize=t.wrapBorder=t.canvasToBase64=t.imageDataHRevert=t.imageDataVRevert=t.getClient=t.createImageData=t.fillImageData=t.toObjectUrl=t.getBase64ByImageData=t.getImageDataByBase64=t.getImageData=t.clear=t.drawCircular=t.drawRect=t.getBeveling=t.drawDashedLine=t.drawLine=t.drawTextInCenter=t.drawText=t.drawCanvas=t.drawImage=void 0;var a=n(16),i=r(a),o=(t.drawImage=function(e,t,n,r,a,i,o,u,l,s,d){var c=document.getElementById(e),f=c.getContext("2d"),p=new Image;p.onload=function(){c.width=c.width,i&&o?u?f.drawImage(p,u,l,s,d,n,r,i,o):f.drawImage(p,n,r,i,o):f.drawImage(p,n,r),a&&a(e)},p.src=t},t.drawCanvas=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments[4],i=arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments[8],s=arguments[9],d=document.getElementById(e),c=d.getContext("2d"),f=document.getElementById(t);if(f){var p=(f.getContext("2d"),l||f.width),h=s||f.height,g=a||f.width,m=i||f.height;l>0&&s>0&&c.drawImage(f,o,u,p,h,n,r,g,m)}},t.drawText=function(e,t,n,r,a,i,o){var u=document.getElementById(e),l=u.getContext("2d");l.textBaseline="top";var s=l.fillStyle;l.fillStyle=a,l.font=i+"px "+o,l.fillText(t,n,r),l.fillStyle=s},t.drawTextInCenter=function(e,t,n,r,a){var i=document.getElementById(e),o=i.getContext("2d");o.textBaseline="top";var u=o.fillStyle;o.fillStyle=n,o.font=r+"px "+a;var l=o.measureText(t).width,s=(i.width-l)/2,d=(i.height-r)/2;o.fillText(t,s,d),o.fillStyle=u},t.drawLine=function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,u=document.getElementById(e),l=u.getContext("2d"),s=l.strokeStyle;l.strokeStyle=t;var d=l.lineWidth;l.beginPath(),l.lineWidth=o,l.moveTo(n,r),l.lineTo(a,i),l.closePath(),l.stroke(),l.strokeStyle=s,l.lineWidth=d},t.drawDashedLine=function(e,t,n,r,a,i,u,l){var s=document.getElementById(e),d=s.getContext("2d"),c=d.strokeStyle;d.strokeStyle=t;var f=d.lineWidth;u?d.lineWidth=u:d.lineWidth=1;var p=l||5;d.beginPath();for(var h=o(a-n,i-r),g=Math.floor(h/p),m=void 0,v=void 0,y=void 0,b=void 0,w=0;w<g;w++)m=n+(a-n)/g*w,v=r+(i-r)/g*w,y=n+(a-n)/g*(w+1),b=r+(i-r)/g*(w+1),d[w%2===0?"moveTo":"lineTo"](n+(a-n)/g*w,r+(i-r)/g*w);g%2!==0&&d.lineTo(y,b),d.closePath(),d.stroke(),d.strokeStyle=c,d.lineWidth=f},t.getBeveling=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))});t.drawRect=function(e,t,n,r,a,i,o,u){var l=document.getElementById(e),s=l.getContext("2d");if(s.globalCompositeOperation="source-over",o){var d=s.lineWidth;u?s.lineWidth=u:s.lineWidth=1;var c=s.strokeStyle;s.strokeStyle=t,s.beginPath(),s.moveTo(n,r),s.strokeRect(n,r,a,i),s.closePath(),s.stroke(),s.strokeStyle=c,s.lineWidth=d}else{var f=s.fillStyle;s.fillStyle=t,s.beginPath(),s.moveTo(n,r),s.globalCompositeOperation="source-over",s.fillRect(n,r,a,i),s.closePath(),s.fillStyle=f}},t.drawCircular=function(e,t,n,r,a,i,o){var u=document.getElementById(e),l=u.getContext("2d");if(i){var s=l.lineWidth;o?l.lineWidth=o:l.lineWidth=1;var d=l.strokeStyle;l.strokeStyle=t,l.moveTo(n,r),l.beginPath(),l.arc(n,r,a,0,2*Math.PI),l.closePath(),l.stroke(),l.strokeStyle=d,l.lineWidth=s}else{var c=l.fillStyle;l.fillStyle=t,l.moveTo(n,r),l.beginPath(),l.arc(n,r,a,0,2*Math.PI),l.closePath(),l.fill(),l.fillStyle=c}},t.clear=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments[3],a=arguments[4],i=document.getElementById(e);if(i){var o=i.getContext("2d"),u=r||i.width,l=a||i.height;o.clearRect(t,n,u,l)}},t.getImageData=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=document.getElementById(e),o=i.getContext("2d"),u=t||i.width,l=n||i.height;return o.getImageData(r,a,u,l)},t.getImageDataByBase64=function(e){return new i.default(function(t,n){var r=new Image,a=document.createElement("canvas"),i=a.getContext("2d");r.src=e,r.onload=function(){a.width=r.width,a.height=r.height,i.drawImage(r,0,0);var e=i.getImageData(0,0,r.width,r.height);t(e)},r.onerror=function(){n()}})},t.getBase64ByImageData=function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.putImageData(e,0,0),t.toDataURL()},t.toObjectUrl=function(e){var t=new i.default(function(t,n){if(e)if(e.toBlob)e.toBlob(function(e){t(URL.createObjectURL(e))});else if(e.msToBlob){var r=e.msToBlob();t(URL.createObjectURL(r))}else{var a=e.toDataURL();t(a)}else n()});return t},t.fillImageData=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=document.getElementById(e),u=o.getContext("2d"),l=n||o.width,s=r||o.height;u.putImageData(t,a,i,0,0,l,s)},t.createImageData=function(e,t,n){var r=document.getElementById(e),a=r.getContext("2d"),i=t||r.width,o=n||r.height;return a.createImageData(i,o)},t.getClient=function(e){var t=document.getElementById(e);return{width:t.width,height:t.height,context:t.getContext("2d")}},t.imageDataVRevert=function(e,t){for(var n=t,r=0,a=e.height;r<a;r++)for(var i=0,o=e.width;i<o;i++)n.data[r*o*4+4*i+0]=e.data[(a-r)*o*4+4*i+0],n.data[r*o*4+4*i+1]=e.data[(a-r)*o*4+4*i+1],n.data[r*o*4+4*i+2]=e.data[(a-r)*o*4+4*i+2],n.data[r*o*4+4*i+3]=e.data[(a-r)*o*4+4*i+3];return n},t.imageDataHRevert=function(e,t){for(var n=document.createElement("canvas"),r=n.getContext("2d"),a=r.createImageData(e.width,e.height),i=0,o=e.height;i<o;i++)for(var u=0,l=e.width;u<l;u++)a.data[i*l*4+4*u+0]=e.data[i*l*4+4*(l-u)+0],a.data[i*l*4+4*u+1]=e.data[i*l*4+4*(l-u)+1],a.data[i*l*4+4*u+2]=e.data[i*l*4+4*(l-u)+2],a.data[i*l*4+4*u+3]=e.data[i*l*4+4*(l-u)+3];return a},t.canvasToBase64=function(e){var t=document.getElementById(e);return t.toDataURL("image/jpeg")},t.wrapBorder=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=document.getElementById(e),a=document.createElement("canvas"),i=a.getContext("2d"),o=r.width,u=r.height,l={top:[1,0,-n,n,0,u/2],right:[-n,n,0,1,o/2,-o/2]};return o>u?(a.width=o+u/2,a.height=u):(a.width=o,a.height=u+o/2),CanvasRenderingContext2D.prototype.transform.apply(i,l[t]),o>u?i.drawImage(r,u/2,0):i.drawImage(r,0,o/2),i.getImageData(0,0,a.width,a.height)},t.setSize=function(e,t){var n=document.getElementById(e);t.width&&(n.width=t.width),t.height&&(n.height=t.height)},t.fillEmptyDataWithColor=function(e,t,n,r){for(var a=e,i=0;i<e.width*e.height;i++)0===a.data[4*i+3]&&(a.data[4*i]=t.r,a.data[4*i+1]=t.g,a.data[4*i+2]=t.b,a.data[4*i+3]=255);return a},t.replaceColor=function(e,t,n,r,a,i,o){var u=~~(t||0),l=~~(n||0),s=t+a||e.width,d=n+i||e.height,c=e;if(u<0||l<0||s>e.width||d>e.height)throw new Error("error params!");for(var f=l;f<d;f++)for(var p=u;p<s;p++){var h=f*c.width+p,g=c.data[4*h],m=c.data[4*h+1],v=c.data[4*h+2];g===r.r&&m===r.g&&v===r.b&&(o?(c.data[4*h]=o.r,c.data[4*h+1]=o.g,c.data[4*h+2]=o.b,c.data[4*h+3]=255):c.data[4*h+3]=0)}return c},t.resizeImage=function(e,t,n){var r=document.getElementById(e),a=(r.getContext("2d"),document.createElement("canvas")),i=a.getContext("2d"),o=t||r.width,u=n||r.height;if(o!==r.width||u!==r.height){var l=void 0;o>u?(l=r.width/o,u=r.height/l):o===u&&r.width>r.height?(l=r.width/o,u=r.height/l):(l=r.height/u,o=r.width/l)}return a.width=o,a.height=u,i.drawImage(r,0,0,o,u),a.toDataURL("image/jpeg")},t.drawBox=function(e,t,n,r,a,i,o,u,l,s){var d=document.getElementById(e),c=d.getContext("2d");c.moveTo(0,0),c.lineTo(t,0),c.lineTo(t,n),c.lineTo(t-l,n-l),c.lineTo(t-l,l),c.lineTo(l,l),c.lineTo(l,n-l),c.lineTo(t-l,n-l),c.lineTo(t,n),c.lineTo(0,n),c.lineTo(l,n-l),c.lineTo(0,n),c.lineTo(0,0),c.fillStyle=r,c.fill()}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getDegree=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=0;switch(parseInt(e)){case 6:t=90;break;case 8:t=-90;break;case 3:t=180}return t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertRotateImg=t.fetchImage=t.loadImg=t.combineImgCopperUrl=void 0;var a=n(16),i=r(a),o=n(11),u=r(o),l=n(21),s=r(l),d=(n(431),n(430)),c=r(d),f=n(432),p=(t.combineImgCopperUrl=function(e,t,n,r){var a="",i={px:t.cropLUX,py:t.cropLUY,pw:t.cropRLX-t.cropLUX,ph:t.cropRLY-t.cropLUY};return a=(0,s.default)(e)((0,u.default)({},i,{rotation:t.imgRot,encImgId:encodeURIComponent(t.encImgId),width:Math.floor(n),height:Math.floor(r)}))},t.loadImg=function(e){var t=new c.default(function(t,n){if(e){var r=new Image;r.onload=function(){t({msg:"done",url:e,img:r})},r.onerror=function(t){n({msg:t.message,url:e,img:r})},r.src=e}else n({msg:"url is not empty",url:e,img:img})});return t},function(){if(window.XMLHttpRequest)return new XMLHttpRequest;if(!window.ActiveXObject)throw new Error("xhr not support");for(var e=["MSXML2.XMLHttp","Microsoft.XMLHTTP"],t=0,n=e.length;t<n;t++)try{return new ActiveXObject(version[t])}catch(e){}}),h=t.fetchImage=function(e){return new i.default(function(t,n){if(RegExp(location.host+"|base64,").test(e)){var r=new window.Image;r.onload=function(){t(r)},r.onerror=function(){n()},r.src=e}else{var a=p();a.open("GET",e,!0),a.responseType="blob",a.onload=function(){var e=new window.Image;e.onload=function(){t(e)},e.onerror=function(){n()},e.src=window.URL.createObjectURL(a.response)},a.onerror=function(){n()},a.send()}})};t.convertRotateImg=function(e,t){return new i.default(function(n,r){h(e).then(function(e){var a=e.width,i=e.height,o=document.createElement("canvas"),u=o.getContext("2d"),l=(t+360)%360/90;switch(l){case 1:o.width=i,o.height=a,u.rotate(90*Math.PI/180),u.drawImage(e,0,-i);break;case 2:o.width=a,o.height=i,u.rotate(180*Math.PI/180),u.drawImage(e,-a,-i);break;case 3:o.width=i,o.height=a,u.rotate(270*Math.PI/180),u.drawImage(e,-a,0);break;case 0:case 4:default:o.width=a,o.height=i,u.rotate(0),u.drawImage(e,0,0)}(0,f.toObjectUrl)(o).then(n,r)},r)})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.getCookieDate=function(e){var t=null,n=document.cookie.split(";");if(n)for(var r=0;r<n.length;r++){var a=n[r].split("=");if(a.length>1&&e==a[0]){t=unescape(a[1]);break}}return t},r=t.get=function(e,t,n){var r=new XMLHttpRequest;r.onload=function(e){t&&"function"==typeof t&&t(e||window.event)},r.onerror=function(e){n&&"function"==typeof n&&n(e||window.event)},r.open("GET",e),r.send()};t.goTracker=function(e,t,a,i,o){var u=""+window.location.hostname,t=t||n(" JSESSIONID")||n("JSESSIONID"),l=a||n(" AS_UID")||n("AS_UID");e=t+","+l+","+(new Date).getTime()+","+e;var s="https://venus.zno.com/b.htm?"+e;"www.zno.com"!=u&&(s="https://log.zno.com.t/b.htm?"+e),r(s,i,o)}},function(e,t){"use strict";e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");e=e.replace(/^#/,""),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t]}},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var a=n(473),i=n(474),o=n(475),u=n(476),l=n(477);r.prototype.clear=a,r.prototype.delete=i,r.prototype.get=o,r.prototype.has=u,r.prototype.set=l,e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new a;++t<n;)this.add(e[t])}var a=n(143),i=n(496),o=n(497);r.prototype.add=r.prototype.push=i,r.prototype.has=o,e.exports=r},function(e,t,n){var r=n(109),a=r.Uint8Array;e.exports=a},function(e,t,n){function r(e,t){return e&&a(t,i(t),e)}var a=n(49),i=n(78);e.exports=r},function(e,t,n){function r(e,t){return e&&a(t,i(t),e)}var a=n(49),i=n(58);e.exports=r},function(e,t,n){function r(e,t,n,C,S,L){var D,O=t&E,k=t&I,N=t&_;if(n&&(D=S?n(e,C,S,L):n(e)),void 0!==D)return D;if(!M(e))return e;var z=b(e);if(z){if(D=m(e),!O)return d(e,D)}else{var R=g(e),U=R==P||R==A;if(w(e))return s(e,O);if(R==j||R==T||U&&!S){if(D=k||U?{}:y(e),!O)return k?f(e,l(D,e)):c(e,u(D,e))}else{if(!K[R])return S?e:{};D=v(e,R,r,O)}}L||(L=new a);var B=L.get(e);if(B)return B;L.set(e,D);var F=N?k?h:p:k?keysIn:x,W=z?void 0:F(e);return i(W||e,function(a,i){W&&(i=a,a=e[i]),o(D,i,r(a,t,n,i,e,L))}),D}var a=n(94),i=n(145),o=n(95),u=n(440),l=n(441),s=n(151),d=n(152),c=n(457),f=n(458),p=n(154),h=n(469),g=n(173),m=n(478),v=n(479),y=n(155),b=n(22),w=n(107),M=n(33),x=n(78),E=1,I=2,_=4,T="[object Arguments]",C="[object Array]",S="[object Boolean]",L="[object Date]",D="[object Error]",P="[object Function]",A="[object GeneratorFunction]",O="[object Map]",k="[object Number]",j="[object Object]",N="[object RegExp]",z="[object Set]",R="[object String]",U="[object Symbol]",B="[object WeakMap]",F="[object ArrayBuffer]",W="[object DataView]",H="[object Float32Array]",Y="[object Float64Array]",Q="[object Int8Array]",G="[object Int16Array]",X="[object Int32Array]",q="[object Uint8Array]",J="[object Uint8ClampedArray]",V="[object Uint16Array]",Z="[object Uint32Array]",K={};K[T]=K[C]=K[F]=K[W]=K[S]=K[L]=K[H]=K[Y]=K[Q]=K[G]=K[X]=K[O]=K[k]=K[j]=K[N]=K[z]=K[R]=K[U]=K[q]=K[J]=K[V]=K[Z]=!0,K[D]=K[P]=K[B]=!1,e.exports=r},function(e,t,n){var r=n(33),a=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e,t,n,o,u){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:a(e,t,n,o,r,u))}var a=n(446),i=n(80);e.exports=r},function(e,t,n){function r(e,t,n,r,m,y){var b=s(e),w=s(t),M=b?h:l(e),x=w?h:l(t);M=M==p?g:M,x=x==p?g:x;var E=M==g,I=x==g,_=M==x;if(_&&d(e)){if(!d(t))return!1;b=!0,E=!1}if(_&&!E)return y||(y=new a),b||c(e)?i(e,t,n,r,m,y):o(e,t,M,n,r,m,y);if(!(n&f)){var T=E&&v.call(e,"__wrapped__"),C=I&&v.call(t,"__wrapped__");if(T||C){var S=T?e.value():e,L=C?t.value():t;return y||(y=new a),m(S,L,n,r,y)}}return!!_&&(y||(y=new a),u(e,t,n,r,m,y))}var a=n(94),i=n(463),o=n(464),u=n(465),l=n(173),s=n(22),d=n(107),c=n(168),f=1,p="[object Arguments]",h="[object Array]",g="[object Object]",m=Object.prototype,v=m.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=-1,r=i(e)?Array(e.length):[];return a(e,function(e,a,i){r[++n]=t(e,a,i)}),r}var a=n(96),i=n(105);e.exports=r},function(e,t,n){function r(e,t,n,d,c){e!==t&&o(t,function(o,s){if(l(o))c||(c=new a),u(e,t,s,n,r,d,c);else{var f=d?d(e[s],o,s+"",e,t,c):void 0;void 0===f&&(f=o),i(e,s,f)}},s)}var a=n(94),i=n(147),o=n(97),u=n(449),l=n(33),s=n(58);e.exports=r},function(e,t,n){function r(e,t,n,r,y,b,w){var M=e[n],x=t[n],E=w.get(x);if(E)return void a(e,n,E);var I=b?b(M,x,n+"",e,t,w):void 0,_=void 0===I;if(_){var T=d(x),C=!T&&f(x),S=!T&&!C&&m(x);I=x,T||C||S?d(M)?I=M:c(M)?I=u(M):C?(_=!1,I=i(x,!0)):S?(_=!1,I=o(x,!0)):I=[]:g(x)||s(x)?(I=M,s(M)?I=v(M):(!h(M)||r&&p(M))&&(I=l(x))):_=!1}_&&(w.set(x,I),y(I,x,r,b,w),w.delete(x)),a(e,n,I)}var a=n(147),i=n(151),o=n(456),u=n(152),l=n(155),s=n(167),d=n(22),c=n(512),f=n(107),p=n(628),h=n(33),g=n(114),m=n(168),v=n(520);e.exports=r},function(e,t,n){function r(e,t){return a(e,t,function(t,n){return i(e,n)})}var a=n(451),i=n(511);e.exports=r},function(e,t,n){function r(e,t,n){for(var r=-1,u=t.length,l={};++r<u;){
var s=t[r],d=a(e,s);n(d,s)&&i(l,o(s,e),d)}return l}var a=n(148),i=n(150),o=n(72);e.exports=r},function(e,t){function n(e){return function(t){return null==e?void 0:e[t]}}e.exports=n},function(e,t,n){function r(e,t){var n;return a(e,function(e,r,a){return n=t(e,r,a),!n}),!!n}var a=n(96);e.exports=r},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new a(t).set(new a(e)),t}var a=n(439);e.exports=r},function(e,t,n){function r(e,t){var n=t?a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var a=n(455);e.exports=r},function(e,t,n){function r(e,t){return a(e,i(e),t)}var a=n(49),i=n(470);e.exports=r},function(e,t,n){function r(e,t){return a(e,i(e),t)}var a=n(49),i=n(471);e.exports=r},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!a(n))return e(n,r);for(var i=n.length,o=t?i:-1,u=Object(n);(t?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}var a=n(105);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),u=o.length;u--;){var l=o[e?u:++a];if(n(i[l],l,i)===!1)break}return t}}e.exports=n},function(e,t,n){function r(e,t,n,r){return void 0===e||a(e,i[n])&&!o.call(r,n)?t:e}var a=n(75),i=Object.prototype,o=i.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(179),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},function(e,t,n){function r(e,t,n,r,s,d){var c=n&u,f=e.length,p=t.length;if(f!=p&&!(c&&p>f))return!1;var h=d.get(e);if(h&&d.get(t))return h==t;var g=-1,m=!0,v=n&l?new a:void 0;for(d.set(e,t),d.set(t,e);++g<f;){var y=e[g],b=t[g];if(r)var w=c?r(b,y,g,t,e,d):r(y,b,g,e,t,d);if(void 0!==w){if(w)continue;m=!1;break}if(v){if(!i(t,function(e,t){if(!o(v,t)&&(y===e||s(y,e,n,r,d)))return v.push(t)})){m=!1;break}}else if(y!==b&&!s(y,b,n,r,d)){m=!1;break}}return d.delete(e),d.delete(t),m}var a=n(438),i=n(146),o=n(454),u=1,l=2;e.exports=r},75,function(e,t,n){function r(e,t,n,r,o,l){var s=n&i,d=a(e),c=d.length,f=a(t),p=f.length;if(c!=p&&!s)return!1;for(var h=c;h--;){var g=d[h];if(!(s?g in t:u.call(t,g)))return!1}var m=l.get(e);if(m&&l.get(t))return m==t;var v=!0;l.set(e,t),l.set(t,e);for(var y=s;++h<c;){g=d[h];var b=e[g],w=t[g];if(r)var M=s?r(w,b,g,t,e,l):r(b,w,g,e,t,l);if(!(void 0===M?b===w||o(b,w,n,r,l):M)){v=!1;break}y||(y="constructor"==g)}if(v&&!y){var x=e.constructor,E=t.constructor;x!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof E&&E instanceof E)&&(v=!1)}return l.delete(e),l.delete(t),v}var a=n(154),i=1,o=Object.prototype,u=o.hasOwnProperty;e.exports=r},function(e,t,n){var r=n(452),a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=r(a);e.exports=i},function(e,t){function n(e){return"\\"+r[e]}var r={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};e.exports=n},71,58,function(e,t){function n(){return[]}e.exports=n},470,function(e,t,n){function r(e,t,n){t=a(t,e);for(var r=-1,d=t.length,c=!1;++r<d;){var f=s(t[r]);if(!(c=null!=e&&n(e,f)))break;e=e[f]}return c||++r!=d?c:(d=null==e?0:e.length,!!d&&l(d)&&u(f,d)&&(o(e)||i(e)))}var a=n(72),i=n(167),o=n(22),u=n(174),l=n(603),s=n(101);e.exports=r},function(e,t,n){function r(){this.__data__=a?a(null):{},this.size=0}var a=n(74);e.exports=r},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(a){var n=t[e];return n===i?void 0:n}return u.call(t,e)?t[e]:void 0}var a=n(74),i="__lodash_hash_undefined__",o=Object.prototype,u=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return a?void 0!==t[e]:o.call(t,e)}var a=n(74),i=Object.prototype,o=i.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=a&&void 0===t?i:t,this}var a=n(74),i="__lodash_hash_undefined__";e.exports=r},function(e,t){function n(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&a.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,a=r.hasOwnProperty;e.exports=n},71,function(e,t,n){function r(e,t){if(a(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(u.test(e)||!o.test(e)||null!=t&&e in Object(t))}var a=n(22),i=n(597),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=a(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():o.call(t,n,1),--this.size,!0}var a=n(69),i=Array.prototype,o=i.splice;e.exports=r},function(e,t,n){function r(e){var t=this.__data__,n=a(t,e);return n<0?void 0:t[n][1]}var a=n(69);e.exports=r},function(e,t,n){function r(e){return a(this.__data__,e)>-1}var a=n(69);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=a(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var a=n(69);e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new a,map:new(o||i),string:new a}}var a=n(437),i=n(68),o=n(172);e.exports=r},function(e,t,n){function r(e){var t=a(this,e).delete(e);return this.size-=t?1:0,t}var a=n(73);e.exports=r},function(e,t,n){function r(e){return a(this,e).get(e)}var a=n(73);e.exports=r},function(e,t,n){function r(e){return a(this,e).has(e)}var a=n(73);e.exports=r},function(e,t,n){function r(e,t){var n=a(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var a=n(73);e.exports=r},71,function(e,t,n){function r(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,u=i(r.length-t,0),l=Array(u);++o<u;)l[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(l),a(e,this,s)}}var a=n(144),i=Math.max;e.exports=r},function(e,t){var n=/<%-([\s\S]+?)%>/g;e.exports=n},function(e,t){var n=/<%([\s\S]+?)%>/g;e.exports=n},function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},71,function(e,t,n){function r(){this.__data__=new a,this.size=0}var a=n(68);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof a){var r=n.__data__;if(!i||r.length<u-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(r)}return n.set(e,t),this.size=n.size,this}var a=n(68),i=n(172),o=n(143),u=200;e.exports=r},function(e,t,n){var r=n(492),a=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,u=r(function(e){var t=[];return a.test(e)&&t.push(""),e.replace(i,function(e,n,r,a){t.push(r?a.replace(o,"$1"):n||e)}),t});e.exports=u},function(e,t,n){var r=n(49),a=n(153),i=n(58),o=a(function(e,t,n,a){r(t,i(t),e,a)});e.exports=o},function(e,t,n){var r=n(144),a=n(149),i=n(158),o=a(function(e,t){try{return r(e,void 0,t)}catch(e){return i(e)?e:new Error(e)}});e.exports=o},function(e,t,n){function r(e){return a(e,i|o)}var a=n(442),i=1,o=4;e.exports=r},function(e,t,n){e.exports=n(40)},function(e,t,n){function r(e){return e=i(e),e&&u.test(e)?e.replace(o,a):e}var a=n(466),i=n(112),o=/[&<>"']/g,u=RegExp(o.source);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var l=null==n?0:o(n);return l<0&&(l=u(r+l,0)),a(e,i(t,3),l)}var a=n(615),i=n(71),o=n(618),u=Math.max;e.exports=r},function(e,t,n){function r(e,t){return null!=e&&i(e,t,a)}var a=n(444),i=n(472);e.exports=r},function(e,t,n){function r(e){return i(e)&&a(e)}var a=n(105),i=n(80);e.exports=r},function(e,t,n){function r(e){return e===!0||e===!1||i(e)&&a(e)==o}var a=n(176),i=n(80),o="[object Boolean]";e.exports=r},function(e,t,n){function r(e,t){var n={};return t=o(t,3),i(e,function(e,r,i){a(n,r,t(e,r,i))}),n}var a=n(70),i=n(98),o=n(71);e.exports=r},function(e,t,n){var r=n(109),a=function(){return r.Date.now()};e.exports=a},function(e,t,n){var r=n(450),a=n(468),i=a(function(e,t){return null==e?{}:r(e,t)});e.exports=i},function(e,t,n){function r(e,t,n){var r=u(e)?a:o;return n&&l(e,t,n)&&(t=void 0),r(e,i(t,3))}var a=n(146),i=n(71),o=n(453),u=n(22),l=n(100);e.exports=r},function(e,t,n){var r=n(509),a=n(494),i=n(495),o=n(156),u={escape:a,evaluate:i,interpolate:o,variable:"",imports:{_:{escape:r}}};e.exports=u},function(e,t,n){function r(e,t,n){var r=!0,u=!0;if("function"!=typeof e)throw new TypeError(o);return i(n)&&(r="leading"in n?!!n.leading:r,u="trailing"in n?!!n.trailing:u),a(e,t,{leading:r,maxWait:t,trailing:u})}var a=n(157),i=n(33),o="Expected a function";e.exports=r},function(e,t,n){function r(e){return a(e,i(e))}var a=n(49),i=n(58);e.exports=r},function(e,t,n){var r;(function(e,a){!function(i){function o(e){throw new RangeError(A[e])}function u(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function l(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(P,".");var a=e.split("."),i=u(a,t).join(".");return r+i}function s(e){for(var t,n,r=[],a=0,i=e.length;a<i;)t=e.charCodeAt(a++),t>=55296&&t<=56319&&a<i?(n=e.charCodeAt(a++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--)):r.push(t);return r}function d(e){return u(e,function(e){var t="";return e>65535&&(e-=65536,t+=j(e>>>10&1023|55296),e=56320|1023&e),t+=j(e)}).join("")}function c(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:M}function f(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var r=0;for(e=n?k(e/_):e>>1,e+=k(e/t);e>O*E>>1;r+=M)e=k(e/O);return k(r+(O+1)*e/(e+I))}function h(e){var t,n,r,a,i,u,l,s,f,h,g=[],m=e.length,v=0,y=C,b=T;for(n=e.lastIndexOf(S),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&o("not-basic"),g.push(e.charCodeAt(r));for(a=n>0?n+1:0;a<m;){for(i=v,u=1,l=M;a>=m&&o("invalid-input"),s=c(e.charCodeAt(a++)),(s>=M||s>k((w-v)/u))&&o("overflow"),v+=s*u,f=l<=b?x:l>=b+E?E:l-b,!(s<f);l+=M)h=M-f,u>k(w/h)&&o("overflow"),u*=h;t=g.length+1,b=p(v-i,t,0==i),k(v/t)>w-y&&o("overflow"),y+=k(v/t),v%=t,g.splice(v++,0,y)}return d(g)}function g(e){var t,n,r,a,i,u,l,d,c,h,g,m,v,y,b,I=[];for(e=s(e),m=e.length,t=C,n=0,i=T,u=0;u<m;++u)g=e[u],g<128&&I.push(j(g));for(r=a=I.length,a&&I.push(S);r<m;){for(l=w,u=0;u<m;++u)g=e[u],g>=t&&g<l&&(l=g);for(v=r+1,l-t>k((w-n)/v)&&o("overflow"),n+=(l-t)*v,t=l,u=0;u<m;++u)if(g=e[u],g<t&&++n>w&&o("overflow"),g==t){for(d=n,c=M;h=c<=i?x:c>=i+E?E:c-i,!(d<h);c+=M)b=d-h,y=M-h,I.push(j(f(h+b%y,0))),d=k(b/y);I.push(j(f(d,0))),i=p(n,v,r==a),n=0,++r}++n,++t}return I.join("")}function m(e){return l(e,function(e){return L.test(e)?h(e.slice(4).toLowerCase()):e})}function v(e){return l(e,function(e){return D.test(e)?"xn--"+g(e):e})}var y=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof a&&a);y.global!==y&&y.window!==y&&y.self!==y||(i=y);var b,w=2147483647,M=36,x=1,E=26,I=38,_=700,T=72,C=128,S="-",L=/^xn--/,D=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=M-x,k=Math.floor,j=String.fromCharCode;b={version:"1.4.1",ucs2:{decode:s,encode:d},decode:h,encode:g,toASCII:v,toUnicode:m},r=function(){return b}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(164)(e),function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),o=r(i),u=n(12),l=r(u),s=n(17),d=n(523),c=r(d),f=t.AlphaPicker=function(e){var t=e.rgb,n=e.hsl,r=e.width,i=e.height,u=e.onChange,d=e.direction,c=e.style,f=e.renderers,p=e.pointer,h=e.className,g=void 0===h?"":h,m=(0,l.default)({default:{picker:{position:"relative",width:r,height:i},alpha:{radius:"2px",style:c}}});return o.default.createElement("div",{style:m.picker,className:"alpha-picker "+g},o.default.createElement(s.Alpha,a({},m.alpha,{rgb:t,hsl:n,pointer:p,renderers:f,onChange:u,direction:d})))};f.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:c.default},t.default=(0,s.ColorWrap)(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=t.AlphaPointer=function(e){var t=e.direction,n=(0,u.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return i.default.createElement("div",{style:n.picker})};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var a=n(1),i=r(a),o=n(23),u=r(o),l=n(12),s=r(l),d=n(31),c=r(d),f=n(17),p=n(525),h=r(p),g=t.Block=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,a=e.colors,o=e.width,u=e.triangle,l=e.className,d=void 0===l?"":l,p="transparent"===r,g=function(e,n){c.default.isValidHex(e)&&t({hex:e,source:"hex"},n)},m=(0,s.default)({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:p?"rgba(0,0,0,0.4)":"#fff",position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},{"hide-triangle":"hide"===u});return i.default.createElement("div",{style:m.card,className:"block-picker "+d},i.default.createElement("div",{style:m.triangle}),i.default.createElement("div",{style:m.head},p&&i.default.createElement(f.Checkboard,{borderRadius:"6px 6px 0 0"}),i.default.createElement("div",{style:m.label},r)),i.default.createElement("div",{style:m.body},i.default.createElement(h.default,{colors:a,onClick:g,onSwatchHover:n}),i.default.createElement(f.EditableInput,{style:{input:m.input},value:r,onChange:g})))};g.propTypes={width:u.default.oneOfType([u.default.string,u.default.number]),colors:u.default.arrayOf(u.default.string),triangle:u.default.oneOf(["top","hide"])},g.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top"},t.default=(0,f.ColorWrap)(g)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=n(36),s=r(l),d=n(17),c=t.BlockSwatches=function(e){var t=e.colors,n=e.onClick,r=e.onSwatchHover,a=(0,u.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return i.default.createElement("div",{style:a.swatches},(0,s.default)(t,function(e){return i.default.createElement(d.Swatch,{key:e,color:e,style:a.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})}),i.default.createElement("div",{style:a.clear}))};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var a=n(1),i=r(a),o=n(23),u=r(o),l=n(12),s=r(l),d=n(17),c=n(527),f=r(c),p=n(528),h=r(p),g=n(529),m=r(g),v=t.Chrome=function(e){var t=e.onChange,n=e.disableAlpha,r=e.rgb,a=e.hsl,o=e.hsv,u=e.hex,l=e.renderers,c=e.className,p=void 0===c?"":c,g=(0,s.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},{disableAlpha:n});return i.default.createElement("div",{style:g.picker,className:"chrome-picker "+p},i.default.createElement("div",{style:g.saturation},i.default.createElement(d.Saturation,{style:g.Saturation,hsl:a,hsv:o,pointer:m.default,onChange:t})),i.default.createElement("div",{style:g.body},i.default.createElement("div",{style:g.controls,className:"flexbox-fix"},i.default.createElement("div",{style:g.color},i.default.createElement("div",{style:g.swatch},i.default.createElement("div",{style:g.active}),i.default.createElement(d.Checkboard,{renderers:l}))),i.default.createElement("div",{style:g.toggles},i.default.createElement("div",{style:g.hue},i.default.createElement(d.Hue,{style:g.Hue,hsl:a,pointer:h.default,onChange:t})),i.default.createElement("div",{style:g.alpha},i.default.createElement(d.Alpha,{style:g.Alpha,rgb:r,hsl:a,pointer:h.default,renderers:l,onChange:t})))),i.default.createElement(f.default,{rgb:r,hsl:a,hex:u,onChange:t,disableAlpha:n})))};v.propTypes={disableAlpha:u.default.bool},v.defaultProps={disableAlpha:!1},t.default=(0,d.ColorWrap)(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),s=r(l),d=n(12),c=r(d),f=n(31),p=r(f),h=n(17),g=t.ChromeFields=function(e){function t(){var e,n,r,o;a(this,t);for(var u=arguments.length,l=Array(u),s=0;s<u;s++)l[s]=arguments[s];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={view:""},r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?p.default.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&r.props.onChange({h:e.h||r.props.hsl.h,s:e.s&&e.s||r.props.hsl.s,l:e.l&&e.l||r.props.hsl.l,source:"hsl"},t)},r.showHighlight=function(e){e.target.style.background="#eee"},r.hideHighlight=function(e){e.target.style.background="transparent"},o=n,i(r,o)}return o(t,e),u(t,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var e=this,t=(0,c.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=s.default.createElement("div",{style:t.fields,className:"flexbox-fix"},s.default.createElement("div",{style:t.field},s.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=s.default.createElement("div",{style:t.fields,className:"flexbox-fix"},s.default.createElement("div",{style:t.field},s.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),s.default.createElement("div",{style:t.field},s.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),s.default.createElement("div",{style:t.field},s.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),s.default.createElement("div",{style:t.alpha},s.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=s.default.createElement("div",{style:t.fields,className:"flexbox-fix"},s.default.createElement("div",{style:t.field},s.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),s.default.createElement("div",{style:t.field},s.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),s.default.createElement("div",{style:t.field},s.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),s.default.createElement("div",{style:t.alpha},s.default.createElement(h.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),s.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,s.default.createElement("div",{style:t.toggle},s.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},s.default.createElement("svg",{style:t.svg,viewBox:"0 0 24 24",onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight},s.default.createElement("path",{ref:function(t){return e.iconUp=t},fill:"#333",d:"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}),s.default.createElement("path",{ref:function(t){return e.iconDown=t},fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"})))))}}]),t}(s.default.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=t.ChromePointer=function(){var e=(0,u.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return i.default.createElement("div",{style:e.picker})};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=t.ChromePointerCircle=function(){var e=(0,u.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return i.default.createElement("div",{style:e.picker})};t.default=l},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var i=n(1),o=a(i),u=n(23),l=a(u),s=n(12),d=a(s),c=n(36),f=a(c),p=n(159),h=r(p),g=n(17),m=n(531),v=a(m),y=t.Circle=function(e){var t=e.width,n=e.onChange,r=e.onSwatchHover,a=e.colors,i=e.hex,u=e.circleSize,l=e.circleSpacing,s=e.className,c=void 0===s?"":s,p=(0,d.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-l,marginBottom:-l}}}),h=function(e,t){return n({hex:e,source:"hex"},t)};return o.default.createElement("div",{style:p.card,className:"circle-picker "+c},(0,f.default)(a,function(e){return o.default.createElement(v.default,{key:e,color:e,onClick:h,onSwatchHover:r,active:i===e.toLowerCase(),circleSize:u,circleSpacing:l})}))};y.propTypes={width:l.default.oneOfType([l.default.string,l.default.number]),circleSize:l.default.number,circleSpacing:l.default.number},y.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[h.red[500],h.pink[500],h.purple[500],h.deepPurple[500],h.indigo[500],h.blue[500],h.lightBlue[500],h.cyan[500],h.teal[500],h.green[500],h.lightGreen[500],h.lime[500],h.yellow[500],h.amber[500],h.orange[500],h.deepOrange[500],h.brown[500],h.blueGrey[500]]},t.default=(0,g.ColorWrap)(y)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=n(17),s=t.CircleSwatch=function(e){var t=e.color,n=e.onClick,r=e.onSwatchHover,a=e.hover,o=e.active,s=e.circleSize,d=e.circleSpacing,c=(0,u.default)({default:{swatch:{width:s,height:s,marginRight:d,marginBottom:d,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+s/2+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:a,active:o});return i.default.createElement("div",{style:c.swatch},i.default.createElement(l.Swatch,{style:c.Swatch,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:c.Swatch.boxShadow+", 0 0 5px "+t}}))};s.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,o.handleHover)(s)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1),c=a(d),f=n(12),p=a(f),h=n(563),g=r(h),m=n(160),v=a(m),y=t.Alpha=function(e){function t(){var e,n,r,a;i(this,t);for(var u=arguments.length,l=Array(u),s=0;s<u;s++)l[s]=arguments[s];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleChange=function(e,t){var n=g.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},a=n,o(r,a)}return u(t,e),s(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,p.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden"},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:l({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return c.default.createElement("div",{style:n.alpha},c.default.createElement("div",{style:n.checkboard},c.default.createElement(v.default,{renderers:this.props.renderers})),c.default.createElement("div",{style:n.gradient}),c.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},c.default.createElement("div",{style:n.pointer},this.props.pointer?c.default.createElement(this.props.pointer,this.props):c.default.createElement("div",{style:n.slider}))))}}]),t}(d.PureComponent||d.Component);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),d=r(s),c=n(12),f=r(c),p=t.EditableInput=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.props.label?n.props.onChange&&n.props.onChange(a({},n.props.label,e.target.value),e):n.props.onChange&&n.props.onChange(e.target.value,e),n.setState({value:e.target.value})},n.handleKeyDown=function(e){var t=String(e.target.value),r=t.indexOf("%")>-1,i=Number(t.replace(/%/g,""));if(!isNaN(i)){var o=n.props.arrowOffset||1;38===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(a({},n.props.label,i+o),e):n.props.onChange&&n.props.onChange(i+o,e),r?n.setState({value:i+o+"%"}):n.setState({value:i+o})),40===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(a({},n.props.label,i-o),e):n.props.onChange&&n.props.onChange(i-o,e),r?n.setState({value:i-o+"%"}):n.setState({value:i-o}))}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(a({},n.props.label,t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return u(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=(0,f.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return d.default.createElement("div",{style:t.wrap},d.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label?d.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(s.PureComponent||s.Component);t.default=p},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),d=a(s),c=n(12),f=a(c),p=n(565),h=r(p),g=t.Hue=function(e){function t(){var e,n,r,a;i(this,t);for(var u=arguments.length,l=Array(u),s=0;s<u;s++)l[s]=arguments[s];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleChange=function(e,t){var n=h.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},a=n,o(r,a)}return u(t,e),l(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,f.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%"},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(100*this.props.hsl.h/360)+100+"%"}}},{vertical:"vertical"===n});return d.default.createElement("div",{style:r.hue},d.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},d.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),d.default.createElement("div",{style:r.pointer},this.props.pointer?d.default.createElement(this.props.pointer,this.props):d.default.createElement("div",{style:r.slider}))))}}]),t}(s.PureComponent||s.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var a=n(1),i=r(a),o=n(23),u=r(o),l=n(12),s=r(l),d=t.Raised=function(e){var t=e.zDepth,n=e.radius,r=e.background,a=e.children,o=(0,s.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},{"zDepth-1":1===t});return i.default.createElement("div",{style:o.wrap},i.default.createElement("div",{style:o.bg}),i.default.createElement("div",{style:o.content},a))};d.propTypes={background:u.default.string,zDepth:u.default.oneOf([0,1,2,3,4,5]),radius:u.default.number},d.defaultProps={background:"#fff",zDepth:1,radius:2},t.default=d},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),d=a(s),c=n(12),f=a(c),p=n(519),h=a(p),g=n(567),m=r(g),v=t.Saturation=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e,t){n.props.onChange&&n.throttle(n.props.onChange,m.calculateChange(e,t,n.props,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,h.default)(function(e,t,n){e(t,n)},50),n}return u(t,e),l(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,a=t.black,i=t.pointer,o=t.circle,u=(0,f.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(100*this.props.hsv.v)+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:a,pointer:i,circle:o}},{custom:!!this.props.style});return d.default.createElement("div",{style:u.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},d.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),d.default.createElement("div",{style:u.white,className:"saturation-white"},d.default.createElement("div",{style:u.black,className:"saturation-black"}),d.default.createElement("div",{style:u.pointer},this.props.pointer?d.default.createElement(this.props.pointer,this.props):d.default.createElement("div",{style:u.circle}))))}}]),t}(s.PureComponent||s.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),o=r(i),u=n(12),l=r(u),s=n(566),d=n(17),c=13,f=t.Swatch=function(e){var t=e.color,n=e.style,r=e.onClick,i=void 0===r?function(){}:r,u=e.onHover,s=e.title,f=void 0===s?t:s,p=e.children,h=e.focus,g=e.focusStyle,m=void 0===g?{}:g,v="transparent"===t,y=(0,l.default)({default:{swatch:a({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,h?m:{})}}),b=function(e){return i(t,e)},w=function(e){return e.keyCode===c&&i(t,e)},M=function(e){return u(t,e)},x={};return u&&(x.onMouseOver=M),o.default.createElement("div",a({style:y.swatch,onClick:b,title:f,tabIndex:0,onKeyDown:w},x),p,v&&o.default.createElement(d.Checkboard,{borderRadius:y.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,s.handleFocus)(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var a=n(1),i=r(a),o=n(23),u=r(o),l=n(12),s=r(l),d=n(36),c=r(d),f=n(31),p=r(f),h=n(17),g=n(539),m=r(g),v=n(540),y=r(v),b=t.Compact=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.colors,a=e.hex,o=e.rgb,u=e.className,l=void 0===u?"":u,d=(0,s.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}}),f=function(e,n){e.hex?p.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return i.default.createElement(h.Raised,{style:d.Compact},i.default.createElement("div",{style:d.compact,className:"compact-picker "+l},i.default.createElement("div",null,(0,c.default)(r,function(e){return i.default.createElement(m.default,{key:e,color:e,active:e.toLowerCase()===a,onClick:f,onSwatchHover:n})}),i.default.createElement("div",{style:d.clear})),i.default.createElement(y.default,{hex:a,rgb:o,onChange:f})))};b.propTypes={colors:u.default.arrayOf(u.default.string)},b.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]},t.default=(0,h.ColorWrap)(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=n(17),s=t.CompactColor=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,a=e.onSwatchHover,o=e.active,s=(0,u.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:"#fff",borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return i.default.createElement(l.Swatch,{style:s.color,color:t,onClick:r,onHover:a,focusStyle:{boxShadow:"0 0 4px "+t}},i.default.createElement("div",{style:s.dot}))};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=n(17),s=t.CompactFields=function(e){var t=e.hex,n=e.rgb,r=e.onChange,a=(0,u.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(e,t){e.r||e.g||e.b?r({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):r({hex:e.hex,source:"hex"},t)};return i.default.createElement("div",{style:a.fields,className:"flexbox-fix"},i.default.createElement("div",{style:a.active}),i.default.createElement(l.EditableInput,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"hex",value:t,onChange:o}),i.default.createElement(l.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:o}),i.default.createElement(l.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:o}),i.default.createElement(l.EditableInput,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:o}))};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var a=n(1),i=r(a),o=n(23),u=r(o),l=n(12),s=r(l),d=n(36),c=r(d),f=n(17),p=n(542),h=r(p),g=t.Github=function(e){var t=e.width,n=e.colors,r=e.onChange,a=e.onSwatchHover,o=e.triangle,u=e.className,l=void 0===u?"":u,d=(0,s.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},{"hide-triangle":"hide"===o,"top-left-triangle":"top-left"===o,"top-right-triangle":"top-right"===o,"bottom-right-triangle":"bottom-right"===o}),f=function(e,t){return r({hex:e,source:"hex"},t)};return i.default.createElement("div",{style:d.card,className:"github-picker "+l},i.default.createElement("div",{style:d.triangleShadow}),i.default.createElement("div",{style:d.triangle}),(0,c.default)(n,function(e){return i.default.createElement(h.default,{color:e,key:e,onClick:f,onSwatchHover:a})}))};g.propTypes={width:u.default.oneOfType([u.default.string,u.default.number]),colors:u.default.arrayOf(u.default.string),triangle:u.default.oneOf(["hide","top-left","top-right"])},g.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left"},t.default=(0,f.ColorWrap)(g)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=n(17),s=t.GithubSwatch=function(e){var t=e.hover,n=e.color,r=e.onClick,a=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=(0,u.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:t});return i.default.createElement("div",{style:s.swatch},i.default.createElement(l.Swatch,{color:n,onClick:r,onHover:a,focusStyle:o}))};t.default=(0,o.handleHover)(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),o=r(i),u=n(12),l=r(u),s=n(17),d=n(544),c=r(d),f=t.HuePicker=function(e){var t=e.width,n=e.height,r=e.onChange,i=e.hsl,u=e.direction,d=e.pointer,c=e.className,f=void 0===c?"":c,p=(0,l.default)({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}}),h=function(e){return r({a:1,h:e.h,l:.5,s:1})};return o.default.createElement("div",{style:p.picker,className:"hue-picker "+f},o.default.createElement(s.Hue,a({},p.hue,{hsl:i,pointer:d,onChange:h,direction:u})))};f.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:c.default},t.default=(0,s.ColorWrap)(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=t.SliderPointer=function(e){var t=e.direction,n=(0,u.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return i.default.createElement("div",{style:n.picker})};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=n(31),s=r(l),d=n(17),c=t.Material=function(e){var t=e.onChange,n=e.hex,r=e.rgb,a=e.className,o=void 0===a?"":a,l=(0,u.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}}),c=function(e,n){e.hex?s.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},n)};return i.default.createElement(d.Raised,null,i.default.createElement("div",{style:l.material,className:"material-picker "+o},i.default.createElement(d.EditableInput,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"hex",value:n,onChange:c}),i.default.createElement("div",{style:l.split,className:"flexbox-fix"},i.default.createElement("div",{style:l.third},i.default.createElement(d.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:r.r,onChange:c})),i.default.createElement("div",{style:l.third},i.default.createElement(d.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:r.g,onChange:c})),i.default.createElement("div",{style:l.third},i.default.createElement(d.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:r.b,onChange:c})))))};t.default=(0,d.ColorWrap)(c)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),s=r(l),d=n(23),c=r(d),f=n(12),p=r(f),h=n(17),g=n(548),m=r(g),v=n(550),y=r(v),b=n(549),w=r(b),M=n(547),x=r(M),E=n(551),I=r(E),_=t.Photoshop=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props.className,t=void 0===e?"":e,n=(0,p.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}});return s.default.createElement("div",{style:n.picker,className:"photoshop-picker "+t},s.default.createElement("div",{style:n.head},this.props.header),s.default.createElement("div",{style:n.body,className:"flexbox-fix"},s.default.createElement("div",{style:n.saturation},s.default.createElement(h.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:y.default,onChange:this.props.onChange})),s.default.createElement("div",{style:n.hue},s.default.createElement(h.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:w.default,onChange:this.props.onChange})),s.default.createElement("div",{style:n.controls},s.default.createElement("div",{style:n.top,className:"flexbox-fix"},s.default.createElement("div",{style:n.previews},s.default.createElement(I.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),s.default.createElement("div",{style:n.actions},s.default.createElement(x.default,{label:"OK",onClick:this.props.onAccept,active:!0}),s.default.createElement(x.default,{label:"Cancel",onClick:this.props.onCancel}),s.default.createElement(m.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(s.default.Component);_.propTypes={header:c.default.string},_.defaultProps={header:"Color Picker"},t.default=(0,h.ColorWrap)(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopBotton=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=t.PhotoshopBotton=function(e){var t=e.onClick,n=e.label,r=e.children,a=e.active,o=(0,u.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return i.default.createElement("div",{style:o.button,onClick:t},n||r)};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=n(31),s=r(l),d=n(17),c=t.PhotoshopPicker=function(e){var t=e.onChange,n=e.rgb,r=e.hsv,a=e.hex,o=(0,u.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),l=function(e,a){e["#"]?s.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},a):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},a):(e.h||e.s||e.v)&&t({h:e.h||r.h,s:e.s||r.s,v:e.v||r.v,source:"hsv"},a)};return i.default.createElement("div",{style:o.fields},i.default.createElement(d.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(r.h),onChange:l}),i.default.createElement(d.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:l}),i.default.createElement(d.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:l}),i.default.createElement("div",{style:o.divider}),i.default.createElement(d.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:l}),i.default.createElement(d.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:l}),i.default.createElement(d.EditableInput,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:l}),i.default.createElement("div",{style:o.divider}),i.default.createElement(d.EditableInput,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:a.replace("#",""),onChange:l}),i.default.createElement("div",{style:o.fieldSymbols},i.default.createElement("div",{style:o.symbol},"Â°"),i.default.createElement("div",{style:o.symbol},"%"),i.default.createElement("div",{style:o.symbol},"%")))};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=t.PhotoshopPointerCircle=function(){var e=(0,u.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",
borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return i.default.createElement("div",{style:e.pointer},i.default.createElement("div",{style:e.left},i.default.createElement("div",{style:e.leftInside})),i.default.createElement("div",{style:e.right},i.default.createElement("div",{style:e.rightInside})))};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=t.PhotoshopPointerCircle=function(e){var t=e.hsl,n=(0,u.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return i.default.createElement("div",{style:n.picker})};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=t.PhotoshopPreviews=function(e){var t=e.rgb,n=e.currentColor,r=(0,u.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return i.default.createElement("div",null,i.default.createElement("div",{style:r.label},"new"),i.default.createElement("div",{style:r.swatches},i.default.createElement("div",{style:r.new}),i.default.createElement("div",{style:r.current})),i.default.createElement("div",{style:r.label},"current"))};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var a=n(1),i=r(a),o=n(23),u=r(o),l=n(12),s=r(l),d=n(17),c=n(553),f=r(c),p=n(554),h=r(p),g=t.Sketch=function(e){var t=e.width,n=e.rgb,r=e.hex,a=e.hsv,o=e.hsl,u=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,p=e.presetColors,g=e.renderers,m=e.className,v=void 0===m?"":m,y=(0,s.default)({default:{picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},{disableAlpha:c});return i.default.createElement("div",{style:y.picker,className:"sketch-picker "+v},i.default.createElement("div",{style:y.saturation},i.default.createElement(d.Saturation,{style:y.Saturation,hsl:o,hsv:a,onChange:u})),i.default.createElement("div",{style:y.controls,className:"flexbox-fix"},i.default.createElement("div",{style:y.sliders},i.default.createElement("div",{style:y.hue},i.default.createElement(d.Hue,{style:y.Hue,hsl:o,onChange:u})),i.default.createElement("div",{style:y.alpha},i.default.createElement(d.Alpha,{style:y.Alpha,rgb:n,hsl:o,renderers:g,onChange:u}))),i.default.createElement("div",{style:y.color},i.default.createElement(d.Checkboard,null),i.default.createElement("div",{style:y.activeColor}))),i.default.createElement(f.default,{rgb:n,hsl:o,hex:r,onChange:u,disableAlpha:c}),i.default.createElement(h.default,{colors:p,onClick:u,onSwatchHover:l}))};g.propTypes={disableAlpha:u.default.bool,width:u.default.oneOfType([u.default.string,u.default.number])},g.defaultProps={disableAlpha:!1,width:200,presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,d.ColorWrap)(g)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=n(31),s=r(l),d=n(17),c=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,a=e.hex,o=e.disableAlpha,l=(0,u.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),c=function(e,a){e.hex?s.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},a):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},a):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:"rgb"},a))};return i.default.createElement("div",{style:l.fields,className:"flexbox-fix"},i.default.createElement("div",{style:l.double},i.default.createElement(d.EditableInput,{style:{input:l.input,label:l.label},label:"hex",value:a.replace("#",""),onChange:c})),i.default.createElement("div",{style:l.single},i.default.createElement(d.EditableInput,{style:{input:l.input,label:l.label},label:"r",value:n.r,onChange:c,dragLabel:"true",dragMax:"255"})),i.default.createElement("div",{style:l.single},i.default.createElement(d.EditableInput,{style:{input:l.input,label:l.label},label:"g",value:n.g,onChange:c,dragLabel:"true",dragMax:"255"})),i.default.createElement("div",{style:l.single},i.default.createElement(d.EditableInput,{style:{input:l.input,label:l.label},label:"b",value:n.b,onChange:c,dragLabel:"true",dragMax:"255"})),i.default.createElement("div",{style:l.alpha},i.default.createElement(d.EditableInput,{style:{input:l.input,label:l.label},label:"a",value:Math.round(100*n.a),onChange:c,dragLabel:"true",dragMax:"100"})))};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(1),o=r(i),u=n(23),l=r(u),s=n(12),d=r(s),c=n(17),f=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,i=e.onSwatchHover,u=(0,d.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),l=function(e,t){r({hex:e,source:"hex"},t)};return o.default.createElement("div",{style:u.colors,className:"flexbox-fix"},t.map(function(e){var t="string"==typeof e?{color:e}:e;return o.default.createElement("div",{key:t.color,style:u.swatchWrap},o.default.createElement(c.Swatch,a({},t,{style:u.swatch,onClick:l,onHover:i,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))}))};f.propTypes={colors:l.default.arrayOf(l.default.oneOfType([l.default.string,l.default.shape({color:l.default.string,title:l.default.string})])).isRequired},t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=n(17),s=n(558),d=r(s),c=n(556),f=r(c),p=t.Slider=function(e){var t=e.hsl,n=e.onChange,r=e.pointer,a=e.className,o=void 0===a?"":a,s=(0,u.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}});return i.default.createElement("div",{className:"slider-picker "+o},i.default.createElement("div",{style:s.hue},i.default.createElement(l.Hue,{style:s.Hue,hsl:t,pointer:r,onChange:n})),i.default.createElement("div",{style:s.swatches},i.default.createElement(d.default,{hsl:t,onClick:n})))};p.defaultProps={pointer:f.default},t.default=(0,l.ColorWrap)(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=t.SliderPointer=function(){var e=(0,u.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return i.default.createElement("div",{style:e.picker})};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=t.SliderSwatch=function(e){var t=e.hsl,n=e.offset,r=e.onClick,a=void 0===r?function(){}:r,o=e.active,l=e.first,s=e.last,d=(0,u.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:l,last:s}),c=function(e){return a({h:t.h,s:.5,l:n,source:"hsl"},e)};return i.default.createElement("div",{style:d.swatch,onClick:c})};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=n(557),s=r(l),d=t.SliderSwatches=function(e){var t=e.onClick,n=e.hsl,r=(0,u.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return i.default.createElement("div",{style:r.swatches},i.default.createElement("div",{style:r.swatch},i.default.createElement(s.default,{hsl:n,offset:".80",active:Math.round(100*n.l)/100===.8&&Math.round(100*n.s)/100===.5,onClick:t,first:!0})),i.default.createElement("div",{style:r.swatch},i.default.createElement(s.default,{hsl:n,offset:".65",active:Math.round(100*n.l)/100===.65&&Math.round(100*n.s)/100===.5,onClick:t})),i.default.createElement("div",{style:r.swatch},i.default.createElement(s.default,{hsl:n,offset:".50",active:Math.round(100*n.l)/100===.5&&Math.round(100*n.s)/100===.5,onClick:t})),i.default.createElement("div",{style:r.swatch},i.default.createElement(s.default,{hsl:n,offset:".35",active:Math.round(100*n.l)/100===.35&&Math.round(100*n.s)/100===.5,onClick:t})),i.default.createElement("div",{style:r.swatch},i.default.createElement(s.default,{hsl:n,offset:".20",active:Math.round(100*n.l)/100===.2&&Math.round(100*n.s)/100===.5,onClick:t,last:!0})),i.default.createElement("div",{style:r.clear}))};t.default=d},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var i=n(1),o=a(i),u=n(23),l=a(u),s=n(12),d=a(s),c=n(36),f=a(c),p=n(31),h=a(p),g=n(159),m=r(g),v=n(17),y=n(561),b=a(y),w=t.Swatches=function(e){var t=e.width,n=e.height,r=e.onChange,a=e.onSwatchHover,i=e.colors,u=e.hex,l=e.className,s=void 0===l?"":l,c=(0,d.default)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}}),p=function(e,t){h.default.isValidHex(e)&&r({hex:e,source:"hex"},t)};return o.default.createElement("div",{style:c.picker,className:"swatches-picker "+s},o.default.createElement(v.Raised,null,o.default.createElement("div",{style:c.overflow},o.default.createElement("div",{style:c.body},(0,f.default)(i,function(e){return o.default.createElement(b.default,{key:e.toString(),group:e,active:u,onClick:p,onSwatchHover:a})}),o.default.createElement("div",{style:c.clear})))))};w.propTypes={width:l.default.oneOfType([l.default.string,l.default.number]),height:l.default.oneOfType([l.default.string,l.default.number]),colors:l.default.arrayOf(l.default.arrayOf(l.default.string))},w.defaultProps={width:320,height:240,colors:[[m.red[900],m.red[700],m.red[500],m.red[300],m.red[100]],[m.pink[900],m.pink[700],m.pink[500],m.pink[300],m.pink[100]],[m.purple[900],m.purple[700],m.purple[500],m.purple[300],m.purple[100]],[m.deepPurple[900],m.deepPurple[700],m.deepPurple[500],m.deepPurple[300],m.deepPurple[100]],[m.indigo[900],m.indigo[700],m.indigo[500],m.indigo[300],m.indigo[100]],[m.blue[900],m.blue[700],m.blue[500],m.blue[300],m.blue[100]],[m.lightBlue[900],m.lightBlue[700],m.lightBlue[500],m.lightBlue[300],m.lightBlue[100]],[m.cyan[900],m.cyan[700],m.cyan[500],m.cyan[300],m.cyan[100]],[m.teal[900],m.teal[700],m.teal[500],m.teal[300],m.teal[100]],["#194D33",m.green[700],m.green[500],m.green[300],m.green[100]],[m.lightGreen[900],m.lightGreen[700],m.lightGreen[500],m.lightGreen[300],m.lightGreen[100]],[m.lime[900],m.lime[700],m.lime[500],m.lime[300],m.lime[100]],[m.yellow[900],m.yellow[700],m.yellow[500],m.yellow[300],m.yellow[100]],[m.amber[900],m.amber[700],m.amber[500],m.amber[300],m.amber[100]],[m.orange[900],m.orange[700],m.orange[500],m.orange[300],m.orange[100]],[m.deepOrange[900],m.deepOrange[700],m.deepOrange[500],m.deepOrange[300],m.deepOrange[100]],[m.brown[900],m.brown[700],m.brown[500],m.brown[300],m.brown[100]],[m.blueGrey[900],m.blueGrey[700],m.blueGrey[500],m.blueGrey[300],m.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]]},t.default=(0,v.ColorWrap)(w)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=n(17),s=t.SwatchesColor=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,a=e.onSwatchHover,o=e.first,s=e.last,d=e.active,c=(0,u.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{fill:"#fff",marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{fill:"#333"}},transparent:{check:{fill:"#333"}}},{first:o,last:s,active:d,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return i.default.createElement(l.Swatch,{color:t,style:c.color,onClick:r,onHover:a,focusStyle:{boxShadow:"0 0 4px "+t}},i.default.createElement("div",{style:c.check},i.default.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},i.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var a=n(1),i=r(a),o=n(12),u=r(o),l=n(36),s=r(l),d=n(560),c=r(d),f=t.SwatchesGroup=function(e){var t=e.onClick,n=e.onSwatchHover,r=e.group,a=e.active,o=(0,u.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return i.default.createElement("div",{style:o.group},(0,s.default)(r,function(e,o){return i.default.createElement(c.default,{key:e,color:e,active:e.toLowerCase()===a,first:0===o,last:o===r.length-1,onClick:t,onSwatchHover:n})}))};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var a=n(1),i=r(a),o=n(23),u=r(o),l=n(12),s=r(l),d=n(36),c=r(d),f=n(31),p=r(f),h=n(17),g=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,a=e.colors,o=e.width,u=e.triangle,l=e.className,d=void 0===l?"":l,f=(0,s.default)({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},{"hide-triangle":"hide"===u,"top-left-triangle":"top-left"===u,"top-right-triangle":"top-right"===u}),g=function(e,n){p.default.isValidHex(e)&&t({hex:e,source:"hex"},n)};return i.default.createElement("div",{style:f.card,className:"twitter-picker "+d},i.default.createElement("div",{style:f.triangleShadow}),i.default.createElement("div",{style:f.triangle}),i.default.createElement("div",{style:f.body},(0,c.default)(a,function(e,t){return i.default.createElement(h.Swatch,{key:t,color:e,hex:e,style:f.swatch,onClick:g,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})}),i.default.createElement("div",{style:f.hash},"#"),i.default.createElement(h.EditableInput,{style:{input:f.input},value:r.replace("#",""),onChange:g}),i.default.createElement("div",{style:f.clear})))};g.propTypes={width:u.default.oneOfType([u.default.string,u.default.number]),triangle:u.default.oneOf(["hide","top-left","top-right"]),colors:u.default.arrayOf(u.default.string)},g.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left"},t.default=(0,h.ColorWrap)(g)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var a=r.clientWidth,i=r.clientHeight,o="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=o-(r.getBoundingClientRect().left+window.pageXOffset),s=u-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var d=void 0;if(d=s<0?0:s>i?1:Math.round(100*s/i)/100,n.hsl.a!==d)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:d,source:"rgb"}}else{var c=void 0;if(c=l<0?0:l>a?1:Math.round(100*l/a)/100,n.a!==c)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:c,source:"rgb"}}return null}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={},r=t.render=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var a=r?new r:document.createElement("canvas");a.width=2*n,a.height=2*n;var i=a.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,a.width,a.height),i.fillStyle=t,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),a.toDataURL()):null};t.get=function(e,t,a,i){var o=e+"-"+t+"-"+a+(i?"-server":""),u=r(e,t,a,i);return n[o]?n[o]:(n[o]=u,u)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var a=r.clientWidth,i=r.clientHeight,o="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=o-(r.getBoundingClientRect().left+window.pageXOffset),s=u-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var d=void 0;if(s<0)d=359;else if(s>i)d=0;else{var c=-(100*s/i)+100;d=360*c/100}if(n.hsl.h!==d)return{h:d,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}else{var f=void 0;if(l<0)f=0;else if(l>a)f=359;else{var p=100*l/a;f=360*p/100}if(n.hsl.h!==f)return{h:f,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}return null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(1),s=r(l);t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,l,d;a(this,r);for(var c=arguments.length,f=Array(c),p=0;p<c;p++)f[p]=arguments[p];return o=l=i(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),l.state={focus:!1},l.handleFocus=function(){return l.setState({focus:!0})},l.handleBlur=function(){return l.setState({focus:!1})},l.render=function(){return s.default.createElement(t,{onFocus:l.handleFocus,onBlur:l.handleBlur},s.default.createElement(e,u({},l.props,l.state)))},d=o,i(l,d)}return o(r,n),r}(s.default.Component)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var a=r.getBoundingClientRect(),i=a.width,o=a.height,u="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,s=u-(r.getBoundingClientRect().left+window.pageXOffset),d=l-(r.getBoundingClientRect().top+window.pageYOffset);s<0?s=0:s>i?s=i:d<0?d=0:d>o&&(d=o);var c=100*s/i,f=-(100*d/o)+100;return{h:n.hsl.h,s:c,v:f,a:n.hsl.a,source:"rgb"}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var a=n(522);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return r(a).default}});var i=n(524);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return r(i).default}});var o=n(530);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return r(o).default}});var u=n(526);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return r(u).default}});var l=n(538);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return r(l).default}});var s=n(541);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return r(s).default}});var d=n(543);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return r(d).default}});var c=n(545);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return r(c).default}});var f=n(546);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return r(f).default}});var p=n(552);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return r(p).default}});var h=n(555);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return r(h).default}});var g=n(559);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return r(g).default}});var m=n(562);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return r(m).default}});var v=n(161);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return r(v).default}});var y=r(u);t.default=y.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(o)}var s=Object.getPrototypeOf(a);if(null===s)return;e=s,t=i,n=o,r=!0,u=s=void 0}},l=n(1),s=(r(l),n(570)),d=r(s),c=function(e){function t(){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),o(t,[{key:"getChildContext",value:function(){var e=this.props.translations;return{translator:(0,d.default)(e),locale:e.locale}}},{key:"render",value:function(){return l.Children.only(this.props.children)}}],[{key:"propTypes",value:{translations:l.PropTypes.object.isRequired},enumerable:!0},{key:"childContextTypes",value:{translator:l.PropTypes.object.isRequired,locale:l.PropTypes.string.isRequired},enumerable:!0}]),t}(l.Component);t.default=c,e.exports=t.default},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="chinese",i="german",o="french",u="russian",l="czech",s="polish",d="icelandic",c={id:a,ja:a,ko:a,ms:a,th:a,tr:a,zh:a,da:i,de:i,en:i,es:i,fi:i,el:i,he:i,hu:i,it:i,nl:i,no:i,pt:i,sv:i,fr:o,tl:o,hr:u,ru:u,cs:l,pl:s,is:d},f=function(){function e(t){if(n(this,e),!t.hasOwnProperty("locale")||"string"!=typeof t.locale)throw new TypeError("missing locale parameter");if(this.keys=t,this.pluralType=e.pluralTypes[c[t.locale.slice(0,2)]],"function"!=typeof this.pluralType)throw new TypeError("unsupported language")}return r(e,null,[{key:"pluralTypes",value:{chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10===1&&e%100!==11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!==1||e%100===11?1:0}},enumerable:!0}]),r(e,[{key:"createComponentTranslator",value:function(e){var t=this;if(!this.keys.hasOwnProperty(e))return function(t,n){return e+"."+t};var n=this.keys[e];return function(r,a){var i=n[r];if(void 0===i)return e+"."+r;if(void 0===a)return i;var o=function(e){return e.replace(/\{{2}(\w+)\}{2}/g,function(e,t){return a[t]})};if(Array.isArray(i)){if(void 0===a.n)return i.map(function(e){return o(e)});i=i[t.pluralType(a.n)]}return o(i)}}}]),e}();t.default=function(e){return new f(e)},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){var n=void 0,r=null;return function(o){return function(f){function p(){a(this,p),s(Object.getPrototypeOf(p.prototype),"constructor",this).apply(this,arguments),this.shouldComponentUpdate=t}return i(p,f),l(p,[{key:"render",value:function(){var t=this.context.translator;return t.keys.locale!==r&&(n=this.context.translator.createComponentTranslator(e),r=t.keys.locale),c.default.createElement(o,u({},this.props,{t:n}))}}],[{key:"contextTypes",value:{translator:d.PropTypes.object.isRequired},enumerable:!0}]),p}(d.Component)}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,i);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(o)}var s=Object.getPrototypeOf(a);if(null===s)return;e=s,t=i,n=o,r=!0,u=s=void 0}};t.default=o;var d=n(1),c=r(d);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var a=n(102),i=r(a),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n?n:{extend:e}}},l=t.autoprefix=function(e){var t={};return(0,i.default)(e,function(e,n){var r={};
(0,i.default)(e,function(e,t){var n=u[t];n?r=o({},r,n(e)):r[t]=e}),t[n]=r}),t};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(1),s=r(l),d=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,l,d;a(this,r);for(var c=arguments.length,f=Array(c),p=0;p<c;p++)f[p]=arguments[p];return o=l=i(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return s.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},s.default.createElement(e,u({},l.props,l.state)))},d=o,i(l,d)}return o(r,n),r}(s.default.Component)};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(1),s=r(l),d=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,o,l,d;a(this,r);for(var c=arguments.length,f=Array(c),p=0;p<c;p++)f[p]=arguments[p];return o=l=i(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return s.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},s.default.createElement(e,u({},l.props,l.state)))},d=o,i(l,d)}return o(r,n),r}(s.default.Component)};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var a=n(596),i=r(a),o=n(102),u=r(o),l=n(114),s=r(l),d=n(36),c=r(d),f=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,c.default)(t,function(t){Array.isArray(t)?e(t).map(function(e){return n.push(e)}):(0,s.default)(t)?(0,u.default)(t,function(e,t){e===!0&&n.push(t),n.push(t+"-"+e)}):(0,i.default)(t)&&n.push(t)}),n};t.default=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2===0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n};t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var a=n(102),i=r(a),o=n(507),u=r(o),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,u.default)(e.default)||{};return t.map(function(t){var r=e[t];return r&&(0,i.default)(r,function(e,t){n[t]||(n[t]={}),n[t]=l({},n[t],r[t])}),t}),n};t.default=s},function(e,t,n){var r,a;!function(i,o){"object"==typeof e&&e.exports?e.exports=o():(r=o,a="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==a&&(e.exports=a)))}(this,function(){"use strict";function e(e,t){var n,r=document.createElement(e||"div");for(n in t)r[n]=t[n];return r}function t(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,r){var a=["opacity",t,~~(100*e),n,r].join("-"),i=.01+n/r*100,o=Math.max(1-(1-e)/t*(100-i),e),u=s.substring(0,s.indexOf("Animation")).toLowerCase(),l=u&&"-"+u+"-"||"";return f[a]||(d.insertRule("@"+l+"keyframes "+a+"{0%{opacity:"+o+"}"+i+"%{opacity:"+e+"}"+(i+.01)+"%{opacity:1}"+(i+t)%100+"%{opacity:"+e+"}100%{opacity:"+o+"}}",d.cssRules.length),f[a]=1),a}function r(e,t){var n,r,a=e.style;if(t=t.charAt(0).toUpperCase()+t.slice(1),void 0!==a[t])return t;for(r=0;r<c.length;r++)if(n=c[r]+t,void 0!==a[n])return n}function a(e,t){for(var n in t)e.style[r(e,n)||n]=t[n];return e}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)void 0===e[r]&&(e[r]=n[r])}return e}function o(e,t){return"string"==typeof e?e:e[t%e.length]}function u(e){this.opts=i(e||{},u.defaults,p)}function l(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}d.addRule(".spin-vml","behavior:url(#default#VML)"),u.prototype.lines=function(e,r){function i(){return a(n("group",{coordsize:d+" "+d,coordorigin:-s+" "+-s}),{width:d,height:d})}function u(e,u,l){t(f,t(a(i(),{rotation:360/r.lines*e+"deg",left:~~u}),t(a(n("roundrect",{arcsize:r.corners}),{width:s,height:r.scale*r.width,left:r.scale*r.radius,top:-r.scale*r.width>>1,filter:l}),n("fill",{color:o(r.color,e),opacity:r.opacity}),n("stroke",{opacity:0}))))}var l,s=r.scale*(r.length+r.width),d=2*r.scale*s,c=-(r.width+r.length)*r.scale*2+"px",f=a(i(),{position:"absolute",top:c,left:c});if(r.shadow)for(l=1;l<=r.lines;l++)u(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=r.lines;l++)u(l);return t(e,f)},u.prototype.opacity=function(e,t,n,r){var a=e.firstChild;r=r.shadow&&r.lines||0,a&&t+r<a.childNodes.length&&(a=a.childNodes[t+r],a=a&&a.firstChild,a=a&&a.firstChild,a&&(a.opacity=n))}}var s,d,c=["webkit","Moz","ms","O"],f={},p={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(u.defaults={},i(u.prototype,{spin:function(t){this.stop();var n=this,r=n.opts,i=n.el=e(null,{className:r.className});if(a(i,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),t&&t.insertBefore(i,t.firstChild||null),i.setAttribute("role","progressbar"),n.lines(i,n.opts),!s){var o,u=0,l=(r.lines-1)*(1-r.direction)/2,d=r.fps,c=d/r.speed,f=(1-r.opacity)/(c*r.trail/100),p=c/r.lines;!function e(){u++;for(var t=0;t<r.lines;t++)o=Math.max(1-(u+(r.lines-t)*p)%c*f,r.opacity),n.opacity(i,t*r.direction+l,o,r);n.timeout=n.el&&setTimeout(e,~~(1e3/d))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(r,i){function u(t,n){return a(e(),{position:"absolute",width:i.scale*(i.length+i.width)+"px",height:i.scale*i.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*d+i.rotate)+"deg) translate("+i.scale*i.radius+"px,0)",borderRadius:(i.corners*i.scale*i.width>>1)+"px"})}for(var l,d=0,c=(i.lines-1)*(1-i.direction)/2;d<i.lines;d++)l=a(e(),{position:"absolute",top:1+~(i.scale*i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:s&&n(i.opacity,i.trail,c+d*i.direction,i.lines)+" "+1/i.speed+"s linear infinite"}),i.shadow&&t(l,a(u("#000","0 0 4px #000"),{top:"2px"})),t(r,t(l,u(o(i.color,d),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),"undefined"!=typeof document){d=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}();var h=a(e("group"),{behavior:"url(#default#VML)"});!r(h,"transform")&&h.adj?l():s=r(h,"animation")}return u})},function(e,t,n){var r;!function(a){function i(e,t){if(e=e?e:"",t=t||{},e instanceof i)return e;if(!(this instanceof i))return new i(e,t);var n=o(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Q(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Q(this._r)),this._g<1&&(this._g=Q(this._g)),this._b<1&&(this._b=Q(this._b)),this._ok=n.ok,this._tc_id=Y++}function o(e){var t={r:0,g:0,b:0},n=1,r=null,a=null,i=null,o=!1,l=!1;return"string"==typeof e&&(e=B(e)),"object"==typeof e&&(U(e.r)&&U(e.g)&&U(e.b)?(t=u(e.r,e.g,e.b),o=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):U(e.h)&&U(e.s)&&U(e.v)?(r=N(e.s),a=N(e.v),t=c(e.h,r,a),o=!0,l="hsv"):U(e.h)&&U(e.s)&&U(e.l)&&(r=N(e.s),i=N(e.l),t=s(e.h,r,i),o=!0,l="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=L(n),{ok:o,format:e.format||l,r:G(255,X(t.r,0)),g:G(255,X(t.g,0)),b:G(255,X(t.b,0)),a:n}}function u(e,t,n){return{r:255*D(e,255),g:255*D(t,255),b:255*D(n,255)}}function l(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var r,a,i=X(e,t,n),o=G(e,t,n),u=(i+o)/2;if(i==o)r=a=0;else{var l=i-o;switch(a=u>.5?l/(2-i-o):l/(i+o),i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:a,l:u}}function s(e,t,n){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var a,i,o;if(e=D(e,360),t=D(t,100),n=D(n,100),0===t)a=i=o=n;else{var u=n<.5?n*(1+t):n+t-n*t,l=2*n-u;a=r(l,u,e+1/3),i=r(l,u,e),o=r(l,u,e-1/3)}return{r:255*a,g:255*i,b:255*o}}function d(e,t,n){e=D(e,255),t=D(t,255),n=D(n,255);var r,a,i=X(e,t,n),o=G(e,t,n),u=i,l=i-o;if(a=0===i?0:l/i,i==o)r=0;else{switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:a,v:u}}function c(e,t,n){e=6*D(e,360),t=D(t,100),n=D(n,100);var r=a.floor(e),i=e-r,o=n*(1-t),u=n*(1-i*t),l=n*(1-(1-i)*t),s=r%6,d=[n,u,o,o,l,n][s],c=[l,n,n,u,o,o][s],f=[o,o,l,n,n,u][s];return{r:255*d,g:255*c,b:255*f}}function f(e,t,n,r){var a=[j(Q(e).toString(16)),j(Q(t).toString(16)),j(Q(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function p(e,t,n,r,a){var i=[j(Q(e).toString(16)),j(Q(t).toString(16)),j(Q(n).toString(16)),j(z(r))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function h(e,t,n,r){var a=[j(z(r)),j(Q(e).toString(16)),j(Q(t).toString(16)),j(Q(n).toString(16))];return a.join("")}function g(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.s-=t/100,n.s=P(n.s),i(n)}function m(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.s+=t/100,n.s=P(n.s),i(n)}function v(e){return i(e).desaturate(100)}function y(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.l+=t/100,n.l=P(n.l),i(n)}function b(e,t){t=0===t?0:t||10;var n=i(e).toRgb();return n.r=X(0,G(255,n.r-Q(255*-(t/100)))),n.g=X(0,G(255,n.g-Q(255*-(t/100)))),n.b=X(0,G(255,n.b-Q(255*-(t/100)))),i(n)}function w(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.l-=t/100,n.l=P(n.l),i(n)}function M(e,t){var n=i(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,i(n)}function x(e){var t=i(e).toHsl();return t.h=(t.h+180)%360,i(t)}function E(e){var t=i(e).toHsl(),n=t.h;return[i(e),i({h:(n+120)%360,s:t.s,l:t.l}),i({h:(n+240)%360,s:t.s,l:t.l})]}function I(e){var t=i(e).toHsl(),n=t.h;return[i(e),i({h:(n+90)%360,s:t.s,l:t.l}),i({h:(n+180)%360,s:t.s,l:t.l}),i({h:(n+270)%360,s:t.s,l:t.l})]}function _(e){var t=i(e).toHsl(),n=t.h;return[i(e),i({h:(n+72)%360,s:t.s,l:t.l}),i({h:(n+216)%360,s:t.s,l:t.l})]}function T(e,t,n){t=t||6,n=n||30;var r=i(e).toHsl(),a=360/n,o=[i(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,o.push(i(r));return o}function C(e,t){t=t||6;for(var n=i(e).toHsv(),r=n.h,a=n.s,o=n.v,u=[],l=1/t;t--;)u.push(i({h:r,s:a,v:o})),o=(o+l)%1;return u}function S(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function L(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function D(e,t){O(e)&&(e="100%");var n=k(e);return e=G(t,X(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),a.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function P(e){return G(1,X(0,e))}function A(e){return parseInt(e,16)}function O(e){return"string"==typeof e&&e.indexOf(".")!=-1&&1===parseFloat(e)}function k(e){return"string"==typeof e&&e.indexOf("%")!=-1}function j(e){return 1==e.length?"0"+e:""+e}function N(e){return e<=1&&(e=100*e+"%"),e}function z(e){return a.round(255*parseFloat(e)).toString(16)}function R(e){return A(e)/255}function U(e){return!!Z.CSS_UNIT.exec(e)}function B(e){e=e.replace(W,"").replace(H,"").toLowerCase();var t=!1;if(J[e])e=J[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Z.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Z.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Z.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Z.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Z.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Z.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Z.hex8.exec(e))?{r:A(n[1]),g:A(n[2]),b:A(n[3]),a:R(n[4]),format:t?"name":"hex8"}:(n=Z.hex6.exec(e))?{r:A(n[1]),g:A(n[2]),b:A(n[3]),format:t?"name":"hex"}:(n=Z.hex4.exec(e))?{r:A(n[1]+""+n[1]),g:A(n[2]+""+n[2]),b:A(n[3]+""+n[3]),a:R(n[4]+""+n[4]),format:t?"name":"hex8"}:!!(n=Z.hex3.exec(e))&&{r:A(n[1]+""+n[1]),g:A(n[2]+""+n[2]),b:A(n[3]+""+n[3]),format:t?"name":"hex"}}function F(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var W=/^\s+/,H=/\s+$/,Y=0,Q=a.round,G=a.min,X=a.max,q=a.random;i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r,i,o,u=this.toRgb();return e=u.r/255,t=u.g/255,n=u.b/255,r=e<=.03928?e/12.92:a.pow((e+.055)/1.055,2.4),i=t<=.03928?t/12.92:a.pow((t+.055)/1.055,2.4),o=n<=.03928?n/12.92:a.pow((n+.055)/1.055,2.4),.2126*r+.7152*i+.0722*o},setAlpha:function(e){return this._a=L(e),this._roundA=Q(100*this._a)/100,this},toHsv:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=d(this._r,this._g,this._b),t=Q(360*e.h),n=Q(100*e.s),r=Q(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=l(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=l(this._r,this._g,this._b),t=Q(360*e.h),n=Q(100*e.s),r=Q(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return f(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return p(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Q(this._r),g:Q(this._g),b:Q(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Q(this._r)+", "+Q(this._g)+", "+Q(this._b)+")":"rgba("+Q(this._r)+", "+Q(this._g)+", "+Q(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Q(100*D(this._r,255))+"%",g:Q(100*D(this._g,255))+"%",b:Q(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Q(100*D(this._r,255))+"%, "+Q(100*D(this._g,255))+"%, "+Q(100*D(this._b,255))+"%)":"rgba("+Q(100*D(this._r,255))+"%, "+Q(100*D(this._g,255))+"%, "+Q(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(V[f(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var a=i(e);n="#"+h(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,a=!t&&r&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e);return a?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return i(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(M,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(I,arguments)}},i.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&("a"===r?n[r]=e[r]:n[r]=N(e[r]));e=n}return i(e,t)},i.equals=function(e,t){return!(!e||!t)&&i(e).toRgbString()==i(t).toRgbString()},i.random=function(){return i.fromRatio({r:q(),g:q(),b:q()})},i.mix=function(e,t,n){n=0===n?0:n||50;var r=i(e).toRgb(),a=i(t).toRgb(),o=n/100,u={r:(a.r-r.r)*o+r.r,g:(a.g-r.g)*o+r.g,b:(a.b-r.b)*o+r.b,a:(a.a-r.a)*o+r.a};return i(u)},i.readability=function(e,t){var n=i(e),r=i(t);return(a.max(n.getLuminance(),r.getLuminance())+.05)/(a.min(n.getLuminance(),r.getLuminance())+.05)},i.isReadable=function(e,t,n){var r,a,o=i.readability(e,t);switch(a=!1,r=F(n),r.level+r.size){case"AAsmall":case"AAAlarge":a=o>=4.5;break;case"AAlarge":a=o>=3;break;case"AAAsmall":a=o>=7}return a},i.mostReadable=function(e,t,n){var r,a,o,u,l=null,s=0;n=n||{},a=n.includeFallbackColors,o=n.level,u=n.size;for(var d=0;d<t.length;d++)r=i.readability(e,t[d]),r>s&&(s=r,l=i(t[d]));return i.isReadable(e,l,{level:o,size:u})||!a?l:(n.includeFallbackColors=!1,i.mostReadable(e,["#fff","#000"],n))};var J=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},V=i.hexNames=S(J),Z=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",a="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof e&&e.exports?e.exports=i:(r=function(){return i}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}(Math)},function(e,t,n){e.exports=n.p+"2356dfeaa770c0e6aefca1928d1ce2b0.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAOtJREFUKBWdUbENgzAQtEFCKTNCRmABaFiAETwCZYCGBtaIswFlSiSatNmCkjJCQs6f8x+RiCovPf6/u3+Zs1abqKrKUIv8hNb60rbtVQCNomma47IsPZW26zoLTEKWRFGUk24OQLC4EHFZljkSHGMFa1RY13VB+J2IGwSINE0PdJV5HMcJPc4kSRRlHDjnctkMEkHYCekb/rDG+CttCdS0PUb+4uh3B/aEgv01YNk6WbJ7ssYG8jMEbO/c0xTSB3MG2hBIlmX9uq6W7HRk4QM2iqW8+YyHG4bh6V/6vUcpJg055ICRteC/Xv8FXqFtKOJIbQwAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/gif;base64,R0lGODdhZABkAMQAAAAAABcXFxwcHCQkJCwsLDQ0NDs7O0RERE1NTVVVVVtbW2NjY2pqanR0dH19fYWFhYqKipKSkpqamqOjo////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJBwAVACwAAAAAZABkAAAF/2AljmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEgsGo/IpHLJbDqf0Kh0Sq1ar9isdsvter/gsHhMLpvBk8lZl06vcW31e2Woo+IpiWReN9zbKHp6b31+JngmgntvBX0Fh4CJgnMVhZBuJYqUIo4liCSCEZuVfZ6RI5qjpHYjnxWpY4Yolq2nr5NjB7oHKbQimCKwJhARxVi7urIlpSkReqInxdJYBsi6KI80xNLGWdbXOdvcXt+8NdzFEGHVyDbo6rm77tNn4Oeq+Pn6TuX2OQ8AAwakgqCgwYMGcQCEwLChwwdSEEosqNChRYYQo0xEqEOgx4H7QoocuSNBAhsOHLusMalAwUkaKVOSYdnyJcyYMsEkaFnT5k2cKrnQdOkTJdCgWIbuPNGyRYMTR5FW2ckTxYKrClY02IoCaNKaKRRgJbGAAQkGW592jUlG7NWzDOKSSKtW1dUFWUfElTuXqyq3C0rsNdvX76a7efXuNUH38FjBi0s0nnM3sInBJyavQXwCM+O0lN92jvy57pm7KDxnNq1PNcnRDCy/Tk14tu3buHPr3s27t+/fwIMLH068uPHjyJMrX868+ZMQACH5BAkHABUALBkAGQAyADIAAAX/YCWOZGmOx3GubOuKafrO9BmrdU4i7M0aBp0JQeTZYisgUFgqrnymgpLZdJqgJWWQurOSsCMtt0q8IrPTcbf8PYfT6lHRiHKLxPE1vRLb3uE1CQoJCSxeMDgiUksrE44nCpGRhUNsLIt+JBKOnJCSgyeWP5kjnJ0rhJKEeRWmpy2DqpRUro+Bn7M6tUypoEyuY6tctqzFxsfIXJ/LCgusERES0tHTEhUL2Nna2Apx1NLg4RLN29vdceLp1pLckQuRz9XyEhHJ9vf49gwMahBq+wycUYEGjQnAfQKZEIzgr8aCgwHHQFhY0MVDiM8oNjwBkR+VByso1jMBMWGJBihbaTyAAPLExIUc97FAmXKEAwckVrJkAVMHzQYlbuIcAaGoi405fpIQOlRE0Z3GlC4VWkJnS1ZSbVLNWfRqnKxab5p46pUL2LBNR1jNc1YE0xNr1dBc8RYu1DE1T9QdWzbZ3nx0twJmIZhKCAAh+QQJBwAVACwZABkAMgAyAAAF/2AljmRpjklyrmzriomiqG9tm/F876SysDmaCYHgrRYLxSq4IhaNJWTyxBw6oSUfkioTjpxPLEmqLFVJYHFWiuuW0uoom3QWwePjOcz9veLXWyh8dkQuBisMDD9HehUpaH4nB5MHJomXK1plTYUnBpSTJguXmCYyL2EloJOHJ6SleKuhLq+KarKVNrVislCjiYtGn5Rqo7e5f8nKy8zJDc/QDQzPywUG1gXW1wUV0d7QDHgG4+Tl5N/o4ubrh+jRyezl3M309fb3FQ5xExNxDv9i+AmE8q+gPigCB94wWFBNQoUtGAL885AfC4kHSTx4EPDhCYknHkCA8EKCyRMSPGSWMMhiJMkWJk+ugLiyhciRJCLoLBFTArObHHPqfCmi58+RQUdAGMozprKbREfo3NlUJh6gJqZGLer0KtITSyNs5SohAp6vYJlm7SoG6wmtK9iqSWoi7Fiy+Ozic6F3b0uqakIAACH5BAkHABUALBkAGQAyADIAAAX/YCWOZGmODHOubOuKS6q+dG3Ks62LTcPiq4Vwd+r5TsCTcEE0GY+lZGnJbJKeSJlyaS1ho9qSgtu9Gm/h0XhY9p5JUphQ0Xb2wCnSulo331FpFUt0Ow6GDixGORUMfBVrhCcJCQoJJoeGK28seyuUCpWXmJlONKAnlaCVliejpHWTqpMurohlsbI2rreyrDqYXZ+zXa9Nw33IycrLfQ/Oz9DOyAjU1dbUDxDa29wQD3XX4djd3dJt4uEi0dDKB+7v78zy8/T1JBFt7mUR/Phd8EQg9ONXBt4BAzYEDvRnxaA+FwsjQEDm8MCKiBOtFFjhEGGJhSskiGR4woDJFQYMY5rol/GESJEkJkwgYfIkx3g7XkqIKXPmiJoeUTbRyVMmzZrLiBb1+RMpsggvTfRkKqKA0z5Kl5oAijWq1J4mrJrc2OYlyRFTS161krVEWrVBu8Bc8XarTXp17dEFq7eF0TYhAAAh+QQJBwAVACwZABkAMgAyAAAF/2AljmRpik56rmzroqnzzvQZy3VOPtB6s42G7sR7+GKroHBY4kGMpp9JuWTuIM8ocqq0NrG9kpRE9Zqc0NFYVDZ/s6R1pe2+wmGqET0XZoHjeXpdOhGFESxogGSDJwyOJ4aFfV9pJ4wlC46akJGHRF6amysQnZ51oY4LL6WTQ5mhqjWdXq+iOqSFtLZWrUOPdcDBwsPEIhESyMfIy6ZuCs8L0NHPFcvW18AKC9vc3dHX4BLNVtre5tXK17nA08/u7sXx8vP0IxMTZgkJZvf9VgnP9DHp548JQHf7ahAs+O+gAoAvFt4Lpg9hwhMSTxgw8AIBghMOqZlYKEHjxgIuPGR+NBFSAcaJKzYaQDniwIESKllUvFhDJscRBmzeHKFypTCfJYQOJZrzqMykQnE2BYYUqk0TRYNVJaEU61QzW7lG9eqxjkyaVpdKNWolrNirJ7KC/Xmi6wq28uzWY6F37wq4ZkIAACH5BAkHABUALBkAGQAyADIAAAX/YCWOZGmOUQSdbOu+FZSucG2bsnrvpOSzqVSLxjP5JMAg6wGBPIqlY+SUI5aYVmglcqTOTtinttct5abXpng8OiJLQTSp6WRHy6Nqum6///JKJGF9fm8oQiODLQ4sE44tbi90iw6VJo6YhmSaLGonlaCMl5iPWg9rI6GgLaSYhBWqli+tpVqxoja0tqpQrWOrbLW2r8TFxsdsBQbLzM0Grw3R0tMNFc7Xy33U29HY130M3NTWzAXKBsrF4tHI7e7v7gcHbAwLbPLyz1ALDP32RfjwjelHkMGNgALH8Cto8AVCea8Y1mNh4CELBDAUKDgh8R8JhPpMIBjpQsGCBRs5ZBY0EbDFSJIjEiQgcfJki4UUX7wkkUDjzBE1UxZ7iTGmT5o1jREt0VPBT6BJiS3lebRE0FdTqTo1UdOjnaxGt3I9KXQM2LBPSZi0+RWmiaZp1bJtywLuzbLI7MJzoXdvC5l9QgAAIfkECQcAFQAsGQAZADIAMgAABf9gJY5kaY7TdK5s64pp+s70Gat1Phr8erMSie7EM/hiq2BwWCoaTT+TUsgkFYoFKFKqrDaLWllp6jVhS1GSMlL+9khpEbntfsK28u7QTgSj8BVzOQeEByxOcDh5SysQEY8mhYR8JH4rEUFsJ4+cZpKEK1lVjpyQJ5+gdBWkpS+ohl6ljxA1Bp9lsrQ6kridXqmxqsLDxMXFr8CqD8vMzCII0NHS0XTLENfY2Q/T3NDV2eDX293Sws3nzsbq6+ztFQkJZQ4OZfAKCvFV8/ND9vf5+vbxo5Hg3j+AAQXSa+EPH0J5CheaaFjwxL0ZDU5ElDiioMEVC0IqcNGg5AqFE/9jsVAgksQCBiQYlMx4ct8QliFjMthJYiZNYiEXjByxk2dPk8RwLihRFOZRpMKCDiVa1ITPqC2ZVi1xlU7QpSaanuhaRuoJsVZnes15dmvan16CrkA7Fq46uu7m7gSbl4XRMiEAADs="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAPRJREFUOBGNk8ERgjAQRVkZOFuCJdgAoyVoB9iBZ7jkAle9eZQWrEBnOHmzBOnADvAvQ5iFIUs4kITd95JNCOV5XrVt+yrLsgo8nyzLtkR0iaLouGIYgzs+pj58Dz+R2xhjfmFd158kSRqWcMtjl0jAj6IouglDTvaRzMHMdoIliQseCVwSDWaG+DV9AKW8J9hgg/aM+FDzNHcoQQb6PQFLBpI3jvgg47I/K+iXfWMYkp12Oitp476sGTPvITlB4vxPRiuQsD3npSMeBHOwXZ0m6QQavCQJfWBNQhDwZframm2y1oJJEb/GcbwJcKPWWrIrZrk/1rvCAq4dl2AAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4wLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMjEwIDE5OSAxNTUgMTc3IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDIxMCAxOTkgMTU1IDE3NyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8cGF0aCBmaWxsPSIjN0I3QjdCIiBkPSJNMjg3LjYsMzI5LjhjMi4yLDAsNC4xLTEuOSw0LjEtNC4xdi00NS45bDEzLjMsMTMuM2MwLjcsMC43LDEuOSwxLjEsMi44LDEuMXMyLjEtMC40LDIuOC0xLjENCgkJYzEuNy0xLjcsMS43LTQuMSwwLTUuNmwtMjAuMi0yMC4yYy0xLjctMS43LTQuMS0xLjctNS42LDBsLTIwLjIsMjAuMmMtMS43LDEuNy0xLjcsNC4xLDAsNS42YzAuNywwLjcsMS45LDEuMSwyLjgsMS4xDQoJCXMyLjEtMC40LDIuOC0xLjFsMTMuMy0xMy4zdjQ1LjlDMjgzLjQsMzI3LjksMjg1LjMsMzI5LjgsMjg3LjYsMzI5Ljh6Ii8+DQoJPHBhdGggZmlsbD0iIzdCN0I3QiIgZD0iTTMzMiwyNDZjLTEuOS0yMy0yMS4yLTQwLjgtNDQuNC00MC44Yy0yNC41LDAtNDQuNiwyMC00NC42LDQ0LjZjMCwyLjEsMC4yLDQuMSwwLjQsNmMtMC40LDAtMC45LDAtMS41LDANCgkJYy0xNi4xLDAtMjkuMiwxMy4zLTI5LjIsMjkuNGMwLDE2LjEsMTMuMSwyOS40LDI5LjQsMjkuNGgyNS4zYzIuMiwwLDQuMS0xLjksNC4xLTQuMWMwLTIuMi0xLjktNC4xLTQuMS00LjFIMjQyDQoJCWMtMTEuOCwwLTIxLjQtOS42LTIxLjQtMjEuNGMwLTExLjgsOS42LTIxLjQsMjEuNC0yMS40YzEuOSwwLDMuNiwwLjIsNS40LDAuN2MxLjUsMC40LDIuOCwwLDMuOS0wLjlzMS41LTIuNiwwLjktNC4xDQoJCWMtMC45LTMuMi0xLjUtNi43LTEuNS05LjljMC0yMCwxNi41LTM2LjUsMzYuNS0zNi41YzIwLDAsMzYuNSwxNi41LDM2LjUsMzYuNWMwLDIuMiwxLjksNC4xLDQuMSw0LjFjMTQuNiwwLDI2LjQsMTEuOCwyNi40LDI2LjQNCgkJcy0xMS44LDI2LjQtMjYuNCwyNi40aC0yMGMtMi4yLDAtNC4xLDEuOS00LjEsNC4xYzAsMi4yLDEuOSw0LjEsNC4xLDQuMWgyMC4yYzE5LjEsMCwzNC41LTE1LjQsMzQuNS0zNC41DQoJCUMzNjIuNSwyNjIuNSwzNDkuMiwyNDcuOSwzMzIsMjQ2eiIvPg0KPC9nPg0KPGc+DQoJPHBhdGggZmlsbD0iI0FDQUNBQyIgZD0iTTIyMS45LDM1OC42TDIyMS45LDM1OC42YzAtMi44LDIuMS01LjEsNS01LjFjMS44LDAsMi44LDAuNiwzLjgsMS42bC0wLjgsMC44Yy0wLjgtMC44LTEuOC0xLjMtMy4xLTEuMw0KCQljLTIuMiwwLTMuOCwxLjgtMy44LDR2MGMwLDIuMywxLjYsNCwzLjgsNGMxLjMsMCwyLjItMC41LDMuMi0xLjRsMC43LDAuN2MtMSwxLTIuMSwxLjctMy45LDEuN0MyMjQsMzYzLjcsMjIxLjksMzYxLjQsMjIxLjksMzU4LjYNCgkJeiIvPg0KCTxwYXRoIGZpbGw9IiNBQ0FDQUMiIGQ9Ik0yMzIuNiwzNTMuM2gxLjF2MTAuMmgtMS4xVjM1My4zeiIvPg0KCTxwYXRoIGZpbGw9IiNBQ0FDQUMiIGQ9Ik0yMzYuMiwzNTMuNWgxLjJ2MS4yaC0xLjJWMzUzLjV6IE0yMzYuMywzNTYuM2gxLjF2Ny4yaC0xLjFWMzU2LjN6Ii8+DQoJPHBhdGggZmlsbD0iI0FDQUNBQyIgZD0iTTIzOS40LDM1OS45TDIzOS40LDM1OS45YzAtMi4xLDEuNi0zLjgsMy43LTMuOGMxLjQsMCwyLjIsMC42LDIuOSwxLjNsLTAuNywwLjhjLTAuNi0wLjYtMS4yLTEuMS0yLjItMS4xDQoJCWMtMS41LDAtMi42LDEuMi0yLjYsMi44djBjMCwxLjYsMS4xLDIuOCwyLjcsMi44YzAuOSwwLDEuNi0wLjUsMi4yLTEuMWwwLjcsMC42Yy0wLjcsMC44LTEuNiwxLjQtMywxLjQNCgkJQzI0MSwzNjMuNywyMzkuNCwzNjEuOSwyMzkuNCwzNTkuOXoiLz4NCgk8cGF0aCBmaWxsPSIjQUNBQ0FDIiBkPSJNMjQ3LjksMzUzLjNoMS4xdjcuMWwzLjktNC4xaDEuM2wtMywzLjFsMy4xLDQuMUgyNTNsLTIuNi0zLjRsLTEuNSwxLjV2MS45aC0xLjFWMzUzLjN6Ii8+DQoJPHBhdGggZmlsbD0iI0FDQUNBQyIgZD0iTTI2Mi44LDM1NC43aC0zLjN2LTFoNy43djFoLTMuM3Y4LjhoLTEuMVYzNTQuN3oiLz4NCgk8cGF0aCBmaWxsPSIjQUNBQ0FDIiBkPSJNMjY2LjksMzU5LjlMMjY2LjksMzU5LjljMC0yLjEsMS42LTMuOCwzLjgtMy44YzIuMiwwLDMuOCwxLjcsMy44LDMuOHYwYzAsMi0xLjYsMy44LTMuOCwzLjgNCgkJQzI2OC40LDM2My43LDI2Ni45LDM2MiwyNjYuOSwzNTkuOXogTTI3My4zLDM1OS45TDI3My4zLDM1OS45YzAtMS42LTEuMi0yLjktMi43LTIuOWMtMS42LDAtMi42LDEuMy0yLjYsMi44djANCgkJYzAsMS42LDEuMSwyLjgsMi43LDIuOEMyNzIuMiwzNjIuNywyNzMuMywzNjEuNCwyNzMuMywzNTkuOXoiLz4NCgk8cGF0aCBmaWxsPSIjQUNBQ0FDIiBkPSJNMjg0LjQsMzUzLjZoMWw0LjUsOS45aC0xLjJsLTEuMS0yLjZoLTUuM2wtMS4yLDIuNmgtMS4xTDI4NC40LDM1My42eiBNMjg3LjEsMzU5LjlsLTIuMi01bC0yLjIsNUgyODcuMXoiDQoJCS8+DQoJPHBhdGggZmlsbD0iI0FDQUNBQyIgZD0iTTI5MC44LDM1OS45TDI5MC44LDM1OS45YzAtMi40LDEuNy0zLjgsMy41LTMuOGMxLjMsMCwyLjIsMC43LDIuOCwxLjV2LTQuNGgxLjF2MTAuMmgtMS4xVjM2Mg0KCQljLTAuNiwwLjktMS40LDEuNi0yLjgsMS42QzI5Mi42LDM2My43LDI5MC44LDM2Mi4zLDI5MC44LDM1OS45eiBNMjk3LjEsMzU5LjlMMjk3LjEsMzU5LjljMC0xLjctMS4zLTIuOC0yLjYtMi44DQoJCWMtMS40LDAtMi41LDEtMi41LDIuOHYwYzAsMS43LDEuMiwyLjgsMi41LDIuOEMyOTUuOCwzNjIuNywyOTcuMSwzNjEuNiwyOTcuMSwzNTkuOXoiLz4NCgk8cGF0aCBmaWxsPSIjQUNBQ0FDIiBkPSJNMzAwLjEsMzU5LjlMMzAwLjEsMzU5LjljMC0yLjQsMS43LTMuOCwzLjUtMy44YzEuMywwLDIuMiwwLjcsMi44LDEuNXYtNC40aDEuMXYxMC4yaC0xLjFWMzYyDQoJCWMtMC42LDAuOS0xLjQsMS42LTIuOCwxLjZDMzAxLjksMzYzLjcsMzAwLjEsMzYyLjMsMzAwLjEsMzU5Ljl6IE0zMDYuNCwzNTkuOUwzMDYuNCwzNTkuOWMwLTEuNy0xLjMtMi44LTIuNi0yLjgNCgkJYy0xLjQsMC0yLjUsMS0yLjUsMi44djBjMCwxLjcsMS4yLDIuOCwyLjUsMi44QzMwNS4xLDM2Mi43LDMwNi40LDM2MS42LDMwNi40LDM1OS45eiIvPg0KCTxwYXRoIGZpbGw9IiNBQ0FDQUMiIGQ9Ik0zMTQuMiwzNTMuN2gzLjdjMi4yLDAsMy43LDEuMiwzLjcsMy4xdjBjMCwyLjEtMS44LDMuMi0zLjksMy4yaC0yLjR2My41aC0xLjFWMzUzLjd6IE0zMTcuOCwzNTkNCgkJYzEuNiwwLDIuNy0wLjksMi43LTIuMnYwYzAtMS40LTEuMS0yLjEtMi42LTIuMWgtMi41djQuM0gzMTcuOHoiLz4NCgk8cGF0aCBmaWxsPSIjQUNBQ0FDIiBkPSJNMzIzLjQsMzUzLjNoMS4xdjQuMmMwLjUtMC44LDEuMi0xLjQsMi41LTEuNGMxLjgsMCwyLjgsMS4yLDIuOCwyLjl2NC41aC0xLjF2LTQuMmMwLTEuMy0wLjctMi4yLTItMi4yDQoJCWMtMS4yLDAtMi4yLDAuOS0yLjIsMi4zdjQuMWgtMS4xVjM1My4zeiIvPg0KCTxwYXRoIGZpbGw9IiNBQ0FDQUMiIGQ9Ik0zMzEuNiwzNTkuOUwzMzEuNiwzNTkuOWMwLTIuMSwxLjYtMy44LDMuOC0zLjhjMi4yLDAsMy44LDEuNywzLjgsMy44djBjMCwyLTEuNiwzLjgtMy44LDMuOA0KCQlDMzMzLjIsMzYzLjcsMzMxLjYsMzYyLDMzMS42LDM1OS45eiBNMzM4LDM1OS45TDMzOCwzNTkuOWMwLTEuNi0xLjItMi45LTIuNy0yLjljLTEuNiwwLTIuNiwxLjMtMi42LDIuOHYwYzAsMS42LDEuMSwyLjgsMi43LDIuOA0KCQlDMzM2LjksMzYyLjcsMzM4LDM2MS40LDMzOCwzNTkuOXoiLz4NCgk8cGF0aCBmaWxsPSIjQUNBQ0FDIiBkPSJNMzQxLjUsMzYxLjZ2LTQuNGgtMXYtMWgxdi0yLjJoMS4xdjIuMmgyLjN2MWgtMi4zdjQuMmMwLDAuOSwwLjUsMS4yLDEuMiwxLjJjMC40LDAsMC43LTAuMSwxLjEtMC4zdjAuOQ0KCQljLTAuNCwwLjItMC44LDAuMy0xLjMsMC4zQzM0Mi4zLDM2My42LDM0MS41LDM2My4xLDM0MS41LDM2MS42eiIvPg0KCTxwYXRoIGZpbGw9IiNBQ0FDQUMiIGQ9Ik0zNDYuMSwzNTkuOUwzNDYuMSwzNTkuOWMwLTIuMSwxLjYtMy44LDMuOC0zLjhjMi4yLDAsMy44LDEuNywzLjgsMy44djBjMCwyLTEuNiwzLjgtMy44LDMuOA0KCQlDMzQ3LjcsMzYzLjcsMzQ2LjEsMzYyLDM0Ni4xLDM1OS45eiBNMzUyLjUsMzU5LjlMMzUyLjUsMzU5LjljMC0xLjYtMS4yLTIuOS0yLjctMi45Yy0xLjYsMC0yLjYsMS4zLTIuNiwyLjh2MA0KCQljMCwxLjYsMS4xLDIuOCwyLjcsMi44QzM1MS40LDM2Mi43LDM1Mi41LDM2MS40LDM1Mi41LDM1OS45eiIvPg0KPC9nPg0KPC9zdmc+DQo=";
},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9ImFfX3gyQl9fem5vIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwLjEgMTgiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEwMC4xIDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNOS4xLDQuOCIvPgoJPGcgaWQ9ImEiPgoJCTxwb2x5Z29uIGlkPSJhXzFfIiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjAsMC42IDAsMy4xIDAsMy4xIDAsMTcuNCAzLjEsMTcuNCA0LjIsMTcuNCA4LjQsMTcuNCA4LjQsMTMuMiA0LjIsMTMuMiA0LjIsNC44IAoJCQkxMi43LDQuOCAxMi43LDE3LjQgMTYuOSwxNy40IDE2LjksNC44IDE2LjksMy4xIDE2LjksMC42IAkJIi8+Cgk8L2c+Cgk8ZyBpZD0iem5vIj4KCQk8cGF0aCBpZD0ieiIgZmlsbD0iI0ZGRkZGRiIgZD0iTTUwLjEsMTYuM3YxLjFIMzMuN0w0Ny41LDEuN0gzMy43VjAuNmgxNi4zTDM2LjQsMTYuM0g1MC4xeiIvPgoJCTxwYXRoIGlkPSJuIiBmaWxsPSIjRkZGRkZGIiBkPSJNNTguNSw5djguNGgtMS4xVjljMC0yLjUsMC45LTQuNiwyLjYtNi40QzYxLjgsMC45LDYzLjksMCw2Ni40LDBjMi41LDAsNC42LDAuOSw2LjQsMi42CgkJCWMxLjgsMS44LDIuNiwzLjksMi42LDYuNHY4LjRoLTEuMVY5YzAtMi4yLTAuOC00LTIuMy01LjZjLTEuNS0xLjUtMy40LTIuMy01LjYtMi4zYy0yLjIsMC00LDAuOC01LjYsMi4zQzU5LjMsNSw1OC41LDYuOCw1OC41LDl6CgkJCSIvPgoJCTxwYXRoIGlkPSJvIiBmaWxsPSIjRkZGRkZGIiBkPSJNOTcuNSwyLjZjMS44LDEuOCwyLjYsMy45LDIuNiw2LjRjMCwyLjUtMC45LDQuNi0yLjYsNi40Yy0xLjgsMS44LTMuOSwyLjYtNi40LDIuNgoJCQljLTIuNSwwLTQuNi0wLjktNi40LTIuNmMtMS44LTEuOC0yLjYtMy45LTIuNi02LjRjMC0yLjUsMC45LTQuNiwyLjYtNi40Qzg2LjUsMC45LDg4LjYsMCw5MS4xLDBDOTMuNiwwLDk1LjcsMC45LDk3LjUsMi42egoJCQkgTTk2LjcsMTQuNkM5OC4yLDEzLDk5LDExLjIsOTksOWMwLTIuMi0wLjgtNC0yLjMtNS42Yy0xLjUtMS41LTMuNC0yLjMtNS42LTIuM2MtMi4yLDAtNCwwLjgtNS42LDIuM0M4NCw1LDgzLjIsNi44LDgzLjIsOQoJCQljMCwyLjIsMC44LDQsMi4zLDUuNmMxLjUsMS41LDMuNCwyLjMsNS42LDIuM0M5My4zLDE2LjksOTUuMSwxNi4xLDk2LjcsMTQuNnoiLz4KCTwvZz4KPC9nPgo8L3N2Zz4K"},584,function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSItMTM2NiAtMTE4NCAyMCAyMCI+DQogIDxkZWZzPg0KICAgIDxzdHlsZT4NCiAgICAgIC5jbHMtMSB7DQogICAgICAgIHN0cm9rZTogI2Q2ZDZkNjsNCiAgICAgICAgc3Ryb2tlLXdpZHRoOiAwLjVweDsNCiAgICAgICAgZmlsbDogdXJsKCNsaW5lYXItZ3JhZGllbnQpOw0KICAgICAgfQ0KDQogICAgICAuY2xzLTIgew0KICAgICAgICBmaWxsOiAjM2EzYTNhOw0KICAgICAgfQ0KDQogICAgICAuY2xzLTMgew0KICAgICAgICBzdHJva2U6IG5vbmU7DQogICAgICB9DQoNCiAgICAgIC5jbHMtNCB7DQogICAgICAgIGZpbGw6IG5vbmU7DQogICAgICB9DQogICAgPC9zdHlsZT4NCiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImxpbmVhci1ncmFkaWVudCIgeDE9IjAuNSIgeDI9IjAuNSIgeTI9IjEiIGdyYWRpZW50VW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9ImdyYXkiIHN0b3Atb3BhY2l0eT0iMC4zMjIiLz4NCiAgICA8L2xpbmVhckdyYWRpZW50Pg0KICA8L2RlZnM+DQogIDxnIGlkPSJncm91cC0xMjgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNzMxIC0xMjM2KSI+DQogICAgPGcgaWQ9InJlY3RhbmdsZS0zMCIgY2xhc3M9ImNscy0xIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNjUgNTIpIj4NCiAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMyIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIi8+DQogICAgICA8cmVjdCBjbGFzcz0iY2xzLTQiIHg9IjAuMjUiIHk9IjAuMjUiIHdpZHRoPSIxOS41IiBoZWlnaHQ9IjE5LjUiLz4NCiAgICA8L2c+DQogICAgPHBhdGggaWQ9InBhdGgtMjUiIGNsYXNzPSJjbHMtMiIgZD0iTTQuNzY4LDUuMDkuNSw5LjIxMSwwLDguNzI3LDQuMjY2LDQuNjA2LDAsLjQ4NC41LDAsNC43NjgsNC4xMjEsOS4wMzMsMGwuNS40ODRMNS4yNjgsNC42MDYsOS41MzUsOC43MjdsLS41LjQ4NFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM3MCA1NykiLz4NCiAgPC9nPg0KPC9zdmc+DQo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSItMTM4OSAtMTE4NCAyMCAyMCI+DQogIDxkZWZzPg0KICAgIDxzdHlsZT4NCiAgICAgIC5jbHMtMSB7DQogICAgICAgIHN0cm9rZTogI2Q2ZDZkNjsNCiAgICAgICAgc3Ryb2tlLXdpZHRoOiAwLjVweDsNCiAgICAgICAgZmlsbDogdXJsKCNsaW5lYXItZ3JhZGllbnQpOw0KICAgICAgfQ0KDQogICAgICAuY2xzLTIgew0KICAgICAgICBmaWxsOiAjM2EzYTNhOw0KICAgICAgfQ0KDQogICAgICAuY2xzLTMgew0KICAgICAgICBzdHJva2U6IG5vbmU7DQogICAgICB9DQoNCiAgICAgIC5jbHMtNCB7DQogICAgICAgIGZpbGw6IG5vbmU7DQogICAgICB9DQogICAgPC9zdHlsZT4NCiAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImxpbmVhci1ncmFkaWVudCIgeDE9IjAuNSIgeDI9IjAuNSIgeTI9IjEiIGdyYWRpZW50VW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij4NCiAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+DQogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9ImdyYXkiIHN0b3Atb3BhY2l0eT0iMC4zMjIiLz4NCiAgICA8L2xpbmVhckdyYWRpZW50Pg0KICA8L2RlZnM+DQogIDxnIGlkPSJncm91cC0xMjciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNzI4IC0xMTk5KSI+DQogICAgPGcgaWQ9InJlY3RhbmdsZS0zMCIgY2xhc3M9ImNscy0xIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMzkgMTUpIj4NCiAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMyIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIi8+DQogICAgICA8cmVjdCBjbGFzcz0iY2xzLTQiIHg9IjAuMjUiIHk9IjAuMjUiIHdpZHRoPSIxOS41IiBoZWlnaHQ9IjE5LjUiLz4NCiAgICA8L2c+DQogICAgPGcgaWQ9Iuato+ehrl8xXyIgZGF0YS1uYW1lPSLmraPnoa4gKDEpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNDMuMjU2IDIwLjc3NSkiPg0KICAgICAgPGcgaWQ9Imdyb3VwIj4NCiAgICAgICAgPHBhdGggaWQ9InBhdGgiIGNsYXNzPSJjbHMtMiIgZD0iTTI2Ljc0Nyw0My43MDdsLTcuNSw3LjUtLjAyOC0uMDI4LS4wNDcuMDQ3LTQuNDE3LTQuMzU4LjQ2NC0uNDY5TDE5LjIsNTAuMzI2bDcuMDgtNy4wODhaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTQuNzU5IC00My4yMzgpIi8+DQogICAgICA8L2c+DQogICAgPC9nPg0KICA8L2c+DQo8L3N2Zz4NCg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0zNDk0LjQ0OSAtMTIxNiAxMCAxMCI+DQogIDxkZWZzPg0KICAgIDxzdHlsZT4NCiAgICAgIC5jbHMtMSB7DQogICAgICAgIGZpbGw6ICNmZmY7DQogICAgICB9DQogICAgPC9zdHlsZT4NCiAgPC9kZWZzPg0KICA8ZyBpZD0i57yW6L6RIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzU0MS44MTQgLTEyNTQuMDI1KSI+DQogICAgPGcgaWQ9Imdyb3VwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0Ny4zNjUgMzguMDI1KSI+DQogICAgICA8cGF0aCBpZD0icGF0aCIgY2xhc3M9ImNscy0xIiBkPSJNNTYuOTQsNDguMDI1SDQ3Ljk4M2EuNDMxLjQzMSwwLDAsMS0uMjQ4LS4wODRjLS4wMSwwLS4wMiwwLS4wMywwYS4zNTIuMzUyLDAsMCwxLS4yMTktLjA3NS4zMS4zMSwwLDAsMS0uMTE5LS4yNzhsLjMtMi43NDhhLjMwNy4zMDcsMCwwLDEsLjA3OC0uMTcybDQuMjg0LTQuODMyYS4zNTUuMzU1LDAsMCwxLC40OC0uMDM4bDIuNTE3LDIuMDA3YS4zMDYuMzA2LDAsMCwxLC4wNC40NDlsLTQuMjc1LDQuODIxYS4zNC4zNCwwLDAsMS0uMTY4LjFsLS44MTkuMjE5SDU2LjkyYy4yMzUsMCwuNDQ0LS4wMTIuNDQ0LjIwOGEuNDI3LjQyNywwLDAsMS0uNDI1LjQxN1pNNTUuOCw0MS40NDdsLTMuMDQ3LTIuNDA4LjQ4OS0uNTQ2YTEuNDI4LDEuNDI4LDAsMCwxLDEuMDY1LS40NjksMS40LDEuNCwwLDAsMSwuODYyLjI5NGwuOTcyLjc2OGExLjIzNSwxLjIzNSwwLDAsMSwuMTQ3LDEuODE0bC0uNDg5LjU0NloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00Ny4zNjUgLTM4LjAyNSkiLz4NCiAgICA8L2c+DQogIDwvZz4NCjwvc3ZnPg0K"},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iOTRweCIgaGVpZ2h0PSIxMHB4IiB2aWV3Qm94PSIwIDAgOTQgMTAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQzICgzODk5OSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+R3JvdXAgMjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJHcm91cC0yIiBmaWxsPSIjQ0NDQ0NDIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAuNDI5LDkgTDMuOTM4LDEuMjQ1IEw0Ljc1MiwxLjI0NSBMOC4yNjEsOSBMNy4zMjYsOSBMNi40MjQsNi45NjUgTDIuMjMzLDYuOTY1IEwxLjMyLDkgTDAuNDI5LDkgWiBNMi41NzQsNi4xNzMgTDYuMDgzLDYuMTczIEw0LjMzNCwyLjI1NyBMMi41NzQsNi4xNzMgWiBNMTEuNzQ4LDkuMTIxIEMxMC4zODQsOS4xMjEgOS4wMzEsOC4wNDMgOS4wMzEsNi4xNzMgTDkuMDMxLDYuMTUxIEM5LjAzMSw0LjI5MiAxMC4zODQsMy4xOTIgMTEuNzQ4LDMuMTkyIEMxMi44MDQsMy4xOTIgMTMuNDg2LDMuNzY0IDEzLjkyNiw0LjQwMiBMMTMuOTI2LDAuOTcgTDE0Ljc3MywwLjk3IEwxNC43NzMsOSBMMTMuOTI2LDkgTDEzLjkyNiw3Ljg1NiBDMTMuNDY0LDguNTM4IDEyLjc5Myw5LjEyMSAxMS43NDgsOS4xMjEgWiBNMTEuOTAyLDguMzYyIEMxMi45NTgsOC4zNjIgMTMuOTU5LDcuNDcxIDEzLjk1OSw2LjE2MiBMMTMuOTU5LDYuMTQgQzEzLjk1OSw0LjgzMSAxMi45NTgsMy45NTEgMTEuOTAyLDMuOTUxIEMxMC44MDIsMy45NTEgOS45LDQuNzY1IDkuOSw2LjE0IEw5LjksNi4xNjIgQzkuOSw3LjUwNCAxMC44MzUsOC4zNjIgMTEuOTAyLDguMzYyIFogTTE5LjA1Miw5LjEyMSBDMTcuNjg4LDkuMTIxIDE2LjMzNSw4LjA0MyAxNi4zMzUsNi4xNzMgTDE2LjMzNSw2LjE1MSBDMTYuMzM1LDQuMjkyIDE3LjY4OCwzLjE5MiAxOS4wNTIsMy4xOTIgQzIwLjEwOCwzLjE5MiAyMC43OSwzLjc2NCAyMS4yMyw0LjQwMiBMMjEuMjMsMC45NyBMMjIuMDc3LDAuOTcgTDIyLjA3Nyw5IEwyMS4yMyw5IEwyMS4yMyw3Ljg1NiBDMjAuNzY4LDguNTM4IDIwLjA5Nyw5LjEyMSAxOS4wNTIsOS4xMjEgWiBNMTkuMjA2LDguMzYyIEMyMC4yNjIsOC4zNjIgMjEuMjYzLDcuNDcxIDIxLjI2Myw2LjE2MiBMMjEuMjYzLDYuMTQgQzIxLjI2Myw0LjgzMSAyMC4yNjIsMy45NTEgMTkuMjA2LDMuOTUxIEMxOC4xMDYsMy45NTEgMTcuMjA0LDQuNzY1IDE3LjIwNCw2LjE0IEwxNy4yMDQsNi4xNjIgQzE3LjIwNCw3LjUwNCAxOC4xMzksOC4zNjIgMTkuMjA2LDguMzYyIFogTTI3LjQxMiw5IEwyNy40MTIsMS4zIEwzMC4yOTQsMS4zIEMzMi4wMzIsMS4zIDMzLjE3NiwyLjIyNCAzMy4xNzYsMy43NDIgTDMzLjE3NiwzLjc2NCBDMzMuMTc2LDUuNDI1IDMxLjc5LDYuMjgzIDMwLjE1MSw2LjI4MyBMMjguMjgxLDYuMjgzIEwyOC4yODEsOSBMMjcuNDEyLDkgWiBNMjguMjgxLDUuNDkxIEwzMC4xODQsNS40OTEgQzMxLjQ2LDUuNDkxIDMyLjI5Niw0LjgwOSAzMi4yOTYsMy43OTcgTDMyLjI5NiwzLjc3NSBDMzIuMjk2LDIuNjc1IDMxLjQ3MSwyLjEwMyAzMC4yMjgsMi4xMDMgTDI4LjI4MSwyLjEwMyBMMjguMjgxLDUuNDkxIFogTTM2LjIwMSw5LjEyMSBDMzUuMTQ1LDkuMTIxIDM0LjA3OCw4LjUxNiAzNC4wNzgsNy4zNSBMMzQuMDc4LDcuMzI4IEMzNC4wNzgsNi4xMjkgMzUuMDY4LDUuNDkxIDM2LjUwOSw1LjQ5MSBDMzcuMjM1LDUuNDkxIDM3Ljc1Miw1LjU5IDM4LjI1OCw1LjczMyBMMzguMjU4LDUuNTM1IEMzOC4yNTgsNC41MTIgMzcuNjMxLDMuOTg0IDM2LjU2NCwzLjk4NCBDMzUuODkzLDMuOTg0IDM1LjM2NSw0LjE2IDM0LjgzNyw0LjQwMiBMMzQuNTg0LDMuNzA5IEMzNS4yMTEsMy40MjMgMzUuODI3LDMuMjM2IDM2LjY1MiwzLjIzNiBDMzcuNDU1LDMuMjM2IDM4LjA3MSwzLjQ0NSAzOC40ODksMy44NjMgQzM4Ljg3NCw0LjI0OCAzOS4wNzIsNC43OTggMzkuMDcyLDUuNTI0IEwzOS4wNzIsOSBMMzguMjU4LDkgTDM4LjI1OCw4LjE0MiBDMzcuODYyLDguNjU5IDM3LjIwMiw5LjEyMSAzNi4yMDEsOS4xMjEgWiBNMzYuMzY2LDguNDUgQzM3LjQxMSw4LjQ1IDM4LjI2OSw3LjgxMiAzOC4yNjksNi45MSBMMzguMjY5LDYuMzYgQzM3Ljg1MSw2LjIzOSAzNy4yOSw2LjExOCAzNi41OTcsNi4xMTggQzM1LjUzLDYuMTE4IDM0LjkzNiw2LjU4IDM0LjkzNiw3LjI5NSBMMzQuOTM2LDcuMzE3IEMzNC45MzYsOC4wMzIgMzUuNTk2LDguNDUgMzYuMzY2LDguNDUgWiBNNDAuODk4LDIuMDcgTDQxLjg2NiwyLjA3IEw0MS44NjYsMS4xMzUgTDQwLjg5OCwxLjEzNSBMNDAuODk4LDIuMDcgWiBNNDAuOTUzLDkgTDQxLjgsOSBMNDEuOCwzLjMxMyBMNDAuOTUzLDMuMzEzIEw0MC45NTMsOSBaIE00My43NjksOSBMNDQuNjE2LDkgTDQ0LjYxNiw1Ljc0NCBDNDQuNjE2LDQuNjc3IDQ1LjM0MiwzLjk2MiA0Ni4zMjEsMy45NjIgQzQ3LjMyMiwzLjk2MiA0Ny44OTQsNC42MjIgNDcuODk0LDUuNjc4IEw0Ny44OTQsOSBMNDguNzQxLDkgTDQ4Ljc0MSw1LjQ2OSBDNDguNzQxLDQuMTE2IDQ3LjkzOCwzLjE5MiA0Ni41NjMsMy4xOTIgQzQ1LjU4NCwzLjE5MiA0NC45OSwzLjY4NyA0NC42MTYsNC4zMDMgTDQ0LjYxNiwzLjMxMyBMNDMuNzY5LDMuMzEzIEw0My43NjksOSBaIE01Mi40NDgsOS4wOTkgQzUyLjg1NSw5LjA5OSA1My4xNzQsOS4wMTEgNTMuNDcxLDguODU3IEw1My40NzEsOC4xMzEgQzUzLjE3NCw4LjI3NCA1Mi45MzIsOC4zMjkgNTIuNjQ2LDguMzI5IEM1Mi4wNzQsOC4zMjkgNTEuNjg5LDguMDc2IDUxLjY4OSw3LjM4MyBMNTEuNjg5LDQuMDYxIEw1My40OTMsNC4wNjEgTDUzLjQ5MywzLjMxMyBMNTEuNjg5LDMuMzEzIEw1MS42ODksMS41OTcgTDUwLjg0MiwxLjU5NyBMNTAuODQyLDMuMzEzIEw1MC4wNSwzLjMxMyBMNTAuMDUsNC4wNjEgTDUwLjg0Miw0LjA2MSBMNTAuODQyLDcuNDkzIEM1MC44NDIsOC42NDggNTEuNTM1LDkuMDk5IDUyLjQ0OCw5LjA5OSBaIE01Ny4zMSw5LjEzMiBDNTUuNzQ4LDkuMTMyIDU0LjQ3Miw3LjkzMyA1NC40NzIsNi4xNzMgTDU0LjQ3Miw2LjE1MSBDNTQuNDcyLDQuNTEyIDU1LjYyNywzLjE5MiA1Ny4yLDMuMTkyIEM1OC44ODMsMy4xOTIgNTkuODUxLDQuNTM0IDU5Ljg1MSw2LjE5NSBDNTkuODUxLDYuMzA1IDU5Ljg1MSw2LjM3MSA1OS44NCw2LjQ3IEw1NS4zMyw2LjQ3IEM1NS40NTEsNy43MDIgNTYuMzIsOC4zOTUgNTcuMzMyLDguMzk1IEM1OC4xMTMsOC4zOTUgNTguNjYzLDguMDc2IDU5LjEyNSw3LjU5MiBMNTkuNjUzLDguMDY1IEM1OS4wODEsOC43MDMgNTguMzg4LDkuMTMyIDU3LjMxLDkuMTMyIFogTTU1LjMzLDUuODQzIEw1OC45OTMsNS44NDMgQzU4LjkwNSw0LjgwOSA1OC4zMTEsMy45MDcgNTcuMTc4LDMuOTA3IEM1Ni4xODgsMy45MDcgNTUuNDQsNC43MzIgNTUuMzMsNS44NDMgWiBNNjMuNzIzLDkuMTIxIEM2Mi4zNTksOS4xMjEgNjEuMDA2LDguMDQzIDYxLjAwNiw2LjE3MyBMNjEuMDA2LDYuMTUxIEM2MS4wMDYsNC4yOTIgNjIuMzU5LDMuMTkyIDYzLjcyMywzLjE5MiBDNjQuNzc5LDMuMTkyIDY1LjQ2MSwzLjc2NCA2NS45MDEsNC40MDIgTDY1LjkwMSwwLjk3IEw2Ni43NDgsMC45NyBMNjYuNzQ4LDkgTDY1LjkwMSw5IEw2NS45MDEsNy44NTYgQzY1LjQzOSw4LjUzOCA2NC43NjgsOS4xMjEgNjMuNzIzLDkuMTIxIFogTTYzLjg3Nyw4LjM2MiBDNjQuOTMzLDguMzYyIDY1LjkzNCw3LjQ3MSA2NS45MzQsNi4xNjIgTDY1LjkzNCw2LjE0IEM2NS45MzQsNC44MzEgNjQuOTMzLDMuOTUxIDYzLjg3NywzLjk1MSBDNjIuNzc3LDMuOTUxIDYxLjg3NSw0Ljc2NSA2MS44NzUsNi4xNCBMNjEuODc1LDYuMTYyIEM2MS44NzUsNy41MDQgNjIuODEsOC4zNjIgNjMuODc3LDguMzYyIFogTTc0LjExOCw5IEw3NC4xMTgsMi4xMDMgTDcxLjUzMywyLjEwMyBMNzEuNTMzLDEuMyBMNzcuNTgzLDEuMyBMNzcuNTgzLDIuMTAzIEw3NC45OTgsMi4xMDMgTDc0Ljk5OCw5IEw3NC4xMTgsOSBaIE04MC4xNTcsOS4xMzIgQzc4LjU5NSw5LjEzMiA3Ny4zMTksNy45MzMgNzcuMzE5LDYuMTczIEw3Ny4zMTksNi4xNTEgQzc3LjMxOSw0LjUxMiA3OC40NzQsMy4xOTIgODAuMDQ3LDMuMTkyIEM4MS43MywzLjE5MiA4Mi42OTgsNC41MzQgODIuNjk4LDYuMTk1IEM4Mi42OTgsNi4zMDUgODIuNjk4LDYuMzcxIDgyLjY4Nyw2LjQ3IEw3OC4xNzcsNi40NyBDNzguMjk4LDcuNzAyIDc5LjE2Nyw4LjM5NSA4MC4xNzksOC4zOTUgQzgwLjk2LDguMzk1IDgxLjUxLDguMDc2IDgxLjk3Miw3LjU5MiBMODIuNSw4LjA2NSBDODEuOTI4LDguNzAzIDgxLjIzNSw5LjEzMiA4MC4xNTcsOS4xMzIgWiBNNzguMTc3LDUuODQzIEw4MS44NCw1Ljg0MyBDODEuNzUyLDQuODA5IDgxLjE1OCwzLjkwNyA4MC4wMjUsMy45MDcgQzc5LjAzNSwzLjkwNyA3OC4yODcsNC43MzIgNzguMTc3LDUuODQzIFogTTg0LjM5MiwzLjMxMyBMODMuNDI0LDMuMzEzIEw4NS41NTgsNi4xMDcgTDgzLjMzNiw5IEw4NC4yODIsOSBMODYuMDUzLDYuNjU3IEw4Ny44MTMsOSBMODguNzkyLDkgTDg2LjU0OCw2LjA5NiBMODguNzA0LDMuMzEzIEw4Ny43NTgsMy4zMTMgTDg2LjA2NCw1LjUzNSBMODQuMzkyLDMuMzEzIFogTTkyLjA3LDkuMDk5IEM5Mi40NzcsOS4wOTkgOTIuNzk2LDkuMDExIDkzLjA5Myw4Ljg1NyBMOTMuMDkzLDguMTMxIEM5Mi43OTYsOC4yNzQgOTIuNTU0LDguMzI5IDkyLjI2OCw4LjMyOSBDOTEuNjk2LDguMzI5IDkxLjMxMSw4LjA3NiA5MS4zMTEsNy4zODMgTDkxLjMxMSw0LjA2MSBMOTMuMTE1LDQuMDYxIEw5My4xMTUsMy4zMTMgTDkxLjMxMSwzLjMxMyBMOTEuMzExLDEuNTk3IEw5MC40NjQsMS41OTcgTDkwLjQ2NCwzLjMxMyBMODkuNjcyLDMuMzEzIEw4OS42NzIsNC4wNjEgTDkwLjQ2NCw0LjA2MSBMOTAuNDY0LDcuNDkzIEM5MC40NjQsOC42NDggOTEuMTU3LDkuMDk5IDkyLjA3LDkuMDk5IFoiIGlkPSJBZGQtUGFpbnRlZC1UZXh0Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iOTRweCIgaGVpZ2h0PSIxMHB4IiB2aWV3Qm94PSIwIDAgOTQgMTAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQzICgzODk5OSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+R3JvdXA8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iR3JvdXAiIGZpbGw9IiM3QjdCN0IiPgogICAgICAgICAgICA8cGF0aCBkPSJNMC40MjksOSBMMy45MzgsMS4yNDUgTDQuNzUyLDEuMjQ1IEw4LjI2MSw5IEw3LjMyNiw5IEw2LjQyNCw2Ljk2NSBMMi4yMzMsNi45NjUgTDEuMzIsOSBMMC40MjksOSBaIE0yLjU3NCw2LjE3MyBMNi4wODMsNi4xNzMgTDQuMzM0LDIuMjU3IEwyLjU3NCw2LjE3MyBaIE0xMS43NDgsOS4xMjEgQzEwLjM4NCw5LjEyMSA5LjAzMSw4LjA0MyA5LjAzMSw2LjE3MyBMOS4wMzEsNi4xNTEgQzkuMDMxLDQuMjkyIDEwLjM4NCwzLjE5MiAxMS43NDgsMy4xOTIgQzEyLjgwNCwzLjE5MiAxMy40ODYsMy43NjQgMTMuOTI2LDQuNDAyIEwxMy45MjYsMC45NyBMMTQuNzczLDAuOTcgTDE0Ljc3Myw5IEwxMy45MjYsOSBMMTMuOTI2LDcuODU2IEMxMy40NjQsOC41MzggMTIuNzkzLDkuMTIxIDExLjc0OCw5LjEyMSBaIE0xMS45MDIsOC4zNjIgQzEyLjk1OCw4LjM2MiAxMy45NTksNy40NzEgMTMuOTU5LDYuMTYyIEwxMy45NTksNi4xNCBDMTMuOTU5LDQuODMxIDEyLjk1OCwzLjk1MSAxMS45MDIsMy45NTEgQzEwLjgwMiwzLjk1MSA5LjksNC43NjUgOS45LDYuMTQgTDkuOSw2LjE2MiBDOS45LDcuNTA0IDEwLjgzNSw4LjM2MiAxMS45MDIsOC4zNjIgWiBNMTkuMDUyLDkuMTIxIEMxNy42ODgsOS4xMjEgMTYuMzM1LDguMDQzIDE2LjMzNSw2LjE3MyBMMTYuMzM1LDYuMTUxIEMxNi4zMzUsNC4yOTIgMTcuNjg4LDMuMTkyIDE5LjA1MiwzLjE5MiBDMjAuMTA4LDMuMTkyIDIwLjc5LDMuNzY0IDIxLjIzLDQuNDAyIEwyMS4yMywwLjk3IEwyMi4wNzcsMC45NyBMMjIuMDc3LDkgTDIxLjIzLDkgTDIxLjIzLDcuODU2IEMyMC43NjgsOC41MzggMjAuMDk3LDkuMTIxIDE5LjA1Miw5LjEyMSBaIE0xOS4yMDYsOC4zNjIgQzIwLjI2Miw4LjM2MiAyMS4yNjMsNy40NzEgMjEuMjYzLDYuMTYyIEwyMS4yNjMsNi4xNCBDMjEuMjYzLDQuODMxIDIwLjI2MiwzLjk1MSAxOS4yMDYsMy45NTEgQzE4LjEwNiwzLjk1MSAxNy4yMDQsNC43NjUgMTcuMjA0LDYuMTQgTDE3LjIwNCw2LjE2MiBDMTcuMjA0LDcuNTA0IDE4LjEzOSw4LjM2MiAxOS4yMDYsOC4zNjIgWiBNMjcuNDEyLDkgTDI3LjQxMiwxLjMgTDMwLjI5NCwxLjMgQzMyLjAzMiwxLjMgMzMuMTc2LDIuMjI0IDMzLjE3NiwzLjc0MiBMMzMuMTc2LDMuNzY0IEMzMy4xNzYsNS40MjUgMzEuNzksNi4yODMgMzAuMTUxLDYuMjgzIEwyOC4yODEsNi4yODMgTDI4LjI4MSw5IEwyNy40MTIsOSBaIE0yOC4yODEsNS40OTEgTDMwLjE4NCw1LjQ5MSBDMzEuNDYsNS40OTEgMzIuMjk2LDQuODA5IDMyLjI5NiwzLjc5NyBMMzIuMjk2LDMuNzc1IEMzMi4yOTYsMi42NzUgMzEuNDcxLDIuMTAzIDMwLjIyOCwyLjEwMyBMMjguMjgxLDIuMTAzIEwyOC4yODEsNS40OTEgWiBNMzYuMjAxLDkuMTIxIEMzNS4xNDUsOS4xMjEgMzQuMDc4LDguNTE2IDM0LjA3OCw3LjM1IEwzNC4wNzgsNy4zMjggQzM0LjA3OCw2LjEyOSAzNS4wNjgsNS40OTEgMzYuNTA5LDUuNDkxIEMzNy4yMzUsNS40OTEgMzcuNzUyLDUuNTkgMzguMjU4LDUuNzMzIEwzOC4yNTgsNS41MzUgQzM4LjI1OCw0LjUxMiAzNy42MzEsMy45ODQgMzYuNTY0LDMuOTg0IEMzNS44OTMsMy45ODQgMzUuMzY1LDQuMTYgMzQuODM3LDQuNDAyIEwzNC41ODQsMy43MDkgQzM1LjIxMSwzLjQyMyAzNS44MjcsMy4yMzYgMzYuNjUyLDMuMjM2IEMzNy40NTUsMy4yMzYgMzguMDcxLDMuNDQ1IDM4LjQ4OSwzLjg2MyBDMzguODc0LDQuMjQ4IDM5LjA3Miw0Ljc5OCAzOS4wNzIsNS41MjQgTDM5LjA3Miw5IEwzOC4yNTgsOSBMMzguMjU4LDguMTQyIEMzNy44NjIsOC42NTkgMzcuMjAyLDkuMTIxIDM2LjIwMSw5LjEyMSBaIE0zNi4zNjYsOC40NSBDMzcuNDExLDguNDUgMzguMjY5LDcuODEyIDM4LjI2OSw2LjkxIEwzOC4yNjksNi4zNiBDMzcuODUxLDYuMjM5IDM3LjI5LDYuMTE4IDM2LjU5Nyw2LjExOCBDMzUuNTMsNi4xMTggMzQuOTM2LDYuNTggMzQuOTM2LDcuMjk1IEwzNC45MzYsNy4zMTcgQzM0LjkzNiw4LjAzMiAzNS41OTYsOC40NSAzNi4zNjYsOC40NSBaIE00MC44OTgsMi4wNyBMNDEuODY2LDIuMDcgTDQxLjg2NiwxLjEzNSBMNDAuODk4LDEuMTM1IEw0MC44OTgsMi4wNyBaIE00MC45NTMsOSBMNDEuOCw5IEw0MS44LDMuMzEzIEw0MC45NTMsMy4zMTMgTDQwLjk1Myw5IFogTTQzLjc2OSw5IEw0NC42MTYsOSBMNDQuNjE2LDUuNzQ0IEM0NC42MTYsNC42NzcgNDUuMzQyLDMuOTYyIDQ2LjMyMSwzLjk2MiBDNDcuMzIyLDMuOTYyIDQ3Ljg5NCw0LjYyMiA0Ny44OTQsNS42NzggTDQ3Ljg5NCw5IEw0OC43NDEsOSBMNDguNzQxLDUuNDY5IEM0OC43NDEsNC4xMTYgNDcuOTM4LDMuMTkyIDQ2LjU2MywzLjE5MiBDNDUuNTg0LDMuMTkyIDQ0Ljk5LDMuNjg3IDQ0LjYxNiw0LjMwMyBMNDQuNjE2LDMuMzEzIEw0My43NjksMy4zMTMgTDQzLjc2OSw5IFogTTUyLjQ0OCw5LjA5OSBDNTIuODU1LDkuMDk5IDUzLjE3NCw5LjAxMSA1My40NzEsOC44NTcgTDUzLjQ3MSw4LjEzMSBDNTMuMTc0LDguMjc0IDUyLjkzMiw4LjMyOSA1Mi42NDYsOC4zMjkgQzUyLjA3NCw4LjMyOSA1MS42ODksOC4wNzYgNTEuNjg5LDcuMzgzIEw1MS42ODksNC4wNjEgTDUzLjQ5Myw0LjA2MSBMNTMuNDkzLDMuMzEzIEw1MS42ODksMy4zMTMgTDUxLjY4OSwxLjU5NyBMNTAuODQyLDEuNTk3IEw1MC44NDIsMy4zMTMgTDUwLjA1LDMuMzEzIEw1MC4wNSw0LjA2MSBMNTAuODQyLDQuMDYxIEw1MC44NDIsNy40OTMgQzUwLjg0Miw4LjY0OCA1MS41MzUsOS4wOTkgNTIuNDQ4LDkuMDk5IFogTTU3LjMxLDkuMTMyIEM1NS43NDgsOS4xMzIgNTQuNDcyLDcuOTMzIDU0LjQ3Miw2LjE3MyBMNTQuNDcyLDYuMTUxIEM1NC40NzIsNC41MTIgNTUuNjI3LDMuMTkyIDU3LjIsMy4xOTIgQzU4Ljg4MywzLjE5MiA1OS44NTEsNC41MzQgNTkuODUxLDYuMTk1IEM1OS44NTEsNi4zMDUgNTkuODUxLDYuMzcxIDU5Ljg0LDYuNDcgTDU1LjMzLDYuNDcgQzU1LjQ1MSw3LjcwMiA1Ni4zMiw4LjM5NSA1Ny4zMzIsOC4zOTUgQzU4LjExMyw4LjM5NSA1OC42NjMsOC4wNzYgNTkuMTI1LDcuNTkyIEw1OS42NTMsOC4wNjUgQzU5LjA4MSw4LjcwMyA1OC4zODgsOS4xMzIgNTcuMzEsOS4xMzIgWiBNNTUuMzMsNS44NDMgTDU4Ljk5Myw1Ljg0MyBDNTguOTA1LDQuODA5IDU4LjMxMSwzLjkwNyA1Ny4xNzgsMy45MDcgQzU2LjE4OCwzLjkwNyA1NS40NCw0LjczMiA1NS4zMyw1Ljg0MyBaIE02My43MjMsOS4xMjEgQzYyLjM1OSw5LjEyMSA2MS4wMDYsOC4wNDMgNjEuMDA2LDYuMTczIEw2MS4wMDYsNi4xNTEgQzYxLjAwNiw0LjI5MiA2Mi4zNTksMy4xOTIgNjMuNzIzLDMuMTkyIEM2NC43NzksMy4xOTIgNjUuNDYxLDMuNzY0IDY1LjkwMSw0LjQwMiBMNjUuOTAxLDAuOTcgTDY2Ljc0OCwwLjk3IEw2Ni43NDgsOSBMNjUuOTAxLDkgTDY1LjkwMSw3Ljg1NiBDNjUuNDM5LDguNTM4IDY0Ljc2OCw5LjEyMSA2My43MjMsOS4xMjEgWiBNNjMuODc3LDguMzYyIEM2NC45MzMsOC4zNjIgNjUuOTM0LDcuNDcxIDY1LjkzNCw2LjE2MiBMNjUuOTM0LDYuMTQgQzY1LjkzNCw0LjgzMSA2NC45MzMsMy45NTEgNjMuODc3LDMuOTUxIEM2Mi43NzcsMy45NTEgNjEuODc1LDQuNzY1IDYxLjg3NSw2LjE0IEw2MS44NzUsNi4xNjIgQzYxLjg3NSw3LjUwNCA2Mi44MSw4LjM2MiA2My44NzcsOC4zNjIgWiBNNzQuMTE4LDkgTDc0LjExOCwyLjEwMyBMNzEuNTMzLDIuMTAzIEw3MS41MzMsMS4zIEw3Ny41ODMsMS4zIEw3Ny41ODMsMi4xMDMgTDc0Ljk5OCwyLjEwMyBMNzQuOTk4LDkgTDc0LjExOCw5IFogTTgwLjE1Nyw5LjEzMiBDNzguNTk1LDkuMTMyIDc3LjMxOSw3LjkzMyA3Ny4zMTksNi4xNzMgTDc3LjMxOSw2LjE1MSBDNzcuMzE5LDQuNTEyIDc4LjQ3NCwzLjE5MiA4MC4wNDcsMy4xOTIgQzgxLjczLDMuMTkyIDgyLjY5OCw0LjUzNCA4Mi42OTgsNi4xOTUgQzgyLjY5OCw2LjMwNSA4Mi42OTgsNi4zNzEgODIuNjg3LDYuNDcgTDc4LjE3Nyw2LjQ3IEM3OC4yOTgsNy43MDIgNzkuMTY3LDguMzk1IDgwLjE3OSw4LjM5NSBDODAuOTYsOC4zOTUgODEuNTEsOC4wNzYgODEuOTcyLDcuNTkyIEw4Mi41LDguMDY1IEM4MS45MjgsOC43MDMgODEuMjM1LDkuMTMyIDgwLjE1Nyw5LjEzMiBaIE03OC4xNzcsNS44NDMgTDgxLjg0LDUuODQzIEM4MS43NTIsNC44MDkgODEuMTU4LDMuOTA3IDgwLjAyNSwzLjkwNyBDNzkuMDM1LDMuOTA3IDc4LjI4Nyw0LjczMiA3OC4xNzcsNS44NDMgWiBNODQuMzkyLDMuMzEzIEw4My40MjQsMy4zMTMgTDg1LjU1OCw2LjEwNyBMODMuMzM2LDkgTDg0LjI4Miw5IEw4Ni4wNTMsNi42NTcgTDg3LjgxMyw5IEw4OC43OTIsOSBMODYuNTQ4LDYuMDk2IEw4OC43MDQsMy4zMTMgTDg3Ljc1OCwzLjMxMyBMODYuMDY0LDUuNTM1IEw4NC4zOTIsMy4zMTMgWiBNOTIuMDcsOS4wOTkgQzkyLjQ3Nyw5LjA5OSA5Mi43OTYsOS4wMTEgOTMuMDkzLDguODU3IEw5My4wOTMsOC4xMzEgQzkyLjc5Niw4LjI3NCA5Mi41NTQsOC4zMjkgOTIuMjY4LDguMzI5IEM5MS42OTYsOC4zMjkgOTEuMzExLDguMDc2IDkxLjMxMSw3LjM4MyBMOTEuMzExLDQuMDYxIEw5My4xMTUsNC4wNjEgTDkzLjExNSwzLjMxMyBMOTEuMzExLDMuMzEzIEw5MS4zMTEsMS41OTcgTDkwLjQ2NCwxLjU5NyBMOTAuNDY0LDMuMzEzIEw4OS42NzIsMy4zMTMgTDg5LjY3Miw0LjA2MSBMOTAuNDY0LDQuMDYxIEw5MC40NjQsNy40OTMgQzkwLjQ2NCw4LjY0OCA5MS4xNTcsOS4wOTkgOTIuMDcsOS4wOTkgWiIgaWQ9IkFkZC1QYWludGVkLVRleHQiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},function(e,t,n){e.exports=n(2)(120)},function(e,t,n){e.exports=n(2)(162)},function(e,t,n){e.exports=n(2)(165)},function(e,t,n){e.exports=n(2)(175)},function(e,t,n){e.exports=n(2)(178)},function(e,t,n){e.exports=n(2)(179)},function(e,t,n){e.exports=n(2)(237)},function(e,t,n){e.exports=n(2)(245)},function(e,t,n){e.exports=n(2)(253)},function(e,t,n){e.exports=n(2)(256)},function(e,t,n){e.exports=n(2)(257)},function(e,t,n){e.exports=n(2)(261)},function(e,t,n){e.exports=n(2)(318)},function(e,t,n){e.exports=n(2)(519)},function(e,t,n){e.exports=n(2)(523)},function(e,t,n){e.exports=n(2)(53)},function(e,t,n){e.exports=n(2)(539)},function(e,t,n){e.exports=n(2)(540)},function(e,t,n){e.exports=n(2)(542)},function(e,t,n){e.exports=n(2)(544)},function(e,t,n){e.exports=n(2)(550)},function(e,t,n){e.exports=n(2)(561)},function(e,t,n){e.exports=n(2)(567)},function(e,t,n){e.exports=n(2)(599)},function(e,t,n){e.exports=n(2)(608)},function(e,t,n){e.exports=n(2)(610)},function(e,t,n){e.exports=n(2)(628)},function(e,t,n){e.exports=n(2)(651)},function(e,t,n){e.exports=n(2)(67)},function(e,t,n){e.exports=n(2)(725)},function(e,t,n){e.exports=n(2)(727)},function(e,t,n){e.exports=n(2)(741)},function(e,t,n){e.exports=n(2)(764)},function(e,t,n){e.exports=n(2)(765)},function(e,t,n){e.exports=n(2)(77)},function(e,t,n){e.exports=n(2)(79)},function(e,t,n){e.exports=n(2)(81)},function(e,t,n){e.exports=n(2)(91)},function(e,t,n){e.exports=n(2)(92)},function(e,t,n){e.exports=n(2)(93)}]));