webpackJsonp([1],[function(e,t,i){(function(e,t){var a=i(157);a.loadDomainUrls();var r=i(33);r.getUserInfo();var n=i(9),o=i(15),s=i(13),d=i(20),l=d.extend(i(177));d.component("as-header",l);var c=d.extend(i(207));d.component("image-upload",c);var h=d.extend(i(185));d.component("page-loading",h);var p=d.extend(i(181));d.component("list-tab",p);var u=d.extend(i(190));d.component("screenshot",u);var m=d.extend(i(176));d.component("handle",m);var g=d.extend(i(169));d.component("bar-panel",g);var f=d.extend(i(194));d.component("subbar-panel",f);var v=d.extend(i(186));d.component("photo-element",v);var _=d.extend(i(174));d.component("decoration-element",_);var y=d.extend(i(198));d.component("text-element",y);var S=d.extend(i(193));d.component("style-element",S);var w=d.extend(i(189));d.component("price-item",w);var x=d.extend(i(168));d.component("bg-layer",x);var M=d.extend(i(173));d.component("dashboard",M);var L=d.extend(i(178));d.component("image-crop",L);var b=d.extend(i(197));d.component("text-editor",b);var T=d.extend(i(184));d.component("order-window",T);var I=d.extend(i(187));d.component("preview-header",I);var P=d.extend(i(171));d.component("contact-us-window",P);var k=d.extend(i(188));d.component("preview-item-list",k);var D=d.extend(i(209));d.component("pop-up",D);var Y=d.extend(i(195));d.component("layout-list",Y);var j=d.extend(i(175));d.component("decoration-list",j);var C=d.extend(i(196));d.component("template-item",C);var H=d.extend(i(206));d.component("clone-window",H);var F=d.extend(i(180));d.component("inner-preview",F);var E=d.extend(i(205));d.component("cart-choose-window",E);var O=d.extend(i(208));d.component("new-project-window",O);var A=d.extend(i(210));d.component("warntip-element",A);var R=d.extend(i(191));d.component("short-tip",R);var z=new d({el:"#app",mixins:[i(153),i(154)],data:{privateStore:{},sharedStore:e,imageName:"",isCanvas:!1},computed:{},methods:{init:function(){var t=(e.domains,e.userSettings),a=e.projectSettings[e.currentSelectProjectIndex];if(e.title=decodeURIComponent(o.getUrlParam("title"))||decodeURIComponent(o.getUrlParam("initProjectName")),e.projectId=o.getUrlParam("initGuid"),e.fromCart=o.getUrlParam("fromCart"),e.isPreview=o.getUrlParam("isPreview"),e.festival=o.getUrlParam("festival"),e.quantity=o.getUrlParam("quantity")||1,e.isPortal=o.getUrlParam("isPortal")||!1,e.isFromMyPhoto=o.getUrlParam("isFromMyPhoto"),e.projectType="CR",e.styleId=o.getUrlParam("styleId")||"",e.styleGuid=o.getUrlParam("styleGuid")||"",e.isBlankCard=!(e.styleId||e.styleGuid||e.isPortal||e.projectId),e.source=o.getUrlParam("source"),e.templateGuid=o.getUrlParam("templateGuid"),e.isBlankCard&&(e.styleId="blank"),""===e.projectId){var r=s.getInitDefaultProject();e.projectSettings.push(r),e.isNewProject=!0}(!e.isPreview&&""===t.userId||a&&(""===a.product||""===a.size)&&""===e.projectId)&&(alert("Please log in!"),window.location="/"),(e.projectId||e.isPortal)&&n.getAlbumId(),""!==t.userId&&""!==e.projectId&&(e.isPreview||e.isPortal||s.getProjectOrderedState(this),i(9).getProjectInfo()),setInterval(function(){i(33).keepAlive()},24e4)},loadProjectXml:function(){var t=this;t.sharedStore.domains;prj=t.sharedStore.projectSettings[e.currentSelectProjectIndex],e.projectId?e.isPortal?s.getOldPortalProject():s.getOldProject():e.isPortal?s.savePortalCardProject(t):s.saveNewProject(t)}},events:{},created:function(){var a=this,r=i(159);r.loadLocalSpec(),a.$watch("sharedStore.watches.isSpecLoaded",function(){a.sharedStore.watches.isSpecLoaded&&(a.init(),a.loadProjectXml())}),a.$watch("sharedStore.watches.isProjectLoaded",function(){if(a.sharedStore.watches.isProjectLoaded){i(9).getTitle();var r=a.sharedStore.projectSettings[e.currentSelectProjectIndex];if(!a.sharedStore.projectSettings[e.currentSelectProjectIndex].trim){var n=i(2).getOptionsMapDefaultValue("trim",[{key:"product",value:r.product}]);r.trim=n?n:"none"}e.projectSettings[e.currentSelectProjectIndex].format||"FD"!==r.product?"FT"===r.product&&(r.format="none"):r.format="LA"===r.orientation?"TOP":"SIDE";var o=t(document).attr("title");e.projectType="CR","PO"===r.product?t(document).attr("title",o.replace("Poster/Large Photo Prints/Art Prints","Poster")):"LPR"===r.product?t(document).attr("title",o.replace("Poster/Large Photo Prints/Art Prints","Large Photo Prints")):"AR"===r.product&&t(document).attr("title",o.replace("Poster/Large Photo Prints/Art Prints","Art Prints")),t(e.projectXml).find("content")&&(r.rotated="true"===t(e.projectXml).find("content").attr("rotated"),r.tplGuid=t(e.projectXml).find("content").attr("tplGuid"),r.tplSuitId=t(e.projectXml).find("content").attr("tplSuitId")),i(14).initCanvasData(),a.$broadcast("notifyPaint"),e.oldPaper=r.paper,e.oldTrim=r.trim;var d=r.paper+","+r.size,l=r.trim,c=this.sharedStore.userSettings,h=c.userId,p=r.product,u="FT"===r.product?8:9;if(i(9).getCardsPrice(p,d,e.quantity,l,h),i(156).getStickerTemplateList(r.size),a.sharedStore.watches.isProjectComplete=!0,a.$broadcast("notifyRefreshTextFormList"),i(21).loadAllTemplateList(u,r.size,!1),i(5)({ev:i(6).LoadComplete,festival:e.cardSetting.festival}),"true"==e.isFromMyPhoto&&s.getMyPhotoImages(a,e.userSettings.userId,!1),this.sharedStore.isPortal||t("<style>").text("select::-ms-expand { display: none; }").appendTo("head"),e.isPortal||e.isBlankCard){var m=window.location.href,g=m.split("index.html?")[0],f=e.isPortal?"&isPortal=true":"";window.history.replaceState({},"",g+"index.html?initGuid="+e.projectId+"&webClientId=1"+f)}e.isBlankCard&&(e.warnTipLeft+=10,e.warnTipBottom+=10),e.templateGuid&&i(21).loadDesignerTemplate(function(){i(13).loadResetProject()})}}),a.$watch("sharedStore.currentSelectProjectIndex",function(e,t){a.$broadcast("notifyRepaint",t)})},ready:function(){}});e.vm=z,t(window).bind("beforeunload",function(){return e.isPopSave!==!0||e.isPreview?void(e.isPopSave=!0):"Unsaved changes(If any) will be discarded. Are you sure to exit?"})}).call(t,i(3),i(7))},function(e,t,i){(function(e){!function(t,i){e.exports=i()}(this,function(){"use strict";function t(){return Sa.apply(null,arguments)}function a(e){Sa=e}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t;for(t in e)return!1;return!0}function s(e){return void 0===e}function d(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){var i,a=[];for(i=0;i<e.length;++i)a.push(t(e[i],i));return a}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e,t){for(var i in t)h(t,i)&&(e[i]=t[i]);return h(t,"toString")&&(e.toString=t.toString),h(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,i,a){return St(e,t,i,a,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=m()),e._pf}function f(e){if(null==e._isValid){var t=g(e),i=xa.call(t.parsedDateParts,function(e){return null!=e}),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function v(e){var t=u(NaN);return null!=e?p(g(t),e):g(t).userInvalidated=!0,t}function _(e,t){var i,a,r;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=g(t)),s(t._locale)||(e._locale=t._locale),Ma.length>0)for(i=0;i<Ma.length;i++)a=Ma[i],r=t[a],s(r)||(e[a]=r);return e}function y(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),La===!1&&(La=!0,t.updateOffset(this),La=!1)}function S(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=w(t)),i}function M(e,t,i){var a,r=Math.min(e.length,t.length),n=Math.abs(e.length-t.length),o=0;for(a=0;a<r;a++)(i&&e[a]!==t[a]||!i&&x(e[a])!==x(t[a]))&&o++;return o+n}function L(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function b(e,i){var a=!0;return p(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),a){for(var r,n=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){r+="\n["+o+"] ";for(var s in arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[o];n.push(r)}L(e+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),a=!1}return i.apply(this,arguments)},i)}function T(e,i){null!=t.deprecationHandler&&t.deprecationHandler(e,i),ba[e]||(L(i),ba[e]=!0)}function I(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e){var t,i;for(i in e)t=e[i],I(t)?this[i]=t:this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function k(e,t){var i,a=p({},e);for(i in t)h(t,i)&&(n(e[i])&&n(t[i])?(a[i]={},p(a[i],e[i]),p(a[i],t[i])):null!=t[i]?a[i]=t[i]:delete a[i]);for(i in e)h(e,i)&&!h(t,i)&&n(e[i])&&(a[i]=p({},a[i]));return a}function D(e){null!=e&&this.set(e)}function Y(e,t,i){var a=this._calendar[e]||this._calendar.sameElse;return I(a)?a.call(t,i):a}function j(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function C(){return this._invalidDate}function H(e){return this._ordinal.replace("%d",e)}function F(e,t,i,a){var r=this._relativeTime[i];return I(r)?r(e,t,i,a):r.replace(/%d/i,e)}function E(e,t){var i=this._relativeTime[e>0?"future":"past"];return I(i)?i(t):i.replace(/%s/i,t)}function O(e,t){var i=e.toLowerCase();Fa[i]=Fa[i+"s"]=Fa[t]=e}function A(e){return"string"==typeof e?Fa[e]||Fa[e.toLowerCase()]:void 0}function R(e){var t,i,a={};for(i in e)h(e,i)&&(t=A(i),t&&(a[t]=e[i]));return a}function z(e,t){Ea[e]=t}function B(e){var t=[];for(var i in e)t.push({unit:i,priority:Ea[i]});return t.sort(function(e,t){return e.priority-t.priority}),t}function W(e,i){return function(a){return null!=a?(N(this,e,a),t.updateOffset(this,i),this):U(this,e)}}function U(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function N(e,t,i){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](i)}function X(e){return e=A(e),I(this[e])?this[e]():this}function q(e,t){if("object"==typeof e){e=R(e);for(var i=B(e),a=0;a<i.length;a++)this[i[a].unit](e[i[a].unit])}else if(e=A(e),I(this[e]))return this[e](t);return this}function $(e,t,i){var a=""+Math.abs(e),r=t-a.length,n=e>=0;return(n?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+a}function V(e,t,i,a){var r=a;"string"==typeof a&&(r=function(){return this[a]()}),e&&(za[e]=r),t&&(za[t[0]]=function(){return $(r.apply(this,arguments),t[1],t[2])}),i&&(za[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function G(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function J(e){var t,i,a=e.match(Oa);for(t=0,i=a.length;t<i;t++)za[a[t]]?a[t]=za[a[t]]:a[t]=G(a[t]);return function(t){var r,n="";for(r=0;r<i;r++)n+=I(a[r])?a[r].call(t,e):a[r];return n}}function Z(e,t){return e.isValid()?(t=K(t,e.localeData()),Ra[t]=Ra[t]||J(t),Ra[t](e)):e.localeData().invalidDate()}function K(e,t){function i(e){return t.longDateFormat(e)||e}var a=5;for(Aa.lastIndex=0;a>=0&&Aa.test(e);)e=e.replace(Aa,i),Aa.lastIndex=0,a-=1;return e}function Q(e,t,i){rr[e]=I(t)?t:function(e,a){return e&&i?i:t}}function ee(e,t){return h(rr,e)?rr[e](t._strict,t._locale):new RegExp(te(e))}function te(e){return ie(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,a,r){return t||i||a||r}))}function ie(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ae(e,t){var i,a=t;for("string"==typeof e&&(e=[e]),d(t)&&(a=function(e,i){i[t]=x(e)}),i=0;i<e.length;i++)nr[e[i]]=a}function re(e,t){ae(e,function(e,i,a,r){a._w=a._w||{},t(e,a._w,a,r)})}function ne(e,t,i){null!=t&&h(nr,e)&&nr[e](t,i._a,i,e)}function oe(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function se(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||fr).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone}function de(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[fr.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function le(e,t,i){var a,r,n,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)n=u([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(n,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(n,"").toLocaleLowerCase();return i?"MMM"===t?(r=gr.call(this._shortMonthsParse,o),r!==-1?r:null):(r=gr.call(this._longMonthsParse,o),r!==-1?r:null):"MMM"===t?(r=gr.call(this._shortMonthsParse,o),r!==-1?r:(r=gr.call(this._longMonthsParse,o),r!==-1?r:null)):(r=gr.call(this._longMonthsParse,o),r!==-1?r:(r=gr.call(this._shortMonthsParse,o),r!==-1?r:null))}function ce(e,t,i){var a,r,n;if(this._monthsParseExact)return le.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(r=u([2e3,a]),i&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[a]||(n="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[a]=new RegExp(n.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(i&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!i&&this._monthsParse[a].test(e))return a}}function he(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=x(t);else if(t=e.localeData().monthsParse(t),!d(t))return e;return i=Math.min(e.date(),oe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function pe(e){return null!=e?(he(this,e),t.updateOffset(this,!0),this):U(this,"Month")}function ue(){return oe(this.year(),this.month())}function me(e){return this._monthsParseExact?(h(this,"_monthsRegex")||fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=yr),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ge(e){return this._monthsParseExact?(h(this,"_monthsRegex")||fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Sr),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function fe(){function e(e,t){return t.length-e.length}var t,i,a=[],r=[],n=[];for(t=0;t<12;t++)i=u([2e3,t]),a.push(this.monthsShort(i,"")),r.push(this.months(i,"")),n.push(this.months(i,"")),n.push(this.monthsShort(i,""));for(a.sort(e),r.sort(e),n.sort(e),t=0;t<12;t++)a[t]=ie(a[t]),r[t]=ie(r[t]);for(t=0;t<24;t++)n[t]=ie(n[t]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ve(e){return _e(e)?366:365}function _e(e){return e%4===0&&e%100!==0||e%400===0}function ye(){return _e(this.year())}function Se(e,t,i,a,r,n,o){var s=new Date(e,t,i,a,r,n,o);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function we(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function xe(e,t,i){var a=7+t-i,r=(7+we(e,0,a).getUTCDay()-t)%7;return-r+a-1}function Me(e,t,i,a,r){var n,o,s=(7+i-a)%7,d=xe(e,a,r),l=1+7*(t-1)+s+d;return l<=0?(n=e-1,o=ve(n)+l):l>ve(e)?(n=e+1,o=l-ve(e)):(n=e,o=l),{year:n,dayOfYear:o}}function Le(e,t,i){var a,r,n=xe(e.year(),t,i),o=Math.floor((e.dayOfYear()-n-1)/7)+1;return o<1?(r=e.year()-1,a=o+be(r,t,i)):o>be(e.year(),t,i)?(a=o-be(e.year(),t,i),r=e.year()+1):(r=e.year(),a=o),{week:a,year:r}}function be(e,t,i){var a=xe(e,t,i),r=xe(e+1,t,i);return(ve(e)-a+r)/7}function Te(e){return Le(e,this._week.dow,this._week.doy).week}function Ie(){return this._week.dow}function Pe(){return this._week.doy}function ke(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function De(e){var t=Le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ye(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function je(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ce(e,t){return e?r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:r(this._weekdays)?this._weekdays:this._weekdays.standalone}function He(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Fe(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ee(e,t,i){var a,r,n,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)n=u([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(n,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(n,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(n,"").toLocaleLowerCase();return i?"dddd"===t?(r=gr.call(this._weekdaysParse,o),r!==-1?r:null):"ddd"===t?(r=gr.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=gr.call(this._minWeekdaysParse,o),r!==-1?r:null):"dddd"===t?(r=gr.call(this._weekdaysParse,o),r!==-1?r:(r=gr.call(this._shortWeekdaysParse,o),r!==-1?r:(r=gr.call(this._minWeekdaysParse,o),r!==-1?r:null))):"ddd"===t?(r=gr.call(this._shortWeekdaysParse,o),r!==-1?r:(r=gr.call(this._weekdaysParse,o),r!==-1?r:(r=gr.call(this._minWeekdaysParse,o),r!==-1?r:null))):(r=gr.call(this._minWeekdaysParse,o),r!==-1?r:(r=gr.call(this._weekdaysParse,o),r!==-1?r:(r=gr.call(this._shortWeekdaysParse,o),r!==-1?r:null)))}function Oe(e,t,i){var a,r,n;if(this._weekdaysParseExact)return Ee.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(r=u([2e3,1]).day(a),i&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[a]||(n="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[a]=new RegExp(n.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[a].test(e))return a;if(i&&"ddd"===t&&this._shortWeekdaysParse[a].test(e))return a;if(i&&"dd"===t&&this._minWeekdaysParse[a].test(e))return a;if(!i&&this._weekdaysParse[a].test(e))return a}}function Ae(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ye(e,this.localeData()),this.add(e-t,"d")):t}function Re(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function ze(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=je(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Be(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ne.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=Tr),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function We(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ne.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ir),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ue(e){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||Ne.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Pr),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ne(){function e(e,t){return t.length-e.length}var t,i,a,r,n,o=[],s=[],d=[],l=[];for(t=0;t<7;t++)i=u([2e3,1]).day(t),a=this.weekdaysMin(i,""),r=this.weekdaysShort(i,""),n=this.weekdays(i,""),o.push(a),s.push(r),d.push(n),l.push(a),l.push(r),l.push(n);for(o.sort(e),s.sort(e),d.sort(e),l.sort(e),t=0;t<7;t++)s[t]=ie(s[t]),d[t]=ie(d[t]),l[t]=ie(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Xe(){return this.hours()%12||12}function qe(){return this.hours()||24}function $e(e,t){V(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ve(e,t){return t._meridiemParse}function Ge(e){return"p"===(e+"").toLowerCase().charAt(0)}function Je(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}function Ze(e){return e?e.toLowerCase().replace("_","-"):e}function Ke(e){for(var t,i,a,r,n=0;n<e.length;){for(r=Ze(e[n]).split("-"),t=r.length,i=Ze(e[n+1]),i=i?i.split("-"):null;t>0;){if(a=Qe(r.slice(0,t).join("-")))return a;if(i&&i.length>=t&&M(r,i,!0)>=t-1)break;t--}n++}return null}function Qe(t){var a=null;if(!Cr[t]&&"undefined"!=typeof e&&e&&e.exports)try{a=kr._abbr,i(211)("./"+t),et(a)}catch(r){}return Cr[t]}function et(e,t){var i;return e&&(i=s(t)?at(e):tt(e,t),i&&(kr=i)),kr._abbr}function tt(e,t){if(null!==t){var i=jr;if(t.abbr=e,null!=Cr[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Cr[e]._config;else if(null!=t.parentLocale){if(null==Cr[t.parentLocale])return Hr[t.parentLocale]||(Hr[t.parentLocale]=[]),Hr[t.parentLocale].push({name:e,config:t}),null;i=Cr[t.parentLocale]._config}return Cr[e]=new D(k(i,t)),Hr[e]&&Hr[e].forEach(function(e){tt(e.name,e.config)}),et(e),Cr[e]}return delete Cr[e],null}function it(e,t){if(null!=t){var i,a=jr;null!=Cr[e]&&(a=Cr[e]._config),t=k(a,t),i=new D(t),i.parentLocale=Cr[e],Cr[e]=i,et(e)}else null!=Cr[e]&&(null!=Cr[e].parentLocale?Cr[e]=Cr[e].parentLocale:null!=Cr[e]&&delete Cr[e]);return Cr[e]}function at(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return kr;if(!r(e)){if(t=Qe(e))return t;e=[e]}return Ke(e)}function rt(){return Pa(Cr)}function nt(e){var t,i=e._a;return i&&g(e).overflow===-2&&(t=i[sr]<0||i[sr]>11?sr:i[dr]<1||i[dr]>oe(i[or],i[sr])?dr:i[lr]<0||i[lr]>24||24===i[lr]&&(0!==i[cr]||0!==i[hr]||0!==i[pr])?lr:i[cr]<0||i[cr]>59?cr:i[hr]<0||i[hr]>59?hr:i[pr]<0||i[pr]>999?pr:-1,g(e)._overflowDayOfYear&&(t<or||t>dr)&&(t=dr),g(e)._overflowWeeks&&t===-1&&(t=ur),g(e)._overflowWeekday&&t===-1&&(t=mr),g(e).overflow=t),e}function ot(e){var t,i,a,r,n,o,s=e._i,d=Fr.exec(s)||Er.exec(s);if(d){for(g(e).iso=!0,t=0,i=Ar.length;t<i;t++)if(Ar[t][1].exec(d[1])){r=Ar[t][0],a=Ar[t][2]!==!1;break}if(null==r)return void(e._isValid=!1);if(d[3]){for(t=0,i=Rr.length;t<i;t++)if(Rr[t][1].exec(d[3])){n=(d[2]||" ")+Rr[t][0];break}if(null==n)return void(e._isValid=!1)}if(!a&&null!=n)return void(e._isValid=!1);if(d[4]){if(!Or.exec(d[4]))return void(e._isValid=!1);o="Z"}e._f=r+(n||"")+(o||""),ut(e)}else e._isValid=!1}function st(e){var t,i,a,r,n,o,s,d,l={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},c="YXWVUTSRQPONZABCDEFGHIKLM";if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),i=Br.exec(t)){if(a=i[1]?"ddd"+(5===i[1].length?", ":" "):"",r="D MMM "+(i[2].length>10?"YYYY ":"YY "),n="HH:mm"+(i[4]?":ss":""),i[1]){var h=new Date(i[2]),p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][h.getDay()];if(i[1].substr(0,3)!==p)return g(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(i[5].length){case 2:0===d?s=" +0000":(d=c.indexOf(i[5][1].toUpperCase())-12,s=(d<0?" -":" +")+(""+d).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:s=l[i[5]];break;default:s=l[" GMT"]}i[5]=s,e._i=i.splice(1).join(""),o=" ZZ",e._f=a+r+n+o,ut(e),g(e).rfc2822=!0}else e._isValid=!1}function dt(e){var i=zr.exec(e._i);return null!==i?void(e._d=new Date((+i[1]))):(ot(e),void(e._isValid===!1&&(delete e._isValid,st(e),e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e)))))}function lt(e,t,i){return null!=e?e:null!=t?t:i}function ct(e){var i=new Date(t.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function ht(e){var t,i,a,r,n=[];if(!e._d){for(a=ct(e),e._w&&null==e._a[dr]&&null==e._a[sr]&&pt(e),null!=e._dayOfYear&&(r=lt(e._a[or],a[or]),(e._dayOfYear>ve(r)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),i=we(r,0,e._dayOfYear),e._a[sr]=i.getUTCMonth(),e._a[dr]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=n[t]=a[t];for(;t<7;t++)e._a[t]=n[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[lr]&&0===e._a[cr]&&0===e._a[hr]&&0===e._a[pr]&&(e._nextDay=!0,e._a[lr]=0),e._d=(e._useUTC?we:Se).apply(null,n),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[lr]=24)}}function pt(e){var t,i,a,r,n,o,s,d;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)n=1,o=4,i=lt(t.GG,e._a[or],Le(wt(),1,4).year),a=lt(t.W,1),r=lt(t.E,1),(r<1||r>7)&&(d=!0);else{n=e._locale._week.dow,o=e._locale._week.doy;var l=Le(wt(),n,o);i=lt(t.gg,e._a[or],l.year),a=lt(t.w,l.week),null!=t.d?(r=t.d,(r<0||r>6)&&(d=!0)):null!=t.e?(r=t.e+n,(t.e<0||t.e>6)&&(d=!0)):r=n}a<1||a>be(i,n,o)?g(e)._overflowWeeks=!0:null!=d?g(e)._overflowWeekday=!0:(s=Me(i,a,r,n,o),e._a[or]=s.year,e._dayOfYear=s.dayOfYear)}function ut(e){if(e._f===t.ISO_8601)return void ot(e);if(e._f===t.RFC_2822)return void st(e);e._a=[],g(e).empty=!0;var i,a,r,n,o,s=""+e._i,d=s.length,l=0;for(r=K(e._f,e._locale).match(Oa)||[],i=0;i<r.length;i++)n=r[i],a=(s.match(ee(n,e))||[])[0],a&&(o=s.substr(0,s.indexOf(a)),o.length>0&&g(e).unusedInput.push(o),s=s.slice(s.indexOf(a)+a.length),l+=a.length),za[n]?(a?g(e).empty=!1:g(e).unusedTokens.push(n),ne(n,a,e)):e._strict&&!a&&g(e).unusedTokens.push(n);g(e).charsLeftOver=d-l,s.length>0&&g(e).unusedInput.push(s),e._a[lr]<=12&&g(e).bigHour===!0&&e._a[lr]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[lr]=mt(e._locale,e._a[lr],e._meridiem),ht(e),nt(e)}function mt(e,t,i){var a;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?(a=e.isPM(i),a&&t<12&&(t+=12),a||12!==t||(t=0),t):t}function gt(e){var t,i,a,r,n;if(0===e._f.length)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)n=0,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],ut(t),f(t)&&(n+=g(t).charsLeftOver,n+=10*g(t).unusedTokens.length,g(t).score=n,(null==a||n<a)&&(a=n,i=t));p(e,i||t)}function ft(e){if(!e._d){var t=R(e._i);e._a=c([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ht(e)}}function vt(e){var t=new y(nt(_t(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function _t(e){var t=e._i,i=e._f;return e._locale=e._locale||at(e._l),null===t||void 0===i&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new y(nt(t)):(l(t)?e._d=t:r(i)?gt(e):i?ut(e):yt(e),f(e)||(e._d=null),e))}function yt(e){var i=e._i;s(i)?e._d=new Date(t.now()):l(i)?e._d=new Date(i.valueOf()):"string"==typeof i?dt(e):r(i)?(e._a=c(i.slice(0),function(e){return parseInt(e,10)}),ht(e)):n(i)?ft(e):d(i)?e._d=new Date(i):t.createFromInputFallback(e)}function St(e,t,i,a,s){var d={};return i!==!0&&i!==!1||(a=i,i=void 0),(n(e)&&o(e)||r(e)&&0===e.length)&&(e=void 0),d._isAMomentObject=!0,d._useUTC=d._isUTC=s,d._l=i,d._i=e,d._f=t,d._strict=a,vt(d)}function wt(e,t,i,a){return St(e,t,i,a,!1)}function xt(e,t){var i,a;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return wt();for(i=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](i)||(i=t[a]);return i}function Mt(){var e=[].slice.call(arguments,0);return xt("isBefore",e)}function Lt(){var e=[].slice.call(arguments,0);return xt("isAfter",e)}function bt(e){for(var t in e)if(Xr.indexOf(t)===-1||null!=e[t]&&isNaN(e[t]))return!1;for(var i=!1,a=0;a<Xr.length;++a)if(e[Xr[a]]){if(i)return!1;parseFloat(e[Xr[a]])!==x(e[Xr[a]])&&(i=!0)}return!0}function Tt(){return this._isValid}function It(){return qt(NaN)}function Pt(e){var t=R(e),i=t.year||0,a=t.quarter||0,r=t.month||0,n=t.week||0,o=t.day||0,s=t.hour||0,d=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=bt(t),this._milliseconds=+c+1e3*l+6e4*d+1e3*s*60*60,this._days=+o+7*n,this._months=+r+3*a+12*i,this._data={},this._locale=at(),this._bubble()}function kt(e){return e instanceof Pt}function Dt(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Yt(e,t){V(e,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+$(~~(e/60),2)+t+$(~~e%60,2)})}function jt(e,t){var i=(t||"").match(e);if(null===i)return null;var a=i[i.length-1]||[],r=(a+"").match(qr)||["-",0,0],n=+(60*r[1])+x(r[2]);return 0===n?0:"+"===r[0]?n:-n}function Ct(e,i){var a,r;return i._isUTC?(a=i.clone(),r=(S(e)||l(e)?e.valueOf():wt(e).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+r),t.updateOffset(a,!1),a):wt(e).local()}function Ht(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ft(e,i,a){var r,n=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(e=jt(tr,e),null===e)return this}else Math.abs(e)<16&&!a&&(e=60*e);return!this._isUTC&&i&&(r=Ht(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),n!==e&&(!i||this._changeInProgress?Zt(this,qt(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?n:Ht(this)}function Et(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ot(e){return this.utcOffset(0,e)}function At(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ht(this),"m")),this}function Rt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=jt(er,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function zt(e){return!!this.isValid()&&(e=e?wt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Bt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Wt(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(_(e,this),e=_t(e),e._a){var t=e._isUTC?u(e._a):wt(e._a);this._isDSTShifted=this.isValid()&&M(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ut(){return!!this.isValid()&&!this._isUTC}function Nt(){return!!this.isValid()&&this._isUTC;
}function Xt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function qt(e,t){var i,a,r,n=e,o=null;return kt(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:d(e)?(n={},t?n[t]=e:n.milliseconds=e):(o=$r.exec(e))?(i="-"===o[1]?-1:1,n={y:0,d:x(o[dr])*i,h:x(o[lr])*i,m:x(o[cr])*i,s:x(o[hr])*i,ms:x(Dt(1e3*o[pr]))*i}):(o=Vr.exec(e))?(i="-"===o[1]?-1:1,n={y:$t(o[2],i),M:$t(o[3],i),w:$t(o[4],i),d:$t(o[5],i),h:$t(o[6],i),m:$t(o[7],i),s:$t(o[8],i)}):null==n?n={}:"object"==typeof n&&("from"in n||"to"in n)&&(r=Gt(wt(n.from),wt(n.to)),n={},n.ms=r.milliseconds,n.M=r.months),a=new Pt(n),kt(e)&&h(e,"_locale")&&(a._locale=e._locale),a}function $t(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Vt(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Gt(e,t){var i;return e.isValid()&&t.isValid()?(t=Ct(t,e),e.isBefore(t)?i=Vt(e,t):(i=Vt(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function Jt(e,t){return function(i,a){var r,n;return null===a||isNaN(+a)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=i,i=a,a=n),i="string"==typeof i?+i:i,r=qt(i,a),Zt(this,r,e),this}}function Zt(e,i,a,r){var n=i._milliseconds,o=Dt(i._days),s=Dt(i._months);e.isValid()&&(r=null==r||r,n&&e._d.setTime(e._d.valueOf()+n*a),o&&N(e,"Date",U(e,"Date")+o*a),s&&he(e,U(e,"Month")+s*a),r&&t.updateOffset(e,o||s))}function Kt(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function Qt(e,i){var a=e||wt(),r=Ct(a,this).startOf("day"),n=t.calendarFormat(this,r)||"sameElse",o=i&&(I(i[n])?i[n].call(this,a):i[n]);return this.format(o||this.localeData().calendar(n,this,wt(a)))}function ei(){return new y(this)}function ti(e,t){var i=S(e)?e:wt(e);return!(!this.isValid()||!i.isValid())&&(t=A(s(t)?"millisecond":t),"millisecond"===t?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())}function ii(e,t){var i=S(e)?e:wt(e);return!(!this.isValid()||!i.isValid())&&(t=A(s(t)?"millisecond":t),"millisecond"===t?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())}function ai(e,t,i,a){return a=a||"()",("("===a[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===a[1]?this.isBefore(t,i):!this.isAfter(t,i))}function ri(e,t){var i,a=S(e)?e:wt(e);return!(!this.isValid()||!a.isValid())&&(t=A(t||"millisecond"),"millisecond"===t?this.valueOf()===a.valueOf():(i=a.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))}function ni(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function oi(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function si(e,t,i){var a,r,n,o;return this.isValid()?(a=Ct(e,this),a.isValid()?(r=6e4*(a.utcOffset()-this.utcOffset()),t=A(t),"year"===t||"month"===t||"quarter"===t?(o=di(this,a),"quarter"===t?o/=3:"year"===t&&(o/=12)):(n=this-a,o="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?(n-r)/864e5:"week"===t?(n-r)/6048e5:n),i?o:w(o)):NaN):NaN}function di(e,t){var i,a,r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return t-n<0?(i=e.clone().add(r-1,"months"),a=(t-n)/(n-i)):(i=e.clone().add(r+1,"months"),a=(t-n)/(i-n)),-(r+a)||0}function li(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ci(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?Z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):I(Date.prototype.toISOString)?this.toDate().toISOString():Z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function hi(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",n=t+'[")]';return this.format(i+a+r+n)}function pi(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=Z(this,e);return this.localeData().postformat(i)}function ui(e,t){return this.isValid()&&(S(e)&&e.isValid()||wt(e).isValid())?qt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mi(e){return this.from(wt(),e)}function gi(e,t){return this.isValid()&&(S(e)&&e.isValid()||wt(e).isValid())?qt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function fi(e){return this.to(wt(),e)}function vi(e){var t;return void 0===e?this._locale._abbr:(t=at(e),null!=t&&(this._locale=t),this)}function _i(){return this._locale}function yi(e){switch(e=A(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Si(e){return e=A(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function wi(){return this._d.valueOf()-6e4*(this._offset||0)}function xi(){return Math.floor(this.valueOf()/1e3)}function Mi(){return new Date(this.valueOf())}function Li(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ti(){return this.isValid()?this.toISOString():null}function Ii(){return f(this)}function Pi(){return p({},g(this))}function ki(){return g(this).overflow}function Di(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Yi(e,t){V(0,[e,e.length],0,t)}function ji(e){return Ei.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ci(e){return Ei.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Hi(){return be(this.year(),1,4)}function Fi(){var e=this.localeData()._week;return be(this.year(),e.dow,e.doy)}function Ei(e,t,i,a,r){var n;return null==e?Le(this,a,r).year:(n=be(e,a,r),t>n&&(t=n),Oi.call(this,e,t,i,a,r))}function Oi(e,t,i,a,r){var n=Me(e,t,i,a,r),o=we(n.year,0,n.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ai(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Ri(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function zi(e,t){t[pr]=x(1e3*("0."+e))}function Bi(){return this._isUTC?"UTC":""}function Wi(){return this._isUTC?"Coordinated Universal Time":""}function Ui(e){return wt(1e3*e)}function Ni(){return wt.apply(null,arguments).parseZone()}function Xi(e){return e}function qi(e,t,i,a){var r=at(),n=u().set(a,t);return r[i](n,e)}function $i(e,t,i){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return qi(e,t,i,"month");var a,r=[];for(a=0;a<12;a++)r[a]=qi(e,a,i,"month");return r}function Vi(e,t,i,a){"boolean"==typeof e?(d(t)&&(i=t,t=void 0),t=t||""):(t=e,i=t,e=!1,d(t)&&(i=t,t=void 0),t=t||"");var r=at(),n=e?r._week.dow:0;if(null!=i)return qi(t,(i+n)%7,a,"day");var o,s=[];for(o=0;o<7;o++)s[o]=qi(t,(o+n)%7,a,"day");return s}function Gi(e,t){return $i(e,t,"months")}function Ji(e,t){return $i(e,t,"monthsShort")}function Zi(e,t,i){return Vi(e,t,i,"weekdays")}function Ki(e,t,i){return Vi(e,t,i,"weekdaysShort")}function Qi(e,t,i){return Vi(e,t,i,"weekdaysMin")}function ea(){var e=this._data;return this._milliseconds=on(this._milliseconds),this._days=on(this._days),this._months=on(this._months),e.milliseconds=on(e.milliseconds),e.seconds=on(e.seconds),e.minutes=on(e.minutes),e.hours=on(e.hours),e.months=on(e.months),e.years=on(e.years),this}function ta(e,t,i,a){var r=qt(t,i);return e._milliseconds+=a*r._milliseconds,e._days+=a*r._days,e._months+=a*r._months,e._bubble()}function ia(e,t){return ta(this,e,t,1)}function aa(e,t){return ta(this,e,t,-1)}function ra(e){return e<0?Math.floor(e):Math.ceil(e)}function na(){var e,t,i,a,r,n=this._milliseconds,o=this._days,s=this._months,d=this._data;return n>=0&&o>=0&&s>=0||n<=0&&o<=0&&s<=0||(n+=864e5*ra(sa(s)+o),o=0,s=0),d.milliseconds=n%1e3,e=w(n/1e3),d.seconds=e%60,t=w(e/60),d.minutes=t%60,i=w(t/60),d.hours=i%24,o+=w(i/24),r=w(oa(o)),s+=r,o-=ra(sa(r)),a=w(s/12),s%=12,d.days=o,d.months=s,d.years=a,this}function oa(e){return 4800*e/146097}function sa(e){return 146097*e/4800}function da(e){if(!this.isValid())return NaN;var t,i,a=this._milliseconds;if(e=A(e),"month"===e||"year"===e)return t=this._days+a/864e5,i=this._months+oa(t),"month"===e?i:i/12;switch(t=this._days+Math.round(sa(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return 24*t+a/36e5;case"minute":return 1440*t+a/6e4;case"second":return 86400*t+a/1e3;case"millisecond":return Math.floor(864e5*t)+a;default:throw new Error("Unknown unit "+e)}}function la(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN}function ca(e){return function(){return this.as(e)}}function ha(e){return e=A(e),this.isValid()?this[e+"s"]():NaN}function pa(e){return function(){return this.isValid()?this._data[e]:NaN}}function ua(){return w(this.days()/7)}function ma(e,t,i,a,r){return r.relativeTime(t||1,!!i,e,a)}function ga(e,t,i){var a=qt(e).abs(),r=xn(a.as("s")),n=xn(a.as("m")),o=xn(a.as("h")),s=xn(a.as("d")),d=xn(a.as("M")),l=xn(a.as("y")),c=r<=Mn.ss&&["s",r]||r<Mn.s&&["ss",r]||n<=1&&["m"]||n<Mn.m&&["mm",n]||o<=1&&["h"]||o<Mn.h&&["hh",o]||s<=1&&["d"]||s<Mn.d&&["dd",s]||d<=1&&["M"]||d<Mn.M&&["MM",d]||l<=1&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=i,ma.apply(null,c)}function fa(e){return void 0===e?xn:"function"==typeof e&&(xn=e,!0)}function va(e,t){return void 0!==Mn[e]&&(void 0===t?Mn[e]:(Mn[e]=t,"s"===e&&(Mn.ss=t-1),!0))}function _a(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),i=ga(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}function ya(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i,a=Ln(this._milliseconds)/1e3,r=Ln(this._days),n=Ln(this._months);e=w(a/60),t=w(e/60),a%=60,e%=60,i=w(n/12),n%=12;var o=i,s=n,d=r,l=t,c=e,h=a,p=this.asSeconds();return p?(p<0?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(d?d+"D":"")+(l||c||h?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var Sa,wa;wa=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,a=0;a<i;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};var xa=wa,Ma=t.momentProperties=[],La=!1,ba={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Ta;Ta=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)h(e,t)&&i.push(t);return i};var Ia,Pa=Ta,ka={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Da={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ya="Invalid date",ja="%d",Ca=/\d{1,2}/,Ha={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Fa={},Ea={},Oa=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Aa=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ra={},za={},Ba=/\d/,Wa=/\d\d/,Ua=/\d{3}/,Na=/\d{4}/,Xa=/[+-]?\d{6}/,qa=/\d\d?/,$a=/\d\d\d\d?/,Va=/\d\d\d\d\d\d?/,Ga=/\d{1,3}/,Ja=/\d{1,4}/,Za=/[+-]?\d{1,6}/,Ka=/\d+/,Qa=/[+-]?\d+/,er=/Z|[+-]\d\d:?\d\d/gi,tr=/Z|[+-]\d\d(?::?\d\d)?/gi,ir=/[+-]?\d+(\.\d{1,3})?/,ar=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,rr={},nr={},or=0,sr=1,dr=2,lr=3,cr=4,hr=5,pr=6,ur=7,mr=8;Ia=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};var gr=Ia;V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),V("MMMM",0,0,function(e){return this.localeData().months(this,e)}),O("month","M"),z("month",8),Q("M",qa),Q("MM",qa,Wa),Q("MMM",function(e,t){return t.monthsShortRegex(e)}),Q("MMMM",function(e,t){return t.monthsRegex(e)}),ae(["M","MM"],function(e,t){t[sr]=x(e)-1}),ae(["MMM","MMMM"],function(e,t,i,a){var r=i._locale.monthsParse(e,a,i._strict);null!=r?t[sr]=r:g(i).invalidMonth=e});var fr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,vr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),_r="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),yr=ar,Sr=ar;V("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),O("year","y"),z("year",1),Q("Y",Qa),Q("YY",qa,Wa),Q("YYYY",Ja,Na),Q("YYYYY",Za,Xa),Q("YYYYYY",Za,Xa),ae(["YYYYY","YYYYYY"],or),ae("YYYY",function(e,i){i[or]=2===e.length?t.parseTwoDigitYear(e):x(e)}),ae("YY",function(e,i){i[or]=t.parseTwoDigitYear(e)}),ae("Y",function(e,t){t[or]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return x(e)+(x(e)>68?1900:2e3)};var wr=W("FullYear",!0);V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),z("week",5),z("isoWeek",5),Q("w",qa),Q("ww",qa,Wa),Q("W",qa),Q("WW",qa,Wa),re(["w","ww","W","WW"],function(e,t,i,a){t[a.substr(0,1)]=x(e)});var xr={dow:0,doy:6};V("d",0,"do","day"),V("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),V("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),V("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),Q("d",qa),Q("e",qa),Q("E",qa),Q("dd",function(e,t){return t.weekdaysMinRegex(e)}),Q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Q("dddd",function(e,t){return t.weekdaysRegex(e)}),re(["dd","ddd","dddd"],function(e,t,i,a){var r=i._locale.weekdaysParse(e,a,i._strict);null!=r?t.d=r:g(i).invalidWeekday=e}),re(["d","e","E"],function(e,t,i,a){t[a]=x(e)});var Mr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Lr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),br="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Tr=ar,Ir=ar,Pr=ar;V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Xe),V("k",["kk",2],0,qe),V("hmm",0,0,function(){return""+Xe.apply(this)+$(this.minutes(),2)}),V("hmmss",0,0,function(){return""+Xe.apply(this)+$(this.minutes(),2)+$(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+$(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+$(this.minutes(),2)+$(this.seconds(),2)}),$e("a",!0),$e("A",!1),O("hour","h"),z("hour",13),Q("a",Ve),Q("A",Ve),Q("H",qa),Q("h",qa),Q("k",qa),Q("HH",qa,Wa),Q("hh",qa,Wa),Q("kk",qa,Wa),Q("hmm",$a),Q("hmmss",Va),Q("Hmm",$a),Q("Hmmss",Va),ae(["H","HH"],lr),ae(["k","kk"],function(e,t,i){var a=x(e);t[lr]=24===a?0:a}),ae(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),ae(["h","hh"],function(e,t,i){t[lr]=x(e),g(i).bigHour=!0}),ae("hmm",function(e,t,i){var a=e.length-2;t[lr]=x(e.substr(0,a)),t[cr]=x(e.substr(a)),g(i).bigHour=!0}),ae("hmmss",function(e,t,i){var a=e.length-4,r=e.length-2;t[lr]=x(e.substr(0,a)),t[cr]=x(e.substr(a,2)),t[hr]=x(e.substr(r)),g(i).bigHour=!0}),ae("Hmm",function(e,t,i){var a=e.length-2;t[lr]=x(e.substr(0,a)),t[cr]=x(e.substr(a))}),ae("Hmmss",function(e,t,i){var a=e.length-4,r=e.length-2;t[lr]=x(e.substr(0,a)),t[cr]=x(e.substr(a,2)),t[hr]=x(e.substr(r))});var kr,Dr=/[ap]\.?m?\.?/i,Yr=W("Hours",!0),jr={calendar:ka,longDateFormat:Da,invalidDate:Ya,ordinal:ja,dayOfMonthOrdinalParse:Ca,relativeTime:Ha,months:vr,monthsShort:_r,week:xr,weekdays:Mr,weekdaysMin:br,weekdaysShort:Lr,meridiemParse:Dr},Cr={},Hr={},Fr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Er=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Or=/Z|[+-]\d\d(?::?\d\d)?/,Ar=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Rr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],zr=/^\/?Date\((\-?\d+)/i,Br=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;t.createFromInputFallback=b("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Wr=b("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=wt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),Ur=b("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=wt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()}),Nr=function(){return Date.now?Date.now():+new Date},Xr=["year","quarter","month","week","day","hour","minute","second","millisecond"];Yt("Z",":"),Yt("ZZ",""),Q("Z",tr),Q("ZZ",tr),ae(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=jt(tr,e)});var qr=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var $r=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Vr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;qt.fn=Pt.prototype,qt.invalid=It;var Gr=Jt(1,"add"),Jr=Jt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Zr=b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Yi("gggg","weekYear"),Yi("ggggg","weekYear"),Yi("GGGG","isoWeekYear"),Yi("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),Q("G",Qa),Q("g",Qa),Q("GG",qa,Wa),Q("gg",qa,Wa),Q("GGGG",Ja,Na),Q("gggg",Ja,Na),Q("GGGGG",Za,Xa),Q("ggggg",Za,Xa),re(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,a){t[a.substr(0,2)]=x(e)}),re(["gg","GG"],function(e,i,a,r){i[r]=t.parseTwoDigitYear(e)}),V("Q",0,"Qo","quarter"),O("quarter","Q"),z("quarter",7),Q("Q",Ba),ae("Q",function(e,t){t[sr]=3*(x(e)-1)}),V("D",["DD",2],"Do","date"),O("date","D"),z("date",9),Q("D",qa),Q("DD",qa,Wa),Q("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ae(["D","DD"],dr),ae("Do",function(e,t){t[dr]=x(e.match(qa)[0],10)});var Kr=W("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),z("dayOfYear",4),Q("DDD",Ga),Q("DDDD",Ua),ae(["DDD","DDDD"],function(e,t,i){i._dayOfYear=x(e)}),V("m",["mm",2],0,"minute"),O("minute","m"),z("minute",14),Q("m",qa),Q("mm",qa,Wa),ae(["m","mm"],cr);var Qr=W("Minutes",!1);V("s",["ss",2],0,"second"),O("second","s"),z("second",15),Q("s",qa),Q("ss",qa,Wa),ae(["s","ss"],hr);var en=W("Seconds",!1);V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),O("millisecond","ms"),z("millisecond",16),Q("S",Ga,Ba),Q("SS",Ga,Wa),Q("SSS",Ga,Ua);var tn;for(tn="SSSS";tn.length<=9;tn+="S")Q(tn,Ka);for(tn="S";tn.length<=9;tn+="S")ae(tn,zi);var an=W("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var rn=y.prototype;rn.add=Gr,rn.calendar=Qt,rn.clone=ei,rn.diff=si,rn.endOf=Si,rn.format=pi,rn.from=ui,rn.fromNow=mi,rn.to=gi,rn.toNow=fi,rn.get=X,rn.invalidAt=ki,rn.isAfter=ti,rn.isBefore=ii,rn.isBetween=ai,rn.isSame=ri,rn.isSameOrAfter=ni,rn.isSameOrBefore=oi,rn.isValid=Ii,rn.lang=Zr,rn.locale=vi,rn.localeData=_i,rn.max=Ur,rn.min=Wr,rn.parsingFlags=Pi,rn.set=q,rn.startOf=yi,rn.subtract=Jr,rn.toArray=Li,rn.toObject=bi,rn.toDate=Mi,rn.toISOString=ci,rn.inspect=hi,rn.toJSON=Ti,rn.toString=li,rn.unix=xi,rn.valueOf=wi,rn.creationData=Di,rn.year=wr,rn.isLeapYear=ye,rn.weekYear=ji,rn.isoWeekYear=Ci,rn.quarter=rn.quarters=Ai,rn.month=pe,rn.daysInMonth=ue,rn.week=rn.weeks=ke,rn.isoWeek=rn.isoWeeks=De,rn.weeksInYear=Fi,rn.isoWeeksInYear=Hi,rn.date=Kr,rn.day=rn.days=Ae,rn.weekday=Re,rn.isoWeekday=ze,rn.dayOfYear=Ri,rn.hour=rn.hours=Yr,rn.minute=rn.minutes=Qr,rn.second=rn.seconds=en,rn.millisecond=rn.milliseconds=an,rn.utcOffset=Ft,rn.utc=Ot,rn.local=At,rn.parseZone=Rt,rn.hasAlignedHourOffset=zt,rn.isDST=Bt,rn.isLocal=Ut,rn.isUtcOffset=Nt,rn.isUtc=Xt,rn.isUTC=Xt,rn.zoneAbbr=Bi,rn.zoneName=Wi,rn.dates=b("dates accessor is deprecated. Use date instead.",Kr),rn.months=b("months accessor is deprecated. Use month instead",pe),rn.years=b("years accessor is deprecated. Use year instead",wr),rn.zone=b("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Et),rn.isDSTShifted=b("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Wt);var nn=D.prototype;nn.calendar=Y,nn.longDateFormat=j,nn.invalidDate=C,nn.ordinal=H,nn.preparse=Xi,nn.postformat=Xi,nn.relativeTime=F,nn.pastFuture=E,nn.set=P,nn.months=se,nn.monthsShort=de,nn.monthsParse=ce,nn.monthsRegex=ge,nn.monthsShortRegex=me,nn.week=Te,nn.firstDayOfYear=Pe,nn.firstDayOfWeek=Ie,nn.weekdays=Ce,nn.weekdaysMin=Fe,nn.weekdaysShort=He,nn.weekdaysParse=Oe,nn.weekdaysRegex=Be,nn.weekdaysShortRegex=We,nn.weekdaysMinRegex=Ue,nn.isPM=Ge,nn.meridiem=Je,et("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),t.lang=b("moment.lang is deprecated. Use moment.locale instead.",et),t.langData=b("moment.langData is deprecated. Use moment.localeData instead.",at);var on=Math.abs,sn=ca("ms"),dn=ca("s"),ln=ca("m"),cn=ca("h"),hn=ca("d"),pn=ca("w"),un=ca("M"),mn=ca("y"),gn=pa("milliseconds"),fn=pa("seconds"),vn=pa("minutes"),_n=pa("hours"),yn=pa("days"),Sn=pa("months"),wn=pa("years"),xn=Math.round,Mn={ss:44,s:45,m:45,h:22,d:26,M:11},Ln=Math.abs,bn=Pt.prototype;return bn.isValid=Tt,bn.abs=ea,bn.add=ia,bn.subtract=aa,bn.as=da,bn.asMilliseconds=sn,bn.asSeconds=dn,bn.asMinutes=ln,bn.asHours=cn,bn.asDays=hn,bn.asWeeks=pn,bn.asMonths=un,bn.asYears=mn,bn.valueOf=la,bn._bubble=na,bn.get=ha,bn.milliseconds=gn,bn.seconds=fn,bn.minutes=vn,bn.hours=_n,bn.days=yn,bn.weeks=ua,bn.months=Sn,bn.years=wn,bn.humanize=_a,bn.toISOString=ya,bn.toString=ya,bn.toJSON=ya,bn.locale=vi,bn.localeData=_i,bn.toIsoString=b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ya),bn.lang=Zr,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Q("x",Qa),Q("X",ir),ae("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),ae("x",function(e,t,i){i._d=new Date(x(e))}),t.version="2.18.1",a(wt),t.fn=rn,t.min=Mt,t.max=Lt,t.now=Nr,t.utc=u,t.unix=Ui,t.months=Gi,t.isDate=l,t.locale=et,t.invalid=v,t.duration=qt,t.isMoment=S,t.weekdays=Zi,t.parseZone=Ni,t.localeData=at,t.isDuration=kt,t.monthsShort=Ji,t.weekdaysMin=Qi,t.defineLocale=tt,t.updateLocale=it,t.locales=rt,t.weekdaysShort=Ki,t.normalizeUnits=A,t.relativeTimeRounding=fa,t.relativeTimeThreshold=va,t.calendarFormat=Kt,t.prototype=rn,t})}).call(t,i(213)(e))},function(e,t,i){(function(t,a){var r=t.spec.specXml;e.exports={getVersion:function(){return a(r).find("product-spec").attr("version")},getDPI:function(){return parseInt(a(r).find("dpi").text())},getImageQualityBufferPercent:function(){return parseInt(a(r).find("imageQualityBufferPercent").text())},getOptions:function(e){for(var t=a(r).find("optionGroup[id="+e+"]").find("option"),i=[],n=0;n<t.length;n++){for(var o={},s=t.eq(n).get(0).attributes,d=0;d<s.length;d++)o[s[d].name]=s[d].value;var l=t.eq(n).find("title").text();""!=l&&(o.title=l),i.push(o)}return i},getOptionsMap:function(e,t){var i=a(r).find("configurableOptionMap").find("optionMap[id="+e+"]").attr("keyPattern").toString(),n=a(r).find("configurableOptionMap").find("optionMap[id="+e+"]").find("entry"),o=this.getIsPattern(i,n,t);return o?o.attr("value"):null},getOptionsMapDefaultValue:function(e,t){var i=a(r).find("configurableOptionMap").find("optionMap[id="+e+"]").attr("keyPattern").toString(),n=a(r).find("configurableOptionMap").find("optionMap[id="+e+"]").find("entry"),o=this.getIsPattern(i,n,t);return o?o.attr("defaultValue"):null},getParameter:function(e,t){var i=a(r).find("parameter[id="+e+"]").attr("keyPattern").toString(),n=a(r).find("parameter[id="+e+"]").find("entry"),o=this.getIsPattern(i,n,t);if(o){for(var s={},d=o.get(0).attributes,l=0;l<d.length;l++)s[d[l].name]=d[l].value;return s}return null},getVariable:function(e,t){var i=a(r).find("variable[id="+e+"]").attr("keyPattern").toString(),n=a(r).find("variable[id="+e+"]").find("entry"),o=this.getIsPattern(i,n,t);if(o){for(var s={},d=o.get(0).attributes,l=0;l<d.length;l++)s[d[l].name]=d[l].value;return s}return null},getIsPattern:function(e,t,i){for(var a=e.split("-"),r=0;r<t.length;r++){for(var n=t.eq(r).attr("key"),o=n.split("-"),s=t.eq(r),d=[],l=0;l<o.length;l++){var c=a[l],h=o[l];if("*"===h)d.push(!0);else for(var p=0;p<i.length;p++)if(i[p].key===c){var u=/\[/.test(h),m=i[p].value;if(u){var g=h.substr(1,h.length-2).split(","),f=g.map(function(e){return e.trim()});f.indexOf(m)!==-1&&d.push(!0)}else h===m&&d.push(!0)}}for(var v=!0,_=0;_<d.length;_++)d[_]===!1&&(v=!1);if(d.length===a.length&&v)return s}return null},getOptionIds:function(){for(var e=[],t=a(r).find("optionGroup"),i=0;i<t.length;i++)e.push(t.eq(i).attr("id"));return e},getOptionMapIds:function(){for(var e=[],t=a(r).find("configurableOptionMap").find("optionMap"),i=0;i<t.length;i++)e.push(t.eq(i).attr("id"));return e},getOptionMapById:function(e){return a(r).find("configurableOptionMap").find("optionMap[id="+e+"]").find("entry")},getCategoryByProduct:function(e){for(var t=this.getOptionMapById("product"),i=0;i<t.length;i++)for(var a=t.eq(i).attr("value"),r=a.split(","),n=0;n<r.length;n++)if(r[n]===e)return t.eq(i).attr("key");return"none"},getOptionMapKeyPatternById:function(e){return a(r).find("configurableOptionMap").find("optionMap[id="+e+"]").attr("keyPattern").toString()},getParameterIds:function(){for(var e=[],t=a(r).find("parameter"),i=0;i<t.length;i++)e.push(t.eq(i).attr("id"));return e},getParameterKeyPatternById:function(e){return a(r).find("parameter[id="+e+"]").attr("keyPattern").toString()},getVariableKeyPatternById:function(e){return a(r).find("variable[id="+e+"]").attr("keyPattern").toString()},getDisableOptionsMap:function(e,t){if(a(r).find("disableOptionMap").find("optionMap[id="+e+"]").attr("keyPattern")){var i=a(r).find("disableOptionMap").find("optionMap[id="+e+"]").attr("keyPattern").toString(),n=a(r).find("disableOptionMap").find("optionMap[id="+e+"]").find("entry"),o=this.getIsPattern(i,n,t);return o?o.attr("value"):null}return null},getDisableOptionMapKeyPatternById:function(e){try{return a(r).find("disableOptionMap").find("optionMap[id="+e+"]").attr("keyPattern").toString()}catch(t){return""}},getDisableOptionIds:function(){for(var e=[],t=a(r).find("disableOptionMap").find("optionMap"),i=0;i<t.length;i++)e.push(t.eq(i).attr("id"));return e},getDisableOptionValues:function(e){for(var t=[],i=a(r).find("disableOptionMap").find("optionMap").find("entry"),n=0;n<i.length;n++)i.eq(n).attr("key").indexOf(e)!=-1&&t.push(i.eq(n).attr("value"));return t},getAllSize:function(){var e="size",t=(this.getOptionMapKeyPatternById(e).split("-"),[]),i={key:"product",value:"print"};return t.push(i),this.getOptionsMap(e,t).split(",")},getAllPaper:function(e){var i="paper",a=(this.getOptionMapKeyPatternById(i).split("-"),[]),r=(t.projectSettings[t.currentSelectProjectIndex],{key:"size",value:e});return a.push(r),this.getOptionsMap(i,a).split(",")},getElementById:function(e){return a(r).find("#"+e)},getOptionNameById:function(e,t){var i=this.getOptions(e),a="";return i.some(function(e){if(e.id===t)return a=e.name||e.title,!0}),a},getAvailableOptions:function(e,t,a){var r=i(12).getParamsList(a);return t=t||[],Array.isArray(t)||(t=[t]),r=r.map(function(e){var i=t.filter(function(t){return t.key===e.key});return i.length>0&&(e=i[0]),e}),this.getOptionsMap(e,r).split(",")},isDisableOptionShow:function(e,t,i){if(a(r).find("disableOptionMap").find("optionMap[id="+e+"]").attr("keyPattern")){var n=a(r).find("disableOptionMap").find("optionMap[id="+e+"]").attr("keyPattern").toString(),o=a(r).find("disableOptionMap").find("optionMap[id="+e+"]").find("entry"),s=this.getIsPattern(n,o,t);if(s){var d=s.attr("value").split(",");return!(!d||d.indexOf(i)===-1)&&"true"===s.attr("isShow")}return!1}return!1},getOptionsMapDefaultValueWithoutDisableOption:function(e,t){var i=a(r).find("configurableOptionMap").find("optionMap[id="+e+"]").attr("keyPattern").toString(),n=a(r).find("configurableOptionMap").find("optionMap[id="+e+"]").find("entry"),o=this.getIsPattern(i,n,t);if(a(r).find("disableOptionMap").find("optionMap[id="+e+"]").attr("keyPattern"))var s=a(r).find("disableOptionMap").find("optionMap[id="+e+"]").attr("keyPattern").toString(),d=a(r).find("disableOptionMap").find("optionMap[id="+e+"]").find("entry"),l=this.getIsPattern(s,d,t);if(l&&o&&o.attr("defaultValue")===l.attr("value")){var c=o.attr("value").split(",").filter(function(e){return e!==l.attr("value")});return c[0]}return o?o.attr("defaultValue"):null}}}).call(t,i(3),i(7))},function(e,t,i){var a=[],r=i(162),n=i(155);e.exports={isPortal:!1,isPreview:!1,previewSource:"",operateMode:"idle",isNewProject:!1,isLostFocus:!0,isShowHandlePoint:!1,isInnerPreviewShow:!1,isChangePageShow:!1,isPopupShow:!1,isSingleUploadButton:!1,isFrameOptionsShow:!1,OptionType:"frame",isImageUploadShow:!1,isImageCropShow:!1,isOptionsViewShow:!1,isTextEditorShow:!1,isOrderViewShow:!1,isMattingGlassShow:!1,isMattingGlassEditShow:!1,isEditBorderShow:!1,isBorderShow:!1,isPrjSaved:!1,isPopSave:!0,isShowHelp:!1,isShowClone:!1,isEditLayerShow:!1,isEditFamilyNameShow:!1,isTotalPriceShow:!1,mirrorLength:0,isMirrorBorder:!1,isShowContactUs:!1,cancelledUpload:[],currentUploadCount:0,successfullyUploaded:0,
errorUploaded:0,currentSuccessUpload:0,currentErrorUpload:0,errorUploadedFiles:[],retryId:-1,cancelByX:!1,chooseTimes:0,uploadTimes:0,filesTotal:0,filesTotalInQueue:0,filesCountInQueue:0,saveImage:!1,isPageLoadingShow:!0,isSwitchLoadingShow:!1,isShowProgress:!1,isImageDrag:!1,projectSettings:a,spec:n,domains:r,cropImageRatio:1,selectedPageIdx:0,selectedIdx:0,elementDragged:"",photoPrice:{sPrice:"",oriPrice:"",couponId:"",options:{}},priceChange:!1,dragData:{imageId:"",sourceImageUrl:"",cursorX:0,cursorY:0,isFromList:!1},barPosition:{x:0,y:0},cropParams:{},projects:[],pages:[],oriImageIds:[],imageList:[],deleImagelist:[],decorationList:[],allDecorationList:[],fontList:[],ctrls:{tcResize:"",lastTranEvent:"",isDragStarted:!1},watches:{flagRepaint:!1,isSpecLoaded:!1,isProjectLoaded:!1,isRefreshImage:!1,isCropThisImage:!1,isChangeThisText:!1,isOnDrop:!1,isDecorationOnDrop:!1,isChangeDepthFront:!1,isRemoveElement:!1,isReplaceImage:!1,isApplyLayout:!1,isProjectComplete:!1},watchData:{changeDepthIdx:"",cropImageIdx:"",removeElementType:"",removeElementIdx:""},dropData:{ev:"",newAdded:!1,isBg:!1,idx:""},warnMargin:{left:30,top:30,width:15,height:15,visible:!1,rate:30},warnSettings:{resizeLimit:30,resizeWarnMsg:"beyond resize limit!",warnImageWidth:10,warnImageHeight:10,visible:!1},uploadProgress:[],webClientId:1,currentSelectProjectIndex:0,userSettings:{},projectId:"",projectXml:"",title:"test",itemListNum:0,fromCart:!1,rotateLock:!0,colorOptionList:[{type:"White",backgroundImage:"assets/img/White-0.png",normalColor:"assets/img/white-normal.png",pressColor:"assets/img/white-pressed.png"},{type:"Black",backgroundImage:"assets/img/Black-0.png",normalColor:"assets/img/black-normal.png",pressColor:"assets/img/black-pressed.png"},{type:"SportGrey",backgroundImage:"assets/img/SportGrey-0.png",normalColor:"assets/img/grey-normal.png",pressColor:"assets/img/grey-pressed.png"},{type:"NavyBlue",backgroundImage:"assets/img/NavyBlue-0.png",normalColor:"assets/img/navy-normal.png",pressColor:"assets/img/navy-pressed.png"},{type:"RoyalBlue",backgroundImage:"assets/img/RoyalBlue-0.png",normalColor:"assets/img/royal-normal.png",pressColor:"assets/img/royal-pressed.png"}],projectType:"CR",orderType:"product",isFromMarketplace:!1,vm:null,bgColor:0,textColor:0,isCanvas:!1,isWithTemplate:!0,templateList:[],temDecorationList:[],imagesIndex:0,isChangeTmplShow:!1,isChangeTmplExpanded:!1,autoLayout:!1,projectInfo:{isOrdered:!1,isInCart:!1,isInMarket:!1},uploadAcceptType:"image/jpeg,image/x-png,image/png",checkFailed:!1,cutLargePhoto:!1,warnTipLimit:200,warnTipMargin:5,warnTipBottom:5,warnTipLeft:5,encodeImage:"",usefullFontList:[],textFormList:[],isOrderClicked:!1,lockedElementId:null,lockedPageIdx:null,isBgImageShow:!0,isCenterlineShow:!1,isBlankCard:!1,submitTitle:"Card",resetPages:[],templateGuid:"",removeImageFrameCount:0,removeTextFrameCount:0}},function(e,t,i){(function(t){e.exports={xmlToString:function(e){return(new XMLSerializer).serializeToString(e)},stringToXml:function(e){var i=t.parseXML(e);return i}}}).call(t,i(7))},function(e,t,i){(function(t,a){e.exports=function(e){var r=0,n=0,o=t.projectSettings[t.currentSelectProjectIndex],s=o&&o.product;if("undefined"==typeof s)switch(t.projectType){case"PR":s="print";break;case"flushMountPrint":s="flushMountPrint";break;default:s=t.projectType}var d="H5_"+s+","+t.projectId+",";for(var l in e)n++;for(var l in e)d+="ev"===l?e[l]:l+"="+e[l],r++<n-1&&(d+=",");var c=i(165);c.go(a.trim(d,","))}}).call(t,i(3),i(7))},function(e,t){e.exports={AddText:"AddText",LoadComplete:"LoadComplete",CompleteTextEdit:"CompleteTextEdit",ClickToForm:"ClickToForm",ClickChangeAll:"ClickChangeAll",ClickEditPrint:"ClickEditPrint",ClickDeletePrint:"ClickDeletePrint",ClickDuplicatePrint:"ClickDuplicatePrint",ClickReplacePrint:"ClickReplacePrint",ChangeSize:"ChangeSize",ChangePaper:"ChangePaper",ChangeTrimStyle:"ChangeTrimStyle",ChangeiPadmodel:"ChangeiPadmodel",ClickSave:"ClickSave",ClickExit:"ClickExit",ClickOrder:"ClickOrder",ClickPreview:"ClickPreview",ClickCropImage:"ClickCropImage",ClickRotateImage:"ClickRotateImage",ClickRemoveImage:"ClickRemoveImage",ClickMoveTextToCenter:"ClickMoveTextToCenter",ClickMoveImageToCenter:"ClickMoveImageToCenter",ClickReset:"ClickReset",ClickRemove:"ClickRemove",ClickAddText:"ClickAddText",ClickResetConfirm:"ClickResetConfirm",ClickFrontCover:"ClickFrontCover",ClickBackCover:"ClickBackCover",ClickPreviousPage:"ClickPreviousPage",ClickNextPage:"ClickNextPage",ClickOptionTab:"ClickOptionTab",ClickImagesTab:"ClickImagesTab",ClickLayoutTab:"ClickLayoutTab",ClickDecorationTab:"ClickDecorationTab",ClickFormTab:"ClickFormTab",SwitchSide:"SwitchSide",SwitchSideInPreview:"SwitchSideInPreview",SwitchOrientation:"SwitchOrientation",ImageLoadFail:"ImageLoadFail",DragPhotoToPage:"DragPhotoToPage",ChangeSort:"ChangeSort",ChangeHideUsed:"ChangeHideUsed",CheckPrice:"CheckPrice",SaveComplete:"SaveComplete",SwitchBlocks:"SwitchBlocks",SwitchBlocksInPreview:"SwitchBlocksInPreview",RemoveBlock:"RemoveBlock",SwitchBlocksByNav:"SwitchBlocksByNav",AddBlock:"AddBlock",ClickAddPhotos:"ClickAddPhotos",ClickDeleteCanvas:"ClickDeleteCanvas",SwitchSize:"SwitchSize",StartUploadEachPhoto:"StartUploadEachPhoto",CompleteUploadEachPhoto:"CompleteUploadEachPhoto",AddPhotos:"AddPhotos",ClickCloudUploadImage:"ClickCloudUploadImage",FinishPhotoSelect:"FinishPhotoSelect",AddMorePhotos:"AddMorePhotos",StartUpload:"StartUpload",UploadComplete:"UploadComplete",CloseMonitor:"CloseMonitor",CancelSingleFile:"CancelSingleFile",CancelAllFilesClicked:"CancelAllFilesClicked",CancelAllFilesByXClicked:"CancelAllFilesByXClicked",CheckIncompleteFields:"CheckIncompleteFields",CheckIncompleteFieldsContinue:"CheckIncompleteFieldsContinue",CheckIncompleteFieldsCancel:"CheckIncompleteFieldsCancel",ModifyPhotoFrame:"ModifyPhotoFrame",ModifyTextFrame:"ModifyTextFrame",RemovePhotoFrame:"RemovePhotoFrame",RemoveTextFrame:"RemoveTextFrame",UpgradeOption:"UpgradeOption"}},,function(e,t,i){(function(t){i(11);e.exports={getParamsValueByElement:function(e,i){void 0!=i&&null!=i?i:i=t.selectedPageIdx;var a=t.pages[i].canvas;if(void 0!=e&&null!=e){var r=a.trans[e].attrs.size.x*a.trans[e].attrs.scale.x,n=a.trans[e].attrs.size.y*a.trans[e].attrs.scale.y,o=r/a.ratio,s=n/a.ratio,d=(a.trans[e].attrs.x+a.trans[e].attrs.translate.x-(r-a.trans[e].attrs.size.x)/2)/a.ratio,l=(a.trans[e].attrs.y+a.trans[e].attrs.translate.y-(n-a.trans[e].attrs.size.y)/2)/a.ratio,c=a.trans[e].attrs.rotate;if(90===Math.abs(a.elements[e].imageRotate))var h=a.elements[e].imageHeight,p=a.elements[e].imageWidth;else var h=a.elements[e].imageWidth,p=a.elements[e].imageHeight;if("text"===a.elements[e].elType)var u=a.elements[e].fontSize*a.trans[e].attrs.scale.x;else var u=a.elements[e].fontSize;return{elType:a.elements[e].elType,url:a.elements[e].sourceImageUrl,text:a.elements[e].text,x:d,y:l,width:o,height:s,rotate:c,dep:a.elements[e].dep,imageId:a.elements[e].imageId,imageRotate:a.elements[e].imageRotate||0,cropPX:a.elements[e].cropX/h||0,cropPY:a.elements[e].cropY/p||0,cropPW:a.elements[e].cropW/h||1,cropPH:a.elements[e].cropH/p||1,fontFamily:a.elements[e].fontFamily||"",fontSize:parseFloat(u)||"",fontWeight:a.elements[e].fontWeight||"",textAlign:a.elements[e].textAlign||"",fontColor:a.elements[e].fontColor||""}}return""},getCropParamsByElement:function(e,i){void 0!=i&&null!=i?i:i=t.selectedPageIdx;var a=t.pages[i].canvas;if(void 0!=e&&null!=e){var r=a.trans[e].attrs.size.x*a.trans[e].attrs.scale.x,n=a.trans[e].attrs.size.y*a.trans[e].attrs.scale.y,o=r/a.ratio,s=n/a.ratio,d=(a.trans[e].attrs.x+a.trans[e].attrs.translate.x-(r-a.trans[e].attrs.size.x)/2)/a.ratio,l=(a.trans[e].attrs.y+a.trans[e].attrs.translate.y-(n-a.trans[e].attrs.size.y)/2)/a.ratio,c=a.trans[e].attrs.rotate;if(90===Math.abs(a.elements[e].imageRotate))var h=a.elements[e].imageHeight,p=a.elements[e].imageWidth;else var h=a.elements[e].imageWidth,p=a.elements[e].imageHeight;if("text"===a.elements[e].elType)var u=a.elements[e].fontSize*a.trans[e].attrs.scale.x;else var u=a.elements[e].fontSize;var m=a.elements[e].cropX/h,g=a.elements[e].cropY/p,f=a.elements[e].cropW/h,v=a.elements[e].cropH/p,_=o,y=s,S=m,w=m+f,x=g,M=g+v,L=y/_,b=h,T=p,I=S+(w-S)/2,P=x+(M-x)/2,k=I*b,D=P*T,Y=(w-S)*b/_,j=(M-x)*T/y,C=_*Y,H=y*j;C>b&&(C=b),H>T&&(H=T);var F,E,O,A;C*L>H?(A=H,O=H/L):(O=C,A=C*L),F=k-O/2,F=F>0?F:0,F+O>b&&(F-=F+O-b,F=F>0?F:0),E=D-A/2,E=E>0?E:0,E+A>T&&(E-=E+A-T,E=E>0?E:0);var R={elType:a.elements[e].elType,url:a.elements[e].sourceImageUrl,text:a.elements[e].text,x:d,y:l,width:o,height:s,rotate:c,dep:a.elements[e].dep,imageId:a.elements[e].imageId,imageRotate:a.elements[e].imageRotate||0,cropPX:F/b||0,cropPY:E/T||0,cropPW:O/b||1,cropPH:A/T||1,fontFamily:a.elements[e].fontFamily||"",fontSize:parseFloat(u)||"",fontWeight:a.elements[e].fontWeight||"",textAlign:a.elements[e].textAlign||"",fontColor:a.elements[e].fontColor||""};return R}return""},getCropImageUrl:function(e,a,r){void 0!=a&&null!=a?a:a=t.selectedPageIdx;var n=t.pages[a].canvas,o=r?r:n.ratio;if(void 0==e||null==e||"background"!==n.params[e].elType&&"image"!==n.params[e].elType&&"logo"!==n.params[e].elType&&"PhotoElement"!==n.params[e].elType)return"";var s="../../static/img/blank.png";if(""!==n.params[e].imageId){var d=n.params[e],l=Math.abs(d.cropPX.toFixed(8)),c=Math.abs(d.cropPY.toFixed(8)),h=Math.abs(d.cropPW.toFixed(8)),p=Math.abs(d.cropPH.toFixed(8)),u=d.width*o/h,m=d.height*o/p,g=d.style&&d.style.brightness?d.style.brightness:0,f=i(10),v=f.getEncImgId(n.params[e].imageId),_=f.getQueryString({encImgId:v,px:l,py:c,pw:h,ph:p,width:Math.ceil(u),height:Math.ceil(m),rotation:n.params[e].imageRotate,brightness:g});s="/imgservice/op/crop?"+_+i(15).getSecurityString()}return s},getCropDecorationUrl:function(e,i){void 0!=i&&null!=i?i:i=t.selectedPageIdx;var a=t.pages[i].canvas;if(void 0==e||null==e||"background"!==a.params[e].elType&&"decoration"!==a.params[e].elType&&"logo"!==a.params[e].elType&&"DecorationElement"!==a.params[e].elType)return"";var r="../../static/img/blank.png";if(""!==a.params[e].decorationid){var n=a.params[e].decorationid;r=t.domains.baseUrl+"/artwork/png/1000/"+n+".png"}return r},getFontImageUrl:function(){},getShiftValue:function(e,i){if(void 0!=i&&null!=i?i:i=t.selectedPageIdx,e=e||t.pages[i].canvas,"none"!==t.project2.matte)var a=-1*(e.boardInMatting.left+e.realBleedings.left),r=-1*(e.boardInMatting.top+e.realBleedings.top),n=-1*(e.boardInMatting.right+e.realBleedings.right),o=-1*(e.boardInMatting.bottom+e.realBleedings.bottom);else var a=-1*(e.boardInFrame.left+e.realBleedings.left),r=-1*(e.boardInFrame.top+e.realBleedings.top),n=-1*(e.boardInFrame.right+e.realBleedings.right),o=-1*(e.boardInFrame.bottom+e.realBleedings.bottom);return{x:a,y:r,xDot:n,yDot:o}},getShiftPosition:function(e,t,i,a,r,n){if(null!=e&&null!=t&&null!=i&&null!=a){r=r||0,n=n||0;var o=e+r,s=t+n;return{x:o,y:s,width:i,height:a}}return{x:0,y:0,width:0,height:0}},getUnshiftPosition:function(e){if(void 0!=e&&null!=e){var i,a,r,n,o=t.pages[t.selectedPageIdx].canvas,s=-1*this.getShiftValue().x,d=-1*this.getShiftValue().y,l=-1*this.getShiftValue().xDot,c=-1*this.getShiftValue().yDot,h=o.params[e].x||0,p=o.params[e].y||0,u=o.params[e].width||0,m=o.params[e].height||0,g=o.oriWidth||0,f=o.oriHeight||0;return h+=s,p+=d,i=h/(g+s+l),a=p/(f+d+c),r=u/(g+s+l),n=m/(f+d+c),i<0?i=0:i,i>1?i=1:i,a<0?a=0:a,a>1?a=1:a,r<0?r=0:r,r>1?r=1:r,n<0?n=0:n,n>1?n=1:n,{x:h,y:p,px:i,py:a,pw:r,ph:n}}return console.fail("idx is invalid in getUnshiftPosition() [ParamsManage]"),""},getIndexById:function(e,i){var i=i||t.selectedPageIdx;if(void 0!=e&&null!=e&&""!==e){for(var a=t.pages[i].canvas,r=0;r<a.params.length;r++)if(a.params[r].id===e)return r;return-1}return-1},getIndexByDep:function(e){for(var i=t.pages[t.selectedPageIdx].canvas,a=0;a<i.params.length;a++)if(i.params[a].dep===e)return a;return 0},getFrontElementIndex:function(){var e=t.pages[t.selectedPageIdx].canvas;return this.getIndexByDep(e.params.length-1)},getBorderHiddenSize:function(){var e=t.pages[t.selectedPageIdx].canvas,i=topLimit=rightLimit=bottomLimit=0;if(t.isCanvas)i=(e.canvasBordeThickness.left+e.realBleedings.left)*e.ratio,rightLimit=(e.canvasBordeThickness.right+e.realBleedings.right)*e.ratio,topLimit=(e.canvasBordeThickness.top+e.realBleedings.top)*e.ratio,bottomLimit=(e.canvasBordeThickness.bottom+e.realBleedings.bottom)*e.ratio;else{var a=e.frameBaseSize.width*e.ratio,r=e.frameBaseSize.height*e.ratio,n=Math.abs(e.x),o=Math.abs(e.y);e.width>a?t.projectSettings[t.currentSelectProjectIndex].matte&&"none"!==t.projectSettings[t.currentSelectProjectIndex].matte?(i=n+e.boardInMatting.left*e.ratio,rightLimit=e.width-a-n+e.boardInMatting.right*e.ratio):(i=n+e.boardInFrame.left*e.ratio,rightLimit=e.width-a-n+e.boardInFrame.right*e.ratio):t.projectSettings[t.currentSelectProjectIndex].matte&&"none"!==t.projectSettings[t.currentSelectProjectIndex].matte?(i=e.boardInMatting.left*e.ratio+e.realBleedings.left*e.ratio,rightLimit=e.boardInMatting.right*e.ratio+e.realBleedings.right*e.ratio):(i=e.boardInFrame.left*e.ratio+e.realBleedings.left*e.ratio,rightLimit=e.boardInFrame.right*e.ratio+e.realBleedings.right*e.ratio),e.height>r?t.projectSettings[t.currentSelectProjectIndex].matte&&"none"!==t.projectSettings[t.currentSelectProjectIndex].matte?(topLimit=o+e.boardInMatting.top*e.ratio,bottomLimit=e.height-r-o+e.boardInMatting.bottom*e.ratio):(topLimit=o+e.boardInFrame.top*e.ratio,bottomLimit=e.height-r-o+e.boardInFrame.bottom*e.ratio):t.projectSettings[t.currentSelectProjectIndex].matte&&"none"!==t.projectSettings[t.currentSelectProjectIndex].matte?(topLimit=e.boardInMatting.top*e.ratio+e.realBleedings.top*e.ratio,bottomLimit=e.boardInMatting.bottom*e.ratio+e.realBleedings.bottom*e.ratio):(topLimit=e.boardInFrame.top*e.ratio+e.realBleedings.top*e.ratio,bottomLimit=e.boardInFrame.bottom*e.ratio+e.realBleedings.bottom*e.ratio)}return{left:i,top:topLimit,right:rightLimit,bottom:bottomLimit}}}}).call(t,i(3))},function(e,t,i){(function(t,a){e.exports={loadLocalProject:function(){console.log("projectService"),t.ajax({url:"./assets/data/tshirt-project.1.0.xml",type:"get",dataType:"xml",async:!1}).done(function(e){a.xml=e})},insertProject:function(e,r){var n=a.domains.baseUrl+"/general/"+a.userSettings.userId+"/project/"+a.projectType;a.projectXml=r;var o="",s=a.title,d=a.quantity?a.quantity:1,l=a.mainProjectUid?"cart":"";if("CV"!==a.projectType&&"FM"!==a.projectType&&"PHC"!==a.projectType&&"CLO"!==a.projectType&&"PR"!==a.projectType&&"flushMountPrint"!==a.projectType&&"PP"!==a.projectType&&"IPadCase"!==a.projectType||(o=this.getScreenshot().replace("data:image/jpeg;base64,","").replace("data:image/png;base64,","")),"CV"===a.projectType||"FM"===a.projectType){var c=a.projectSettings[a.currentSelectProjectIndex],h=c.product;n=a.domains.baseUrl+"/general/"+a.userSettings.userId+"/project/"+h}t.ajax({url:n,type:"post",data:{mainProjectUid:a.mainProjectUid,crossSell:l,removeCart:a.fromCart,encodeimage:o,projectXml:r,requestKey:i(15).getRequestKey(),isFromMarketplace:a.isFromMarketplace,title:s,quantity:d}}).done(function(i){i&&"success"===t(i).find("resultData").attr("state")?(console.log("new project successfully"+i),a.projectId=t(i).find("guid").text()||"",a.projectXml=i,a.watches.isProjectLoaded=!0,a.isNewInsertProject=!0):(a.watches.isProjectLoaded=!0,"-3"===t(i).find("errorCode").text()&&e.$dispatch("dispatchShowProjectChooseWindow"))})},saveProject:function(e,r,n,o,s,d,l){var c=a.domains.baseUrl+"/general/"+a.userSettings.userId+"/project/"+a.projectId+"/"+a.projectType,h="",p=a.title,u=a.quantity?a.quantity:1;if("CV"!==a.projectType&&"FM"!==a.projectType&&"PHC"!==a.projectType&&"CLO"!==a.projectType&&"PR"!==a.projectType&&"flushMountPrint"!==a.projectType&&"PP"!==a.projectType&&"CR"!==a.projectType&&"IPadCase"!==a.projectType||(h=this.getScreenshot().replace("data:image/jpeg;base64,","").replace("data:image/png;base64,","")),"CV"===a.projectType||"FM"===a.projectType){var m=a.projectSettings[a.currentSelectProjectIndex],g=m.product;c=a.domains.baseUrl+"/general/"+a.userSettings.userId+"/project/"+a.projectId+"/"+g}t.ajax({url:c,type:"post",dataType:"xml",data:{removeCart:a.fromCart,encodeimage:h,projectXml:r,requestKey:i(15).getRequestKey(),isFromMarketplace:a.isFromMarketplace,thumbnailPX:n,thumbnailPY:o,thumbnailPW:s,thumbnailPH:d,title:p,quantity:u},error:function(e){a.vm.$dispatch("dispatchShowPopup",{type:"noInterenet",status:0})}}).done(function(r){r&&"success"===t(r).find("resultData").attr("state")?(a.projectXml=r,l&&"function"==typeof l?l():e.$dispatch("dispatchShowPopup",{type:"save",status:0}),i(5)({ev:i(6).SaveComplete}),a.isPrjSaved=!0):r&&"fail"===t(r).find("resultData").attr("state")?"201"===t(r).find("code").text()?(e.$dispatch("dispatchShowPopup",{type:"save",status:-3}),a.vm.$broadcast("notifyCloseWindow")):"202"===t(r).find("code").text()?(e.$dispatch("dispatchShowPopup",{type:"save",status:-4}),a.vm.$broadcast("notifyCloseWindow")):"205"===t(r).find("code").text()?e.$dispatch("dispatchShowPopup",{type:"login",status:0}):e.$dispatch("dispatchShowPopup",{type:"save",status:-1}):e.$dispatch("dispatchShowPopup",{type:"save",status:-1})})},orderProject:function(e,r,n,o,s,d){if(a.projectId){var l=a.domains.baseUrl+"/general/"+a.userSettings.userId+"/project/"+a.projectId+"/"+a.projectType,c="",h=a.title,p=a.quantity?a.quantity:1;if("CV"!==a.projectType&&"FM"!==a.projectType&&"PHC"!==a.projectType&&"CLO"!==a.projectType&&"PR"!==a.projectType&&"flushMountPrint"!==a.projectType&&"PP"!==a.projectType&&"CR"!==a.projectType&&"IPadCase"!==a.projectType||(c=this.getScreenshot().replace("data:image/jpeg;base64,","").replace("data:image/png;base64,","")),"CV"===a.projectType||"FM"===a.projectType){var u=a.projectSettings[a.currentSelectProjectIndex],m=u.product;l=a.domains.baseUrl+"/general/"+a.userSettings.userId+"/project/"+a.projectId+"/"+m}t.ajax({url:l,type:"post",dataType:"xml",data:{removeCart:a.fromCart,encodeimage:c,projectXml:r,requestKey:i(15).getRequestKey(),isFromMarketplace:a.isFromMarketplace,thumbnailPX:n,thumbnailPY:o,thumbnailPW:s,thumbnailPH:d,title:h,quantity:p},error:function(e){a.vm.$dispatch("dispatchShowPopup",{type:"noInterenet",status:0})}}).done(function(i){i&&"success"===t(i).find("resultData").attr("state")?(console.log("save project successfully"+i),console.log("errorCode"+t(i).find("errorCode").text()),a.projectXml=i,a.isPrjSaved=!0,a.isPopSave=!1,window.location="/"+a.orderType+"/addShoppingCart.html?projectGUID="+a.projectId+"&quantity="+p):i&&"fail"===t(i).find("resultData").attr("state")?"201"===t(i).find("code").text()?(e.$dispatch("dispatchShowPopup",{type:"save",status:-3}),a.vm.$broadcast("notifyCloseWindow")):"205"===t(i).find("code").text()?e.$dispatch("dispatchShowPopup",{type:"login",status:0}):e.$dispatch("dispatchShowPopup",{type:"order",status:-1}):e.$dispatch("dispatchShowPopup",{type:"order",status:-1})})}},getShareProject:function(){var e=this;t.ajax({url:a.domains.uploadUrl+"/upload/Preview/GetPhotobookXmlByProjectId?projectId="+encodeURIComponent(a.projectId),type:"get",dataType:"xml",data:"webClientId=1"}).done(function(r){if(r){a.encProjectId=a.projectId,a.projectXml=r,a.title=t(r).find("title").text(),a.projectId=t(r).find("guid").text(),a.projectSettings.length=0;for(var n=0;n<t(r).find("spec").length;n++){for(var o=t(r).find("spec").eq(n),s=i(22),d=s(),l=0;l<o.find("option").length;l++){var c=o.find("option").eq(l);d[c.attr("id")]=c.attr("value")}"categoryFrame"!==d.category&&"categoryCanvas"!==d.category&&"categoryWallarts"!==d.category||(d.metalType=d.metalType||"none",d.finish=d.finish||"none");for(var h=0;h<t(r).find("tshirtSetting").eq(n).find("setting").length;h++){var p=t(r).find("tshirtSetting").eq(n).find("setting").eq(h);d[p.attr("id")]=p.attr("value")}t(r).find("frameBoard")&&(d.rotated="true"===t(r).find("frameBoard").attr("rotated"),a.bgColor=parseInt(t(r).find("frameBoard").attr("canvasBorderColor"))),["FT","FD"].indexOf(t(r).find("project").attr("productType")!==-1)&&(a.cardId=t(r).find("card").attr("id"),a.deletedPhoto=t(r).find("deletedPhoto").text(),d.trim=d.trim||t(r).find("trim").attr("value")),console.log(d),a.projectSettings.push(d)}e.getAlbumId(),a.watches.isProjectLoaded=!0}})},getProject:function(){var e=this;t.ajax({url:a.domains.baseUrl+"/userid/"+a.userSettings.userId+"/project/"+a.projectId,type:"get",dataType:"xml",data:"webClientId=1&autoRandomNum="+i(11).getRandomNum()}).done(function(r){if(r){a.projectXml=r,a.title=t(r).find("title").text(),a.projectId=t(r).find("guid").text(),a.projectSettings.length=0;for(var n=0;n<t(r).find("spec").length;n++){for(var o=t(r).find("spec").eq(n),s=i(22),d=s(),l=0;l<o.find("option").length;l++){var c=o.find("option").eq(l);d[c.attr("id")]=c.attr("value"),"None"===d[c.attr("id")]&&(d[c.attr("id")]="none")}"categoryFrame"!==d.category&&"categoryCanvas"!==d.category&&"categoryWallarts"!==d.category||(d.metalType=d.metalType||"none","undefined"===d.metalType?d.metalType="none":d.metalType,d.finish=d.finish||"none","undefined"===d.finish?d.finish="none":d.finish);for(var h=0;h<t(r).find("tshirtSetting").eq(n).find("setting").length;h++){var p=t(r).find("tshirtSetting").eq(n).find("setting").eq(h);d[p.attr("id")]=p.attr("value")}t(r).find("frameBoard")&&(d.rotated="true"===t(r).find("frameBoard").attr("rotated"),a.bgColor=parseInt(t(r).find("frameBoard").attr("canvasBorderColor"))),["FT","FD"].indexOf(t(r).find("project").attr("productType")!==-1)&&(a.cardId=t(r).find("card").attr("id"),a.deletedPhoto=t(r).find("deletedPhoto").text(),d.trim=d.trim?d.trim:t(r).find("trim").attr("value")),console.log(d),a.projectSettings.push(d)}if("PR"==a.projectType)if(t(r).find("spec")&&t(r).find("spec").length>0){var u=t(r).find("spec").eq(0).find('option[id="size"]').attr("value"),m=t(r).find("spec").eq(0).find('option[id="paper"]').attr("value");a.baseProject.size=u,a.baseProject.paper=m}else a.baseProject.size="4X6",a.baseProject.paper="GP";if("flushMountPrint"==a.projectType)if(t(r).find("spec")&&t(r).find("spec").length>0){var u=t(r).find("spec").eq(0).find('option[id="size"]').attr("value"),m=t(r).find("spec").eq(0).find('option[id="paper"]').attr("value"),g=t(r).find("spec").eq(0).find('option[id="surfaceType"]').attr("value");a.baseProject.size=u,a.baseProject.paper=m,a.baseProject.surfaceType=g}else a.baseProject.size="4X6",a.baseProject.paper="GP",a.baseProject.surfaceType="SS";e.getAlbumId(),a.watches.isProjectLoaded=!0}})},getAlbumId:function(){var e=this;t.ajax({url:a.domains.baseUrl+"/userid/"+a.userSettings.userId+"/getAlbumId?projectId="+a.projectId,type:"get"}).done(function(i){i&&"success"===t(i).find("resultData").attr("state")?a.userSettings.albumId=t(i).find("albumId").text()||"":(a.userSettings.albumId="",e.addOrUpdateAlbum(a.title))})},addOrUpdateAlbum:function(e,r,n){var o=(new Date).valueOf();t.ajax({url:a.domains.baseUrl+"/userid/"+a.userSettings.userId+"/addOrUpdateAlbum",type:"get",data:"timestamp="+o+"&projectId="+a.projectId+"&albumName="+e+"&webClientId="+a.webClientId+"&autoRandomNum="+i(11).getRandomNum()}).done(function(e){e&&("success"==t(e).find("resultData").attr("state")?(a.userSettings.albumId=t(e).find("albumId").text()||"",r&&r.$dispatch(n,!1,"This title already exists, please try again.")):r&&r.$dispatch(n,!0,"This title already exists, please try again."))})},handledSaveProject:function(e,r,n,o,s,d,l){var c=a.domains.baseUrl+"/general/"+a.userSettings.userId+"/project/"+a.projectId+"/"+a.projectType,h="",p=a.title,u=a.quantity?a.quantity:1;if("CV"!==a.projectType&&"FM"!==a.projectType&&"PHC"!==a.projectType&&"CLO"!==a.projectType&&"PR"!==a.projectType&&"flushMountPrint"!==a.projectType&&"PP"!==a.projectType&&"CR"!==a.projectType&&"IPadCase"!==a.projectType||(h=this.getScreenshot().replace("data:image/jpeg;base64,","").replace("data:image/png;base64,","")),"CV"===a.projectType||"FM"===a.projectType){var m=a.projectSettings[a.currentSelectProjectIndex],g=m.product;c=a.domains.baseUrl+"/general/"+a.userSettings.userId+"/project/"+a.projectId+"/"+g}t.ajax({url:c,type:"post",dataType:"xml",data:{removeCart:a.fromCart,encodeimage:h,projectXml:n,requestKey:i(15).getRequestKey(),thumbnailPX:o,thumbnailPY:s,thumbnailPW:d,thumbnailPH:l,title:p,quantity:u}}).done(function(i){i&&"success"===t(i).find("resultData").attr("state")?(console.log("save project successfully"+i),a.projectXml=i,a.isPrjSaved=!0,e.$dispatch(r,"success")):"205"===t(i).find("code").text()?e.$dispatch("dispatchShowPopup",{type:"login",status:0}):e.$dispatch(r,"failed")})},getProjectOrderedState:function(e){t.ajax({url:"/userid/"+a.userSettings.userId+"/getProjectOrderedState/"+a.projectId,type:"get",dataType:"xml",data:"webClientId=1&autoRandomNum="+i(11).getRandomNum()}).done(function(e){e&&(a.userSettings.ordered="true"==t(e).find("ordered").text(),a.checkFailed="true"==t(e).find("checkFailed").text(),a.watches.isProjectOrderedStateLoaded=!0,"true"==a.userSettings.ordered)})},sentContactUs:function(e,r,n,o,s,d){t.ajax({url:a.domains.baseUrl+"/userid/service/feedback",type:"post",dataType:"xml",data:{userId:a.userSettings.userId,userName:a.userSettings.userName,userEmail:a.userSettings.email,sku:"",projectName:a.title,projectId:a.projectId,autoRandomNum:i(11).getRandomNum(),webClientId:1,os:s,browser:d,question:r,featureRequest:n,bug:o}}).done(function(i){"success"==t(i).find("resultData").attr("state")?e.$dispatch("dispatchShowPopup",{type:"contact",status:0}):e.$dispatch("dispatchShowPopup",{type:"contact",status:-1})})},cloneProject:function(e,r,n,o,s,d,l,c){var h=this,p="",u=(new Date).valueOf(),m=a.domains.baseUrl+"/general/"+a.userSettings.userId+"/project/"+a.projectType,g=a.title,f=a.quantity?a.quantity:1;if("CV"!==a.projectType&&"FM"!==a.projectType&&"PHC"!==a.projectType&&"IPadCase"!==a.projectType||(p=h.getScreenshot().replace("data:image/jpeg;base64,","").replace("data:image/png;base64,","")),"CV"===a.projectType||"FM"===a.projectType){var v=a.projectSettings[a.currentSelectProjectIndex],_=v.product;m=a.domains.baseUrl+"/general/"+a.userSettings.userId+"/project/"+_}t.ajax({url:m,type:"post",data:{removeCart:a.fromCart,encodeimage:p,projectXml:o,requestKey:i(15).getRequestKey(),isFromMarketplace:a.isFromMarketplace,thumbnailPX:s,thumbnailPY:d,thumbnailPW:l,thumbnailPH:c,title:g,quantity:f}}).done(function(e){if(e&&"success"===t(e).find("resultData").attr("state")){a.projectId=t(e).find("guid").text()||"",a.projectXml=e,a.isPrjSaved=!0,a.vm.$broadcast("notifyHideCloneWindow"),i(9).getProjectInfo(),t.ajax({url:"/userid/"+a.userSettings.userId+"/addOrUpdateAlbum",type:"get",data:"timestamp="+u+"&projectId="+a.projectId+"&albumName="+n+"&webClientId="+a.webClientId+"&autoRandomNum="+i(11).getRandomNum()}).done(function(e){if(e)if("success"==t(e).find("resultData").attr("state"))a.userSettings.albumId=t(e).find("albumId").text()||"";else if("fail"==t(e).find("resultData").attr("state")){var i,n=t(e).find("errorCode").text();a.title=r,i="1"===n?"Title existed, please pick another one.":"2"===n?"Please input new project name":"Save project name failed. errorInfo"+t(e).find("errorInfo").text(),a.vm.$broadcast("notifyShowInvalidTitle",i)}})}else{var o="Clone failed";a.title=r,a.vm.$broadcast("notifyShowInvalidTitle",o)}})},getScreenshot:function(){return i(24).convertScreenshotToBase64()},getProjectInfo:function(){a.isPreview&&"factory"===a.source||t.ajax({url:a.domains.baseUrl+"/clientH5/projectInfo/"+a.projectId+"?"+(new Date).getTime(),type:"get",dataType:"json"}).done(function(e){e&&(a.projectInfo.isOrdered=1===e.order,a.projectInfo.isInCart=1===e.cart,1===e.market||2===e.market?a.projectInfo.isInMarket=!0:a.projectInfo.isInMarket=!1,"undefined"!=typeof e.market&&(a.isShowPostToSale=!0),a.watches.isProjectInfoLoaded=!0,a.vm.$dispatch("dispatchResetProjectInfo"))})},updateCheckStatus:function(e){t.ajax({url:"/userid/"+a.userSettings.userId+"/submitCheckFailProject/"+a.projectId+"?isParentBook=false&redirectParentBook=false",type:"get",dataType:"xml"}).done(function(e){if(e){var i=t(e).find("code").text();"200"===i?(a.checkFailed=!1,a.submitTitle?a.vm.$dispatch("dispatchShowPopup",{type:"checkFailed",status:0,info:"Thank you for submitting your changes to this ordered "+a.submitTitle+" project. We will review this "+a.submitTitle+" project again. If no issue is found, we will proceed with your order processing."}):a.vm.$dispatch("dispatchShowPopup",{type:"checkFailed",status:0,info:"Thank you for submitting your changes to this ordered frame project. We will review this frame project again. If no issue is found, we will proceed with your order processing."})):a.vm.$dispatch("dispatchShowPopup",{type:"checkFailed",status:0,info:"notifyShowInvalidTitle','Submit failed, please try again or contact us."})}})},getPhotoPrice:function(e,i,r){if(!a.isTopPriceShow){for(var n=!1,o=0;o<a.priceOptions.length;o++){var s=a.priceOptions[o].key,d=a.priceOptions[o].value;if(s&&s==i)if(n=!0,d)a.projectSettings[r].price=d;else{var l=a.priceOptions[o].idxs;l.indexOf(r)==-1&&a.priceOptions[o].idxs.push(r)}}if(!n){var c={key:i,value:"",idxs:[r]};a.priceOptions.push(c),t.ajax({url:a.domains.baseUrl+"/clientH5/product/price",type:"get",data:{product:e,options:i,timestamp:a.freshTimestamp||0},dataType:"json"}).done(function(e){if(console.log("getPhotoPrice",i),e){e.couponId?a.projectSettings[r].price=+e.sPrice:a.projectSettings[r].price=+e.oriPrice;for(var t=0;t<a.priceOptions.length;t++){var n=a.priceOptions[t].key;a.priceOptions[t].value;if(n&&n==i){for(var o=0;o<a.priceOptions[t].idxs.length;o++)a.projectSettings[a.priceOptions[t].idxs[o]].price=a.projectSettings[r].price;a.priceOptions[t].value=a.projectSettings[r].price,a.priceOptions[t].idxs=[]}}}else console.log(e.error)})}}},getNewPrintPrice:function(){var e=i(2).getOptionIds(),r=a.baseProject.product,n=[];if(a.isTopPriceShow){e.forEach(function(e){"product"!==e&&n.push(a.baseProject[e])}),n=n.filter(function(e){return e&&"none"!==e});t.ajax({url:a.domains.baseUrl+"/clientH5/product/price",type:"get",data:{product:r,options:n.join(","),timestamp:a.freshTimestamp||0},dataType:"json"}).done(function(e){console.log("getNewPrintPrice",n),e?(a.photoPrice.oriPrice=+e.oriPrice,a.photoPrice.sPrice=+e.sPrice,a.photoPrice.couponId=e.couponId||"",a.photoPrice.options=e.options||{},a.priceChange=!0):console.log(e.error)})}},getCanvasPrice:function(e,i,r){t.ajax({url:a.domains.baseUrl+"/clientH5/product/price",type:"get",data:{product:e,options:i,userId:r},dataType:"json"}).done(function(e){console.log(e),e?(a.photoPrice.oriPrice=(e.oriPrice-0).toFixed(2)-0,a.photoPrice.sPrice=(e.sPrice-0).toFixed(2)-0,a.photoPrice.couponId=e.couponId||"",a.photoPrice.options=e.options||{},a.priceChange=!0):console.log(e.error)})},getPadPrice:function(e,i,r){t.ajax({url:a.domains.baseUrl+"/clientH5/product/price",type:"get",data:{product:e,options:i,userId:r},dataType:"json"}).done(function(e){console.log(e),e?("undefined"!=typeof e.trialPrice?a.photoPrice.trialPrice=+e.trialPrice:e.sPrice>0&&(a.photoPrice.trialPrice=+e.sPrice),a.photoPrice.oriPrice=+e.oriPrice,a.priceChange=!0):console.log(e.error)})},getPosterPrice:function(e,i,r){t.ajax({url:a.domains.baseUrl+"/clientH5/product/price",type:"get",data:{product:e,options:i,userId:r},dataType:"json"}).done(function(e){console.log(e),e?(a.photoPrice.oriPrice=(e.oriPrice-0).toFixed(2)-0,a.photoPrice.sPrice=(e.sPrice-0).toFixed(2)-0,a.photoPrice.couponId=e.couponId||"",a.photoPrice.options=e.options||{},a.priceChange=!0):console.log(e.error)})},getCardsPrice:function(e,i,r,n,o){t.ajax({url:a.domains.baseUrl+"/clientH5/product/book/price",type:"get",data:{product:e,options:i},dataType:"json"}).done(function(e){if(e){var t=e.data.main,i=e.data.options;a.photoPrice.oriPrice=+t.oriPrice,a.photoPrice.sPrice=+t.sPrice,a.photoPrice.couponId=t.couponId||"",a.photoPrice.options=i||{},a.priceChange=!0}else console.log(e.error)})},getLMCPrice:function(e,i,r,n,o){t.ajax({url:a.domains.baseUrl+"/clientH5/product/price",type:"get",data:{product:e,options:n,userId:o},dataType:"json"}).done(function(e){
e?(a.photoPrice.allSize.push({size:i,shape:r,oriPrice:e.oriPrice-0,sPrice:e.sPrice-0}),a.priceChange=!0):console.log(e)})},saveRemarkProject:function(e,r){var n=i(12).getRemarkProjectXml(),o=a.domains.portalBaseUrl+"/portal/h5-client/feedBackPrintsRemark.ep";t.ajax({url:o,type:"post",data:{projectId:a.projectId,remarkProjectXml:n,orderNumber:a.orderNumber,timestamp:a.timestamp,token:a.token,pUser:a.pUser}}).done(function(i){console.log(i),i&&"success"===t(i).find("resultData").attr("state")?(e&&e(),a.vm.$dispatch("dispatchShowPopup",{type:"checkFailed",status:0,info:"Reprint successfully"})):(r&&r(),a.vm.$dispatch("dispatchShowPopup",{type:"checkFailed",status:0,info:"Failed to reprint, please try again later."}))})},getPortalProject:function(){var e=this;t.ajax({url:a.domains.portalBaseUrl+"/portal/projectProcess/getProjectById.ep?projectId="+encodeURIComponent(a.projectId),type:"get",dataType:"xml"}).done(function(r){if(r){a.encProjectId=a.projectId,a.projectXml=r,a.title=t(r).find("title").text(),a.projectId=t(r).find("guid").text(),a.projectSettings.length=0;for(var n=0;n<t(r).find("spec").length;n++){for(var o=t(r).find("spec").eq(n),s=i(22),d=s(),l=0;l<o.find("option").length;l++){var c=o.find("option").eq(l);d[c.attr("id")]=c.attr("value"),"None"===d[c.attr("id")]&&(d[c.attr("id")]="none")}"categoryFrame"!==d.category&&"categoryCanvas"!==d.category&&"categoryWallarts"!==d.category||(d.metalType=d.metalType||"none","undefined"===d.metalType?d.metalType="none":d.metalType,d.finish=d.finish||"none","undefined"===d.finish?d.finish="none":d.finish);for(var h=0;h<t(r).find("tshirtSetting").eq(n).find("setting").length;h++){var p=t(r).find("tshirtSetting").eq(n).find("setting").eq(h);d[p.attr("id")]=p.attr("value")}t(r).find("frameBoard")&&(d.rotated="true"===t(r).find("frameBoard").attr("rotated"),a.bgColor=parseInt(t(r).find("frameBoard").attr("canvasBorderColor"))),console.log(d),a.projectSettings.push(d)}if("PR"==a.projectType)if(t(r).find("spec")&&t(r).find("spec").length>0){var u=t(r).find("spec").eq(0).find('option[id="size"]').attr("value"),m=t(r).find("spec").eq(0).find('option[id="paper"]').attr("value");a.baseProject.size=u,a.baseProject.paper=m}else a.baseProject.size="4X6",a.baseProject.paper="GP";if("flushMountPrint"==a.projectType)if(t(r).find("spec")&&t(r).find("spec").length>0){var u=t(r).find("spec").eq(0).find('option[id="size"]').attr("value"),m=t(r).find("spec").eq(0).find('option[id="paper"]').attr("value"),g=t(r).find("spec").eq(0).find('option[id="surfaceType"]').attr("value");a.baseProject.size=u,a.baseProject.paper=m,a.baseProject.surfaceType=g}else a.baseProject.size="4X6",a.baseProject.paper="GP",a.baseProject.surfaceType="SS";e.getAlbumId(),a.watches.isProjectLoaded=!0}})},getProjectIdByTitle:function(e){var i=a.userSettings.userId;t.ajax({url:a.domains.baseUrl+"/userid/getProjectUidByTitleAndCid.ep?customerId="+i+"&title="+encodeURIComponent(e),type:"get"}).done(function(e){e&&"success"===t(e).find("resultData").attr("state")&&(a.projectId=t(e).find("projectId").text()||"",a.vm.$dispatch("dispatchGetProjectIdByTitleSuccess"))})},createProject:function(e,r,n,o,s,d,l,c){var h="",p=(new Date).valueOf(),u=a.domains.baseUrl+"/general/"+a.userSettings.userId+"/project/"+a.projectType,m=a.title,g=a.quantity?a.quantity:1;if("CV"===a.projectType||"FM"===a.projectType){var f=a.projectSettings[a.currentSelectProjectIndex],v=f.product;u=a.domains.baseUrl+"/general/"+a.userSettings.userId+"/project/"+v}t.ajax({url:u,type:"post",data:{removeCart:a.fromCart,encodeimage:h,projectXml:o,requestKey:i(15).getRequestKey(),isFromMarketplace:a.isFromMarketplace,thumbnailPX:s,thumbnailPY:d,thumbnailPW:l,thumbnailPH:c,title:m,quantity:g}}).done(function(e){if(e&&"success"===t(e).find("resultData").attr("state")){a.projectId=t(e).find("guid").text()||"",a.projectXml=e,a.watches.isProjectLoaded=!0,a.vm.$broadcast("notifyHideNewProjectWindow"),t.ajax({url:"/userid/"+a.userSettings.userId+"/addOrUpdateAlbum",type:"get",data:"timestamp="+p+"&projectId="+a.projectId+"&albumName="+n+"&webClientId="+a.webClientId+"&autoRandomNum="+i(11).getRandomNum()}).done(function(e){if(e)if("success"==t(e).find("resultData").attr("state"))a.userSettings.albumId=t(e).find("albumId").text()||"";else if("fail"==t(e).find("resultData").attr("state")){var i=t(e).find("errorCode").text();a.errCode=!1;var n;a.title=r,n="1"===i?"Title existed, please pick another one.":"2"===i?"Please input new project name":"Save project name failed. errorInfo"+t(e).find("errorInfo").text(),a.vm.$broadcast("notifyShowNewProjectInvalidTitle",n)}}),i(9).getProjectInfo()}else{var o="Create failed";a.title=r,a.vm.$broadcast("notifyShowNewProjectInvalidTitle",o)}})},createProjectAddOrUpdateAlbum:function(e,r,n,o){var s=(new Date).valueOf();t.ajax({url:"/userid/"+a.userSettings.userId+"/addOrUpdateAlbum",type:"get",data:"timestamp="+s+"&projectId="+a.projectId+"&albumName="+e+"&webClientId="+a.webClientId+"&autoRandomNum="+i(11).getRandomNum()}).done(function(i){if(i)if("success"==t(i).find("resultData").attr("state"))a.userSettings.albumId=t(i).find("albumId").text()||"",n&&n(e);else if("fail"==t(i).find("resultData").attr("state")){var s,d=t(i).find("errorCode").text();a.title=r,s="1"===d?"Title existed, please pick another one.":"2"===d?"Please input new project name":"Save project name failed. errorInfo"+t(i).find("errorInfo").text(),a.vm.$broadcast("notifyShowNewProjectInvalidTitle",s),o&&o(e)}})},createProjectSuccess:function(e,r,n,o,s,d,l,c){var h="",p=a.domains.baseUrl+"/general/"+a.userSettings.userId+"/project/"+a.projectType,u=a.title,m=a.quantity?a.quantity:1;if(a.errCode=!0,"CV"===a.projectType||"FM"===a.projectType){var g=a.projectSettings[a.currentSelectProjectIndex],f=g.product;p=a.domains.baseUrl+"/general/"+a.userSettings.userId+"/project/"+f}t.ajax({url:p,type:"post",data:{removeCart:a.fromCart,encodeimage:h,projectXml:o,requestKey:i(15).getRequestKey(),isFromMarketplace:a.isFromMarketplace,thumbnailPX:s,thumbnailPY:d,thumbnailPW:l,thumbnailPH:c,title:u,quantity:m}}).done(function(e){if(e)if(e&&"success"===t(e).find("resultData").attr("state")){a.projectId=t(e).find("guid").text()||"",a.projectXml=e,a.watches.isProjectLoaded=!0,a.vm.$broadcast("notifyHideNewProjectWindow"),i(9).getProjectInfo()}else{var n="Create failed";a.title=r,a.vm.$broadcast("notifyShowNewProjectInvalidTitle",n)}})},getTitle:function(){var e=this,r=a.domains.baseUrl+"/web-api/customerId/"+a.userSettings.userId+"/getProjectNameByProjectId";t.ajax({url:r,type:"get",data:"projectId="+a.projectId+"&autoRandomNum="+i(11).getRandomNum()}).done(function(t){t&&"200"===t.respCode&&(a.title=t.projectName,e.getAlbumId())})},changeProjectTitle:function(e,i,r){var n=a.domains.baseUrl+"/web-api/customerId/"+a.userSettings.userId+"/updateProjectAndAlbumTitle";t.ajax({url:n,type:"get",data:"projectId="+a.projectId+"&projectName="+e}).then(function(e){e&&("200"===e.respCode?i&&i.$dispatch(r,!1,"This title already exists, please try again."):i&&i.$dispatch(r,!0,"This title already exists, please try again."))})},savePortalCardProject:function(e,i,r){a.projectXml=i;var n=(new Date).valueOf(),o=a.domains.baseUrl+"/card-template/save.ep";t.ajax({url:o,type:"post",data:{projectXml:i,autoRandomNum:n,webClientId:1}}).done(function(i){i&&"success"===t(i).find("resultData").attr("state")?(a.projectId=t(i).find("guid").text()||"",a.projectXml=i,a.watches.isProjectLoaded=!0,r&&"function"==typeof r?r():e.$dispatch("dispatchShowPopup",{type:"save",status:0})):(a.watches.isProjectLoaded=!0,"300"===t(i).find("code").text()&&e.$dispatch("dispatchShowPopup",{type:"save",status:-5}))})},getCardPortalProject:function(){var e=this;t.ajax({url:a.domains.baseUrl+"/card-template/get.ep",type:"get",dataType:"xml",data:"initGuid="+a.projectId+"&webClientId=1&autoRandomNum="+i(11).getRandomNum()}).done(function(r){if(r){a.projectXml=r,a.title=t(r).find("title").text(),a.projectId=t(r).find("guid").text(),a.projectSettings.length=0;for(var n=0;n<t(r).find("spec").length;n++){for(var o=t(r).find("spec").eq(n),s=i(22),d=s(),l=0;l<o.find("option").length;l++){var c=o.find("option").eq(l);d[c.attr("id")]=c.attr("value"),"None"===d[c.attr("id")]&&(d[c.attr("id")]="none")}for(var h=0;h<t(r).find("tshirtSetting").eq(n).find("setting").length;h++){var p=t(r).find("tshirtSetting").eq(n).find("setting").eq(h);d[p.attr("id")]=p.attr("value")}["FT","FD"].indexOf(t(r).find("project").attr("productType")!==-1)&&(a.cardId=t(r).find("card").attr("id"),a.deletedPhoto=t(r).find("deletedPhoto").text(),d.trim=d.trim?d.trim:t(r).find("trim").attr("value")),a.projectSettings.push(d)}e.getAlbumId(),a.watches.isProjectLoaded=!0}})},submitPortalCardProject:function(e,r){var n=a.domains.baseUrl+"/card-template/submit.ep";t.ajax({url:n,type:"post",dataType:"xml",data:{encodeimage1:a.encodeImage1,encodeimage2:a.encodeImage2,projectXml:r,webClientId:1,autoRandomNum:i(11).getRandomNum()}}).done(function(i){i&&"success"===t(i).find("resultData").attr("state")?(a.projectXml=i,a.isPrjSaved=!0,a.vm.$dispatch("dispatchShowPopup",{type:"save",status:1})):i&&"fail"===t(i).find("resultData").attr("state")?"201"===t(i).find("code").text()?(e.$dispatch("dispatchShowPopup",{type:"save",status:-3}),a.vm.$broadcast("notifyCloseWindow")):"202"===t(i).find("code").text()?(e.$dispatch("dispatchShowPopup",{type:"save",status:-4}),a.vm.$broadcast("notifyCloseWindow")):"205"===t(i).find("code").text()?e.$dispatch("dispatchShowPopup",{type:"login",status:0}):e.$dispatch("dispatchShowPopup",{type:"save",status:-1}):e.$dispatch("dispatchShowPopup",{type:"save",status:-1})})},getMainProject:function(e,r,n,o){var s=a.domains.baseUrl+"/clientH5/project/imageInfo";t.ajax({url:s,type:"get",dataType:"json",data:{projectId:r,autoRandomNum:i(11).getRandomNum()}}).done(function(r){if(r&&"1"===r.errorCode){var s="",d="",l="";try{s=JSON.parse(r.data)}catch(c){d=i(4).stringToXml(r.data)}if(d){var h=t(d).find("images").find("image").length;if(a.imageList=[],h>0)for(var p=0;p<h;p++){var u=t(d).find("images").find("image").eq(p).attr("id"),m=t(d).find("images").find("image").eq(p).attr("encImgId")||"";a.imageList.push({id:u,guid:t(d).find("images").find("image").eq(p).attr("guid")||"",encImgId:m,url:a.domains.uploadUrl+"/upload/UploadServer/PicRender?qaulityLevel=0&puid="+t(d).find("images").find("image").eq(p).attr("encImgId")+"&rendersize=fit"+i(15).getSecurityString(),name:decodeURIComponent(t(d).find("images").find("image").eq(p).attr("name"))||"",width:parseFloat(t(d).find("images").find("image").eq(p).attr("width"))||0,height:parseFloat(t(d).find("images").find("image").eq(p).attr("height"))||0,shotTime:t(d).find("images").find("image").eq(p).attr("shotTime")||"",orientation:t(d).find("images").find("image").eq(p).attr("orientation")||0,usedCount:0,previewUrl:""}),n&&encodeURIComponent(n)===m&&(l=u),i(23).getBlobImagePreviewUrl(p)}}else if(s){var h=s.length;if(a.imageList=[],h>0)for(var p=0;p<h;p++)a.imageList.push({id:s[p].id.toString()||"",guid:s[p].guid||"",encImgId:s[p].encImgId||"",url:a.domains.uploadUrl+"/upload/UploadServer/PicRender?qaulityLevel=0&puid="+s[p].encImgId+"&rendersize=fit"+i(15).getSecurityString(),name:decodeURIComponent(s[p].name)||"",width:parseFloat(s[p].width)||0,height:parseFloat(s[p].height)||0,shotTime:s[p].shotTime||"",orientation:s[p].orientation||0,usedCount:0,previewUrl:""}),n&&encodeURIComponent(n)===s[p].encImgId&&(l=s[p].id.toString()),i(23).getBlobImagePreviewUrl(p)}l?e.$dispatch("dispatchSingleImageUploadComplete",l):o&&a.vm.$broadcast("notifyAddMyPhotosIntoPages",a.imageList)}})},getMyPhotoImages:function(e,r,n){var o=a.domains.baseUrl+"/web-api/customer/getMyPhotosInfo";t.ajax({url:o,type:"post",dataType:"json",data:{customerId:r,autoRandomNum:i(11).getRandomNum()}}).done(function(e){if(e&&"1"===e.errorCode&&e.data){var t=JSON.parse(e.data),r=[];a.maxPageNum&&t.length>a.maxPageNum&&(t.length=a.maxPageNum),t.forEach(function(e){var t={id:String(e.id),guid:e.guid,encImgId:e.encImgId,url:a.domains.uploadUrl+"/upload/UploadServer/PicRender?qaulityLevel=0&puid="+e.encImgId+"&rendersize=fit"+i(15).getSecurityString(),name:e.name,width:e.width,height:e.height,shotTime:e.shotTime,orientation:isNaN(+e.orientation)?0:+e.orientation,previewUrl:"",usedCount:0};r.push(t),a.imageList.push(t),i(23).getBlobImagePreviewUrl(a.imageList.length-1)}),n&&a.vm.$broadcast("notifyAddMyPhotosIntoPages",r)}})},getTshirtDisableOptions:function(){var e=a.domains.baseUrl+"/clientH5/getTshirtOffLine",r=a.userSettings.userId;t.ajax({url:e,type:"get",dataType:"json",data:{customerId:r,autoRandomNum:i(11).getRandomNum()}}).done(function(e){if(e){var t=e.disable,i={},r=["S","M","L","XL","XXL"];t.forEach(function(e){var t=e.color,a=e.measure;i[t]||(i[t]=new Object,i[t].options=new Array,i[t].isAllDisabled=!1),i[t].options.push(a),i[t].options.length>=r.length&&(i[t].isAllDisabled=!0)}),a.disableOptions=i}a.watches.isDisableOptionLoaded=!0})},getLocalTshirtDisableOptions:function(){var e="./assets/data/disableTshirt.json",r=a.userSettings.userId;t.ajax({url:e,type:"get",dataType:"json",data:{customerId:r,autoRandomNum:i(11).getRandomNum()}}).done(function(e){if(e){var t=e.disable,i={},r=["S","M","L","XL","XXL"];t.forEach(function(e){var t=e.color,a=e.measure;i[t]||(i[t]=new Object,i[t].options=new Array,i[t].isAllDisabled=!1),i[t].options.push(a),i[t].options.length>=r.length&&(i[t].isAllDisabled=!0)}),a.disableOptions=i,a.watches.isDisableOptionLoaded=!0}})},deleteImageList:function(e){var i=a.userSettings.albumId,r=a.domains.baseUrl+"/web-api/album/deleteImages";a.deleImagelist&&a.deleImagelist.length>0?t.ajax({url:r,type:"post",dataType:"json",data:{data:JSON.stringify({albumId:i,images:a.deleImagelist})}}).done(function(t){a.deleImagelist=[],e&&e()}):e&&e()}}}).call(t,i(7),i(3))},function(e,t,i){(function(t){e.exports={getIsShowProjectInfoView:function(){var e=!1;return!t.checkFailed&&((t.projectInfo.isInCart||t.projectInfo.isOrdered||t.projectInfo.isInMarket)&&(e=!0),t.fromCart&&t.projectInfo.isInCart&&!t.projectInfo.isOrdered&&(e=!1),e)},getProjectInfoViewText:function(){return t.projectInfo.isInMarket?"This item was already posted to sale. You need to save your additional changes into a new project.":"Your current project was already ordered or added to cart. You need to save your additional changes into a new project."},getProjectOrderText:function(){if(!t.projectInfo.isOrdered)return"Please select at least one image before placing your order."},checkInvalid:function(e){return/^[a-zA-Z 0-9\d_\s\-]+$/.test(e)},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"==e?t:3&t|8;return i.toString(16)})},getQueryString:function(e){var t="";for(var i in e){var a=e[i];t+=encodeURIComponent(i)+"="+encodeURIComponent(a)+"&"}return t.length>0&&(t=t.substring(0,t.length-1)),t},getEncImgId:function(e){return t.imageList.filter(function(t){return t.id===e})[0].encImgId},isIncludeDisableOption:function(){var e=i(2),a=t.projectSettings[t.currentSelectProjectIndex],r=a.product,n=e.getDisableOptionValues(r),o=[];n.forEach(function(e,t,i){o=o.concat(e.split(","))});for(var s in n)console.log(s);for(var d in a)if(o.indexOf(a[d])!=-1)return!0;return!1}}}).call(t,i(3))},function(e,t,i){(function(t){e.exports={getRandomNum:function(){return Math.round(1e13*Math.random())},getInchByPx:function(e){return e=parseFloat(e)||0,e/300},getPxByInch:function(e){return e=parseFloat(e)||0,300*e},getInchByMM:function(e){e=parseFloat(e)||0;var t=parseFloat(30*e/2.54);return(t/300).toFixed(7)},getPtByPx:function(e){return e=parseFloat(e)||0,e/300*72},getPxByPt:function(e){return e=parseFloat(e)||0,300*e/72},getPxByMM:function(e){return e=parseFloat(e)||0,30*e/2.54},hexToDec:function(e){return parseInt(e.replace("#",""),16)},decToHex:function(e){for(var t=e.toString(16);t.length<6;)t="0"+t;return"#"+t},rgbToHsl:function(e,t,i){e/=255,t/=255,i/=255;var a,r,n=Math.max(e,t,i),o=Math.min(e,t,i),s=(n+o)/2;if(n==o)a=r=0;else{var d=n-o;switch(r=s>.5?d/(2-n-o):d/(n+o),n){case e:a=(t-i)/d+(t<i?6:0);break;case t:a=(i-e)/d+2;break;case i:a=(e-t)/d+4}a/=6}return[a,r,s]},getTextViewFontSize:function(e){if(e&&e>0){var i=t.pages[t.selectedPageIdx].canvas.ratio,a=parseFloat(e)*i;return a}return 0},toFixed:function(e,t){const i=String(e),a=i.indexOf(".");return a!==-1?i.substr(0,a+t+1):i},round:function(e,t){if(isNaN(e))return 0;const i=Math.pow(10,2),a=Math.round(e*i)/i;return parseFloat(this.toFixed(a,t))}}}).call(t,i(3))},function(e,t,a){(function(t,r){e.exports={getFrameBaseSize:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=e.product,r=e.frameStyle,n=e.size,o=a(2).getParameter("frameBaseSize",[{key:"product",value:i},{key:"frameStyle",value:r},{key:"size",value:n}]),s={},d=e.rotated;return d?(s.width=o.heightInInch*a(2).getDPI(),s.height=o.widthInInch*a(2).getDPI()):(s.width=o.widthInInch*a(2).getDPI(),s.height=o.heightInInch*a(2).getDPI()),s},getCanvasBorderThickness:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=e.product,r=e.frameStyle,n=e.canvasBorderSize,o=a(2).getParameter("canvasBorderThickness",[{key:"product",value:i},{key:"canvasBorderSize",value:n},{key:"frameStyle",value:r}]),s={},d=e.rotated;return d?(s.top=parseInt(o.left),s.bottom=parseInt(o.right),s.left=parseInt(o.top),s.right=parseInt(o.bottom)):(s.top=parseInt(o.top),s.bottom=parseInt(o.bottom),s.left=parseInt(o.left),s.right=parseInt(o.right)),s},getFrameBorderThickness:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=e.product,r=e.frameStyle,n=a(2).getParameter("frameBorderThickness",[{key:"product",value:i},{key:"frameStyle",value:r}]),o={},s=e.rotated;return s?(o.top=parseInt(n.left),o.bottom=parseInt(n.right),o.left=parseInt(n.top),o.right=parseInt(n.bottom)):(o.top=parseInt(n.top),o.bottom=parseInt(n.bottom),o.left=parseInt(n.left),o.right=parseInt(n.right)),o},getBleed:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=e.product,r=e.size,n=e.frameStyle,o=a(2).getParameter("bleed",[{key:"product",value:i},{key:"frameStyle",value:n},{key:"size",value:r}]),s={},d=e.rotated;return d?(s.top=parseInt(o.left),s.bottom=parseInt(o.right),s.left=parseInt(o.top),s.right=parseInt(o.bottom)):(s.top=parseInt(o.top),s.bottom=parseInt(o.bottom),s.left=parseInt(o.left),s.right=parseInt(o.right)),s},getBoardInFrame:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=e.product,r=e.frameStyle,n=e.size,o=a(2).getParameter("boardInFrame",[{key:"product",value:i},{key:"frameStyle",value:r},{key:"size",value:n}]),s={},d=e.rotated;return d?(s.top=parseInt(o.left),s.bottom=parseInt(o.right),s.left=parseInt(o.top),s.right=parseInt(o.bottom)):(s.top=parseInt(o.top),s.bottom=parseInt(o.bottom),s.left=parseInt(o.left),s.right=parseInt(o.right)),s},getBoardInMatting:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=e.product,r=e.size,n=e.matte,o=e.frameStyle,s=a(2).getParameter("boardInMatting",[{key:"product",value:i},{key:"frameStyle",value:o},{key:"size",value:r},{key:"matte",value:n}]),d={},l=e.rotated;return l?(d.top=parseInt(s.left),d.bottom=parseInt(s.right),d.left=parseInt(s.top),d.right=parseInt(s.bottom)):(d.top=parseInt(s.top),d.bottom=parseInt(s.bottom),d.left=parseInt(s.left),d.right=parseInt(s.right)),d},getMatteSize:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=e.size,r=e.matte,n=e.product,o=e.frameStyle,s=a(2).getParameter("matteSize",[{key:"product",value:n},{key:"frameStyle",value:o},{key:"size",value:i},{key:"matte",value:r}]),d={},l=e.rotated;return l?(d.top=parseInt(s.left),d.bottom=parseInt(s.right),d.left=parseInt(s.top),d.right=parseInt(s.bottom)):(d.top=parseInt(s.top),d.bottom=parseInt(s.bottom),d.left=parseInt(s.left),d.right=parseInt(s.right)),d},getMatteStyleColor:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=e.matteStyle,r=a(2).getParameter("matteStyleColor",[{key:"matteStyle",value:i}]);return r&&"0"===r.color?0:16777215},getInitProjectXml:function(){var e=(t.projectSettings[t.currentSelectProjectIndex],this.getBaseInfoXml()),i=this.getOptionXml(),n=this.getFrameBoardXml(),o=this.getMatteLayerXml(),s=this.getPhotoLayerXml(),d=this.getIntiElementXml(),l=this.getImagesXml();return r(e).find("photoFrame").append(i.firstChild.cloneNode(!0)),r(n).find("frameBoard").append(o.firstChild.cloneNode(!0)),r(s).find("photosLayer").append(d.firstChild.cloneNode(!0)),r(n).find("frameBoard").append(s.firstChild.cloneNode(!0)),r(e).find("photoFrame").append(n.firstChild.cloneNode(!0)),r(e).find("project").append(l.firstChild.cloneNode(!0)),a(4).xmlToString(e)},getCurrentProjectXml:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=this.getBaseInfoXml(),n=this.getOptionXml(),o=this.getFrameBoardXml(),s=this.getMatteLayerXml(),d=this.getPhotoLayerXml(),l=this.getElementsXml(),c=this.getImagesXml();return r(i).find("photoFrame").append(n.firstChild.cloneNode(!0)),"none"!==e.matte&&r(o).find("frameBoard").append(s.firstChild.cloneNode(!0)),r(d).find("photosLayer").append(l.firstChild.cloneNode(!0)),r(o).find("frameBoard").append(d.firstChild.cloneNode(!0)),r(i).find("photoFrame").append(o.firstChild.cloneNode(!0)),r(i).find("project").append(c.firstChild.cloneNode(!0)),a(4).xmlToString(i)},getOptionXml:function(e){e||(e=t.currentSelectProjectIndex);for(var i=t.projectSettings[e],r='<spec version="'+a(2).getVersion()+'">',n=a(2).getOptionIds(),o=0;o<n.length;o++)r+='<option id="'+n[o]+'" value="'+i[n[o]]+'"/>';return r+="</spec>",a(4).stringToXml(r)},getElementsXml:function(e){e||(e=t.currentSelectProjectIndex);for(var i=(t.projectSettings[e],t.pages[e].canvas),r=i.params,n="<elements>",o=0;o<r.length;o++){var s=r[o].x,d=r[o].y,l=r[o].width,c=r[o].height,h=s/i.oriWidth,p=d/i.oriHeight,u=c/i.oriHeight,m=l/i.oriWidth,g=r[o].rotate,f=r[o].dep,v=r[o].imageId,_=r[o].imageRotate,y=!1,S=parseFloat(r[o].cropPX),w=parseFloat(r[o].cropPY),x=parseFloat(r[o].cropPW),M=parseFloat(r[o].cropPH);console.log(r[o]),"text"===r[o].elType?n+='<element type="TextElement" x="'+s+'" y="'+d+'" width="'+l+'" height="'+c+'" px="'+h+'" py="'+p+'" pw="'+m+'" ph="'+u+'" rot="'+g+'" dep="'+f+'" color="'+r[o].fontColor+'" fontSize="'+parseFloat(r[o].fontSize)/i.oriHeight+'" fontFamily="'+encodeURIComponent(r[o].fontFamily)+'" fontWeight="'+r[o].fontWeight+'" textAlign="'+r[o].textAlign+'" ><![CDATA['+encodeURIComponent(r[o].text)+"]]></element>":"logo"===r[o].elType?n+='<element type="LogoElement" x="'+s+'" y="'+d+'" width="'+l+'" height="'+c+'" px="'+h+'" py="'+p+'" pw="'+m+'" ph="'+u+'" rot="'+g+'" dep="'+f+'" imageid="'+v+'" imgRot="'+_+'" imgFlip="'+y+'" cropLUX="'+S.toString()+'" cropLUY="'+w.toString()+'" cropRLX="'+(S+x)+'" cropRLY="'+(w+M).toString()+'" />':"image"===r[o].elType&&(n+='<element type="PhotoElement" x="'+s+'" y="'+d+'" width="'+l+'" height="'+c+'" px="'+h+'" py="'+p+'" pw="'+m+'" ph="'+u+'" rot="'+g+'" dep="'+f+'" imageid="'+v+'" imgRot="'+_+'" imgFlip="'+y+'" cropLUX="'+S.toString()+'" cropLUY="'+w.toString()+'" cropRLX="'+(S+x)+'" cropRLY="'+(w+M).toString()+'" />')}return n+="</elements>",a(4).stringToXml(n)},getIntiElementXml:function(){var e=(t.projectSettings[t.currentSelectProjectIndex],this.getPhotoLayer()),i=(e.width,e.height,"<elements></elements>");return a(4).stringToXml(i)},getBaseInfoXml:function(){var e=(t.projectSettings[t.currentSelectProjectIndex],'<project schemaVersion="2.0" clientId="web-h5"><guid>'+t.projectId+"</guid><userId>"+t.userSettings.userId+"</userId><artisan>"+t.userSettings.userName+"</artisan><title><![CDATA["+t.title+"]]></title><description></description><createdDate></createdDate><updatedDate></updatedDate><uiSetting><templateStrip><showTemplatePanel>false</showTemplatePanel><autoLayout>false</autoLayout></templateStrip></uiSetting><photoFrame></photoFrame></project>");return a(4).stringToXml(e)},getFrameBoardXml:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=e.rotated,r=this.getFrameBaseSize(),n=this.getFrameBorderThickness(),o=n.top,s=n.bottom,d=n.left,l=n.right,c=this.getCanvasBorderThickness(),h=c.top,p=c.bottom,u=c.left,m=c.right,g=this.getBoardInFrame(),f=g.top,v=g.bottom,_=g.left,y=g.right,S=this.getBoardInMatting(),w=S.top,x=S.bottom,M=S.left,L=S.right,b=r.width+u+m,T=r.height+h+p,I=t.bgColor+"";isNaN(I)&&(I="0");var P='<frameBoard rotated="'+i+'" height="'+T+'" width="'+b+'" frameBorderThicknessTop="'+o+'" frameBorderThicknessBottom="'+s+'" frameBorderThicknessLeft="'+d+'" frameBorderThicknessRight="'+l+'" canvasBorderThicknessTop="'+h+'" canvasBorderThicknessBottom="'+p+'" canvasBorderThicknessLeft="'+u+'" canvasBorderThicknessRight="'+m+'" boardInFrameTop="'+f+'" boardInFrameBottom="'+v+'" boardInFrameLeft="'+_+'" boardInFrameRight="'+y+'" boardInMattingTop="'+w+'" boardInMattingBottom="'+x+'" boardInMattingLeft="'+M+'" boardInMattingRight="'+L+'" canvasBorderColor="'+I+'"></frameBoard>';return a(4).stringToXml(P)},getMatteLayerXml:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=e.matte,r=this.getMatteStyleColor(),n=this.getMatteSize(),o=n.top,s=n.bottom,d=n.left,l=n.right,c='<matteLayer id="'+i+'" x="0" y="0" px="0" py="0" matteTop="'+o+'" matteBottom="'+s+'" matteLeft="'+d+'" matteRight="'+l+'" depth="1" color="'+r+'"/>';return a(4).stringToXml(c)},getPhotoLayerXml:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=this.getPhotoLayer(),r=this.getBleed(),n=r.top,o=r.bottom,s=r.left,d=r.right,l=i.x,c=i.y,h=i.px,p=i.py,u=i.pw,m=i.ph,g=i.width,f=i.height;console.log("color",t.bgColor);var v=e.tplGuid,_=e.tplSuitId,y="";return y=v&&_?'<photosLayer x="'+l+'" y="'+c+'" width="'+g+'" height="'+f+'" px="'+h+'" py="'+p+'" pw="'+u+'" ph="'+m+'" bleedTop="'+n+'" bleedBottom="'+o+'" bleedLeft="'+s+'" bleedRight="'+d+'" tplGuid="'+v+'" tplSuitId="'+_+'"></photosLayer>':'<photosLayer x="'+l+'" y="'+c+'" width="'+g+'" height="'+f+'" px="'+h+'" py="'+p+'" pw="'+u+'" ph="'+m+'" bleedTop="'+n+'" bleedBottom="'+o+'" bleedLeft="'+s+'" bleedRight="'+d+'"></photosLayer>',a(4).stringToXml(y)},getImagesXml:function(){var e="<images>";for(i=0;i<t.imageList.length;i++){var r=isNaN(t.imageList[i].orientation)?"":'orientation="'+t.imageList[i].orientation+'" ';e+='<image id="'+t.imageList[i].id+'" guid="'+t.imageList[i].guid+'" encImgId="'+t.imageList[i].encImgId+'" order="'+i+'" name="'+encodeURIComponent(t.imageList[i].name)+'" width="'+t.imageList[i].width+'" height="'+t.imageList[i].height+'" shotTime="'+t.imageList[i].shotTime+'" '+r+"/>"}return e+="</images>",a(4).stringToXml(e)},getPhotoLayer:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i={},r=(e.rotated,this.getFrameBaseSize()),n=this.getFrameBorderThickness(),o=(n.top,n.bottom,n.left,n.right,this.getCanvasBorderThickness()),s=o.top,d=o.bottom,l=o.left,c=o.right,h=this.getBoardInFrame(),p=(h.top,h.bottom,h.left,h.right,this.getBoardInMatting()),u=p.top,m=p.bottom,g=p.left,f=p.right,v=this.getBleed(),_=v.top,y=v.bottom,S=v.left,w=v.right,e=t.projectSettings[t.currentSelectProjectIndex],x=e.product,M=e.size,L=e.matte,x=e.product,b=e.frameStyle,T=a(2).getParameter("matteSize",[{key:"product",value:x},{key:"frameStyle",value:b},{key:"size",value:M},{key:"matte",value:L}]),I=parseInt(T.top),P=parseInt(T.bottom),k=parseInt(T.left),D=parseInt(T.right),Y=a(2).getParameter("floatBgSize",[{key:"product",value:x},{key:"size",value:M}]),j=Y?parseInt(Y.top):0,C=Y?parseInt(Y.left):0,H=Y?parseInt(Y.right):0,F=Y?parseInt(Y.bottom):0,E=r.width+l+c,O=r.height+s+d,A=0,R=0,z=0,B=0;e.rotated?(A=P-y-m+F,R=k-S-g+C,z=E+_+y-I-P+u+m-j-F,B=O+S+w-k-D+g+f-C-H):(A=k-S-g+C,R=I-_-u+j,z=E+S+w-k-D+g+f-C-H,B=O+_+y-I-P+u+m-j-F);var W=A/E,U=R/O,N=z/E,X=B/O;return i.x=A,i.y=R,i.width=z,i.height=B,i.px=W,i.py=U,i.pw=N,i.ph=X,i},getFrameBorderAsset:function(){var e=t.projectSettings[t.currentSelectProjectIndex];return a(2).getVariable("frameBorderAsset",[{key:"product",value:e.product},{key:"color",value:e.color}])},isSupportMatte:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=a(2).getVariable("availableOperation",[{key:"product",value:e.product},{key:"frameStyle",value:e.frameStyle}]);return"true"===i.supportMatte},isSupportGlass:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=a(2).getVariable("availableOperation",[{key:"product",value:e.product},{key:"frameStyle",value:e.frameStyle}]);return"true"===i.supportGlassStyle},getBaseSize:function(e){e||(e=t.currentSelectProjectIndex);var i=t.projectSettings[e],r=i.product,n=i.size,o=a(2).getParameter("baseSize",[{key:"product",value:r},{key:"size",value:n}]),s={},d=i.rotated;return d?(s.width=o.heightInInch*a(2).getDPI(),s.height=o.widthInInch*a(2).getDPI()):(s.width=o.widthInInch*a(2).getDPI(),s.height=o.heightInInch*a(2).getDPI()),s},getPageBleed:function(e){e||(e=t.currentSelectProjectIndex);var i=t.projectSettings[e],r=i.product,n=i.size,o=a(2).getParameter("pageBleed",[{key:"product",value:r},{key:"size",value:n}]),s={},d=i.rotated;return d?(s.top=parseInt(o.left),s.bottom=parseInt(o.right),s.left=parseInt(o.top),s.right=parseInt(o.bottom)):(s.top=parseInt(o.top),s.bottom=parseInt(o.bottom),s.left=parseInt(o.left),s.right=parseInt(o.right)),s},getProuctCode:function(){for(var e=t.projectSettings.length,i="|",a=0;a<e;a++){var r=t.projectSettings[a].product;i.indexOf("|"+r+"|")<0&&(i+=r+"|")}return i.substring(1,i.length-1)},getPosterBaseInfoXml:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=(e.product,'<project schemaVersion="3.0" createAuthor="web-h5|1.0|1" clientId="web-h5" productCode="'+this.getProuctCode()+'" categoryCode="'+t.category+'"><guid>'+t.projectId+"</guid><userId>"+t.userSettings.userId+"</userId><artisan>"+t.userSettings.userName+"</artisan><title><![CDATA["+t.title+"]]></title><description/><createdDate></createdDate><updatedDate></updatedDate><products></products></project>");return a(4).stringToXml(i)},getPosterInitProjectXml:function(){var e=this.getPosterBaseInfoXml(),t=this.getInitPosterXml(),i=this.getImagesXml();return r(e).find("products").append(t.firstChild.cloneNode(!0)),r(e).find("project").append(i.firstChild.cloneNode(!0)),a(4).xmlToString(e)},getInitPosterXml:function(){for(var e="",i=t.projectSettings.length,r=0;r<i;r++){var n=t.projectSettings[r];e+='<product type="'+n.product+'">';var o=this.getOptionXml(r);e+=a(4).xmlToString(o),e+="<productSetting/>",e+="<contents>";var s=this.getInitPosterContentXml();e+=a(4).xmlToString(s),e+="</contents>",e+="</product>"}return a(4).stringToXml(e)},getInitPosterContentXml:function(){var e=t.projectSettings[0],i=this.getContent(0),r=e.rotated,n="null",o="null",s='<content width="'+i.width+'" height="'+i.height+'" bleedTop="'+i.bleedTop+'" bleedBottom="'+i.bleedBottom+'" bleedLeft="'+i.bleedLeft+'" bleedRight="'+i.bleedRight+'" type="front"  tplGuid="'+n+'" tplSuitId="'+o+'" rotated="'+r+'">';return s+="<elememts>",s+='<element type="PhotoElement" x="0" y="0" width="'+i.width+'" height="'+i.height+'" px="0" py="0" pw="1" ph="1" rot="0" dep="0" imageid="" imgRot="0" imgFlip="false" cropLUX="0" cropLUY="0" cropRLX="1" cropRLY="1" />',s+="</elememts>",s+="</content>",a(4).stringToXml(s)},getPosterCurrentProjectXml:function(){var e=this.getPosterBaseInfoXml(),t=this.getProductXml(),i=this.getImagesXml();return r(e).find("products").append(t.firstChild.cloneNode(!0)),r(e).find("project").append(i.firstChild.cloneNode(!0)),a(4).xmlToString(e)},getContent:function(e){e||(e=t.currentSelectProjectIndex);var i=t.projectSettings[e],a={},r=(i.rotated,this.getBaseSize()),n=r.width,o=r.height,s=this.getPageBleed(),d=s.top,l=s.bottom,c=s.left,h=s.right,p=n+c+h,u=o+d+l,a={};return a.width=p,a.height=u,a.bleedTop=d,a.bleedBottom=l,a.bleedLeft=c,a.bleedRight=h,a},getProductXml:function(){for(var e="",i=t.projectSettings.length,r=0;r<i;r++){var n=t.projectSettings[r];e+='<product type="'+n.product+'">';var o=this.getOptionXml(r);e+=a(4).xmlToString(o),e+="<productSetting/>",e+="<contents>";var s=this.getContentXml(r);e+=a(4).xmlToString(s),e+="</contents>",
e+="</product>"}return a(4).stringToXml(e)},getInitProductXml:function(){for(var e="",i=t.projectSettings.length,r=0;r<i;r++){var n=t.projectSettings[r];e+='<product type="'+n.product+'">';var o=this.getOptionXml(r);e+=a(4).xmlToString(o),e+="<productSetting/>",e+="<contents>";var s=this.getInitContentXml();e+=a(4).xmlToString(s),e+="</contents>",e+="</product>"}return a(4).stringToXml(e)},getContentXml:function(e){e||(e=t.currentSelectProjectIndex);var i=t.projectSettings[e],r=this.getContent(e),n=i.rotated,o=i.tplGuid,s=i.tplSuitId,d='<content width="'+r.width+'" height="'+r.height+'" bleedTop="'+r.bleedTop+'" bleedBottom="'+r.bleedBottom+'" bleedLeft="'+r.bleedLeft+'" bleedRight="'+r.bleedRight+'" type="front"  tplGuid="'+o+'" tplSuitId="'+s+'" rotated="'+n+'">',l=this.getElementsXml(e);return d+=a(4).xmlToString(l),d+="</content>",a(4).stringToXml(d)},getInitContentXml:function(){var e=t.projectSettings[0],i=this.getContent(0),r=e.rotated,n="null",o="null",s='<content width="'+i.width+'" height="'+i.height+'" bleedTop="'+i.bleedTop+'" bleedBottom="'+i.bleedBottom+'" bleedLeft="'+i.bleedLeft+'" bleedRight="'+i.bleedRight+'" type="front"  tplGuid="'+n+'" tplSuitId="'+o+'" rotated="'+r+'">';return s+="<elememts>",s+="</elememts>",s+="</content>",a(4).stringToXml(s)},getPhonecaseBaseSize:function(e){e||(e=t.currentSelectProjectIndex);var i=t.projectSettings[e],r=i.product,n=i.deviceType,o=a(2).getDPI(),s=a(2).getParameter("baseSizeInInch",[{key:"product",value:r},{key:"deviceType",value:n}]),d={};return d.width=s.width*o,d.height=s.height*o,d},getPhonecaseSide:function(e){e||(e=t.currentSelectProjectIndex);var i=t.projectSettings[e],r=i.product,n=i.deviceType,o=a(2).getDPI(),s=a(2).getParameter("sideInInch",[{key:"product",value:r},{key:"deviceType",value:n}]),d={};return d.top=s.top*o,d.bottom=s.bottom*o,d.left=s.left*o,d.right=s.right*o,d},getPhonecaseEdge:function(e){e||(e=t.currentSelectProjectIndex);var i=t.projectSettings[e],r=i.product,n=i.deviceType,o=a(2).getDPI(),s=a(2).getParameter("edgeInInch",[{key:"product",value:r},{key:"deviceType",value:n}]),d={};return d.top=s.top*o,d.bottom=s.bottom*o,d.left=s.left*o,d.right=s.right*o,d},getPhonecaseBleed:function(e){e||(e=t.currentSelectProjectIndex);var i=t.projectSettings[e],r=i.product,n=i.deviceType,o=a(2).getDPI(),s=a(2).getParameter("bleedInInch",[{key:"product",value:r},{key:"deviceType",value:n}]),d={};return d.top=s.top*o,d.bottom=s.bottom*o,d.left=s.left*o,d.right=s.right*o,d},getPhonecaseForeground:function(e){e||(e=t.currentSelectProjectIndex);var i=t.projectSettings[e],r=i.product,n=i.deviceType,o=a(2).getVariable("foreground",[{key:"product",value:r},{key:"deviceType",value:n}]),s={};return s.width=o.width,s.height=o.height,s.top=o.paddingTop,s.right=o.paddingRight,s.left=o.paddingLeft,s.bottom=o.paddingBottom,s},getPhonecaseBaseInfoXml:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=(e.product,'<project schemaVersion="2.0" createAuthor="web-h5|1.0|1" clientId="web-h5" product="'+t.product+'" productType="'+t.projectType+'"><guid>'+t.projectId+"</guid><userId>"+t.userSettings.userId+"</userId><artisan>"+t.userSettings.userName+"</artisan><title><![CDATA["+t.title+"]]></title><description/><createdDate></createdDate><updatedDate></updatedDate><endpointToken></endpointToken><phoneCase></phoneCase></project>");return a(4).stringToXml(i)},getPhonecasePhotoLayerXml:function(){var e=(t.projectSettings[t.currentSelectProjectIndex],this.getPhonecasePhotoLayer()),i=this.getPhonecaseBleed(),r=i.top,n=i.bottom,o=i.left,s=i.right,d=e.x,l=e.y,c=e.px,h=e.py,p=e.pw,u=e.ph,m=e.width,g=e.height;console.log("color",t.bgColor);var f='<photosLayer x="'+d+'" y="'+l+'" width="'+m+'" height="'+g+'" px="'+c+'" py="'+h+'" pw="'+p+'" ph="'+u+'" bleedTop="'+r+'" bleedBottom="'+n+'" bleedLeft="'+o+'" bleedRight="'+s+'"></photosLayer>';return a(4).stringToXml(f)},getPhonecasePhotoLayer:function(){var e=(t.projectSettings[t.currentSelectProjectIndex],{}),i=this.getPhonecaseBaseSize(),a=i.width,r=i.height,n=this.getPhonecaseSide(),o=n.top,s=n.bottom,d=n.left,l=n.right,c=this.getPhonecaseEdge(),h=c.top,p=c.bottom,u=c.left,m=c.right,g=this.getPhonecaseBleed(),f=g.top,v=g.bottom,_=g.left,y=g.right,S=0,w=0,x=0,M=0;S=-(d+u+_),w=-(o+h+f),x=a+d+l+u+m+_+y,M=r+o+s+h+p+f+v;var L=S/a,b=w/r,T=x/a,I=M/r;return e.x=S,e.y=w,e.width=x,e.height=M,e.px=L,e.py=b,e.pw=T,e.ph=I,e},getPhonecaseInitProjectXml:function(){var e=(t.projectSettings[t.currentSelectProjectIndex],this.getPhonecaseBaseInfoXml()),i=this.getOptionXml(),n=this.getFaceXml(),o=this.getPhonecasePhotoLayerXml(),s=this.getPhonecaseInitElemntsXml(),d=this.getImagesXml();return r(e).find("phoneCase").append(i.firstChild.cloneNode(!0)),r(e).find("phoneCase").append(n.firstChild.cloneNode(!0)),r(e).find("face").append(o.firstChild.cloneNode(!0)),r(e).find("photosLayer").append(s.firstChild.cloneNode(!0)),r(e).find("project").append(d.firstChild.cloneNode(!0)),a(4).xmlToString(e)},getPhonecaseCurrentProjectXml:function(){var e=(t.projectSettings[t.currentSelectProjectIndex],this.getPhonecaseBaseInfoXml()),i=this.getOptionXml(),n=this.getFaceXml(),o=this.getPhonecasePhotoLayerXml(),s=this.getElementsXml(),d=this.getImagesXml();return r(e).find("phoneCase").append(i.firstChild.cloneNode(!0)),r(e).find("phoneCase").append(n.firstChild.cloneNode(!0)),r(e).find("face").append(o.firstChild.cloneNode(!0)),r(e).find("photosLayer").append(s.firstChild.cloneNode(!0)),r(e).find("project").append(d.firstChild.cloneNode(!0)),a(4).xmlToString(e)},getPhonecaseInitElemntsXml:function(){var e=this.getPhonecasePhotoLayer(),t="<elements>",i=0,r=0,n=e.width,o=e.height,s=i/e.width,d=r/e.height,l=o/e.height,c=n/e.width,h=0,p=0,u="",m=!1,g=!1,f=0,v=0,_=1,y=1;return t+='<element type="PhotoElement" x="'+i+'" y="'+r+'" width="'+n+'" height="'+o+'" px="'+s+'" py="'+d+'" pw="'+c+'" ph="'+l+'" rot="'+h+'" dep="'+p+'" imageid="'+u+'" imgRot="'+m+'" imgFlip="'+g+'" cropLUX="'+f+'" cropLUY="'+v+'" cropRLX="'+(f+_)+'" cropRLY="'+(v+y)+'" />',t+="</elements>",a(4).stringToXml(t)},getFaceXml:function(){for(var e=this.getPhonecaseBaseSize(),i=e.width,r=e.height,n=this.getPhonecaseSide(),o=n.top,s=n.bottom,d=n.left,l=n.right,c=this.getPhonecaseEdge(),h=c.top,p=c.bottom,u=c.left,m=c.right,g="",f=t.projectSettings.length,v=0;v<f;v++){t.projectSettings[v];g+='<face width="'+i+'" height="'+r+'" sideLeft="'+d+'" sideTop="'+o+'" sideRight="'+l+'" sideBottom="'+s+'" edgeLeft="'+u+'" edgeTop="'+h+'" edgeRight="'+m+'" edgeBottom="'+p+'">',g+="</face>"}return a(4).stringToXml(g)},getPhonecaseContent:function(e){e||(e=t.currentSelectProjectIndex);var i=(t.projectSettings[e],{}),a=this.getPhonecaseBaseSize(),r=a.width,n=a.height,o=this.getPhonecaseSide(),s=o.top,d=o.bottom,l=o.left,c=o.right,h=this.getPhonecaseEdge(),p=h.top,u=h.bottom,m=h.left,g=h.right,f=this.getPhonecaseBleed(),v=f.top,_=f.bottom,y=f.left,S=f.right,w=this.getPhonecaseForeground(),x=r+y+S+m+g+l+c,M=n+v+_+p+u+s+d,L=w.width-w.left-w.right,b=(w.height-w.top-w.bottom,r/L),T=w.width*b,I=w.height*b;return i.bgWidth=T,i.bgHeight=I,i.width=x,i.height=M,i.x=w.left*b-y-l-m,i.y=w.top*b-v-s-p,i.bleedTop=v,i.bleedBottom=_,i.bleedLeft=y,i.bleedRight=S,i.sideTop=s,i.sideBottom=d,i.sideLeft=l,i.sideRight=c,i.edgeTop=p,i.edgeBottom=u,i.edgeLeft=m,i.edgeRight=g,i},getWallArtsInitProjectXml:function(){var e=(t.projectSettings[t.currentSelectProjectIndex],this.getBaseInfoXml()),i=this.getOptionXml(),n=this.getFrameBoardXml(),o=this.getMatteLayerXml(),s=this.getPhotoLayerXml(),d=this.getWallArtsIntiElementXml(),l=this.getImagesXml();return r(e).find("photoFrame").append(i.firstChild.cloneNode(!0)),r(n).find("frameBoard").append(o.firstChild.cloneNode(!0)),r(s).find("photosLayer").append(d.firstChild.cloneNode(!0)),r(n).find("frameBoard").append(s.firstChild.cloneNode(!0)),r(e).find("photoFrame").append(n.firstChild.cloneNode(!0)),r(e).find("project").append(l.firstChild.cloneNode(!0)),a(4).xmlToString(e)},getWallArtsIntiElementXml:function(){var e=(t.projectSettings[t.currentSelectProjectIndex],this.getPhotoLayer()),i=e.width,r=e.height,n='<elements><element type="PhotoElement" x="0" y="0" width="'+i+'" height="'+r+'" px="0" py="0" pw="1" ph="1" rot="0" dep="0" imageid="" imgRot="0" imgFlip="false" cropLUX="0" cropLUY="0" cropRLX="1" cropRLY="1" /></elements>';return a(4).stringToXml(n)},getPrintInitProjectXml:function(){return a(4).xmlToString(this.getPrintInitXml())},getPrintInitXml:function(){var e='<project schemaVersion="1" createAuthor="web-h5|1.0|1" clientId="web-h5" product="'+t.baseProject.product+'" productType="'+t.projectType+'" baseSize="'+t.baseProject.size+'" basePaper="'+t.baseProject.paper+'"><guid>'+t.projectId+"</guid><userId>"+t.userSettings.userId+"</userId><artisan>"+t.userSettings.userName+"</artisan><title><![CDATA["+t.title+"]]></title><description/><createdDate></createdDate><updatedDate></updatedDate><endpointToken></endpointToken><prints></prints><images></images></project>";return a(4).stringToXml(e)},getPrintBaseProjectXml:function(){var e='<project schemaVersion="1" createAuthor="web-h5|1.0|1" clientId="web-h5" product="'+t.baseProject.product+'" productType="'+t.projectType+'" baseSize="'+t.baseProject.size+'" basePaper="'+t.baseProject.paper+'"><guid>'+t.projectId+"</guid><userId>"+t.userSettings.userId+"</userId><artisan>"+t.userSettings.userName+"</artisan><title><![CDATA["+t.title+"]]></title><description/><createdDate></createdDate><updatedDate></updatedDate><endpointToken></endpointToken></project>";return a(4).stringToXml(e)},getPrintProjectXml:function(){var e=(t.projectSettings[t.currentSelectProjectIndex],this.getPrintBaseProjectXml()),i=this.getPrintContentXml(),n=this.getImagesXml();return r(e).find("project").append(i.firstChild.cloneNode(!0)),r(e).find("project").append(n.firstChild.cloneNode(!0)),a(4).xmlToString(e)},getPrintContentXml:function(){var e=t.projectSettings,i=t.pages,r="";r+="<prints>";for(var n=0;n<i.length;n++){var o=i[n].canvas,s=o.params,d=e[n];r+='<print id="'+a(10).guid()+'" quantity="'+d.quantity+'" imageId="'+s[0].imageId+'">',r+='<spec version="'+a(2).getVersion()+'">',r+='<option id="paper" value="'+d.paper+'"/>',r+='<option id="size" value="'+d.size+'"/>',"undefined"!=typeof d.surfaceType&&"undefined"!==d.surfaceType&&(r+='<option id="surfaceType" value="'+d.surfaceType+'"/>'),r+="</spec>";var l=this.getPrintBaseSize({size:d.size,rotated:d.rotated}),c=this.getPrintBleed(d.size),h=i[n].canvas.borderLength?i[n].canvas.borderLength:0,p=i[n].canvas.borderColor?i[n].canvas.borderColor:"none";r+='<content id="'+a(10).guid()+'" width="'+l.width+'" height="'+l.height+'" bleedTop="'+c.top+'" bleedBottom="'+c.bottom+'" bleedLeft="'+c.left+'" bleedRight="'+c.right+'" borderLength="'+h+'" borderColor="'+p+'">',r+="<elements>";var u=s[0].x,m=s[0].y,g=s[0].width,f=s[0].height,v=u/o.oriWidth,_=m/o.oriHeight,y=f/o.oriHeight,S=g/o.oriWidth,w=s[0].rotate,x=s[0].dep,M=s[0].imageId,L=s[0].imageRotate,b=!1,T=s[0].cropPX,I=s[0].cropPY,P=s[0].cropPW,k=s[0].cropPH;"text"===s[0].elType?r+='<element type="TextElement" x="'+u+'" y="'+m+'" width="'+g+'" height="'+f+'" px="'+v+'" py="'+_+'" pw="'+S+'" ph="'+y+'" rot="'+w+'" dep="'+x+'" color="'+s[0].fontColor+'" fontSize="'+parseFloat(s[0].fontSize)/o.oriHeight+'" fontFamily="'+encodeURIComponent(s[0].fontFamily)+'" fontWeight="'+s[0].fontWeight+'" textAlign="'+s[0].textAlign+'" ><![CDATA['+encodeURIComponent(s[0].text)+"]]></element>":"logo"===s[0].elType?r+='<element type="LogoElement" x="'+u+'" y="'+m+'" width="'+g+'" height="'+f+'" px="'+v+'" py="'+_+'" pw="'+S+'" ph="'+y+'" rot="'+w+'" dep="'+x+'" imageid="'+M+'" imgRot="'+L+'" imgFlip="'+b+'" cropLUX="'+T+'" cropLUY="'+I+'" cropRLX="'+(T+P)+'" cropRLY="'+(I+k)+'" />':"image"===s[0].elType&&(r+='<element type="PhotoElement" x="'+u+'" y="'+m+'" width="'+g+'" height="'+f+'" px="'+v+'" py="'+_+'" pw="'+S+'" ph="'+y+'" rot="'+w+'" dep="'+x+'" imageid="'+M+'" imgRot="'+L+'" imgFlip="'+b+'" cropLUX="'+T+'" cropLUY="'+I+'" cropRLX="'+(T+P)+'" cropRLY="'+(I+k)+'" />'),r+="</elements>",r+="</content>",r+="</print>"}return r+="</prints>",a(4).stringToXml(r)},getRemarkProjectXml:function(){var e=(t.projectSettings[t.currentSelectProjectIndex],this.getPrintBaseProjectXml()),i=this.getRemarkContentXml(),n=this.getImagesXml();return r(e).find("project").append(i.firstChild.cloneNode(!0)),r(e).find("project").append(n.firstChild.cloneNode(!0)),a(4).xmlToString(e)},getRemarkContentXml:function(){for(var e=t.projectSettings,i=t.pages,r=[],n=0;n<e.length;n++)t.selectedSize?t.selectedPaper?e[n].size===t.selectedSize&&e[n].paper===t.selectedPaper&&(r.push(i[n]),r[r.length-1].oid=n):e[n].size===t.selectedSize&&(r.push(i[n]),r[r.length-1].oid=n):t.selectedPaper&&e[n].paper===t.selectedPaper&&(r.push(i[n]),r[r.length-1].oid=n);if(0===r.length){r=i;for(var n=0;n<r.length;n++)r[n].oid=n}var o="";o+="<prints>";for(var n=0;n<r.length;n++){var s=r[n].canvas,d=s.params,l=e[r[n].oid];o+='<print id="'+r[n].guid+'" quantity="'+l.quantity+'" imageId="'+d[0].imageId+'">',o+='<spec version="'+a(2).getVersion()+'">',o+='<option id="paper" value="'+l.paper+'"/>',o+='<option id="size" value="'+l.size+'"/>',"undefined"!=typeof l.surfaceType&&"undefined"!==l.surfaceType&&(o+='<option id="surfaceType" value="'+l.surfaceType+'"/>'),o+="</spec>";var c=this.getPrintBaseSize({size:l.size,rotated:l.rotated}),h=this.getPrintBleed(l.size),p=i[n].canvas.borderLength?i[n].canvas.borderLength:0,u=i[n].canvas.borderColor?i[n].canvas.borderColor:"none";o+='<content id="'+s.guid+'" width="'+c.width+'" height="'+c.height+'" bleedTop="'+h.top+'" bleedBottom="'+h.bottom+'" bleedLeft="'+h.left+'" bleedRight="'+h.right+'" borderLength="'+p+'" borderColor="'+u+'">',o+="<elements>";var m=d[0].x,g=d[0].y,f=d[0].width,v=d[0].height,_=m/s.oriWidth,y=g/s.oriHeight,S=v/s.oriHeight,w=f/s.oriWidth,x=d[0].rotate,M=d[0].dep,L=d[0].imageId,b=d[0].imageRotate,T=!1,I=d[0].cropPX,P=d[0].cropPY,k=d[0].cropPW,D=d[0].cropPH;"text"===d[0].elType?o+='<element type="TextElement" x="'+m+'" y="'+g+'" width="'+f+'" height="'+v+'" px="'+_+'" py="'+y+'" pw="'+w+'" ph="'+S+'" rot="'+x+'" dep="'+M+'" color="'+d[0].fontColor+'" fontSize="'+parseFloat(d[0].fontSize)/s.oriHeight+'" fontFamily="'+encodeURIComponent(d[0].fontFamily)+'" fontWeight="'+d[0].fontWeight+'" textAlign="'+d[0].textAlign+'" ><![CDATA['+encodeURIComponent(d[0].text)+"]]></element>":"logo"===d[0].elType?o+='<element type="LogoElement" x="'+m+'" y="'+g+'" width="'+f+'" height="'+v+'" px="'+_+'" py="'+y+'" pw="'+w+'" ph="'+S+'" rot="'+x+'" dep="'+M+'" imageid="'+L+'" imgRot="'+b+'" imgFlip="'+T+'" cropLUX="'+I+'" cropLUY="'+P+'" cropRLX="'+(I+k)+'" cropRLY="'+(P+D)+'" />':"image"===d[0].elType&&(o+='<element type="PhotoElement" x="'+m+'" y="'+g+'" width="'+f+'" height="'+v+'" px="'+_+'" py="'+y+'" pw="'+w+'" ph="'+S+'" rot="'+x+'" dep="'+M+'" imageid="'+L+'" imgRot="'+b+'" imgFlip="'+T+'" cropLUX="'+I+'" cropLUY="'+P+'" cropRLX="'+(I+k)+'" cropRLY="'+(P+D)+'" />'),o+="</elements>",o+="</content>",o+="</print>"}return o+="</prints>",a(4).stringToXml(o)},getPrintBaseSize:function(e){var i,r;i=e.size?e.size:t.baseProject.size,r=!!e.rotated&&e.rotated;var n=a(2).getParameter("printsBaseSize",[{key:"product",value:"print"},{key:"size",value:i}]),o={};return r?(o.width=n.heightInInch*a(2).getDPI(),o.height=n.widthInInch*a(2).getDPI()):(o.width=n.widthInInch*a(2).getDPI(),o.height=n.heightInInch*a(2).getDPI()),o},getPrintBleed:function(e){e||(e=t.baseProject.size);var i=a(2).getParameter("bleed",[{key:"size",value:e}]),r={};return r.top=parseInt(i.left),r.bottom=parseInt(i.right),r.left=parseInt(i.top),r.right=parseInt(i.bottom),r},getCardSpread:function(e){e||(e=t.currentSelectProjectIndex);var i=(t.projectSettings[e],{}),a=this.getCardBaseSize(),r=a.width,n=a.height,o=this.getPageBleed(),s=o.top,d=o.bottom,l=o.left,c=o.right,h=r+l+c,p=n+s+d,i={};return i.width=h,i.height=p,i.bleedTop=s,i.bleedBottom=d,i.bleedLeft=l,i.bleedRight=c,i},getCardBaseSize:function(e){e||(e=t.currentSelectProjectIndex);var i=t.projectSettings[e],r=i.product,n=i.size,o=i.format,s=i.orientation,d=a(2).getParameter("baseSize",[{key:"product",value:r},{key:"size",value:n},{key:"orientation",value:s},{key:"format",value:o}]),l={};return l.width=d.widthInInch*a(2).getDPI(),l.height=d.heightInInch*a(2).getDPI(),l},getCardCurrentProjectXml:function(){var e=(t.projectSettings[t.currentSelectProjectIndex],this.getCardsBaseProjectXml()),i=this.getCardsContentXml(),n=this.getImagesXml(),o=this.getDecorationXml();return r(e).find("project").append(i.firstChild.cloneNode(!0)),r(e).find("project").append(n.firstChild.cloneNode(!0)),r(e).find("project").append(o.firstChild.cloneNode(!0)),a(4).xmlToString(e)},getCardsBaseProjectXml:function(){t.isPortal&&(t.deletedPhoto="false");var e=t.projectSettings[t.currentSelectProjectIndex],i=(e.product,'<project schemaVersion="1" clientId="web-h5" productType="'+e.product+'"><guid>'+t.projectId+"</guid><userId>"+t.userSettings.userId+"</userId><artisan>"+t.userSettings.userName+"</artisan><title><![CDATA["+t.title+"]]></title><description/><createdDate></createdDate><updatedDate></updatedDate><deletedPhoto>"+t.deletedPhoto+"</deletedPhoto></project>");return a(4).stringToXml(i)},getCardsContentXml:function(){for(var e=t.projectSettings.length,i='<card id="'+t.cardId+'">',r=0;r<e;r++){var n=(t.projectSettings[r],this.getOptionXml(r));i+=a(4).xmlToString(n);var o=this.getCardContentXml(r);i+=a(4).xmlToString(o);var s=this.getCardSettingXml(r);i+=a(4).xmlToString(s)}return i+="</card>",a(4).stringToXml(i)},getCardSettingXml:function(e){var i=" <cardSetting >";return i+='<styleId value="'+t.cardSetting.styleId+'"/>',i+='<festival value="'+t.cardSetting.festival+'"/>',t.templateGuid&&(i+='<templateGuid value="'+t.templateGuid+'"/>'),i+="</cardSetting>",a(4).stringToXml(i)},getCardContentXml:function(e){e||(e=t.currentSelectProjectIndex);for(var i=(t.projectSettings[e],t.pages),r=this.getPageBleed(),n="<spreads>",o=(this.getCardSpread(e),0);o<i.length;o++){var s=i[o];n+='<spread id="'+s.id+'" width="'+s.width+'" height="'+s.height+'" bleedTop="'+r.top+'" bleedBottom="'+r.bottom+'" bleedLeft="'+r.left+'" bleedRight="'+r.right+'" type="'+s.type+'" month="0" year="0" tplGuid="'+s.tplGuid+'" pageNumber="'+s.pageNumber+'" styleId="'+s.styleId+'" styleItemId="'+s.styleItemId+'" w="'+s.width+'" h="'+s.height+'">';var d=this.getCardElementsXml(o);n+=a(4).xmlToString(d),n+="</spread>"}return n+="</spreads>",a(4).stringToXml(n)},getCardElementsXml:function(e){e||(e=t.currentSelectProjectIndex);for(var i=(t.projectSettings[e],t.pages[e].canvas),r=i.params,n="<elements>",o=0;o<r.length;o++){var e=r[o].index?' index="'+r[o].index+'" ':"",s=r[o].x,d=r[o].y,l=r[o].width,c=r[o].height,h=s/i.oriWidth,p=d/i.oriHeight,u=c/i.oriHeight,m=l/i.oriWidth,g=r[o].rotate,f=r[o].dep,v=r[o].imageId,_=r[o].imageRotate,y=!1,S=r[o].cropPX,w=r[o].cropPY,x=r[o].cropPW,M=r[o].cropPH,L=r[o].decorationid,b=r[o].decorationtype,T=r[o].styleGuid,I=r[o].styleId,P=r[o].styleItemId,k=r[o].styleImageId,D=r[o].isFamilyName||"false",Y=r[o].textAlign||"left",j=r[o].textVAlign||"top",C=r[o].lineSpacing||"1",H=r[o].fontColor;H="string"==typeof H&&H.indexOf("#")>-1?a(11).hexToDec(H):H;var F=["tagName","tagType","mandatory","constant","isEdit","isDisableRemind","order"],E=[];F.forEach(function(e){e in r[o]&&"undefined"!=typeof r[o][e]&&"undefined"!=r[o][e]&&E.push(" "+e+'="'+r[o][e]+'"')});var O=E.join("");"style"===r[o].elType?n+='<element type="CalendarStyleElement" x="'+s+'" y="'+d+'" width="'+l+'" height="'+c+'" px="'+h+'" py="'+p+'" pw="'+m+'" ph="'+u+'" rot="'+g+'" dep="'+f+'" styleId ="'+I+'" styleItemId ="'+P+'" styleGuid ="'+T+'" imageId="'+k+'"'+e+" />":"text"===r[o].elType?n+='<element type="TextElement" x="'+s+'" y="'+d+'" width="'+l+'" height="'+c+'" px="'+h+'" py="'+p+'" pw="'+m+'" ph="'+u+'" rot="'+g+'" dep="'+f+'" color="'+H+'" fontSize="'+parseFloat(r[o].fontSize)/i.oriHeight+'" fontFamily="'+encodeURIComponent(r[o].fontFamily)+'" fontWeight="'+r[o].fontWeight+'" textAlign="'+Y+'" textVAlign="'+j+'" lineSpacing="'+C+'" isFamilyName="'+D+'"'+O+e+" ><![CDATA["+encodeURIComponent(r[o].text)+"]]></element>":"image"===r[o].elType?n+='<element type="PhotoElement" x="'+s+'" y="'+d+'" width="'+l+'" height="'+c+'" px="'+h+'" py="'+p+'" pw="'+m+'" ph="'+u+'" rot="'+g+'" dep="'+f+'" imageid="'+v+'" imgRot="'+_+'" imgFlip="'+y+'" cropLUX="'+S+'" cropLUY="'+w+'" cropRLX="'+(S+x)+'" cropRLY="'+(w+M)+'"'+e+" />":"decoration"===r[o].elType&&(isNaN(s)||isNaN(d)||isNaN(l)||isNaN(c)||(n+='<element type="DecorationElement" x="'+s+'" y="'+d+'" width="'+l+'" height="'+c+'" px="'+h+'" py="'+p+'" pw="'+m+'" ph="'+u+'" rot="'+g+'" dep="'+f+'" decorationid="'+L+'" decorationtype="'+b+'"'+e+" />"))}return n+="</elements>",a(4).stringToXml(n)},getDecorationXml:function(){for(var e="<decorations>",i=0;i<t.allDecorationList.length;i++)if(t.allDecorationList[i].count){var r=t.allDecorationList[i];e+='<decoration guid="'+r.guid+'" name="'+r.name+'" type="'+r.type+'" count="'+r.count+'" displayRatio="'+r.displayRatio+'" width="'+r.width+'" height="'+r.height+'"/>'}return e+="</decorations>",a(4).stringToXml(e)},getCardInitXml:function(){var e=t.projectSettings[t.currentSelectProjectIndex];t.cardId=a(10).guid();var i='<project schemaVersion="1" clientId="web-h5" productType="'+e.product+'"><guid>'+t.projectId+"</guid><userId>"+t.userSettings.userId+"</userId><artisan>"+t.userSettings.userName+"</artisan><title><![CDATA["+t.title+']]></title><description/><createdDate></createdDate><updatedDate></updatedDate><deletedPhoto>false</deletedPhoto><card id="'+t.cardId+'"><spec version="1.0"><option id="size" value="'+e.size+'"/><option id="paper" value="'+e.paper+'"/><option id="product" value="'+e.product+'"/><option id="orientation" value="'+e.orientation+'"/><option id="trim" value="'+e.trim+'"/></spec>',r=this.getCardContentInitString();return i+=r,i+='<cardSetting><styleId value="'+t.styleId+'"/><festival value="'+t.festival+'"/></cardSetting></card><images></images><decorations></decorations></project>'},getCardContentInitString:function(){var e=t.projectSettings[t.currentSelectProjectIndex].product,i=this.getCardSpread(),i=a(12).getCardSpread(),r=t.projectSettings[t.selectedIdx].orientation,e=t.projectSettings[t.selectedIdx].product,n="FD"===e&&"PO"==r?i.width/2:i.width,o="FD"===e&&"LA"==r?i.height/2:i.height,s="<spreads>";return s+='<spread id="'+a(10).guid()+'" width="'+n+'" height="'+o+'" bleedTop="'+i.bleedTop+'" bleedBottom="'+i.bleedBottom+'" bleedLeft="'+i.bleedLeft+'" bleedRight="'+i.bleedRight+'" type="frontPage" month="0" year="0" tplGuid="null" pageNumber="0" styleId="'+t.styleId+'" styleItemId="0" w="'+n+'" h="'+o+'"><elements>'+(t.isBlankCard?"":'<element type="CalendarStyleElement" x="0" y="0" width="'+n+'" height="'+o+'" px="0" py="0" pw="1" ph="1" rot="0" dep="-999" styleId="'+t.styleId+'" styleItemId="0" styleGuid="'+t.styleGuid+'" imageId="0" />')+'</elements></spread><spread id="'+a(10).guid()+'" width="'+n+'" height="'+o+'" bleedTop="'+i.bleedTop+'" bleedBottom="'+i.bleedBottom+'" bleedLeft="'+i.bleedLeft+'" bleedRight="'+i.bleedRight+'" type="backPage" month="0" year="0" tplGuid="null" pageNumber="1" styleId="'+t.styleId+'" styleItemId="1" w="'+n+'" h="'+o+'"><elements>'+(t.isBlankCard?"":'<element type="CalendarStyleElement" x="0" y="0" width="'+n+'" height="'+o+'" px="0" py="0" pw="1" ph="1" rot="0" dep="-999" styleId="'+t.styleId+'" styleItemId="1" styleGuid="'+t.styleGuid+'" imageId="1" />')+"</elements></spread>","FD"===e&&(s+='<spread id="'+a(10).guid()+'" width="'+i.width+'" height="'+i.height+'" bleedTop="'+i.bleedTop+'" bleedBottom="'+i.bleedBottom+'" bleedLeft="'+i.bleedLeft+'" bleedRight="'+i.bleedRight+'" type="insidePage" month="0" year="0" tplGuid="null" pageNumber="2" styleId="'+t.styleId+'" styleItemId="2" w="'+i.width+'" h="'+i.height+'"><elements></elements></spread>'),s+="</spreads>"},getPadcaseBaseInfoXml:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=(e.product,'<project schemaVersion="2.0" createAuthor="web-h5|1.0|1" clientId="web-h5" product="'+t.product+'" productType="'+t.projectType+'"><guid>'+t.projectId+"</guid><userId>"+t.userSettings.userId+"</userId><artisan>"+t.userSettings.userName+"</artisan><title><![CDATA["+t.title+"]]></title><description/><createdDate></createdDate><updatedDate></updatedDate><endpointToken></endpointToken><padCase></padCase></project>");return a(4).stringToXml(i)},getPadcaseInitProjectXml:function(){var e=(t.projectSettings[t.currentSelectProjectIndex],this.getPadcaseBaseInfoXml()),i=this.getOptionXml(),n=this.getFaceXml(),o=this.getPhonecasePhotoLayerXml(),s=this.getPhonecaseInitElemntsXml(),d=this.getImagesXml();return r(e).find("padCase").append(i.firstChild.cloneNode(!0)),r(e).find("padCase").append(n.firstChild.cloneNode(!0)),r(e).find("face").append(o.firstChild.cloneNode(!0)),r(e).find("photosLayer").append(s.firstChild.cloneNode(!0)),r(e).find("project").append(d.firstChild.cloneNode(!0)),a(4).xmlToString(e)},getPadcaseCurrentProjectXml:function(){var e=(t.projectSettings[t.currentSelectProjectIndex],this.getPadcaseBaseInfoXml()),i=this.getOptionXml(),n=this.getFaceXml(),o=this.getPhonecasePhotoLayerXml(),s=this.getElementsXml(),d=this.getImagesXml();return r(e).find("padCase").append(i.firstChild.cloneNode(!0)),r(e).find("padCase").append(n.firstChild.cloneNode(!0)),r(e).find("face").append(o.firstChild.cloneNode(!0)),r(e).find("photosLayer").append(s.firstChild.cloneNode(!0)),r(e).find("project").append(d.firstChild.cloneNode(!0)),a(4).xmlToString(e)},getProjectSettings:function(e){var i={},r=a(2).getOptionIds(),n=t.projectSettings[e||t.currentSelectProjectIndex];n||(n=t.baseProject);var o=Object.keys(n).filter(function(e){return r.some(function(t){return e===t})});return o.forEach(function(e){i[e]=n[e]}),i},getParamsList:function(e){var t=this.getProjectSettings(e);return Object.keys(t).map(function(e){return{key:e,value:t[e]}})},getSizedBgBorderParams:function(e){var i=document.getElementById(e),a=t.pages[t.selectedPageIdx].canvas,r=a.foreground,n=a.oriBgWidth,o=(a.oriBgHeight,a.oriWidth),s=a.oriHeight,d=i.width/n,l=Math.floor(r.left*d),c=Math.floor(r.top*d),h=Math.floor(o*d),p=Math.floor(s*d);return{x:l,y:c,width:h,height:p}},getWallArtsCurrentProjectJson:function(){for(var e=t.projectSettings[t.currentSelectProjectIndex],i=r(t.spec.specXml).find("product-spec").attr("version"),n=a(2).getOptionIds(),o={},s=0;s<n.length;s++)o[n[s]]=e[n[s]];o.orientation=e.rotated?"Landscape":"Portrait";var d=[this.getWallartsPages()],l={project:{version:i,clientId:"web-h5",createAuthor:"web-h5|1.1|1",userId:t.userSettings.userId,artisan:t.userSettings.userName,title:t.title,updatedDate:a(19).formatDateTime(new Date),createdDate:a(19).formatDateTime(new Date),guid:t.projectId,summary:{defaultSetting:o},pages:d,images:this.getImages()}};return l},getWallArtsInitProjectJson:function(){for(var e=t.projectSettings[t.currentSelectProjectIndex],i=r(t.spec.specXml).find("product-spec").attr("version"),n=a(2).getOptionIds(),o={},s=0;s<n.length;s++)o[n[s]]=e[n[s]];o.orientation="Landscape";var d=[this.getWallartsPages(!0)],l={project:{version:i,clientId:"web-h5",createAuthor:"web-h5|1.1|1",userId:t.userSettings.userId,artisan:t.userSettings.userName,title:t.title,updatedDate:a(19).formatDateTime(new Date),createdDate:a(19).formatDateTime(new Date),guid:t.projectId,summary:{defaultSetting:o},pages:d,images:[]}};return l},getWallartsPages:function(e){for(var i=t.projectSettings[t.currentSelectProjectIndex],r=this.getPhotoLayer(),n=this.getBleed(),o=n.top,s=n.bottom,d=n.left,l=n.right,c=(r.x,r.y,r.width),h=r.height,p=(i.tplGuid,i.tplSuitId,this.getFrameBaseSize(),this.getFrameBorderThickness()),u=p.top,m=p.bottom,g=p.left,f=p.right,v=this.getCanvasBorderThickness(),_=v.top,y=v.bottom,S=v.left,w=v.right,x=this.getBoardInFrame(),M=x.top,L=x.bottom,b=x.left,T=x.right,I=this.getBoardInMatting(),P=I.top,k=I.bottom,D=I.left,Y=I.right,j=t.bgColor+"",C=this.getMatteStyleColor(),H=this.getMatteSize(),F=H.top,E=H.bottom,O=H.left,A=H.right,R=a(2).getOptionIds(),z={},B=0;B<R.length;B++)z[R[B]]=i[R[B]];var W;return W=e?[{type:"PhotoElement",x:"0",y:"0",width:c,height:h,px:"0",py:"0",pw:"1",ph:"1",rot:"0",dep:"0",imageid:"",imgRot:"0",imgFlip:!1,cropLUX:"0",cropLUY:"0",cropRLX:"1",cropRLY:"1"}]:a(32).getElements(),i.product.indexOf("table_")>-1?{id:a(10).guid(),width:c,height:h,bgColor:"#FFFFFF",type:"Page",bleed:{top:o,bottom:s,left:d,right:l},elements:W,backend:{isPrint:!0,slice:!1},quantity:1,spec:z,frameBorder:{left:g,top:u,right:f,bottom:m},borderInFrame:{left:b,top:M,right:T,bottom:L}}:{id:a(10).guid(),width:c,height:h,bgColor:"#FFFFFF",type:"Page",bleed:{top:o,bottom:s,left:d,right:l},elements:W,backend:{isPrint:!0,slice:!1},quantity:1,spec:z,frameBorder:{left:g,top:u,right:f,bottom:m},borderInFrame:{left:b,top:M,right:T,bottom:L},boardInMatting:{left:D,top:P,right:Y,bottom:k},matteLayer:{x:0,y:0,px:0,py:0,left:O,right:A,top:F,bottom:E,color:C,depth:1},canvasBorder:{left:S,top:_,right:w,bottom:y,color:j}}},getImages:function(){for(var e=[],i=0;i<t.imageList.length;i++){var a=t.imageList[i];e.push({id:a.id,guid:a.guid,encImgId:a.encImgId,order:i,name:encodeURIComponent(a.name),width:a.width,height:a.height,shotTime:a.shotTime,orientation:a.orientation})}return e},getPhonecaseCurrentProjectJson:function(){for(var e=t.projectSettings[t.currentSelectProjectIndex],i=r(t.spec.specXml).find("product-spec").attr("version"),n=a(2).getOptionIds(),o={},s=0;s<n.length;s++)o[n[s]]=e[n[s]];var d=[this.getPhoneCasePages()],l={project:{version:i,clientId:"web-h5",createAuthor:"web-h5|1.1|1",userId:t.userSettings.userId,artisan:t.userSettings.userName,title:t.title,updatedDate:a(19).formatDateTime(new Date),createdDate:a(19).formatDateTime(new Date),guid:t.projectId,summary:{defaultSetting:o},pages:d,images:this.getImages()}};return l},getPhonecaseInitProjectJson:function(){for(var e=t.projectSettings[t.currentSelectProjectIndex],i=r(t.spec.specXml).find("product-spec").attr("version"),n=a(2).getOptionIds(),o={},s=0;s<n.length;s++)o[n[s]]=e[n[s]];var d=[this.getPhoneCasePages(!0)],l={project:{version:i,clientId:"web-h5",createAuthor:"web-h5|1.1|1",userId:t.userSettings.userId,artisan:t.userSettings.userName,title:t.title,updatedDate:a(19).formatDateTime(new Date),createdDate:a(19).formatDateTime(new Date),guid:t.projectId,summary:{defaultSetting:o},pages:d,images:[]}};return l},getPhoneCasePages:function(e){for(var i=t.projectSettings[t.currentSelectProjectIndex],r=this.getPhonecasePhotoLayer(),n=this.getPhonecaseBleed(),o=n.top,s=n.bottom,d=n.left,l=n.right,c=(r.x,r.y,r.px,r.py,r.pw,r.ph,r.width),h=r.height,p=a(2).getOptionIds(),u={},m=0;m<p.length;m++)u[p[m]]=i[p[m]];var g;return g=e?[{type:"PhotoElement",x:"0",y:"0",width:c,height:h,px:"0",py:"0",pw:"1",ph:"1",rot:"0",dep:"0",imageid:"",imgRot:"0",imgFlip:!1,cropLUX:"0",cropLUY:"0",cropRLX:"1",cropRLY:"1"}]:a(32).getElements(),{id:a(10).guid(),width:c,height:h,bgColor:"#FFFFFF",type:"Page",bleed:{top:o,bottom:s,left:d,right:l},elements:g,backend:{isPrint:!0,slice:!1},quantity:1,spec:u}}}}).call(t,a(3),a(7))},function(e,t,i){(function(t,a){var r=i(30),n=r.pageTypes.INSIDE_PAGE,o=(r.pageTypes.FRONT_PAGE,r.cardTypes.FLAT,r.cardTypes.FOLDER),s=r.formatTypes.TOP,d=r.formatTypes.SIDE;e.exports={saveNewProject:function(e){var a=i(12).getCardInitXml();t.projectXml=a,console.log(t.projectXml),i(9).insertProject(e,a)},savePortalCardProject:function(e){var a="";a=t.projectId?i(12).getCardCurrentProjectXml():i(12).getCardInitXml(),i(9).savePortalCardProject(e,a)},submitPortalCardProject:function(e){var t=i(12).getCardCurrentProjectXml();i(9).submitPortalCardProject(e,t)},saveOldProject:function(e,t){var a=i(12).getCardCurrentProjectXml(),r=0,n=0,o=1,s=1;t&&"function"==typeof t?i(9).saveProject(e,a,r,n,o,s,t):i(9).saveProject(e,a,r,n,o,s)},handledSaveOldProject:function(e,t){var a=i(12).getCardCurrentProjectXml(),r=0,n=0,o=1,s=1;i(9).handledSaveProject(e,t,a,r,n,o,s);
},getOldProject:function(){t.isPreview&&"self"!==t.source?i(9).getShareProject():i(9).getProject()},getOldPortalProject:function(){i(9).getCardPortalProject()},getProjectOrderedState:function(e){i(9).getProjectOrderedState(e)},addOrUpdateAlbum:function(e,t,a){i(9).addOrUpdateAlbum(e,t,a)},changeProjectTitle:function(e,t,a){i(9).changeProjectTitle(e,t,a)},newProject:function(e,t,a){var r=i(22),n=r();return n.product="TS",n.color=e,n.size="14X16",n.measure=t,n.count=a,n},orderProject:function(e){var t=i(12).getCardCurrentProjectXml(),a=0,r=0,n=1,o=1;i(9).orderProject(e,t,a,r,n,o)},cloneProject:function(e,a){var r=t.title;t.title=a;var n=i(12).getCardCurrentProjectXml(),o=0,s=0,d=1,l=1;i(9).cloneProject(e,r,a,n,o,s,d,l)},setDefaultValue:function(){var e=t.projectSettings[t.currentSelectProjectIndex],a=i(2),r=a.getOptionsMapDefaultValue("trim",[{key:"product",value:e.product}]);e.trim=r?r:"none"},createProject:function(e,a){var r=t.title;t.title=a;var n=i(22),o=n(),s=i(15);o.product=s.getUrlParam("product"),o.size=s.getUrlParam("size"),o.paper=s.getUrlParam("paper"),t.category=s.getUrlParam("category"),t.projectType="PP",o.rotated=!0;var d=t.pages[t.selectedPageIdx].canvas;i(27).deleteImage(0),t.vm.$broadcast("notifyRefreshScreenshot"),d.params.length=0,t.projectSettings.length=0,t.projects.length=0,t.imageList.length=0,t.projectSettings.push(o);var l=i(12).getCardCurrentProjectXml();t.projectXml=l;var c=0,h=0,p=1,u=1;i(9).createProjectSuccess(e,r,a,l,c,h,p,u)},getInitDefaultProject:function(){var e=i(22),t=i(15),a=i(2),r=e(),n=a.getOptionMapIds(),o=[];if(r.product=t.getUrlParam("product")||"FT",o.push({key:"product",value:r.product}),n.forEach(function(e){var i=a.getOptionsMapDefaultValueWithoutDisableOption(e,o);r[e]=t.getUrlParam(e)||i,o.push({key:e,value:r[e]})}),"FD"===r.product&&"5X5"===r.size)switch(r.orientation){case"LA":r.format="TOP";break;case"PO":r.format="SIDE"}return r},getMyPhotoImages:function(e,t){i(9).getMyPhotoImages(e,t)},loadResetProject:function(){for(var e=t.templateXML,l=a(e).find("card").eq(0).find("spread"),c=0;c<l.length;c++){var h=l.eq(c);t.resetPages.push({type:h.attr("type")||"",id:h.attr("id")||"",tplGuid:h.attr("tplGuid")||"",pageNumber:h.attr("pageNumber")||"",styleId:h.attr("styleId")||"",styleItemId:h.attr("styleItemId")||"",width:h.attr("width")||"",height:h.attr("height")||"",name:"",canvas:{oriWidth:0,oriHeight:0,oriX:0,oriY:0,oriBgWidth:0,oriBgHeight:0,oriSpineWidth:0,realBleedings:{},frameBaseSize:{},frameBorderThickness:{},boardInFrame:{},boardInMatting:{},mattingSize:{},expendSize:{},photoLayer:{},params:[]}});var p=t.resetPages[c].canvas,u=i(12).getCardSpread(),m=(t.projectSettings[0].orientation,t.projectSettings[0].format),g=t.projects[0].pages[c].type,f=t.projectSettings[0].product;p.oriWidth=f===o&&m===d&&g!==n?u.width/2:u.width,p.oriHeight=f===o&&m===s&&g!==n?u.height/2:u.height,p.oriX=0,p.oriY=0,p.photoLayer={width:p.oriWidth,height:p.oriHeight},p.realBleedings={top:u.bleedTop,right:u.bleedRight,bottom:u.bleedBottom,left:u.bleedLeft},p.foreground=i(14).getForeground(u,p,0,c,g),p.formedSpread=i(14).getFormedSpread(u,p,f,m,g),p.oriBgWidth=p.foreground.width,p.oriBgHeight=p.foreground.height,p.oriX=p.foreground.x,p.oriY=p.foreground.y;for(var v=h.find("element").length,_=0;_<v;_++){var y=h.find("element").eq(_),S=t.isPortal||"false"!==t.deletedPhoto?y.attr("imageid")||"":"",w=(i(18).getImageDetail(S)||"",parseFloat(y.attr("x"))||0),x=parseFloat(y.attr("y"))||0,M=parseFloat(y.attr("width"))||0,L=parseFloat(y.attr("height"))||0,b="";"CalendarStyleElement"===y.attr("type")?(b="style",w=0,x=0,M=p.oriWidth,L=p.oriHeight):"PhotoElement"===y.attr("type")?b="image":"TextElement"===y.attr("type")?b="text":"DecorationElement"===y.attr("type")&&(b="decoration");var T={id:_,elType:b,styleGuid:y.attr("styleGuid")||"",styleItemId:y.attr("styleItemId")||"",styleId:y.attr("styleId")||"",styleImageId:y.attr("imageId")||"",url:"",isRefresh:!1,text:decodeURIComponent(y.text())||"",x:w,y:x,width:M,height:L,rotate:parseFloat(y.attr("rot")),dep:parseInt(y.attr("dep"))||0,imageId:"",imageGuid:"",imageWidth:"",imageHeight:"",imageRotate:0,cropPX:0,cropPY:0,cropPW:1,cropPH:1,isFamilyName:y.attr("isFamilyName")||"false",fontFamily:decodeURIComponent(y.attr("fontFamily"))||"",fontSize:p.oriHeight*parseFloat(y.attr("fontSize")||0),fontWeight:y.attr("fontWeight")||"",textAlign:y.attr("textAlign")||"left",textVAlign:y.attr("textVAlign")||"top",lineSpacing:y.attr("lineSpacing")||"1",fontColor:y.attr("color")||"0",decorationid:y.attr("decorationid")||"",decorationtype:y.attr("decorationtype")||"",isDisableRemind:"true"===y.attr("isDisableRemind")};y.attr("tagType")&&"Null"!==y.attr("tagType")&&a.extend(T,{tagName:y.attr("tagName")||"",tagType:y.attr("tagType")||"",mandatory:parseInt(y.attr("mandatory"))||0,constant:"true"===y.attr("constant"),textFormat:r.tagFormats[y.attr("tagType")],isEdit:"true"===y.attr("constant")||"true"===y.attr("isEdit"),order:parseInt(y.attr("order"))}),p.params.push(T)}}}}}).call(t,i(3),i(7))},function(e,t,i){(function(t,a){var r=i(11),n=i(18),o=i(31),s=i(8),d=(i(12),i(29)),l=i(152),c=i(158),h=i(20),p=h.component("photo-element"),u=h.component("decoration-element"),m=h.component("text-element"),g=h.component("style-element"),f=i(30),v=f.pageTypes.INSIDE_PAGE,_=f.pageTypes.FRONT_PAGE,y=f.cardTypes.FLAT,S=f.cardTypes.FOLDER,w=f.formatTypes.TOP,x=f.formatTypes.SIDE;e.exports={createElement:function(e,i){var a=t.pages[t.selectedPageIdx].canvas;if("text"===a.params[e].elType)var r=new m;else if("image"===a.params[e].elType)var r=new p;else if("decoration"===a.params[e].elType)var r=new u;else if("style"===a.params[e].elType)var r=new g;r.init(e),r.$mount().$appendTo("#container"),a.elements.push(r)},editElement:function(e,i){var a=t.pages[t.selectedPageIdx].canvas;if(a.elements[e].$destroy(!0),"text"===a.params[e].elType)var r=new m;else if("decoration"===a.params[e].elType)var r=new u;else var r=new p;r.init(e),r.$mount().$appendTo("#container"),a.elements.splice(e,1,r)},deleteElement:function(e,i){var a=t.pages[t.selectedPageIdx].canvas;a.elements[e]&&(a.elements[e].$destroy(!0),a.elements.splice(e,1))},initElementData:function(e){var a=t.pages[t.selectedPageIdx].canvas;if("background"===a.params[e].elType||"image"===a.params[e].elType||"logo"===a.params[e].elType){var o="../../static/img/blank.png";if(""!==a.params[e].imageId){var s=a.params[e].cropPX,d=a.params[e].cropPY,l=a.params[e].cropPW,c=a.params[e].cropPH,h=a.params[e].width*a.ratio/l,p=a.params[e].height*a.ratio/c,u=i(10),m=u.getEncImgId(a.params[e].imageId),g=u.getQueryString({encImgId:m,px:s,py:d,pw:l,ph:c,width:Math.round(h),height:Math.round(p),rotation:a.params[e].imageRotate});o="/imgservice/op/crop?"+g+i(15).getSecurityString()}a.elements.$set(e,a.paper.image(o,a.params[e].x*a.ratio,a.params[e].y*a.ratio,a.params[e].width*a.ratio,a.params[e].height*a.ratio))}else if("text"===a.params[e].elType){var f=Math.round(r.getTextViewFontSize(a.params[e].fontSize)),v="../../static/img/blank.png";v=f>0?""===a.params[e].text?t.isPreview?"../../static/img/blank.png":t.domains.proxyFontBaseUrl+"/product/text/textImage?text="+encodeURIComponent("Enter text here")+"&font="+encodeURIComponent(a.params[e].fontFamily)+"&fontSize="+f+"&color="+a.params[e].fontColor+"&align=left":t.domains.proxyFontBaseUrl+"/product/text/textImage?text="+encodeURIComponent(a.params[e].text)+"&font="+encodeURIComponent(a.params[e].fontFamily)+"&fontSize="+f+"&color="+a.params[e].fontColor+"&align=left":"../../static/img/blank.png",a.elements.$set(e,a.paper.image(v,a.params[e].x*a.ratio,a.params[e].y*a.ratio,a.params[e].width*a.ratio,a.params[e].height*a.ratio)),a.elements[e].fontFamily=a.params[e].fontFamily,a.elements[e].fontSize=a.params[e].fontSize,a.elements[e].fontWeight=a.params[e].fontWeight,a.elements[e].textAlign=a.params[e].textAlign,a.elements[e].fontColor=a.params[e].fontColor,a.elements[e].text=a.params[e].text}a.elements[e].node.id="element-"+e,a.elements[e].elType=a.params[e].elType,a.elements[e].idx=e,a.elements[e].dep=a.params[e].dep,a.elements[e].vWidth=a.params[e].width*a.ratio,a.elements[e].vHeight=a.params[e].height*a.ratio,a.elements[e].sourceImageUrl=a.params[e].url||"",a.elements[e].imageId=a.params[e].imageId||"",a.elements[e].imageRotate=a.params[e].imageRotate||0;var _=n.getImageDetail(a.elements[e].imageId);if(_){if(a.elements[e].imageGuid=_.guid,a.elements[e].imageWidth=_.width,a.elements[e].imageHeight=_.height,90===Math.abs(a.elements[e].imageRotate))var y=a.elements[e].imageHeight,S=a.elements[e].imageWidth;else var y=a.elements[e].imageWidth,S=a.elements[e].imageHeight;a.elements[e].cropX=y*a.params[e].cropPX,a.elements[e].cropY=S*a.params[e].cropPY,a.elements[e].cropW=y*a.params[e].cropPW,a.elements[e].cropH=S*a.params[e].cropPH}else a.elements[e].imageGuid="",a.elements[e].imageWidth="",a.elements[e].imageHeight="",a.elements[e].cropX=0,a.elements[e].cropY=0,a.elements[e].cropW=1,a.elements[e].cropH=1},initElementHandles:function(e){var i=this,a=t.pages[t.selectedPageIdx].canvas;"text"===a.elements[e].elType?a.elements[e].dblclick(function(){t.watches.isChangeThisText=!0}):a.elements[e].dblclick(function(){t.watches.isCropThisImage=!0}),a.elements[e].attr({cursor:"move"}).click(function(){var e=this;i.changeClickDepth({idx:e.idx})})},initElementTransform:function(e,a){var n=this,o=t.pages[t.selectedPageIdx].canvas;if("image"===o.params[e].elType||"logo"===o.params[e].elType)var d={drag:["self"],rotate:!1,scale:["bboxCorners"],keepRatio:!0,snap:{rotate:1,scale:1,drag:1},draw:!1,range:{scale:[0,99999]},idx:e};else if("text"===o.params[e].elType)var d={drag:["self"],rotate:!1,scale:["bboxCorners"],keepRatio:!0,snap:{rotate:0,scale:1,drag:1},draw:!1,range:{scale:[0,99999]},idx:e};o.trans.$set(e,o.paper.freeTransform(o.elements[e],d,function(d,c){if("scale start"===c[0]||"rotate start"===c[0])n.showSpineLines(),l.deleteElement(e);else if("drag start"===c[0])t.ctrls.isDragStarted=!0,n.showSpineLines(),l.deleteElement(e);else if("drag end"===c[0]||t.ctrls.isDragStarted&&"apply"===c[0]&&"init"===t.ctrls.lastTranEvent)console.info("index"+e),t.ctrls.isDragStarted=!1,t.ctrls.lastTranEvent="",n.changeClickDepth({idx:d.opts.idx}),n.hideSpineLines(),o.warns[e]&&o.warns[e].isActive&&l.createElement(e),l.showBeforeElements(),console.info("index"+e);else if("scale end"===c[0]||"rotate end"===c[0]){var h=s.getParamsValueByElement(d.opts.idx);"text"===o.params[d.opts.idx].elType?(h.fontSize<r.getPxByInch(.3)?h.fontSize=r.getPxByInch(.3):h.fontSize>r.getPxByInch(16)&&(h.fontSize=r.getPxByInch(16)),a.editText(h,d.opts.idx)):(o.params.splice(d.opts.idx,1,h),n.editElement(d.opts.idx),n.highlightSelection(d.opts.idx),n.spineLinesToTop(),n.hideSpineLines())}else if("apply"===c[0]){var p=i(8).getParamsValueByElement(e);if(p.x<-p.width||p.y<-p.height||p.x>o.oriWidth||p.y>o.oriHeight)if(console.info(p),p.x=0,p.y=0,"text"===p.elType){var u=i(25);u.editText(p,e)}else if("image"===p.elType||"logo"===p.elType){var m=i(27);m.editImage(p,e)}}t.ctrls.lastTranEvent=c[0]||""})),o.trans[e].attrs.rotate=o.params[e].rotate,o.trans[e].apply()},initElementDragEvent:function(e){var i=t.pages[t.selectedPageIdx].canvas;"background"!==i.params[e].elType&&"image"!==i.params[e].elType&&"logo"!==i.params[e].elType||(navigator.userAgent.indexOf("Trident")!==-1?(a("#element-"+e).attr("ondragover","event.preventDefault();"),a("#element-"+e).attr("ondrop","asFn.fnOndrop(event);")):(document.getElementById("element-"+e).ondragover=function(e){e.preventDefault()},document.getElementById("element-"+e).ondrop=function(e){var i={ev:e,newAdded:!1,isBg:!1};t.dropData.ev=i.ev,t.dropData.newAdded=i.newAdded,t.dropData.isBg=i.isBg,t.watches.isOnDrop=!0,t.watches.isDecorationOnDrop=!0}))},initWarnTip:function(e){var a=t.pages[t.selectedPageIdx].canvas,r=n.getImageDetail(a.elements[e].imageId);if(a.warns[e]={isActive:!1,el:""},("background"===a.params[e].elType||"image"===a.params[e].elType||"logo"===a.params[e].elType)&&r){var o=r.width*a.params[e].cropPW,s=r.height*a.params[e].cropPH,d=i(8).getParamsValueByElement(e),c=d.width/o,h=d.height/s,p=Math.max(c,h);p>t.warnSettings.resizeLimit?l.createElement(e):(l.deleteElement(e),a.warns[e].isActive=!1),l.showBeforeElements()}},createBackLayer:function(){var e=t.pages[t.selectedPageIdx].canvas;e.elementBg=e.paper.rect(.5,.5,e.width,e.height),e.elementBg.attr({fill:"rgba(255, 255, 255, 0)",stroke:"rgba(10, 10, 10, 0)"}),e.elementBg.node.id="element-bg"},createBleeding:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.paper.rect(0,0,e.bleedings.left*e.ratio,e.height);i.attr({fill:"rgba(255, 255, 255, .6)",stroke:"rgba(255, 255, 255, 0)"});var a=e.paper.rect(e.bleedings.left*e.ratio,0,(e.oriWidth-e.bleedings.left-e.bleedings.right)*e.ratio,e.bleedings.top*e.ratio);a.attr({fill:"rgba(255, 255, 255, .6)",stroke:"rgba(255, 255, 255, .2)"});var r=e.paper.rect(e.bleedings.left*e.ratio,(e.oriHeight-e.bleedings.bottom)*e.ratio,(e.oriWidth-e.bleedings.left-e.bleedings.right)*e.ratio,e.bleedings.bottom*e.ratio);r.attr({fill:"rgba(255, 255, 255, .6)",stroke:"rgba(255, 255, 255, 0.2)"});var n=e.paper.rect((e.oriWidth-e.bleedings.right)*e.ratio,0,e.bleedings.right*e.ratio,e.height);n.attr({fill:"rgba(255, 255, 255, .6)",stroke:"rgba(255, 255, 255, 0)"});var o=e.paper.rect(e.bleedings.left*e.ratio,e.bleedings.top*e.ratio,(e.oriWidth-e.bleedings.left-e.bleedings.right)*e.ratio,(e.oriHeight-e.bleedings.top-e.bleedings.bottom)*e.ratio);o.attr({fill:"rgba(255, 255, 255, 0)",stroke:"#646464"}),o.node.id="element-bg"},createOuterLine:function(){var e=t.pages[t.selectedPageIdx].canvas;e.outerLine=e.paper.path("M0.5 0.5L"+e.width+" 0.5L"+e.width+" "+e.height+"L0.5 "+e.height+"L0.5 0.5"),e.outerLine.attr({stroke:"#7b7b7b"})},createInnerLine:function(){var e=t.pages[t.selectedPageIdx].canvas,i=t.projectSettings[t.currentSelectProjectIndex],a=d.analyseSpec({size:i.size,product:i.product}),r=a.logo.x*e.ratio,n=a.logo.y*e.ratio,o=a.logo.width*e.ratio,s=a.logo.height*e.ratio;e.innerLine=e.paper.path("M"+r+" "+n+"L"+(r+o)+" "+n+"L"+(r+o)+" "+(n+s)+"L"+r+" "+(n+s)+"L"+r+" "+n),e.innerLine.attr({stroke:"#7b7b7b","stroke-dasharray":"-"})},createCenterLine:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.width/2;e.spineLeft=e.paper.path("M"+i+" 0L"+i+" "+e.height),e.spineLeft.attr({stroke:"#7b7b7b","stroke-dasharray":"-"})},createSpineLine:function(){var e=t.pages[t.selectedPageIdx].canvas;if(0!==e.oriSpineWidth){var i=e.oriSpineWidth*e.ratio,a=(e.width-i)/2,r=a+i;e.spineLeft=e.paper.path("M"+a+" 0L"+a+" "+e.height),e.spineLeft.attr({stroke:"#646464","stroke-dasharray":"-"}),e.spineRight=e.paper.path("M"+r+" 0L"+r+" "+e.height),e.spineRight.attr({stroke:"#646464","stroke-dasharray":"-"})}},changeClickDepth:function(e){if(e&&void 0!=e.idx){var i=t.pages[t.selectedPageIdx].canvas;i.selectedIdx=e.idx,this.changeDepthValue({idx:e.idx,targetDepth:i.elements.length-1}),this.freshElementDepth(),i.trans[e.idx].apply(),this.highlightSelection(e.idx)}},sendToBack:function(e){e&&void 0!=e.idx&&this.changeDepthValue({idx:e.idx,targetDepth:0})},sendToFront:function(e){if(e&&void 0!=e.idx){var i=t.pages[t.selectedPageIdx].canvas;this.changeDepthValue({idx:e.idx,targetDepth:i.params.length-1})}},bringBackward:function(e){if(e&&void 0!=e.idx){var i=t.pages[t.selectedPageIdx].canvas;i.params[e.idx].dep>0&&this.changeDepthValue({idx:e.idx,targetDepth:i.params[e.idx].dep-1})}},bringForward:function(e){if(e&&void 0!=e.idx){var i=t.pages[t.selectedPageIdx].canvas;i.params[e.idx].dep<i.params.length-1&&this.changeDepthValue({idx:e.idx,targetDepth:i.params[e.idx].dep+1})}},changeDepthValue:function(e){if(e&&void 0!=e.idx&&void 0!=e.targetDepth){var i=t.pages[t.selectedPageIdx].canvas,a=i.params[e.idx].dep,r=e.targetDepth;if(r===a)return;if(r>a){for(var n=0;n<i.params.length;n++)i.params[n].dep>a&&i.params[n].dep<=r&&i.params[n].dep--;i.params[e.idx].dep=r}else{for(var n=0;n<i.params.length;n++)i.params[n].dep<a&&i.params[n].dep>=r&&i.params[n].dep++;i.params[e.idx].dep=r}}t.vm.$broadcast("notifyRefreshScreenshot")},freshElementDepth:function(){for(var e=t.pages[t.selectedPageIdx].canvas,i=[],a=0;a<e.elements.length;a++)i.push({idx:a,dep:e.elements[a].dep});for(i.sort(function(e,t){return e.dep-t.dep}),a=1;a<i.length;a++)e.elements[i[a].idx].toFront(),e.warns[i[a].idx]&&e.warns[i[a].idx].el&&e.warns[i[a].idx].el.toFront();this.spineLinesToTop()},freshDepth:function(e){for(var i=t.pages[t.selectedPageIdx].canvas,a=i.params[e].dep,r=0;r<i.params.length;r++)i.params[r].dep>a&&i.params[r].dep--},freshIdx:function(e){for(var i=t.pages[t.selectedPageIdx].canvas,a=0;a<i.elements.length;a++)i.elements[a].idx>e&&(i.elements[a].idx--,i.elements[a].node.id="element-"+(a-1))},spineLinesToTop:function(){var e=t.pages[t.selectedPageIdx].canvas;""!==e.innerLine&&e.innerLine.toFront(),""!==e.spineLeft&&e.spineLeft.toFront(),""!==e.spineRight&&e.spineRight.toFront()},showSpineLines:function(){var e=t.pages[t.selectedPageIdx].canvas;""!==e.outerLine&&e.outerLine.show(),""!==e.innerLine&&e.innerLine.show(),""!==e.spineLeft&&e.spineLeft.show(),""!==e.spineRight&&e.spineRight.show()},hideSpineLines:function(){var e=t.pages[t.selectedPageIdx].canvas;""!==e.outerLine&&e.outerLine.hide(),""!==e.innerLine&&e.innerLine.hide(),""!==e.spineLeft&&e.spineLeft.hide(),""!==e.spineRight&&e.spineRight.hide()},highlightSelection:function(e){var i=t.pages[t.selectedPageIdx].canvas;e?e:e=i.selectedIdx;for(var r=0;r<i.trans.length;r++)i.trans[r].setOpts({draw:!1});if("image"===i.elements[e].elType||"logo"===i.elements[e].elType)var n={drag:["self"],rotate:!1,scale:["bboxCorners"],keepRatio:!0,snap:{rotate:1,scale:1,drag:1},draw:["bbox"],range:{scale:[0,99999]},idx:e};else var n={drag:["self"],rotate:!1,scale:["bboxCorners"],keepRatio:!0,snap:{rotate:0,scale:1,drag:1},draw:["bbox"],range:{scale:[0,99999]},idx:e};i.trans[e].setOpts(n),i.trans[e].apply(),a("rect.handle.bbox.index-0").css("cursor","nw-resize"),a("rect.handle.bbox.index-1").css("cursor","ne-resize"),a("rect.handle.bbox.index-2").css("cursor","se-resize"),a("rect.handle.bbox.index-3").css("cursor","sw-resize")},blurSelection:function(e){var i=t.pages[t.selectedPageIdx].canvas;e?e:e=i.selectedIdx,i.trans[e].setOpts({draw:!1})},getDefaultNewElementPosition:function(e){if(e){e.x=e.x||0,e.y=e.y||0;var i,a,r=t.pages[t.selectedPageIdx].canvas,o=r.width/r.ratio,s=r.height/r.ratio,d=limitedHeight=150/r.ratio,l=e.x/r.ratio,c=e.y/r.ratio,h=t.dragData.imageId,p=n.getImageDetail(h);p?(i=p.width,a=p.height):(i=o/3,a=s/3);var u=i/a,m=d/limitedHeight;if(u>=m)var g=d/i;else var g=limitedHeight/a;i*=g,a*=g;var f=t.dragData.cursorX/r.ratio,v=t.dragData.cursorY/r.ratio;return l-=f,c-=v,{x:l,y:c,width:i,height:a}}return{x:0,y:0,width:300,height:300}},getDefaultNewDecElementPosition:function(e){if(e){e.x=e.x||0,e.y=e.y||0;var i,a,r=t.pages[t.selectedPageIdx].canvas,n=r.width/r.ratio,s=r.height/r.ratio,d=limitedHeight=150/r.ratio,l=e.x/r.ratio,c=e.y/r.ratio,h=t.dragData.imageId,p=o.getDecorationDetail(h);p?(i=p.width,a=p.height):(i=n/3,a=s/3);var u=i/a,m=d/limitedHeight;if(u>=m)var g=d/i;else var g=limitedHeight/a;i*=g,a*=g;var f=t.dragData.cursorX/r.ratio,v=t.dragData.cursorY/r.ratio;return l-=f,c-=v,{x:l,y:c,width:i,height:a}}return{x:0,y:0,width:300,height:300}},initCanvasData:function(){if(t.projectSettings&&t.projectXml){var e=t.projectXml;this.initCardSetting(e),this.initImageList(e),this.initDecorationList(e),this.initProject(e),t.isBlankCard&&this.initBlankCardElement(),t.selectedPageIdx=0,t.deletedPhoto="true"}},initCardSetting:function(e){e&&(t.cardSetting={},t.cardSetting.styleId=a(e).find("card").eq(0).find("styleId").eq(0).attr("value")||"",t.cardSetting.festival=a(e).find("card").eq(0).find("festival").eq(0).attr("value")||"",t.cardSetting.trim=a(e).find("card").eq(0).find("trim").eq(0).attr("value")||"",t.templateGuid=a(e).find("card").eq(0).find("templateGuid").eq(0).attr("value")||t.templateGuid,"blank"!==t.cardSetting.styleId||t.cardSetting.festival||(t.isBlankCard=!0))},initImageList:function(e){if((t.isPortal||"false"!==t.deletedPhoto)&&e){var r=a(e).find("images").find("image").length;if(t.imageList=[],r>0){for(var n=0;n<r;n++)t.imageList.push({id:a(e).find("images").find("image").eq(n).attr("id"),guid:a(e).find("images").find("image").eq(n).attr("guid")||"",encImgId:a(e).find("images").find("image").eq(n).attr("encImgId")||"",url:t.domains.uploadUrl+"/upload/UploadServer/PicRender?qaulityLevel=0&puid="+a(e).find("images").find("image").eq(n).attr("guid")+i(15).getSecurityString()+"&rendersize=fit",name:decodeURIComponent(a(e).find("images").find("image").eq(n).attr("name"))||"",width:parseFloat(a(e).find("images").find("image").eq(n).attr("width"))||0,height:parseFloat(a(e).find("images").find("image").eq(n).attr("height"))||0,shotTime:a(e).find("images").find("image").eq(n).attr("shotTime")||"",orientation:a(e).find("images").find("image").eq(n).attr("orientation")||0,usedCount:0,previewUrl:""});for(a(e).find("images").find("image").eq(0).attr("encImgId")||c.getEncImageIds(),n=0;n<r;n++)t.imageList[n].url=t.domains.uploadUrl+"/upload/UploadServer/PicRender?qaulityLevel=0&puid="+t.imageList[n].encImgId+i(15).getSecurityString()+"&rendersize=fit",i(23).getBlobImagePreviewUrl(n)}}},initDecorationList:function(e){if(e){var i=a(e).find("decorations").find("decoration").length;if(i>0)for(var r=0;r<i;r++)t.decorationList.push({guid:a(e).find("decorations").find("decoration").eq(r).attr("guid")||"",name:a(e).find("decorations").find("decoration").eq(r).attr("name")||"",type:a(e).find("decorations").find("decoration").eq(r).attr("type")||"",count:a(e).find("decorations").find("decoration").eq(r).attr("count")||"",displayRatio:a(e).find("decorations").find("decoration").eq(r).attr("displayRatio")||"",width:a(e).find("decorations").find("decoration").eq(r).attr("width")||"",height:a(e).find("decorations").find("decoration").eq(r).attr("height")||""})}},initProject:function(e){if(e)for(var r=0;r<a(e).find("card").length;r++){t.projects[r]={},t.projects[r].pages=[];for(var o=0;o<a(e).find("card").eq(r).find("spread").length;o++){var s=a(e).find("card").eq(r).find("spread").eq(o);t.projects[r].pages.push({type:s.attr("type")||"",id:s.attr("id")||"",tplGuid:s.attr("tplGuid")||"",pageNumber:s.attr("pageNumber")||"",styleId:s.attr("styleId")||"",styleItemId:s.attr("styleItemId")||"",width:s.attr("width")||"",height:s.attr("height")||"",name:"",canvas:{oriWidth:0,oriHeight:0,oriX:0,oriY:0,oriBgWidth:0,oriBgHeight:0,oriSpineWidth:0,realBleedings:{},frameBaseSize:{},frameBorderThickness:{},boardInFrame:{},boardInMatting:{},mattingSize:{},expendSize:{},photoLayer:{},params:[]}});var d=t.projects[r].pages[o].canvas,l=i(12).getCardSpread(),c=(t.projectSettings[r].orientation,t.projectSettings[r].format),h=t.projects[r].pages[o].type,p=t.projectSettings[r].product;d.oriWidth=p===S&&c===x&&h!==v?l.width/2:l.width,d.oriHeight=p===S&&c===w&&h!==v?l.height/2:l.height,d.oriX=0,d.oriY=0,d.photoLayer={width:d.oriWidth,height:d.oriHeight},d.realBleedings={top:l.bleedTop,right:l.bleedRight,bottom:l.bleedBottom,left:l.bleedLeft},d.foreground=this.getForeground(l,d,r,o,h),d.formedSpread=this.getFormedSpread(l,d,p,c,h),d.oriBgWidth=d.foreground.width,d.oriBgHeight=d.foreground.height,d.oriX=d.foreground.x,d.oriY=d.foreground.y,t.projects[r].pages[o].width=d.oriWidth,t.projects[r].pages[o].height=d.oriHeight;for(var u=a(e).find("card").eq(r).find("spread").eq(o).find("element").length,m=0;m<u;m++){var g=t.isPortal||"false"!==t.deletedPhoto?a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("imageid")||"":"",_=n.getImageDetail(g)||"",y="";"undefined"===g&&(g=""),""!==_?y=t.domains.uploadUrl+"/upload/UploadServer/PicRender?qaulityLevel=0&puid="+_.encImgId+i(15).getSecurityString()+"&rendersize=fit":y;var M=parseFloat(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("x"))||0,L=parseFloat(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("y"))||0,b=parseFloat(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("width"))||0,T=parseFloat(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("height"))||0,I="";"CalendarStyleElement"===a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("type")?(I="style",M=0,L=0,b=d.oriWidth,T=d.oriHeight):"PhotoElement"===a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("type")?I="image":"TextElement"===a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("type")?I="text":"DecorationElement"===a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("type")&&(I="decoration");var P={index:t.templateGuid?t.projects[r].pages[o].id+"-"+m:"",id:m,elType:I,styleGuid:a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("styleGuid")||"",styleItemId:a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("styleItemId")||"",styleId:a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("styleId")||"",styleImageId:a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("imageId")||"",url:"",isRefresh:!1,text:decodeURIComponent(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).text())||"",x:M,y:L,width:b,height:T,rotate:parseFloat(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("rot")),dep:parseInt(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("dep"))||0,imageId:g,imageGuid:_.guid||"",imageWidth:_.width||"",imageHeight:_.height||"",imageRotate:parseFloat(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("imgRot"))||0,cropPX:parseFloat(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("cropLUX"))||0,cropPY:parseFloat(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("cropLUY"))||0,cropPW:parseFloat(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("cropRLX"))-parseFloat(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("cropLUX"))||1,cropPH:parseFloat(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("cropRLY"))-parseFloat(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("cropLUY"))||1,isFamilyName:a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("isFamilyName")||"false",fontFamily:decodeURIComponent(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("fontFamily"))||"",fontSize:d.oriHeight*parseFloat(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("fontSize")||0),fontWeight:a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("fontWeight")||"",textAlign:a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("textAlign")||"left",textVAlign:a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("textVAlign")||"top",lineSpacing:a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("lineSpacing")||"1",fontColor:a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("color")||"0",decorationid:a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("decorationid")||"",decorationtype:a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("decorationtype")||"",isDisableRemind:"true"===a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("isDisableRemind")};a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("tagType")&&"Null"!==a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("tagType")&&a.extend(P,{tagName:a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("tagName")||"",tagType:a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("tagType")||"",mandatory:parseInt(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("mandatory"))||0,constant:"true"===a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("constant"),textFormat:f.tagFormats[a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("tagType")],isEdit:"true"===a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("constant")||"true"===a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("isEdit"),order:parseInt(a(e).find("card").eq(r).find("spread").eq(o).find("element").eq(m).attr("order"))}),d.params.push(P)}}}},loadProjectIntoPages:function(e){void 0!=e&&null!=e?e:e=t.currentSelectProjectIndex,t.pages=[];for(var i=t.projects[e],a=0;a<i.pages.length;a++)t.pages.push({type:i.pages[a].type||"",id:i.pages[a].id||"",tplGuid:i.pages[a].tplGuid||"",pageNumber:i.pages[a].pageNumber||"",styleId:i.pages[a].styleId||"",styleItemId:i.pages[a].styleItemId||"",width:i.pages[a].width||"",height:i.pages[a].height||"",name:"",canvas:{isInited:!1,width:0,height:0,x:0,y:0,bgWidth:0,bgHeight:0,ratio:1,oriWidth:i.pages[a].canvas.oriWidth,oriHeight:i.pages[a].canvas.oriHeight,oriX:i.pages[a].canvas.oriX,oriY:i.pages[a].canvas.oriY,oriBgWidth:i.pages[a].canvas.oriBgWidth,oriBgHeight:i.pages[a].canvas.oriBgHeight,oriSpineWidth:i.pages[a].canvas.oriSpineWidth,bleedings:{},realBleedings:i.pages[a].canvas.realBleedings,frameBaseSize:i.pages[a].canvas.frameBaseSize,frameBorderThickness:i.pages[a].canvas.frameBorderThickness,canvasBordeThickness:i.pages[a].canvas.canvasBordeThickness,boardInFrame:i.pages[a].canvas.boardInFrame,boardInMatting:i.pages[a].canvas.boardInMatting,mattingSize:i.pages[a].canvas.mattingSize,expendSize:i.pages[a].canvas.expendSize,photoLayer:i.pages[a].canvas.photoLayer,formedSpread:i.pages[a].canvas.formedSpread,selectedIdx:0,params:i.pages[a].canvas.params.slice(0),elements:[],outerLine:"",innerLine:"",bleedingRibbonLeft:"",bleedingRibbonRight:"",bleedingRibbonTop:"",bleedingRibbonBottom:"",spineLeft:"",spineRight:"",elementBg:""}})},syncProjectData:function(e){void 0!=e&&null!=e?e:e=t.currentSelectProjectIndex;for(var i=0;i<t.pages.length;i++){var a=t.pages[i].canvas;t.projects[e].pages[t.selectedPageIdx].canvas.params=[],t.projects[e].pages[t.selectedPageIdx].canvas.params=a.params.slice(0)}},createProjectData:function(){t.projects.push(t.projects[0])},freshPageData:function(){for(var e=0;e<t.pages.length;e++){var a=t.projectSettings[t.selectedIdx].product,r=(t.projectSettings[t.selectedIdx].orientation,t.projectSettings[t.selectedIdx].format),n=i(12).getCardSpread(),o=t.pages[e],s=t.pages[e].canvas,d=t.pages[e].type;o.width=a===S&&r===x&&d!==v?n.width/2:n.width,o.height=a===S&&r==w&&d!==v?n.height/2:n.height,s.oriBgWidth=n.width,s.oriBgHeight=n.height,s.oriWidth=n.width,s.oriHeight=n.height,s.oriX=0,s.oriY=0,s.photoLayer={width:n.width,height:n.height},s.realBleedings={top:n.bleedTop,right:n.bleedRight,bottom:n.bleedBottom,left:n.bleedLeft},s.oriWidth=a===S&&r===x&&d!==v?n.width/2:n.width,s.oriHeight=a===S&&r==w&&d!==v?n.height/2:n.height,s.realBleedings={top:n.bleedTop,right:n.bleedRight,bottom:n.bleedBottom,left:n.bleedLeft},s.photoLayer={width:s.oriWidth,height:s.oriHeight},s.foreground=this.getForeground(n,s,t.selectedIdx,e,d),s.formedSpread=this.getFormedSpread(n,s,a,r,d),s.oriBgWidth=s.foreground.width,s.oriBgHeight=s.foreground.height,s.oriX=s.foreground.x,s.oriY=s.foreground.y}},fixRotatePhotoElement:function(){for(var e=t.pages[t.selectedPageIdx].canvas,a=0;a<e.params.length;a++)if(e.params[a].width/e.oriWidth>.95&&e.params[a].height/e.oriHeight>.95){var r=e.params[a].width;if(e.params[a].width=e.params[a].height,e.params[a].height=r,e.params[a].imageId){var n=e.params[a].imageId,o=i(18).getImageDetail(n),s=i(26).getDefaultCrop(e.params[a].imageWidth,e.params[a].imageHeight,e.params[a].width,e.params[a].height),d=s.px,l=s.py,c=s.pw,h=s.ph;e.params[a].cropX=o.width*d,e.params[a].cropY=o.height*l,e.params[a].cropW=o.width*c,e.params[a].cropH=o.height*h,e.params[a].cropPX=d,e.params[a].cropPY=l,e.params[a].cropPW=c,e.params[a].cropPH=h}}},getTemplateParams:function(e){
for(var r=[],n=t.pages[t.selectedPageIdx].canvas,o=[],s=[],d=[],l={},c=[],h=0;h<n.params.length;h++)"image"===n.params[h].elType&&n.params[h].imageId?n.params[h].width>n.params[h].height?s.push({id:n.params[h].imageId,guid:n.params[h].imageGuid,width:n.params[h].imageWidth,height:n.params[h].imageHeight,rotate:n.params[h].imageRotate}):o.push({id:n.params[h].imageId,guid:n.params[h].imageGuid,width:n.params[h].imageWidth,height:n.params[h].imageHeight,rotate:n.params[h].imageRotate}):"style"===n.params[h].elType?d.push(n.params[h]):"decoration"==n.params[h].elType&&c.push(n.params[h]);for(var h=0;h<a(e).find("tag").length;h++){var p=a(e).find("tag").eq(h);l[p.attr("id")]={constant:Boolean(parseInt(p.attr("constant"))),mandatory:Boolean(parseInt(p.attr("mandatory"))),tagType:p.attr("tagType"),tagName:p.attr("tagName")}}for(var u=[],h=0;h<a(e).find("element").length;h++){var m=a(e).find("element").eq(h),g={};g.px=parseFloat(m.attr("px")),g.py=parseFloat(m.attr("py")),g.pw=parseFloat(m.attr("pw")),g.ph=parseFloat(m.attr("ph")),g.dep=parseFloat(m.attr("dep")),g.type=m.attr("type"),g.text=decodeURIComponent(m.text()),g.color=m.attr("color"),g.fontSize=parseFloat(m.attr("fontSize")),g.textAlign=m.attr("textAlign"),g.textVAlign=m.attr("textVAlign"),g.lineSpacing=m.attr("lineSpacing"),g.fontWeight=m.attr("fontWeight"),g.fontFamily=decodeURIComponent(m.attr("fontFamily")),g.rotate=m.attr("rot"),g.tagId=m.attr("tagId"),u.push(g)}if(u.sort(function(e,t){return e.dep-t.dep}),d.length>0)for(var f=0;f<d.length;f++)r.push(d[f]);for(var h=0;h<u.length;h++){var v,m=u[h],_=m.px*n.oriWidth,y=m.py*n.oriHeight,S=m.pw*n.oriWidth,w=m.ph*n.oriHeight;if("PhotoElement"===m.type){var x=this.shiftTemplateSuitImage(o,s,S,w),M="",L="",b=0,T=0,I=0;if(x&&(M=x.id,L=x.guid,b=x.width,T=x.height,I=x.rotate),90===Math.abs(I))var P=T,k=b;else var P=b,k=T;var D=i(26).getDefaultCrop(P,k,S*n.ratio,w*n.ratio);v={id:h+d.length,elType:"image",url:"",isRefresh:!1,x:_,y:y,width:S,height:w,rotate:m.rotate,dep:h+d.length,imageId:M,imageGuid:L,imageRotate:I,imageWidth:b,imageHeight:T,cropPX:D.px,cropPY:D.py,cropPW:D.pw,cropPH:D.ph}}"TextElement"===m.type&&(v={id:h+d.length,elType:"text",text:m.text,x:_,y:y,width:S,height:w,rotate:m.rotate,dep:h+d.length,fontFamily:m.fontFamily,fontSize:n.oriHeight*m.fontSize,fontWeight:m.fontWeight,textAlign:m.textAlign||"left",textVAlign:m.textVAlign||"top",lineSpacing:m.lineSpacing||1,fontColor:m.color,isRefresh:!1,isFamilyName:!1},m.tagId&&"-1"!=m.tagId&&(l[m.tagId]?a.extend(v,l[m.tagId]):console.warn("tagId not In tagList!!!!"))),r.push(v)}if(c.length>0)for(var Y=r.length,j=0;j<c.length;j++){var C=c[j];C.id=Y,C.dep=Y,r.push(C),Y++}return r},shiftTemplateSuitImage:function(e,t,i,a){var r=null;return r=i>a?t.shift():e.shift(),"undefined"==typeof r&&(r=i>a?e.shift():t.shift()),"undefined"==typeof r&&(r=null),r},getTemplateBySize:function(e){for(var i=[],a=0;a<t.templateList.length;a++)t.templateList[a].designSize===e&&i.push(t.templateList[a]);return i},getTemplateByGuid:function(e){for(var i=0;i<t.templateList.length;i++)if(t.templateList[i].guid===e)return t.templateList[i]},getFitTemplate:function(e,i,a){var r=t.projectSettings[t.currentSelectProjectIndex].size,n=t.projectSettings[t.currentSelectProjectIndex].rotated,o=[],s=[],d=[];if(n&&(r=r.split("X")[1]+"X"+r.split("X")[0]),o=this.getTemplateBySize(r),o.length>0)for(var l in o)if(o[l].imageNum==e&&o[l].isCoverDefault&&"true"===o[l].isCoverDefault)return o[l];for(var l in o){var c=o[l];e==c.imageNum&&(i==c.horizontalNum?s.push(c):a==c.verticalNum?s.push(c):d.push(c))}if(s.length){if(1===s.length)return s[0];var h=Math.floor(Math.random()*s.length);return s[h]}if(d.length){var h=Math.floor(Math.random()*d.length);return d[h]}},autoLayout:function(){if(t.autoLayout){for(var e,a=t.pages[t.selectedPageIdx].canvas,r=[],n=0,o=0,s=0,d=0;d<a.params.length;d++){var l=a.params[d];"image"===l.elType&&(r.push(l),l.width>l.height?o++:s++)}n=r.length,e=this.getFitTemplate(n,o,s),e&&(t.imagesIndex=e.imageNum,i(21).getTemplateItemInfo(e.guid,e.designSize),t.projectSettings[t.currentSelectProjectIndex].tplGuid=e.guid,t.projectSettings[t.currentSelectProjectIndex].tplSuitId=e.suitId)}},getForegroundVariable:function(e,a){for(var r,n="foreground",o=i(2),s=o.getVariableKeyPatternById(n).split("-"),d=[],l=t.projectSettings[t.currentSelectProjectIndex],c=0,h=s.length;c<h;c++){var p=l[s[c]];if("trim"===s[c]?p=t.projectSettings[t.selectedIdx].trim:"type"===s[c]&&(p=t.projects[e].pages[a].type),p){var u={key:s[c],value:p};d.push(u)}}if(r=o.getVariable(n,d),"insidePage"===t.projects[e].pages[a].type)var m=parseFloat(r.iWidth),g=parseFloat(r.iHeight),f=parseFloat(r.iPaddingLeft),v=parseFloat(r.iPaddingRight),_=parseFloat(r.iPaddingTop),y=parseFloat(r.iPaddingBottom);else var m=parseFloat(r.cWidth),g=parseFloat(r.cHeight),f=parseFloat(r.cPaddingLeft),v=parseFloat(r.cPaddingRight),_=parseFloat(r.cPaddingTop),y=parseFloat(r.cPaddingBottom);return r?{width:m,height:g,left:f,right:v,top:_,bottom:y}:null},getForeground:function(e,i,a,r,n){var o=this.getForegroundVariable(a,r),s=t.projectSettings[t.currentSelectProjectIndex],d=s.product,l=(s.orientation,s.format),c=this.getFormedSpread(e,i,d,l,n);if(o){var h=c.width/(o.width-o.left-o.right),p=h*o.width,u=c.height/(o.height-o.top-o.bottom),m=u*o.height,g=o.left*h-c.left,f=o.top*u-c.top;return{width:p,height:m,x:g,y:f,ratioX:h,ratioY:u,left:o.left*h,top:o.top*u,right:o.right*h,bottom:o.bottom*u}}return{width:frameBaseSize.width,height:frameBaseSize.height,x:photoLayer.x,y:photoLayer.y,left:0,top:0,right:0,bottom:0}},getFormedSpread:function(e,t,i,a,r){if(r===v||i===y)return{width:t.oriWidth-e.bleedLeft-e.bleedRight,height:t.oriHeight-e.bleedTop-e.bleedBottom,top:e.bleedTop,left:e.bleedLeft};if(a===x){var n=r===_?0:e.bleedLeft,o=r===_?t.oriWidth-e.bleedRight:t.oriWidth-e.bleedLeft;return{width:o,height:t.oriHeight-e.bleedTop-e.bleedBottom,top:e.bleedTop,left:n}}return a===w?{width:t.oriWidth-e.bleedLeft-e.bleedRight,height:t.oriHeight-e.bleedBottom,top:0,left:e.bleedLeft}:void 0},initBlankCardElement:function(){for(var e=0;e<t.projects.length;e++)for(var i=t.projects[e],a=0;a<i.pages.length;a++){var r=i.pages[a].canvas.params,n=i.pages[a].type===v;if(0===r.length){var o=this.createBlankCardElement(n);r.push(o)}}},createInsidePage:function(){for(var e=0;e<t.projects.length;e++){var a=i(12).getCardSpread();t.projects[e].pages.push({type:"insidePage",id:i(10).guid(),tplGuid:"",pageNumber:"2",styleId:"",styleItemId:"",width:a.width,height:a.height,name:"",canvas:{oriWidth:0,oriHeight:0,oriX:0,oriY:0,oriBgWidth:0,oriBgHeight:0,oriSpineWidth:0,realBleedings:{},frameBaseSize:{},frameBorderThickness:{},boardInFrame:{},boardInMatting:{},mattingSize:{},expendSize:{},photoLayer:{},params:[this.createBlankCardElement(!0)],elements:[]}});var r=t.projects[e].pages.length-1,n=t.projects[e].pages[r].canvas,o=(t.projectSettings[e].orientation,t.projectSettings[e].format),s=t.projects[e].pages[r].type,d=t.projectSettings[e].product;n.oriWidth=d===S&&o===x&&s!==v?a.width/2:a.width,n.oriHeight=d===S&&o===w&&s!==v?a.height/2:a.height,n.oriX=0,n.oriY=0,n.photoLayer={width:n.oriWidth,height:n.oriHeight},n.realBleedings={top:a.bleedTop,right:a.bleedRight,bottom:a.bleedBottom,left:a.bleedLeft},n.foreground=this.getForeground(a,n,e,r,s),n.formedSpread=this.getFormedSpread(a,n,d,o,s),n.oriBgWidth=n.foreground.width,n.oriBgHeight=n.foreground.height,n.oriX=n.foreground.x,n.oriY=n.foreground.y,t.projects[e].pages[r].width=n.oriWidth,t.projects[e].pages[r].height=n.oriHeight,t.pages.push(t.projects[e].pages[r])}},removeInsidePage:function(){t.pages.pop();for(var e=0;e<t.projects.length;e++)t.projects[e].pages.pop()},createBlankCardElement:function(e){var a=i(12).getCardSpread(),r=(t.projectSettings[t.selectedIdx].orientation,t.projectSettings[t.selectedIdx].format),n=t.projectSettings[t.selectedIdx].product,o=n===S&&r==x?a.width/2:a.width,s=n===S&&r==w?a.height/2:a.height;return r===w&&e&&(s*=2),r===x&&e&&(o*=2),{id:0,elType:"image",styleGuid:"",styleItemId:"",styleId:"",styleImageId:"",url:"",isRefresh:!1,x:0,y:0,width:o,height:s,rotate:0,dep:0,imageId:"",imageGuid:"",imageWidth:"",imageHeight:"",imageRotate:0,cropPX:0,cropPY:0,cropPW:1,cropPH:1}},removeElements:function(){for(var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length-1;i>=0;i--)this.deleteElement(i);t.pages[t.selectedPageIdx].type===v&&(t.isSwitchLoadingShow=!1)},refreshInsidePage:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=e.product===S,a=t.pages.some(function(e){return e.type===v});a&&this.removeInsidePage(),i&&this.createInsidePage()},fixResizePhotoElement:function(){for(var e=0;e<t.pages.length;e++){var a=t.pages[e].type,r=t.pages[e].canvas,n=i(12).getCardSpread(),o=t.projectSettings[t.selectedIdx].product,s=(t.projectSettings[t.selectedIdx].orientation,t.projectSettings[t.selectedIdx].format),d=o===S&&s===x?n.width/2:n.width,l=o===S&&s===w?n.height/2:n.height;s===w&&a===v&&(l*=2),s===x&&a===v&&(d*=2),r.params[0].width=d,r.params[0].height=l,r.params[0].x=0,r.params[0].y=0,r.params[0].imageId=""}},resetPagesData:function(){for(var e=0;e<t.resetPages.length;e++)for(var a=t.resetPages[e].canvas,r=t.pages[e].canvas,n=0;n<a.params.length;n++){var o=a.params[n],s=t.resetPages[e].id+"-"+n,d=r.params.filter(function(e){return e.index===s&&e.elType===o.elType})[0];if(d){if(d.dep=o.dep,d.fontColor=o.fontColor,d.fontFamily=o.fontFamily,d.fontSize=o.fontSize,d.fontWeight=o.fontWeight,d.height=o.height,d.lineSpacing=o.lineSpacing,d.textAlign=o.textAlign,d.textVAlign=o.textVAlign,d.width=o.width,d.x=o.x,d.y=o.y,d.imageId){var l=i(18).getImageDetail(d.imageId);d.imageRotate=l?l.orientation:0;var c=Math.abs(d.imageRotate)/90%2===1;if(l&&(d.imageGuid=l.guid,d.imageWidth=l.width,d.imageHeight=l.height),c)var h=d.imageHeight,p=d.imageWidth;else var h=d.imageWidth,p=d.imageHeight;var u=i(26).getDefaultCrop(h,p,d.width*r.ratio,d.height*r.ratio),m=u.px,g=u.py,f=u.pw,v=u.ph,_=d.width*r.ratio/f,y=d.height*r.ratio/v;d.cropX=l.width*m,d.cropY=l.height*g,d.cropW=l.width*f,d.cropH=l.height*v,d.cropPX=m,d.cropPY=g,d.cropPW=f,d.cropPH=v;var S=i(10).getEncImgId(d.imageId);i(10).getQueryString({encImgId:S,px:m,py:g,pw:f,ph:v,width:Math.round(_),height:Math.round(y)})}}else r.params.push({index:s,cropPH:1,cropPW:1,cropPX:0,cropPY:0,decorationid:o.decorationid,decorationtype:o.decorationtype,dep:o.dep,elType:o.elType,fontColor:o.fontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,fontWeight:o.fontWeight,height:o.height,id:n,imageGuid:"",imageHeight:"",imageId:"",imageRotate:0,imageWidth:"",isDisableRemind:!1,isFamilyName:o.isFamilyName,isRefresh:!1,lineSpacing:o.lineSpacing,rotate:0,styleGuid:o.styleGuid,styleId:o.styleId,styleImageId:o.styleImageId,styleItemId:o.styleItemId,text:"",textAlign:o.textAlign,textVAlign:o.textVAlign,url:"",width:o.width,x:o.x,y:o.y})}}}}).call(t,i(3),i(7))},function(e,t,i){(function(t){e.exports={getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):""},getRequestKey:function(){var e=new Date;return"web-h5|1|XML|"+e.getTime()},getJSONRequestKey:function(){var e=new Date;return"web-h5|1|JSON|"+e.getTime()},getSecurityString:function(){var e=t.userSettings.userId||"",i=t.userSettings.token,a=t.userSettings.uploadTimestamp,r=t.encProjectId||"";return"-1"==e&&(e=""),"&customerId="+e+"&token="+i+"&timestamp="+a+"&encProjectId="+encodeURIComponent(r)}}}).call(t,i(3))},function(e,t,i){(function(t,i){e.exports={setPopWindowPosition:function(e){if(e&&e.width&&e.height&&e.selector){var i=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,a=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight,r=(i-e.width)/2>0?(i-e.width)/2:0,n=(a-e.height)/2>0?(a-e.height)/2:0;t(e.selector).css("left",r).css("top",n)}},initImageListSize:function(e){if(e&&e.selector){var i=(window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight),a=i-208;a=a<200?200:a,t(e.selector).css("height",a)}},initImageListSizeWithCards:function(e){if(e&&e.selector){var i=(window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight),a=i-40-34-41-28-20-3-36;a=a<200?200:a,t(e.selector).css("height",a)}},initImageListSizeWithWallArts:function(e){if(e&&e.selector){var i=(window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight),a=i-215+40;a=a<200?200:a,t(e.selector).css("height",a)}},initImageListSizeWithCase:function(e){if(e&&e.selector){var i=(window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight),a=i-234;a=a<200?200:a,t(e.selector).css("height",a)}},initImageListSizeWithPadCase:function(e){if(e&&e.selector){var i=(window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight),a=i-240;a=a<200?200:a,t(e.selector).css("height",a)}},initImageListSizeWithLRB:function(e){if(e&&e.selector){var i=(window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight),a=i-40-35-10-32-10;a=a<200?200:a,t(e.selector).css("height",a)}},initDecorationListSize:function(e){if(e&&e.selector){var i=(window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight),a=i-208;a=a<200?200:a,t(e.selector).css("height",a)}},getProjectListSize:function(e){var t=(window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight),i=t-122;return i=i<200?200:i},getBoxLimit:function(e){e=e||340;var t=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,i=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight,a=t-e-20,r=i-50-2-160;return a>0?a:a=0,r>0?r:r=0,{width:a,height:r}},getCardBoxLimit:function(e,t){e=e||340;var i=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,a=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight,r=i-e-20,n=a-76-60-80-20-t;return r>0?r:r=0,n>0?n:n=0,{width:r,height:n}},getBoxLimitWithCase:function(){var e=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,t=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight,i=e-280-20-60,a=t-50-30-2-150;return i>0?i:i=0,a>0?a:a=0,{width:i,height:a}},getBoxBgSize:function(){var e=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,t=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight,i=e-340-20,a=t-50-2;return i>0?i:i=0,a>0?a:a=0,{width:i,height:a}},getPreviewBoxLimit:function(e){e=e||!1;var t=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,i=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight,a=t-50,r=i-30-60;return e?r:r-=80,a>0?a:a=0,r>0?r:r=0,{width:a,height:r}},getBoxLimitWithTmpl:function(){var e=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,t=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight,a=e-340-20-60,r=t-50-2-160;return i.isWithTemplate&&(r-=40,i.isChangeTmplExpanded&&(r-=155)),a>0?a:a=0,r>0?r:r=0,{width:a,height:r}},getOptionHeight:function(){var e=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight;return e-80-60-4},getWallArtsOptionHeight:function(){var e=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight;return e-50-44-2},getCardsOptionHeight:function(){var e=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight;return e-41-35-36},getPhoneCaseOptionHeight:function(){var e=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight;return e-80-60-4},getPadCaseOptionHeight:function(){var e=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight;return console.log(e-80-200),e-80-90},getPrintBoxLimit:function(){if(i.limitWidth)return{width:i.limitWidth,height:i.limitWidth};var e=screen.availWidth,t=(e-240-60-30)/6-20;return t=t<235?235:t,{width:t,height:t}},getPrintPreviewBoxLimit:function(){var e=screen.availWidth,t=(e-80-100)/4;return t=t>=458?458:t-20,t=t<235?235:t,{width:t,height:t}},getCenterPreviewBoxLimit:function(e){e=e||!1;var t=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,i=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight,a=t,r=i-30-60;return e?r:r-=80,a>0?a:a=0,r>0?r:r=0,{width:a,height:r}},getBoxWH:function(e,t){var i=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth,a=window.innerHeight||window.document.documentElement.clientHeight||window.document.body.clientHeight,r=e?i-e:i,n=t?a-t:a;return r>0?r:r=0,n>0?n:n=0,{width:r,height:n}}}}).call(t,i(7),i(3))},function(e,t,i){e.exports={drawImage:function(e,t,a,r,n,o,s,d,l,c,h){var p=document.getElementById(e),u=p.getContext("2d"),m=new Image;m.src=t,m.onload=function(e){o&&s?d?u.drawImage(m,d,l,c,h,a,r,o,s):u.drawImage(m,a,r,o,s):u.drawImage(m,a,r),n&&n()},m.onerror=function(){i(5)({ev:i(6).ImageLoadFail,imageUrl:t})}},createRotateElementCanvas:function(e,t){var i=document.createElement("canvas"),a=i.getContext("2d"),r=document.createElement("canvas"),n=r.getContext("2d"),o=this.getCanvasRotateSize(e,t);i.width=o.width<e.width?e.width:o.width,i.height=o.height<e.height?e.height:o.height,r.width=o.width<e.width?e.width:o.width,r.height=o.height<e.height?e.height:o.height;var s=o.width>e.width?o.width/2:e.width/2,d=o.height>e.height?o.height/2:e.height/2,l=s-e.width/2<0?0:s-e.width/2,c=d-e.height/2<0?0:d-e.height/2;return a.clearRect(0,0,i.width,i.height),n.clearRect(0,0,r.width,r.height),a.drawImage(e,l,c),n.translate(s,d),n.rotate(t*Math.PI/180),n.translate(-s,-d),n.drawImage(i,0,0),r},drawRotateCanvas:function(e){var t=e.tarCanvasId,i=e.sourceCanvasId,a=e.x,r=e.y,n=e.width,o=e.height,s=e.sx,d=e.sy,l=e.sw,c=e.sh,h=parseInt(e.rotate)||0,p=document.getElementById(t),u=p.getContext("2d"),m=document.getElementById(i);if(m){var g=(m.getContext("2d"),this.createRotateElementCanvas(m,h)),s=s||0,d=d||0,l=l||g.width,c=c||g.height,a=a||0,r=r||0,f=n||g.width,v=o||g.height;l>0&&c>0&&(a-=(g.width-m.width)/2,r-=(g.height-m.height)/2,u.drawImage(g,s,d,l,c,a,r,f,v))}},drawCanvas:function(e,t,i,a,r,n,o,s,d,l){var c=document.getElementById(e),h=c.getContext("2d"),p=document.getElementById(t);if(p){var o=(p.getContext("2d"),o||0),s=s||0,d=d||p.width,l=l||p.height,i=i||0,a=a||0,u=r||p.width,m=n||p.height;d>0&&l>0&&h.drawImage(p,o,s,d,l,i,a,u,m)}},drawText:function(e,t,i,a,r,n,o){var s=document.getElementById(e),d=s.getContext("2d");d.textBaseline="top";var l=d.fillStyle;d.fillStyle=r,d.font=n+" "+o,d.fillText(t,i,a),d.fillStyle=l},drawLine:function(e,t,i,a,r,n,o){var s=document.getElementById(e),d=s.getContext("2d"),l=d.strokeStyle;d.strokeStyle=t;var c=d.lineWidth;o?d.lineWidth=o:d.lineWidth=1,d.beginPath(),d.moveTo(i,a),d.lineTo(r,n),d.closePath(),d.stroke(),d.strokeStyle=l,d.lineWidth=c},drawDashedLine:function(e,t,i,a,r,n,o,s){var d=document.getElementById(e),l=d.getContext("2d"),c=l.strokeStyle;l.strokeStyle=t;var h=l.lineWidth;o?l.lineWidth=o:l.lineWidth=1,s||(s=5),l.beginPath();for(var p,u,m,g,f=this.getBeveling(r-i,n-a),v=Math.floor(f/s),_=0;_<v;_++)p=i+(r-i)/v*_,u=a+(n-a)/v*_,m=i+(r-i)/v*(_+1),g=a+(n-a)/v*(_+1),l[_%2==0?"moveTo":"lineTo"](i+(r-i)/v*_,a+(n-a)/v*_);v%2!=0&&l.lineTo(m,g),l.closePath(),l.stroke(),l.strokeStyle=c,l.lineWidth=h},getBeveling:function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},drawRect:function(e,t,i,a,r,n,o,s){var d=document.getElementById(e),l=d.getContext("2d");if(o){var c=l.lineWidth;s?l.lineWidth=s:l.lineWidth=1;var h=l.strokeStyle;l.strokeStyle=t,l.beginPath(),l.moveTo(i,a),l.strokeRect(i,a,r,n),l.closePath(),l.stroke(),l.strokeStyle=h,l.lineWidth=c}else{var h=l.fillStyle;l.fillStyle=t,l.beginPath(),l.moveTo(i,a),l.fillRect(i,a,r,n),l.closePath(),l.fillStyle=h}},drawCircular:function(e,t,i,a,r,n,o){var s=document.getElementById(e),d=s.getContext("2d");if(n){var l=d.lineWidth;o?d.lineWidth=o:d.lineWidth=1;var c=d.strokeStyle;d.strokeStyle=t,d.moveTo(i,a),d.beginPath(),d.arc(i,a,r,0,2*Math.PI),d.closePath(),d.stroke(),d.strokeStyle=c,d.lineWidth=l}else{var c=d.fillStyle;d.fillStyle=t,d.moveTo(i,a),d.beginPath(),d.arc(i,a,r,0,2*Math.PI),d.closePath(),d.fill(),d.fillStyle=c}},clear:function(e,t,i,a,r){var n=document.getElementById(e),o=n.getContext("2d"),t=t||0,i=i||0,a=a||n.width,r=r||n.height;o.clearRect(t,i,a,r)},getImageData:function(e,t,i,a,r){var n=document.getElementById(e),o=n.getContext("2d");return t=t||0,i=i||0,a=a||n.width,r=r||n.height,o.getImageData(t,i,a,r)},fillImageData:function(e,t,i,a,r,n){var o=document.getElementById(e),s=o.getContext("2d"),r=r||o.width,n=n||o.height,i=i||0,a=a||0;s.putImageData(t,i,a,0,0,r,n)},createImageData:function(e,t,i){var a=document.getElementById(e),r=a.getContext("2d"),t=t||a.width,i=i||a.height;return r.createImageData(t,i)},getClient:function(e){var t=document.getElementById(e);return{width:t.width,height:t.height,context:t.getContext("2d")}},imageDataVRevert:function(e,t){for(var i=0,a=e.height;i<a;i++)for(j=0,w=e.width;j<w;j++)t.data[i*w*4+4*j+0]=e.data[(a-i)*w*4+4*j+0],t.data[i*w*4+4*j+1]=e.data[(a-i)*w*4+4*j+1],t.data[i*w*4+4*j+2]=e.data[(a-i)*w*4+4*j+2],t.data[i*w*4+4*j+3]=e.data[(a-i)*w*4+4*j+3];return t},imageDataHRevert:function(e,t){for(var i=0,a=e.height;i<a;i++)for(j=0,w=e.width;j<w;j++)t.data[i*w*4+4*j+0]=e.data[i*w*4+4*(w-j)+0],t.data[i*w*4+4*j+1]=e.data[i*w*4+4*(w-j)+1],t.data[i*w*4+4*j+2]=e.data[i*w*4+4*(w-j)+2],t.data[i*w*4+4*j+3]=e.data[i*w*4+4*(w-j)+3];return t},canvasToBase64:function(e){var t=document.getElementById(e);return t.toDataURL("image/jpeg")},wrapBorder:function(e,t,i){var a=document.getElementById(e),r=document.createElement("canvas"),n=r.getContext("2d"),o=a.width,s=a.height,i=i||.5,t=t||"right",d={top:[1,0,-i,i,0,s/2],right:[-i,i,0,1,o/2,-o/2]};return o>s?(r.width=o+s/2,r.height=s):(r.width=o,r.height=s+o/2),CanvasRenderingContext2D.prototype.transform.apply(n,d[t]),o>s?n.drawImage(a,s/2,0):n.drawImage(a,0,o/2),n.getImageData(0,0,r.width,r.height)},setSize:function(e,t){var i=document.getElementById(e);t.width&&(i.width=t.width),t.height&&(i.height=t.height)},fillEmptyDataWithColor:function(e,t,i,a){for(var r=0;r<e.width*e.height;r++)0===e.data[4*r+3]&&(e.data[4*r]=t.r,e.data[4*r+1]=t.g,e.data[4*r+2]=t.b,e.data[4*r+3]=255);return e},replaceColor:function(e,t,i,a,r,n,o){var t=~~(t||0),i=~~(i||0),r=t+r||e.width,n=i+n||e.height;if(t<0||i<0||r>e.width||n>e.height)throw new Error("error params!");for(var s=i;s<n;s++)for(var d=t;d<r;d++){var l=s*e.width+d,c=e.data[4*l],h=e.data[4*l+1],p=e.data[4*l+2];c==a.r&&h==a.g&&p==a.b&&(o?(e.data[4*l]=o.r,e.data[4*l+1]=o.g,e.data[4*l+2]=o.b,e.data[4*l+3]=255):e.data[4*l+3]=0)}return e},resizeImage:function(e,t,i){var a=document.getElementById(e),r=(a.getContext("2d"),document.createElement("canvas")),n=r.getContext("2d"),t=t||a.width,i=i||a.height;if(t!==a.width||i!==a.height){var o;t>i?(o=a.width/t,i=a.height/o):t===i&&a.width>a.height?(o=a.width/t,i=a.height/o):(o=a.height/i,t=a.width/o)}return r.width=t,r.height=i,n.drawImage(a,0,0,t,i),r.toDataURL("image/png")},getCanvasRotateSize:function(e,t){var i=this.getCanvasRotatePoint(e,t),a=0,r=0;return i.forEach(function(e){a=e.x>a?e.x:a,r=e.y>r?e.y:r}),{width:2*a,height:2*r}},getCanvasRotatePoint:function(e,t){for(var i=Math.sqrt(e.width*e.width+e.height*e.height)/2,a=1,r=1,n=0,o=[],s=0;s<4;s++){switch(s){case 0:a=-1,r=1,n=360;break;case 1:a=1,r=1,n=0;break;case 2:a=1,r=-1,n=180;break;case 3:a=-1,r=-1,n=180}var d={x:e.width/2*a,y:e.height/2*r},l=Math.atan(d.y/d.x)/Math.PI*180+n,c=(l+t)/180*Math.PI;o.push({x:Math.cos(c)*i,y:Math.sin(c)*i})}return o},drawBorderRadius:function(e,t,i){var a=document.getElementById(e),r=a.getContext("2d"),n=a.width||0,o=a.height||0;r.fillStyle=i||"#fff",r.beginPath(),r.moveTo(0,0),r.lineTo(t,0),r.arcTo(0,0,0,t,t),r.lineTo(0,0),r.fill(),r.closePath(),r.beginPath(),r.moveTo(n,0),r.lineTo(n-t,0),r.arcTo(n,0,n,t,t),r.lineTo(n,0),r.fill(),r.closePath(),r.beginPath(),r.moveTo(0,o),r.lineTo(0,o-t),r.arcTo(0,o,t,o,t),r.lineTo(0,o),r.fill(),r.closePath(),r.fillStyle=i||"black",r.beginPath(),r.moveTo(n,o),r.lineTo(n-t,o),r.arcTo(n,o,n,o-t,t),r.lineTo(n,o),r.fill(),r.closePath(),r.fillStyle=i||"rgba(0,0,0,0.6)",r.beginPath(),r.moveTo(n-t,0),r.arcTo(n,0,n,t,t),r.lineTo(n,t/3),r.lineTo(n-t,0),r.fill(),r.closePath()},resizeImageWithShadow:function(e,t,i,a){var r=document.getElementById(e),n=(r.getContext("2d"),document.createElement("canvas")),o=n.getContext("2d"),t=r.width,i=r.height,s=t+20,d=i+20;return n.width=s,n.height=d,o.fillStyle="white",o.fillRect(0,0,s,d),o.shadowBlur=1,o.shadowOffsetX=3,o.shadowOffsetY=2,o.fillStyle="black",o.shadowColor="rgba(0,0,0,0.8)",o.beginPath(),o.moveTo(10+a,d-10),o.arcTo(10,d-10,10,d-10-a,a),o.lineTo(10+a,10),o.arcTo(s-10,10,s-10,10+a/2,a),o.lineTo(s-10,d-10-a),o.arcTo(s-10,d-10,s-10-a,d-10,a),o.lineTo(10+a/1.5,d-10),o.fill(),o.closePath(),o.shadowBlur=0,o.shadowColor="transparents",o.shadowOffsetX=0,o.shadowOffsetY=0,o.drawImage(r,10,10,t,i),n.toDataURL("image/png")},replaceColorOutOfArea:function(e,t,i,a,r,n,o,s,d){var t=~~(t||0),i=~~(i||0),r=t+r||e.width,n=i+n||e.height,l=e.width,c=e.height;if(t<0||i<0||r>e.width||n>e.height)return e;for(var h=0;h<c;h++)for(var p=0;p<l;p++){var u=!0,m=!0;switch(d){case"Round":var g=(r+t)/2,f=(n+i)/2,v=(r-t)/2;u=m=Math.sqrt(Math.pow(p-g,2)+Math.pow(h-f,2))<v;break;case"Square":default:u=p>=t&&p<r,m=h>=i&&h<n}var _=h*e.width+p,y=e.data[4*_],S=e.data[4*_+1],w=e.data[4*_+2],x=e.data[4*_+3];if(s&&255!==x&&(e.data[4*_+3]=255),u&&m)s&&255!==x&&(e.data[4*_]=s.r,e.data[4*_+1]=s.g,e.data[4*_+2]=s.b,e.data[4*_+3]=255);else{var M=y>a.r-50&&y<a.r+50,L=S>a.g-50&&S<a.g+50,b=w>a.b-50&&w<a.b+50;M&&L&&b&&(o?(e.data[4*_]=o.r,e.data[4*_+1]=o.g,e.data[4*_+2]=o.b,e.data[4*_+3]=255):e.data[4*_+3]=0)}}return e}}},function(e,t,i){(function(t,i){e.exports={getImageDetail:function(e){if(!e)return"";for(var i=0;i<t.imageList.length;i++)if(t.imageList[i].id===e)return t.imageList[i]},freshImageUsedCount:function(){for(var e=[],a=[],r=0;r<t.pages.length;r++)for(var n=t.pages[r].canvas,o=0;o<n.params.length;o++){if(n.elements[o]&&void 0!=n.elements[o].imageId&&""!==n.elements[o].imageId)var s=n.elements[o];else var s=n.params[o];if(s.imageId&&""!==s.imageId)if(i.inArray(s.imageId,e)===-1)e.push(s.imageId),a.push(1);else{var d=i.inArray(s.imageId,e);a[d]++}}for(r=0;r<t.imageList.length;r++)for(t.imageList[r].usedCount=0,o=0;o<e.length;o++)if(e[o]===t.imageList[r].id){t.imageList[r].usedCount=a[o];break}}}}).call(t,i(3),i(7))},function(e,t){e.exports={formatDate:function(e){var t=new Date(e),i=t.getFullYear(),a=String(t.getMonth()+1),r=String(t.getDate());return a.length<2&&(a="0"+a),r.length<2&&(r="0"+r),[i,a,r].join("-")},formatTime:function(e){var t=new Date(e),i=String(t.getHours()),a=String(t.getMinutes()),r=String(t.getSeconds());return i.length<2&&(i="0"+i),a.length<2&&(a="0"+a),r.length<2&&(r="0"+r),[i,a,r].join(":")},formatDateTime:function(e){return e?this.formatDate(e)+" "+this.formatTime(e):""}}},,function(e,t,i){(function(t,a){e.exports={loadAllTemplateList:function(e,r,n){var o=this,s=r,d=r.split("X")[1]+"X"+r.split("X")[0],l=r.split("X")[0],c=r.split("X")[1],h=t.domains.baseUrl+"/template/global/list?designSize="+s+"&imageNum=0&autoRandomNum="+i(11).getRandomNum()+"&webClientId=1&productType="+e;"CR"===t.projectType&&"true"!=t.isPortal&&(h=t.domains.baseUrl+"/template/global/getTemplateListByProductInfo?category=CARD&product=V2_FOLDEDCARD&size="+s+"&usePosition=inside&orientation="+t.projectSettings[t.selectedIdx].orientation),a.ajax({url:h,type:"get",dataType:"xml",async:!1}).done(function(r){if(r&&"success"===a(r).find("result").attr("state")){var s=o.analysisTemplateXml(r);t.templateList=s,l!==c?a.ajax({url:t.domains.baseUrl+"/template/global/list?designSize="+d+"&imageNum=0&autoRandomNum="+i(11).getRandomNum()+"&webClientId=1&productType="+e,type:"get",dataType:"xml",async:!1}).done(function(e){if(e&&"success"===a(e).find("result").attr("state")){var i=o.analysisTemplateXml(e);t.templateList=t.templateList.concat(i),n&&(t.watches.isApplyLayout=!0)}}):n&&(t.watches.isApplyLayout=!0)}})},getTemplateItemInfo:function(e,r){a.ajax({url:t.domains.baseUrl+"/template/global/item/guid/"+e+"/size/"+r+"/viewData?webClientId=1&autoRandomNum="+i(11).getRandomNum(),type:"get",dataType:"xml",async:!1}).done(function(e){e&&t.vm.$dispatch("dispatchTemplateItemInfo",e)})},getTemplateItemUrl:function(e,i){return"CR"!==t.projectType&&i.split("X")[0]===i.split("X")[1]&&(i="8X8"),t.domains.layoutTemplateServerBaseUrl+"/TemplateThumbnail/"+i+"/"+e+".jpg?size="+i},analysisTemplateXml:function(e){for(var t=[],i=0;i<a(e).find("template").length;i++){for(var r=a(e).find("template").eq(i),n={},o=0;o<a(r).children().length;o++){var s=a(r).children().eq(o);n[s[0].nodeName]=s.text()}n.url=this.getTemplateItemUrl(n.guid,n.designSize),t.push(n)}return t},loadDesignerTemplate:function(e){a.ajax({url:t.domains.baseUrl+"/card-template/getCardTemplateByTemplateGuid.ep?templateGuid="+t.templateGuid+"&autoRandomNum="+i(11).getRandomNum(),type:"get",dataType:"xml"}).done(function(i){t.templateXML=i,e&&e()})}}}).call(t,i(3),i(7))},function(e,t){e.exports=function(){return{projectId:"",userId:"",albumId:"",token:"",uploadTimestamp:"",title:"test-tshirt",projectXml:"",ordered:"",tplGuid:"",price:0}}},function(e,t,i){(function(t){e.exports={getExifDegree:function(e){switch(+e){case 6:return 90;case 8:return-90;case 3:return 180;default:return 0}},getBlobImagePreviewUrl:function(e){var i=t.imageList[e],a=+i.orientation,r=(a+360)%360/90,n=new Image;n.src=i.url+"350",n.crossOrigin="anonymous";var o=this,s=document.createElement("canvas"),d=s.getContext("2d");o.fetchImage(n.src,function(e){n.src=e.src,n.onload=function(){switch(r){case 1:s.width=n.height,s.height=n.width,d.rotate(90*Math.PI/180),d.drawImage(n,0,-n.height);break;case 2:s.width=n.width,s.height=n.height,d.rotate(180*Math.PI/180),d.drawImage(n,-n.width,-n.height);break;case 3:s.width=n.height,s.height=n.width,d.rotate(270*Math.PI/180),d.drawImage(n,-n.width,0);break;default:case 4:s.width=n.width,s.height=n.height,d.rotate(0),d.drawImage(n,0,0)}if(s.toBlob)s.toBlob(function(e){i.previewUrl=URL.createObjectURL(e)});else{var e=s.msToBlob();i.previewUrl=URL.createObjectURL(e)}}})},createXHR:function(){if(window.XMLHttpRequest)return new XMLHttpRequest;if(!window.ActiveXObject)throw new Error("xhr not support");for(var e=["MSXML2.XMLHttp","Microsoft.XMLHTTP"],t=0,i=e.length;t<i;t++)try{return new ActiveXObject(version[t])}catch(a){}},fetchImage:function(e,t){if(RegExp(location.host+"|base64,").test(e)){
var i=new window.Image;i.onload=function(){t(i)},i.onerror=function(){t()},i.src=e}else{var a=this.createXHR();a.open("GET",e,!0),a.responseType="blob",a.onload=function(){var e=new window.Image;e.onload=function(){t(e)},e.onerror=function(){t()},e.src=window.URL.createObjectURL(a.response)},a.onerror=function(){t()},a.send()}}}}).call(t,i(3))},function(e,t,i){var a=i(17);e.exports={convertScreenshotToBase64:function(){return a.canvasToBase64("screenshot")}}},function(e,t,i){(function(t,a){var r=i(11),n=i(14);e.exports={createText:function(e){var i=this;if(e){var a=Math.round(r.getTextViewFontSize(e.fontSize));if(a>0){var n=new Image;if(""===e.text?n.src=t.domains.proxyFontBaseUrl+"/product/text/textImage?text="+encodeURIComponent("Enter text here")+"&font="+encodeURIComponent(e.fontFamily)+"&fontSize="+a+"&color="+encodeURIComponent(e.fontColor)+"&align=left":n.src=t.domains.proxyFontBaseUrl+"/product/text/textImage?text="+encodeURIComponent(e.text)+"&font="+encodeURIComponent(e.fontFamily)+"&fontSize="+a+"&color="+encodeURIComponent(e.fontColor)+"&align=left",n.complete)return void i.addTextInParams(e,n.width,n.height);n.onload=function(){i.addTextInParams(e,n.width,n.height)}}else i.addTextInParams(e,1,1)}},createSizedText:function(e){var i=t.pages[t.selectedPageIdx].canvas,a=i.params.length;e.dep=a,i.params.push(e),this.createTextElement(a)},editText:function(e,i){var a=this;if(e&&void 0!=i&&null!=i){var n=(t.pages[t.selectedPageIdx].canvas,Math.round(r.getTextViewFontSize(e.fontSize)));if(n>0){var o=new Image;if(""===e.text?o.src=t.domains.proxyFontBaseUrl+"/product/text/textImage?text="+encodeURIComponent("Enter text here")+"&font="+encodeURIComponent(e.fontFamily)+"&fontSize="+n+"&color="+encodeURIComponent(e.fontColor)+"&align=left":o.src=t.domains.proxyFontBaseUrl+"/product/text/textImage?text="+encodeURIComponent(e.text)+"&font="+encodeURIComponent(e.fontFamily)+"&fontSize="+n+"&color="+encodeURIComponent(e.fontColor)+"&align=left",o.complete)return void a.changeTextInParams(e,o.width,o.height,i);o.onload=function(){a.changeTextInParams(e,o.width,o.height,i)}}else a.changeTextInParams(e,1,1,i)}},editCurrentText:function(e,i){var r=t.pages[t.selectedPageIdx].canvas;a.extend(!0,r.params[i],e),this.editTextElement(i)},deleteText:function(e){void 0!=e&&null!=e&&(this.removeTextFromParams(e),t.vm.$broadcast("notifyRefreshScreenshot"))},addTextInParams:function(e,i,a){var r=t.pages[t.selectedPageIdx].canvas,n=r.params.length;e.width=i/r.ratio,e.height=a/r.ratio,e.dep=n,r.params.push(e),this.createTextElement(n)},changeTextInParams:function(e,i,a,r){var n=t.pages[t.selectedPageIdx].canvas;e.width=i/n.ratio,e.height=a/n.ratio,n.params.splice(r,1,e),this.editTextElement(r)},removeTextFromParams:function(e){var i=t.pages[t.selectedPageIdx].canvas;n.freshDepth(e),i.params.splice(e,1),this.deleteTextElement(e)},createTextElement:function(e){var t=this;n.createElement(e,t),n.spineLinesToTop()},editTextElement:function(e){var t=this;n.editElement(e,t),n.spineLinesToTop()},deleteTextElement:function(e){var t=this;n.deleteElement(e,t),n.spineLinesToTop()}}}).call(t,i(3),i(7))},function(e,t){e.exports={getDefaultCrop:function(e,t,i,a){if(e&&t&&i&&a){var r,n,o,s,d=e/t,l=i/a;if(d>l){var c=t,h=c*l,p=(e-h)/2;r=p/e,n=0,o=h/e,s=1}else{var h=e,c=h/l,p=(t-c)/2;r=0,n=p/t,o=1,s=c/t}return{px:Math.abs(r.toFixed(8)),py:Math.abs(n.toFixed(8)),pw:Math.abs(o.toFixed(8)),ph:Math.abs(s.toFixed(8))}}return{px:0,py:0,pw:1,ph:1}},getConformCrop:function(e,t,i,a,r,n,o,s,d,l){var c,h,p=i*e,u=a*t,m=r*e,g=n*t,f=d*m/o,v=l*g/s;f-m<v-g?(c=m,h=c/f*v):(h=g,c=h/v*f),f=c,v=h;var _=(f-m)/2,y=(v-g)/2,S=p-_,w=u-y,x=S+f,M=w+v;return S<0&&(S=0),w<0&&(w=0),x>e&&(S=e-f),M>t&&(w=t-v),(f>e||v>t)&&(f-m>v-g?(c=m,h=c/f*v):(h=g,c=h/v*f),f=c,v=h,_=(f-m)/2,y=(v-g)/2,S=p-_,w=u-y),{px:S/e,py:w/t,pw:f/e,ph:v/t}},getRotatedAngle:function(e,t){return void 0!=e&&null!=e?(t=isNaN(parseFloat(t))?90:parseFloat(t),e+=t,e>180?e-=360:e,e<-90?e+=360:e,e):0},stecheTo:function(e,t,i,a,r){r="meet";var n=e/t,o=i/a,s=1;return s=n>o?"slice"===r?a/t:i/e:"slice"===r?i/e:a/t,{width:e*s,height:t*s}}}},function(e,t,i){(function(t){var a=i(14);e.exports={createImage:function(e){e&&this.addImageInParams(e)},editImage:function(e,t){e&&void 0!=t&&null!=t&&this.changeImageInParams(e,t)},deleteImage:function(e,i){void 0!=e&&null!=e&&(this.removeImageFromParams(e,i),t.vm.$broadcast("notifyRefreshScreenshot"))},addImageInParams:function(e){var i=t.pages[t.selectedPageIdx].canvas,a=i.params.length;i.params.push(e),this.createImageElement(a)},changeImageInParams:function(e,i){var a=t.pages[t.selectedPageIdx].canvas;a.params.splice(i,1,e),this.editImageElement(i)},removeImageFromParams:function(e,i){var r=t.pages[t.selectedPageIdx].canvas;a.freshDepth(e,i);var n=r.params[e].id;i?(r.params[e].imageId="",r.params[e].url="",r.params[e].sourceImageUrl="",r.params[e].imageGuid="",r.params[e].imageWidth="",r.params[e].imageHeight="",r.params[e].imageRotate=0,r.params[e].cropPX=0,r.params[e].cropPY=0,r.params[e].cropPW=1,r.params[e].cropPH=1,r.params[e].isRefresh=!0):(r.params.splice(e,1),this.deleteImageElement(e,n))},createImageElement:function(e){a.createElement(e),a.spineLinesToTop()},editImageElement:function(e){a.editElement(e),a.spineLinesToTop()},deleteImageElement:function(e){a.deleteElement(e),a.spineLinesToTop(),a.autoLayout()}}}).call(t,i(3))},function(e,t,i){(function(t){e.exports={events:{dispatchRotate:function(){},dispatchDragEnd:function(){this.elementData.x*this.ratio<-this.elementData.width*this.ratio&&(this.elementData.x=0,this.elementData.y*this.ratio<-this.elementData.height*this.ratio*.8&&(this.elementData.y=0)),this.elementData.y*this.ratio<-this.elementData.height*this.ratio&&(this.elementData.y=0,this.elementData.x*this.ratio<-this.elementData.width*this.ratio*.8&&(this.elementData.x=0));var e=t.pages[t.selectedPageIdx].canvas;this.elementData.x*this.ratio>e.width&&(this.elementData.x=e.width/this.ratio-this.elementData.width,this.elementData.y*this.ratio>.8*e.height&&(this.elementData.y=e.height/this.ratio-this.elementData.height)),this.elementData.y*this.ratio>e.height&&(this.elementData.y=e.height/this.ratio-this.elementData.height,this.elementData.x*this.ratio>.8*e.width&&(this.elementData.x=e.width/this.ratio-this.elementData.width))},dispatchScaleEnd:function(){this.elementData.x*this.ratio<-this.elementData.width*this.ratio&&(this.elementData.x=0,this.elementData.y*this.ratio<-this.elementData.height*this.ratio*.8&&(this.elementData.y=0)),this.elementData.y*this.ratio<-this.elementData.height*this.ratio&&(this.elementData.y=0,this.elementData.x*this.ratio<-this.elementData.width*this.ratio*.8&&(this.elementData.x=0));var e=t.pages[t.selectedPageIdx].canvas;this.elementData.x*this.ratio>e.width&&(this.elementData.x=e.width/this.ratio-this.elementData.width,this.elementData.y*this.ratio>.8*e.height&&(this.elementData.y=e.height/this.ratio-this.elementData.height)),this.elementData.y*this.ratio>e.height&&(this.elementData.y=e.height/this.ratio-this.elementData.height,this.elementData.x*this.ratio>.8*e.width&&(this.elementData.x=e.width/this.ratio-this.elementData.width))},dispatchCornerClick:function(){this.setIndex(),t.isEditLayerShow=!1},dispatchSideClick:function(){this.setIndex(),t.isEditLayerShow=!1}}}}).call(t,i(3))},function(e,t,i){(function(t,i){e.exports={analyseSpec:function(e){if(e&&e.size&&e.product){for(var a=e.size,r=e.product,n=(e.color,e.measure,0),o=0,s=0,d=0,l=0,c=0,h=0,p=0,u=0,m=0,g=(new DOMParser,t.spec.specXml),f=i(g).find('parameter[id="baseSize"]').find("entry"),v=0;v<f.length;v++)if(f.eq(v).attr("key").indexOf(r+"-"+a)!==-1){n=f.eq(v).attr("x"),o=f.eq(v).attr("y"),s=300*f.eq(v).attr("widthInInch"),d=300*f.eq(v).attr("heightInInch");break}for(var _=i(g).find('parameter[id="backgroundSize"]').find("entry"),v=0;v<_.length;v++)if(_.eq(v).attr("key").indexOf(r+"-"+a)!==-1){l=_.eq(v).attr("width"),c=_.eq(v).attr("height");break}for(var y=i(g).find('parameter[id="logoArea"]').find("entry"),v=0;v<y.length;v++)if(y.eq(v).attr("key").indexOf(r+"-"+a)!==-1){h=y.eq(v).attr("x"),p=y.eq(v).attr("y"),u=y.eq(v).attr("width"),m=y.eq(v).attr("height");break}var S={x:n,y:o,width:s,height:d},w={width:l,height:c},x={x:h,y:p,width:u,height:m};return{base:S,background:w,logo:x}}}}}).call(t,i(3),i(7))},function(e,t){var i=(t.textFormTypes={DATE:"Date",TIME:"Time",TEXT:"Text",PHONE:"Phone",NUMBER:"Number",LENGTH:"Length",WEIGHT:"Weight",TEXTAREA:"Textarea"},t.inputType={INPUT:"input",TEXTAREA:"textarea",NUMBER:"number",PHONE:"phone"});t.tagFormats={Text:i.INPUT,Date:"MM/DD/YYYY",Time:"hh:mm a",Phone:i.PHONE,Number:i.NUMBER,Length:i.INPUT,Weight:i.INPUT,Textarea:i.TEXTAREA},t.cardTypes={FOLDER:"FD",FLAT:"FT"},t.formatTypes={TOP:"TOP",SIDE:"SIDE"},t.pageTypes={FRONT_PAGE:"frontPage",INSIDE_PAGE:"insidePage"}},function(e,t,i){(function(t,i){e.exports={getDecorationDetail:function(e){if(!e)return"";for(var i=0;i<t.allDecorationList.length;i++)if(t.allDecorationList[i].id===e)return t.allDecorationList[i]},freshDecorationUsedCount:function(){for(var e=[],a=[],r=0;r<t.pages.length;r++)for(var n=t.pages[r].canvas,o=0;o<n.params.length;o++){if(n.elements[o]&&void 0!=n.elements[o].decorationid&&""!==n.elements[o].decorationid)var s=n.elements[o];else var s=n.params[o];if(s.decorationid&&""!==s.decorationid)if(i.inArray(s.decorationid,e)===-1)e.push(s.decorationid),a.push(1);else{var d=i.inArray(s.decorationid,e);a[d]++}}for(r=0;r<t.allDecorationList.length;r++)for(t.allDecorationList[r].count=0,o=0;o<e.length;o++)if(e[o]===t.allDecorationList[r].guid){t.allDecorationList[r].count=a[o];break}}}}).call(t,i(3),i(7))},function(e,t,i){(function(t,a){var r=i(19);e.exports={initProjectJson:function(){for(var e=i(2).getOptionIds(),n=t.projectSettings[t.currentSelectProjectIndex],o=a(t.spec.specXml).find("product-spec").attr("version"),s={},d=0;d<e.length;d++)s[e[d]]=n[e[d]];var l=[this.initPage()];return{project:{guid:"",version:o,clientId:"web-h5",createAuthor:"web-h5|1.1|1",userId:t.userSettings.userId,artisan:t.userSettings.userName,createdDate:r.formatDateTime(new Date),updatedDate:r.formatDateTime(new Date),summary:{},spec:s,pages:l,images:[]}}},initNewPrintProjectJson:function(){for(var e=i(2).getOptionIds(),n=t.projectSettings[t.currentSelectProjectIndex],o=a(t.spec.specXml).find("product-spec").attr("version"),s={},d=[],l=0;l<e.length;l++)s[e[l]]=n[e[l]];return{project:{version:o,clientId:"web-h5",createAuthor:"web-h5|1.1|1",userId:t.userSettings.userId,artisan:t.userSettings.userName,createdDate:r.formatDateTime(new Date),updatedDate:r.formatDateTime(new Date),summary:{defaultSetting:s},pages:d,images:[]}}},getCurrentProjectJson:function(){for(var e=i(2).getOptionIds(),n=t.projectSettings[t.currentSelectProjectIndex],o=a(t.spec.specXml).find("product-spec").attr("version"),s={},d=0;d<e.length;d++)s[e[d]]=n[e[d]];var l=this.getPages(),c=this.getImages();return{project:{guid:t.projectId,version:o,clientId:"web-h5",createAuthor:"web-h5|1.1|1",userId:t.userSettings.userId,artisan:t.userSettings.userName,createdDate:t.createdDate,updatedDate:r.formatDateTime(new Date),summary:{},spec:s,pages:l,images:c}}},getSkuJson:function(){for(var e=t.userSettings,r=i(2).getOptionIds(),n=a(t.spec.specXml).find("product-spec").attr("version"),o=t.projectSettings[t.currentSelectProjectIndex],s={project:{version:n,clientId:"web-h5",createAuthor:"web-h5|1.1|1",userId:e.userId,artisan:e.userName}},d=0;d<r.length;d++)s.project[r[d]]=o[r[d]];return s},getBaseSize:function(e){var a="undefined"!=typeof e?e:t.currentSelectProjectIndex,r=t.projectSettings[a],n=i(2).getOptionIds(),o=[];n.forEach(function(e){o.push({key:e,value:r[e]})});var s=i(2).getParameter("baseSizeInInch",o);return{width:s.width*i(2).getDPI(),height:s.height*i(2).getDPI()}},getBleedSize:function(e){var a="undefined"!=typeof e?e:t.currentSelectProjectIndex,r=t.projectSettings[a],n=i(2).getDPI(),o=r.size,s=r.product,d=i(2).getParameter("bleedInInch",[{key:"product",value:s},{key:"size",value:o}]);return{top:d.top*n,right:d.right*n,bottom:d.bottom*n,left:d.left*n}},getLMCBaseSize:function(e){var a="undefined"!=typeof e?e:t.currentSelectProjectIndex,r=t.projectSettings[a],n=r.size,o=r.product,s=r.frameStyle,d=r.orientation,l=i(2).getParameter("frameBaseSize",[{key:"product",value:o},{key:"frameStyle",value:s},{key:"size",value:n},{key:"orientation",value:d}]);return{width:parseFloat(l.widthInInch)*i(2).getDPI(),height:parseFloat(l.heightInInch)*i(2).getDPI()}},getLMCBleedSize:function(e){var a="undefined"!=typeof e?e:t.currentSelectProjectIndex,r=t.projectSettings[a],n=r.size,o=r.product,s=i(2).getParameter("bleed",[{key:"product",value:o},{key:"size",value:n}]);return{top:parseFloat(s.top),right:parseFloat(s.right),bottom:parseFloat(s.bottom),left:parseFloat(s.left)}},getLMCCanvasBorder:function(e){var a="undefined"!=typeof e?e:t.currentSelectProjectIndex,r=t.projectSettings[a],n=r.size,o=r.product,n=r.size,s=r.canvasBorderSize,d=i(2).getParameter("canvasBorderThickness",[{key:"product",value:o},{key:"size",value:n},{key:"canvasBorderSize",value:s}]);return{top:parseFloat(d.top),right:parseFloat(d.right),bottom:parseFloat(d.bottom),left:parseFloat(d.left)}},getCanvasBorder:function(){return{top:0,right:0,bottom:0,left:0}},getLMCPhotoLayer:function(e){var i="undefined"!=typeof e?e:t.currentSelectProjectIndex,a=t.projectSettings[i],r=(a.orientation,{}),n=this.getLMCBaseSize(i),o=this.getLMCCanvasBorder(i),s=o.top,d=o.bottom,l=o.left,c=o.right,h=this.getLMCBleedSize(i),p=h.top,u=h.bottom,m=h.left,g=h.right,f=n.width+l+c,v=n.height+s+d,_=0,y=0,S=0,w=0;"Portrait"===a.orientation?(_=-u,y=-m,S=f+p+u,w=v+m+g):(_=-m,y=-p,S=f+m+g,w=v+p+u);var x=_/S,M=y/w,L=S/S,b=w/w;return r.x=_,r.y=y,r.width=S,r.height=w,r.px=x,r.py=M,r.pw=L,r.ph=b,r},getLMCDefaultElement:function(e){var a="undefined"!=typeof e?e:t.currentSelectProjectIndex,n=this.getLMCPhotoLayer(a),o=this.getLMCCanvasBorder(a),s=this.getLMCBleedSize(a),d=s.left+o.left,l=s.top+o.top,c=n.width-o.left-o.right-s.left-s.right,h=n.height-o.top-o.bottom-s.top-s.bottom;return{id:i(10).guid(),type:"PhotoElement",elType:"image",x:d,y:l,width:c,height:h,px:d/n.width,py:l/n.height,pw:c/n.width,ph:h/n.height,imgFlip:!1,rot:0,imgRot:0,encImgId:"",imageid:"",dep:0,cropLUX:0,cropLUY:0,cropRLX:1,cropRLY:1,lastModified:r.formatDateTime(new Date)}},getDefaultElement:function(e,t){return{id:i(10).guid(),type:"PhotoElement",elType:"image",x:0,y:0,width:e,height:t,px:0,py:0,pw:1,ph:1,imgFlip:!1,rot:0,imgRot:0,encImgId:"",imageid:"",dep:0,cropLUX:0,cropLUY:0,cropRLX:1,cropRLY:1,lastModified:r.formatDateTime(new Date)}},initPage:function(){var e=this.getBaseSize(),t=this.getBleedSize(),a=e.width+t.left+t.right,r=e.height+t.top+t.right,n=[this.getDefaultElement(a,r)];return{id:i(10).guid(),width:a,height:r,type:"Page",bleed:t,elements:n,backend:{isPrint:!0}}},getPhotoLayer:function(e){var i="undefined"!=typeof e?e:t.currentSelectProjectIndex,a=t.projectSettings[i],r=(a.orientation,this.getBaseSize(i)),n=this.getBleedSize(),o=(r.width+n.left+n.right,r.height+n.top+n.right,0),s=0,d=0,l=0;return"Portrait"===a.orientation?(o=-n.bottom,s=-n.left,d=r.width+n.left+n.right,l=r.height+n.top+n.right):(o=-n.left,s=-n.top,d=r.width+n.left+n.right,l=r.height+n.top+n.right),{x:o,y:s,width:d,height:l,px:o/r.width,py:s/r.height,pw:d/r.width,ph:l/r.height}},getPages:function(){for(var e=[],i=this.getBleedSize(),a=this.getPhotoLayer(),r=a.width,n=a.height,o=(this.getElements(),0);o<t.pages.length;o++)e.push({width:r,height:n,type:"Page",bleed:i,elements:this.getElements(o),backend:{isPrint:!0}});return e},getImages:function(){for(var e=[],i=0;i<t.imageList.length;i++){var a=t.imageList[i];e.push({id:a.id,guid:a.guid,encImgId:a.encImgId,order:i,name:encodeURIComponent(a.name),width:a.width,height:a.height,shotTime:a.shotTime,orientation:a.orientation})}return e},getElements:function(e){for(var i="undefined"!=typeof e?e:t.currentSelectProjectIndex,a=(t.projectSettings[i],t.pages[i].canvas),r=a.params,n=[],o=0;o<r.length;o++){var s=r[o],d={x:s.x,y:s.y,px:s.x/a.oriWidth,py:s.y/a.oriHeight,width:s.width,height:s.height,pw:s.width/a.oriWidth,ph:s.height/a.oriHeight,dep:s.dep,rot:s.rotate};switch(s.elType){case"text":d.type="TextElement",d.color=s.fontColor,d.text=encodeURIComponent(s.text),d.fontWeight=s.fontWeight,d.textAlign=s.textAlign,d.fontFamily=encodeURIComponent(s.fontFamily),d.fontSize=parseFloat(s.fontSize)/a.oriHeight;break;case"image":var l=s.encImgId;l||t.imageList.some(function(e){if(e.id==s.imageId)return l=e.encImgId,!0}),d.type="PhotoElement",d.imageid=s.imageId,d.encImgId=l,d.imgRot=s.imageRotate,d.imgFlip=!1,d.cropLUX=parseFloat(s.cropPX).toString(),d.cropLUY=parseFloat(s.cropPY).toString(),d.cropRLX=(parseFloat(s.cropPX)+parseFloat(s.cropPW)).toString(),d.cropRLY=(parseFloat(s.cropPY)+parseFloat(s.cropPH)).toString(),d.style={brightness:s.style&&s.style.brightness?s.style.brightness:0,effectId:0,opacity:100},d.border={size:0,color:"#000000",opacity:100}}n.push(d)}return n},getPrintBaseSize:function(e){var t=!1,a=i(12).getParamsList();e.size&&(a=a.map(function(t){return"size"===t.key&&(t.value=e.size),t})),e.rotated&&(t=e.rotated);var r=i(2).getParameter("baseSizeInInch",a),n={};return t?(n.width=r.heightInInch*i(2).getDPI(),n.height=r.widthInInch*i(2).getDPI()):(n.width=r.widthInInch*i(2).getDPI(),n.height=r.heightInInch*i(2).getDPI()),n},getPrintBleed:function(e){var a=!1,r=i(2).getDPI(),n=i(12).getParamsList();n=n.map(function(i){return"size"===i.key&&(e&&e.size?i.value=e.size:i.value=t.baseProject.size),i}),e.rotated&&(a=e.rotated);var o=i(2).getParameter("bleedInInch",n),s={};return s.top=parseInt(o.top*r),s.bottom=parseInt(o.bottom*r),s.left=parseInt(o.left*r),s.right=parseInt(o.right*r),a&&(s.top=parseInt(o.left*r),s.bottom=parseInt(o.right*r),s.left=parseInt(o.top*r),s.right=parseInt(o.bottom*r)),s},getPrintCornerRadius:function(e){var a=i(2).getDPI(),r=i(12).getParamsList();r=r.map(function(i){return"size"===i.key&&(e&&e.size?i.value=e.size:i.value=t.baseProject.size),i});var n=i(2).getParameter("cornerRadiusInInch",r).value;return n=(n-0)*a},getNewPrintCurrentProjectJson:function(){for(var e=i(2).getOptionIds(),n=(t.projectSettings[t.currentSelectProjectIndex],a(t.spec.specXml).find("product-spec").attr("version")),o={},s=0;s<e.length;s++)o[e[s]]=t.baseProject[e[s]];var d=this.getNewPrintPages(),l=this.getImages();return{project:{guid:t.projectId,version:n,clientId:"web-h5",createAuthor:"web-h5|1.1|1",userId:t.userSettings.userId,artisan:t.userSettings.userName,createdDate:t.createdDate,updatedDate:r.formatDateTime(new Date),summary:{defaultSetting:o},pages:d,images:l}}},getNewPrintPages:function(){for(var e=[],a=t.projectSettings,r=t.pages,n=i(2).getOptionIds(),o=0;o<r.length;o++){for(var s=r[o].canvas,d=this.getNewPrinteElements(s,s.params),l=a[o],c=r[o].guid||i(10).guid(),h=l.quantity,p=(i(2).getVersion(),{}),u="Print",m=0;m<n.length;m++)p[n[m]]=l[n[m]];p.quantity=h;var g=this.getPrintBaseSize({size:l.size,rotated:l.rotated}),f=this.getPrintBleed({size:l.size,rotated:l.rotated}),v=r[o].canvas.borderLength?r[o].canvas.borderLength:0,_=r[o].canvas.borderColor?r[o].canvas.borderColor:"none";e.push({id:c,spec:p,width:g.width+f.left+f.right,height:g.height+f.top+f.bottom,type:u,bleed:f,border:{color:_,size:v},elements:d,backend:{isPrint:!0}})}return e},getNewPrinteElements:function(e,a){var r=a.map(function(a){var r=a.guid||i(10).guid(),n=a.x,o=a.y,s=a.width,d=a.height,l=n/e.oriWidth,c=o/e.oriHeight,h=d/e.oriHeight,p=s/e.oriWidth,u=a.rotate,m=a.dep,g=a.imageId,f=a.imageRotate,v=!1,_=a.cropPX,y=a.cropPY,S=a.cropPW,w=a.cropPH,x=a.style&&a.style.brightness?a.style.brightness:0,M=t.imageList.filter(function(e){return e.id===a.imageId}),L={id:r,x:n,y:o,width:s,height:d,px:l,py:c,pw:p,ph:h,rot:u,dep:m};return"text"===a.elType?(L.type="TextElement",L.color=a.fontColor,L.fontSize=parseFloat(a.fontSize)/e.oriHeight,L.fontFamily=encodeURIComponent(a.fontFamily),L.fontWeight=a.fontWeight,L.textAlign=a.textAlign,L.text=encodeURIComponent(a.text)):"logo"===a.elType?L.type="LogoElement":"image"===a.elType&&(L.type="PhotoElement",L.imageid=g,L.imgFlip=v,L.imgRot=f,L.encImgId=M.length?M[0].encImgId:"",L.cropLUX=_,L.cropLUY=y,L.cropRLX=_+S,L.cropRLY=y+w,L.style={brightness:x,effectId:0,opacity:100},L.border={size:0,color:"#000000",opacity:100}),L});return r},getNewPrintSkuJson:function(e){var t=e.project.pages,a=e.project.version,r=e.project.clientId,n=e.project.createAuthor,o=e.project.userId,s=e.project.artisan,d={},l=e.project.summary.defaultSetting,c=!!l&&"LPP"===l.product,h=!!l&&"LSC"===l.product,p=i(2).getOptionIds();return 0===t.length&&(l.id="defaultSetting",l.version=a,l.clientId=r,l.createAuthor=n,l.userId=o,l.artisan=s,l.quantity=1,d={defaultSetting:l}),t.forEach(function(e){if(!((c||h)&&Object.keys(d).length>0)){d[e.id]={id:e.id,version:a,clientId:r,createAuthor:n,userId:o,artisan:s,quantity:e.spec?e.spec.quantity:1};for(var t=0;t<p.length;t++)d[e.id][p[t]]=e.spec[p[t]]}}),d},getNewPrintRemarkPages:function(){for(var e=t.projectSettings,a=t.pages,r=[],n=[],o=i(2).getOptionIds(),s=0;s<e.length;s++)t.selectedSize?t.selectedPaper?e[s].size===t.selectedSize&&e[s].paper===t.selectedPaper&&(r.push(a[s]),r[r.length-1].oid=s):e[s].size===t.selectedSize&&(r.push(a[s]),r[r.length-1].oid=s):t.selectedPaper&&e[s].paper===t.selectedPaper&&(r.push(a[s]),r[r.length-1].oid=s);if(0===r.length){r=a;for(var s=0;s<r.length;s++)r[s].oid=s}for(var s=0;s<r.length;s++){for(var d=r[s].canvas,l=this.getNewPrinteElements(d,d.params),c=e[r[s].oid],h=r[s].guid||i(10).guid(),p=c.quantity,u=(i(2).getVersion(),{}),m="Print",g=0;g<o.length;g++)u[o[g]]=c[o[g]];u.quantity=p;var f=this.getPrintBaseSize({size:c.size,rotated:c.rotated}),v=this.getPrintBleed({size:c.size}),_=r[s].canvas.borderLength?r[s].canvas.borderLength:0,y=r[s].canvas.borderColor?r[s].canvas.borderColor:"none";p&&n.push({id:h,spec:u,width:f.width,height:f.height,type:m,quantity:p,bleed:v,border:{color:y,size:_},elements:l,backend:{isPrint:!0}})}return n},getNewPrintRemarkProject:function(){var e=(t.projectSettings[t.currentSelectProjectIndex],this.getNewPrintCurrentProjectJson()),i=this.getNewPrintRemarkPages(),a=this.getImages();return e.project.pages=i,e.project.images=a,e},getWallartsSkuJson:function(e){var t=e.project.pages,a=e.project.version,r=e.project.clientId,n=e.project.createAuthor,o=e.project.userId,s=e.project.artisan,d={},l=e.project.summary.defaultSetting;!!l&&"LPP"===l.product,!!l&&"LSC"===l.product,i(2).getOptionIds();return l.id=t[0].id,l.version=a,l.clientId=r,l.createAuthor=n,l.userId=o,l.artisan=s,l.quantity=1,d[t[0].id]=l,d}}}).call(t,i(3),i(7))},function(e,t,i){(function(t,a){e.exports={getUserInfo:function(){t.ajax({url:a.domains.baseUrl+"/BigPhotoBookServlet/getSessionUserInfo?webClientId="+a.webClientId+"&autoRandomNum="+i(11).getRandomNum(),type:"get",dataType:"xml",async:!1}).done(function(e){a.userSettings.userId=t(e).find("user").attr("id"),a.userSettings.uploadTimestamp=t(e).find("user").find("timestamp").text(),a.userSettings.token=t(e).find("user").find("authToken").text(),a.userSettings.userName=t(e).find("user").find("firstName").text(),a.userSettings.email=t(e).find("user").find("email").text()})},keepAlive:function(){t.ajax({url:a.domains.baseUrl+"/userid/"+a.userSettings.userId+"/heartbeat",type:"get",dataType:"xml"}).done(function(e){})}}}).call(t,i(7),i(3))},,,function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,i){return e<12?i?"vm":"VM":i?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},i=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},a={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(e){return function(t,r,n,o){var s=i(t),d=a[e][i(t)];return 2===s&&(d=d[r?0:1]),d.replace(/%d/i,t)}},n=["","","","","","","","","","","",""],o=e.defineLocale("ar-ly",{months:n,monthsShort:n,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,i){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(e){return e.replace(/\u200f/g,"").replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}});return o})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},a=e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,i){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return i[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:0,doy:6}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={1:"",2:"",
3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},a=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},n=function(e){return function(t,i,n,o){var s=a(t),d=r[e][a(t)];return 2===s&&(d=d[i?0:1]),d.replace(/%d/i,t)}},o=["  "," "," "," "," "," "," "," "," ","  ","  ","  "],s=e.defineLocale("ar",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,i){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:n("s"),m:n("m"),mm:n("m"),h:n("h"),hh:n("h"),d:n("d"),dd:n("d"),M:n("M"),MM:n("M"),y:n("y"),yy:n("y")},preparse:function(e){return e.replace(/\u200f/g,"").replace(/[]/g,function(e){return i[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}});return s})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"},i=e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,i){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var i=e%10,a=e%100-i,r=e>=100?100:null;return e+(t[i]||t[a]||t[r])},week:{dow:1,doy:7}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t){var i=e.split("_");return t%10===1&&t%100!==11?i[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?i[1]:i[2]}function i(e,i,a){var r={mm:i?"__":"__",hh:i?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===a?i?"":"":"h"===a?i?"":"":e+" "+t(r[a],+e)}var a=e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:i,mm:i,h:i,hh:i,d:"",dd:i,M:"",MM:i,y:"",yy:i},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,i){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!==2&&e%10!==3||e%100===12||e%100===13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,i=e%100;return 0===e?e+"-":0===i?e+"-":i>10&&i<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},a=e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,i){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},a=e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,i){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i){var a={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+r(a[i],e)}function i(e){switch(a(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function a(e){return e>9?a(e%10):e}function r(e,t){return 2===t?n(e):e}function n(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}var o=e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:i},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){var t=1===e?"a":"vet";return e+t},week:{dow:1,doy:4}});return o})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i){var a=e+" ";switch(i){case"m":return t?"jedna minuta":"jedne minute";case"mm":return a+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return a+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return a+=1===e?"dan":"dana";case"MM":return a+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return a+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}var i=e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"[el] D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"[el] D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"[el] dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var i=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(i="a"),e+i},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e){return e>1&&e<5&&1!==~~(e/10)}function i(e,i,a,r){var n=e+" ";switch(a){case"s":return i||r?"pr sekund":"pr sekundami";case"m":return i?"minuta":r?"minutu":"minutou";case"mm":return i||r?n+(t(e)?"minuty":"minut"):n+"minutami";case"h":return i?"hodina":r?"hodinu":"hodinou";case"hh":return i||r?n+(t(e)?"hodiny":"hodin"):n+"hodinami";case"d":return i||r?"den":"dnem";case"dd":return i||r?n+(t(e)?"dny":"dn"):n+"dny";case"M":return i||r?"msc":"mscem";case"MM":return i||r?n+(t(e)?"msce":"msc"):n+"msci";case"y":return i||r?"rok":"rokem";case"yy":return i||r?n+(t(e)?"roky":"let"):n+"lety"}}var a="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),r="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),n=e.defineLocale("cs",{months:a,monthsShort:r,monthsParse:function(e,t){var i,a=[];for(i=0;i<12;i++)a[i]=new RegExp("^"+e[i]+"$|^"+t[i]+"$","i");return a}(a,r),shortMonthsParse:function(e){var t,i=[];for(t=0;t<12;t++)i[t]=new RegExp("^"+e[t]+"$","i");return i}(r),longMonthsParse:function(e){var t,i=[];for(t=0;t<12;t++)i[t]=new RegExp("^"+e[t]+"$","i");return i}(a),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){var t=/$/i.exec(e)?"":/$/i.exec(e)?"":"";return e+t},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,i="",a=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?i=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(i=a[t]),e+i},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i,a){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[i][0]:r[i][1]}var i=e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i,a){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[i][0]:r[i][1]}var i=e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz_April_Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH.mm",LLLL:"dddd, D. MMMM YYYY HH.mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i,a){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[i][0]:r[i][1]}var i=e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=["","","","","","","","","","","",""],i=["","","","","","",""],a=e.defineLocale("dv",{months:t,monthsShort:t,weekdays:i,weekdaysShort:i,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,i){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}var i=e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,i){return e>11?i?"":"":i?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,i){var a=this._calendarEl[e],r=i&&i.hours();return t(a)&&(a=a.apply(i)),a.replace("{}",r%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",
nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,i){return e>11?i?"p.t.m.":"P.T.M.":i?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),a=e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?i[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),a=e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?i[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i,a){var r={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[i][2]?r[i][2]:r[i][1]:a?r[i][0]:r[i][1]}var i=e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},a=e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,i){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return i[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,a,r){var n="";switch(a){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"m":return r?"minuutin":"minuutti";case"mm":n=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":n=r?"tunnin":"tuntia";break;case"d":return r?"pivn":"piv";case"dd":n=r?"pivn":"piv";break;case"M":return r?"kuukauden":"kuukausi";case"MM":n=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":n=r?"vuoden":"vuotta"}return n=i(e,r)+" "+n}function i(e,t){return e<10?t?r[e]:a[e]:e}var a="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),r=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",a[7],a[8],a[9]],n=e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),i="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),a=e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?i[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],i=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],a=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],r=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],n=["D","Lu","M","Ci","Ar","Ha","Sa"],o=e.defineLocale("gd",{months:t,monthsShort:i,monthsParseExact:!0,weekdays:a,weekdaysShort:r,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=1===e?"d":e%10===2?"na":"mh";return e+t},week:{dow:1,doy:4}});return o})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i,a){var r={s:["thodde secondanim","thodde second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" hor"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?r[i][0]:r[i][1]}var i=e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10===0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,i){return e<5?" ":e<10?"":e<12?i?'"':" ":e<18?i?'"':" ":""}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},a=e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i){var a=e+" ";switch(i){case"m":return t?"jedna minuta":"jedne minute";case"mm":return a+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return a+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return a+=1===e?"dan":"dana";case"MM":return a+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return a+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}var i=e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i,a){var r=e;switch(i){case"s":return a||t?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(a||t?" perc":" perce");case"mm":return r+(a||t?" perc":" perce");case"h":return"egy"+(a||t?" ra":" rja");case"hh":return r+(a||t?" ra":" rja");case"d":return"egy"+(a||t?" nap":" napja");case"dd":return r+(a||t?" nap":" napja");case"M":return"egy"+(a||t?" hnap":" hnapja");case"MM":return r+(a||t?" hnap":" hnapja");case"y":return"egy"+(a||t?" v":" ve");case"yy":return r+(a||t?" v":" ve")}return""}function i(e){return(e?"":"[mlt] ")+"["+a[this.day()]+"] LT[-kor]"}var a="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" "),r=e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,i){return e<12?i===!0?"de":"DE":i===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,i){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e){return e%100===11||e%10!==1}function i(e,i,a,r){var n=e+" ";switch(a){case"s":return i||r?"nokkrar sekndur":"nokkrum sekndum";case"m":return i?"mnta":"mntu";case"mm":return t(e)?n+(i||r?"mntur":"mntum"):i?n+"mnta":n+"mntu";case"hh":return t(e)?n+(i||r?"klukkustundir":"klukkustundum"):n+"klukkustund";case"d":return i?"dagur":r?"dag":"degi";case"dd":return t(e)?i?n+"dagar":n+(r?"daga":"dgum"):i?n+"dagur":n+(r?"dag":"degi");
case"M":return i?"mnuur":r?"mnu":"mnui";case"MM":return t(e)?i?n+"mnuir":n+(r?"mnui":"mnuum"):i?n+"mnuur":n+(r?"mnu":"mnui");case"y":return i||r?"r":"ri";case"yy":return t(e)?n+(i||r?"r":"rum"):n+(i||r?"r":"ri")}}var a=e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:i,m:i,mm:i,h:"klukkustund",hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD HH:mm dddd"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,i){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,i){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):void 0},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20===0||e%100===0?"-"+e:e+"-"},week:{dow:1,doy:7}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},i=e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){var i=e%10,a=e>=100?100:null;return e+(t[e]||t[i]||t[a])},week:{dow:1,doy:7}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},a=e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,i){return e<12?"":""}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},i=e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){var i=e%10,a=e>=100?100:null;return e+(t[e]||t[i]||t[a])},week:{dow:1,doy:7}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i,a){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[i][0]:r[i][1]}function i(e){var t=e.substr(0,e.indexOf(" "));return r(t)?"a "+e:"an "+e}function a(e){var t=e.substr(0,e.indexOf(" "));return r(t)?"viru "+e:"virun "+e}function r(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10,i=e/10;return r(0===t?i:t)}if(e<1e4){for(;e>=10;)e/=10;return r(e)}return e/=1e3,r(e)}var n=e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:i,past:a,s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,i){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i,a){return t?"kelios sekunds":a?"keli sekundi":"kelias sekundes"}function i(e,t,i,a){return t?r(i)[0]:a?r(i)[1]:r(i)[2]}function a(e){return e%10===0||e>10&&e<20}function r(e){return o[e].split("_")}function n(e,t,n,o){var s=e+" ";return 1===e?s+i(e,t,n[0],o):t?s+(a(e)?r(n)[1]:r(n)[0]):o?s+r(n)[1]:s+(a(e)?r(n)[1]:r(n)[2])}var o={m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"},s=e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:t,m:i,mm:n,h:i,hh:n,d:i,dd:n,M:i,MM:n,y:i,yy:n},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});return s})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i){return i?t%10===1&&t%100!==11?e[2]:e[3]:t%10===1&&t%100!==11?e[0]:e[1]}function i(e,i,a){return e+" "+t(n[a],e,i)}function a(e,i,a){return t(n[a],e,i)}function r(e,t){return t?"daas sekundes":"dam sekundm"}var n={m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")},o=e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:r,m:a,mm:i,h:a,hh:i,d:a,dd:i,M:a,MM:i,y:a,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,i,a){var r=t.words[a];return 1===a.length?i?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}},i=e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,i=e%100;return 0===e?e+"-":0===i?e+"-":i>10&&i<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,i){return e<4?"":e<12?"":e<17?" ":e<20?"":""}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i,a){var r="";if(t)switch(i){case"s":r=" ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}else switch(i){case"s":r=" ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}return r.replace(/%d/i,e)}var i={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},a={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},preparse:function(e){return e.replace(/[]/g,function(e){return a[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return i[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return r})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,i){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,i){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},a=e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,
ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},a=e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,i){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),a=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,n=e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?i[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return n})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),a=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,n=e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,a){return e?/-MMM-/.test(a)?i[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return n})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},a=e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e){return e%10<5&&e%10>1&&~~(e/10)%10!==1}function i(e,i,a){var r=e+" ";switch(a){case"m":return i?"minuta":"minut";case"mm":return r+(t(e)?"minuty":"minut");case"h":return i?"godzina":"godzin";case"hh":return r+(t(e)?"godziny":"godzin");case"MM":return r+(t(e)?"miesice":"miesicy");case"yy":return r+(t(e)?"lata":"lat")}}var a="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),r="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),n=e.defineLocale("pl",{months:function(e,t){return e?""===t?"("+r[e.month()]+"|"+a[e.month()]+")":/D MMMM/.test(t)?r[e.month()]:a[e.month()]:a},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:i,mm:i,h:i,hh:i,d:"1 dzie",dd:"%d dni",M:"miesic",MM:i,y:"rok",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Tera-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i){var a={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},r=" ";return(e%100>=20||e>=100&&e%100===0)&&(r=" de "),e+r+a[i]}var i=e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t){var i=e.split("_");return t%10===1&&t%100!==11?i[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?i[1]:i[2]}function i(e,i,a){var r={mm:i?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===a?i?"":"":e+" "+t(r[a],+e)}var a=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],r=e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:a,longMonthsParse:a,shortMonthsParse:a,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:i,mm:i,h:"",hh:i,d:"",dd:i,M:"",MM:i,y:"",yy:i},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,i){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:7}});return r})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=["","","","","","","","","","","",""],i=["","","","","","",""],a=e.defineLocale("sd",{months:t,monthsShort:t,weekdays:i,weekdaysShort:i,weekdaysMin:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,i){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,i){return e>11?i?"..":" ":i?"..":" "}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e){return e>1&&e<5}function i(e,i,a,r){var n=e+" ";switch(a){case"s":return i||r?"pr seknd":"pr sekundami";case"m":return i?"minta":r?"mintu":"mintou";case"mm":return i||r?n+(t(e)?"minty":"mint"):n+"mintami";case"h":return i?"hodina":r?"hodinu":"hodinou";case"hh":return i||r?n+(t(e)?"hodiny":"hodn"):n+"hodinami";case"d":return i||r?"de":"dom";case"dd":return i||r?n+(t(e)?"dni":"dn"):n+"dami";case"M":return i||r?"mesiac":"mesiacom";case"MM":return i||r?n+(t(e)?"mesiace":"mesiacov"):n+"mesiacmi";case"y":return i||r?"rok":"rokom";case"yy":return i||r?n+(t(e)?"roky":"rokov"):n+"rokmi"}}var a="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),r="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_"),n=e.defineLocale("sk",{months:a,monthsShort:r,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i,a){var r=e+" ";switch(i){case"s":return t||a?"nekaj sekund":"nekaj sekundami";case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=1===e?t?"minuta":"minuto":2===e?t||a?"minuti":"minutama":e<5?t||a?"minute":"minutami":t||a?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return r+=1===e?t?"ura":"uro":2===e?t||a?"uri":"urama":e<5?t||a?"ure":"urami":t||a?"ur":"urami";case"d":return t||a?"en dan":"enim dnem";case"dd":return r+=1===e?t||a?"dan":"dnem":2===e?t||a?"dni":"dnevoma":t||a?"dni":"dnevi";case"M":return t||a?"en mesec":"enim mesecem";case"MM":return r+=1===e?t||a?"mesec":"mesecem":2===e?t||a?"meseca":"mesecema":e<5?t||a?"mesece":"meseci":t||a?"mesecev":"meseci";case"y":return t||a?"eno leto":"enim letom";case"yy":return r+=1===e?t||a?"leto":"letom":2===e?t||a?"leti":"letoma":e<5?t||a?"leta":"leti":t||a?"let":"leti"}}var i=e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,i){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,i,a){var r=t.words[a];return 1===a.length?i?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}},i=e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var e=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"",dd:t.translate,M:"",MM:t.translate,y:"",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,i,a){var r=t.words[a];return 1===a.length?i?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}},i=e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,i){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"e":1===t?"a":2===t?"a":"e";return e+i},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",
lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},a=e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||||/,meridiem:function(e,t,i){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t?e:""===t&&e>=10?e:e+12},week:{dow:0,doy:6}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,i){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juniu_Juliu_Augustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Aug_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sexta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sext_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Sex_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",m:"minutu ida",mm:"minutus %d",h:"horas ida",hh:"horas %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,i){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e){var t=e;return t=e.indexOf("jaj")!==-1?t.slice(0,-3)+"leS":e.indexOf("jar")!==-1?t.slice(0,-3)+"waQ":e.indexOf("DIS")!==-1?t.slice(0,-3)+"nem":t+" pIq"}function i(e){var t=e;return t=e.indexOf("jaj")!==-1?t.slice(0,-3)+"Hu":e.indexOf("jar")!==-1?t.slice(0,-3)+"wen":e.indexOf("DIS")!==-1?t.slice(0,-3)+"ben":t+" ret"}function a(e,t,i,a){var n=r(e);switch(i){case"mm":return n+" tup";case"hh":return n+" rep";case"dd":return n+" jaj";case"MM":return n+" jar";case"yy":return n+" DIS"}}function r(e){var t=Math.floor(e%1e3/100),i=Math.floor(e%100/10),a=e%10,r="";return t>0&&(r+=n[t]+"vatlh"),i>0&&(r+=(""!==r?" ":"")+n[i]+"maH"),a>0&&(r+=(""!==r?" ":"")+n[a]),""===r?"pagh":r}var n="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_"),o=e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:t,past:i,s:"puS lup",m:"wa tup",mm:a,h:"wa rep",hh:a,d:"wa jaj",dd:a,M:"wa jar",MM:a,y:"wa DIS",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},i=e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},dayOfMonthOrdinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(e){if(0===e)return e+"'nc";var i=e%10,a=e%100-i,r=e>=100?100:null;return e+(t[i]||t[a]||t[r])},week:{dow:1,doy:7}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t,i,a){var r={s:["viensas secunds","'iensas secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",""+e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",""+e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",""+e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",""+e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",""+e+" ars"]};return a?r[i][0]:t?r[i][0]:r[i][1]}var i=e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,i){return e>11?i?"d'o":"D'O":i?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";function t(e,t){var i=e.split("_");return t%10===1&&t%100!==11?i[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?i[1]:i[2]}function i(e,i,a){var r={mm:i?"__":"__",hh:i?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===a?i?"":"":"h"===a?i?"":"":e+" "+t(r[a],+e)}function a(e,t){var i={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};if(!e)return i.nominative;var a=/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative";return i[a][e.day()]}function r(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}var n=e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:a,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:r("[ "),nextDay:r("[ "),lastDay:r("[ "),nextWeek:r("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return r("[] dddd [").call(this);case 1:case 2:case 4:return r("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:i,mm:i,h:"",hh:i,d:"",dd:i,M:"",MM:i,y:"",yy:i},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,i){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}});return n})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=["","","","","","","","","","","",""],i=["","","","","","",""],a=e.defineLocale("ur",{months:t,monthsShort:t,weekdays:i,weekdaysShort:i,weekdaysMin:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,i){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}});return a})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,i){return e<12?i?"sa":"SA":i?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMD HH:mm",llll:"YYYYMMMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,i){var a=100*e+t;return a<600?"":a<900?"":a<1130?"":a<1230?"":a<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMD HH:mm",LLLL:"YYYYMMMDdddd HH:mm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMD HH:mm",llll:"YYYYMMMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,i){var a=100*e+t;return a<600?"":a<900?"":a<1130?"":a<1230?"":a<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t})},function(e,t,i){!function(e,t){t(i(1))}(this,function(e){"use strict";var t=e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMD HH:mm",LLLL:"YYYYMMMDdddd HH:mm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMD HH:mm",llll:"YYYYMMMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,i){var a=100*e+t;return a<600?"":a<900?"":a<1130?"":a<1230?"":a<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t})},function(e,t,i){(function(t){var a=i(14);e.exports={createDecoration:function(e){e&&this.addDecorationInParams(e)},editDecoration:function(e,t){e&&void 0!=t&&null!=t&&this.changeDecorationInParams(e,t)},deleteDecoration:function(e,i){void 0!=e&&null!=e&&(this.removeDecorationFromParams(e,i),t.vm.$broadcast("notifyRefreshScreenshot"))},addDecorationInParams:function(e){var i=t.pages[t.selectedPageIdx].canvas,a=i.params.length;i.params.push(e),this.createDecorationElement(a)},changeDecorationInParams:function(e,i){var a=t.pages[t.selectedPageIdx].canvas;a.params.splice(i,1,e),this.editDecorationElement(i)},removeDecorationFromParams:function(e){var i=t.pages[t.selectedPageIdx].canvas;a.freshDepth(e);var r=i.params[e].id;i.params.splice(e,1),this.deleteDecorationElement(e,r)},createDecorationElement:function(e){a.createElement(e),a.spineLinesToTop()},editDecorationElement:function(e){a.editElement(e)},deleteDecorationElement:function(e){a.deleteElement(e),a.spineLinesToTop()}}}).call(t,i(3))},function(e,t,i){(function(t,a){i(11),i(18),i(8),i(29);e.exports={createElement:function(e){this.initElement(e)},editElement:function(e){this.deleteElement(e),this.initElement(e)},deleteElement:function(e){var i=t.pages[t.selectedPageIdx].canvas;i.warns[e]&&(i.warns[e].el&&i.warns[e].el.remove(),i.warns[e].el=""),this.showBeforeElements()},initElement:function(e){var r=t.pages[t.selectedPageIdx].canvas,n="../../static/img/warn_big_icon.png",o=i(8).getParamsValueByElement(e);r.warns[e].isActive=!0,r.warns[e].el=r.paper.image(n,o.x*r.ratio+5,(o.y+o.height)*r.ratio-15,t.warnSettings.warnImageWidth,t.warnSettings.warnImageHeight),r.warns[e].el.node.id="warn-tip-"+e,a("#warn-tip-"+e).attr("title",t.warnSettings.resizeWarnMsg)},showBeforeElements:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.warns;i.map(function(e){e.el&&e.el.toFront()})},refreshLaterTips:function(e){for(var i=t.pages[t.selectedPageIdx].canvas,a=e,r=i.warns.length;a<r;a++)i.warns[a]&&i.warns[a].isActive&&(i.warns[a].el.node.id="warn-tip-"+a)}}}).call(t,i(3),i(7))},function(e,t,i){(function(t){e.exports={events:{dispatchImageUpload:function(){this.$broadcast("notifyShowImageUpload")},dispatchImageList:function(){this.$broadcast("notifyImageList")},dispatchDecorationList:function(){this.$broadcast("notifyDecorationList")},dispatchImageCrop:function(){this.$broadcast("notifyImageCrop")},dispatchShowAddText:function(){this.$broadcast("notifyShowAddText")},dispatchAddText:function(e){this.$broadcast("notifyAddText",e)},dispatchShowMattingGlassEdit:function(){this.$broadcast("notifyShowMattingGlassEdit")},dispatchModifyText:function(e){this.$broadcast("notifyModifyText",e)},dispatchResetCanvas:function(){this.$broadcast("notifyResetCanvas")},dispatchShowSpineLines:function(){this.$broadcast("notifyShowSpineLines")},dispatchHideSpineLines:function(){this.$broadcast("notifyHideSpineLines")},dispatchShowOptionWindow:function(){this.$broadcast("notifyShowOptionWindow")},dispatchUpdateAlbumResponse:function(e,t){this.$broadcast("notifyUpdateAlbumResponse",e,t)},dispatchShowOrderWindow:function(){this.$broadcast("notifyShowOrderWindow")},dispatchShowContactUsWindow:function(){this.$broadcast("notifyShowContactUsWindow")},dispatchPreviewSave:function(e){this.$broadcast("notifyPreviewSave",e)},dispatchShowPopup:function(e){this.$broadcast("notifyShowPopup",e)},dispatchReorder:function(e){this.$broadcast("notifyReorder",e)},dispatchRedirectHome:function(){this.$broadcast("notifyRedirectHome")},dispatchShowWarnTip:function(e){this.$broadcast("notifyShowWarnTip",e)},dispatchHideWarnTip:function(e){this.$broadcast("notifyHideWarnTip",e)},dispatchShowOptionsWindow:function(){this.$broadcast("notifyShowOptionsWindow")},dispatchRotate:function(){this.$broadcast("notifyRotate")},dispatchRefreshScreenshot:function(){this.$broadcast("notifyRefreshScreenshot")},dispatchCardsPriceChange:function(){this.$broadcast("notifyCardsPriceChange")},dispatchRepaintProject:function(){this.$broadcast("notifyRepaintProject")},dispatchAddImage:function(e){this.$broadcast("notifyAddImage",e)},dispatchAddDecoration:function(e){this.$broadcast("notifyAddDecoration",e)},dispatchShowCloneWindow:function(){this.$broadcast("notifyShowCloneWindow")},dispatchTemplateItemInfo:function(e){this.$broadcast("notifyApplyTemplate",e)},dispatchResetProjectInfo:function(){if(i(10).getIsShowProjectInfoView()){i(10).getProjectInfoViewText()}else this.$broadcast("notifyResetProjectInfo",!0)},dispatchClearScreen:function(e){e=!!e,this.sharedStore.isLostFocus=!0,this.sharedStore.isShowHandlePoint=!1},dispatchSingleImageUploadComplete:function(e){var i=t.pages[t.selectedPageIdx].canvas,a=i.selectedIdx;i.elements[a].setImageById(e)},dispatchApplyTemplate:function(e,a,r){i(21).getTemplateItemInfo(e,r),t.pages[t.selectedPageIdx].tplGuid=e,t.pages[t.selectedPageIdx].tplSuitId=a,this.$broadcast("notifyFreshCrop"),this.$dispatch("dispatchRepaintProject"),this.$dispatch("dispatchRefreshScreenshot"),this.$broadcast("notifyFreshCrop")},dispatchRotateTemplate:function(){var e=t.projectSettings[t.currentSelectProjectIndex].tplGuid;for(var a in t.templateList)if(e===t.templateList[a].guid){var r=t.templateList[a].rotateTemplateGuid;for(var n in t.templateList)if(t.templateList[n].guid===r)return void this.$dispatch("dispatchApplyTemplate",t.templateList[n].guid,t.templateList[n].suidId,t.templateList[n].designSize)}i(14).autoLayout()},dispatchShowProjectChooseWindow:function(){
t.fromCart=!0,t.watches.isProjectLoaded=!1,i(9).getProjectIdByTitle(t.title),this.$broadcast("notifyShowCartReturnWindow")},dispatchGetProjectIdByTitleSuccess:function(){""!==t.userSettings.userId&&""!==t.projectId&&(i(9).getProjectInfo(),i(13).getOldProject())},dispatchShowNewProjectWindow:function(){this.$broadcast("notifyShowNewProjectWindow")},dispatchOptionItemSelect:function(e,t){this.$broadcast("notifyOptionItemSelect",e,t)},dispatchOrderToCart:function(){this.$broadcast("notifyOrderToCart")},dispatchTextFormList:function(){this.$broadcast("notifyTextFormList")},dispatchChangeTab:function(e){this.$broadcast("notifyChangeTab",e)},dispatchHighLightTextForm:function(e){this.$broadcast("notifyHighLightForm",e)},dispatchCleanTextFormPlaceholders:function(){this.$broadcast("notifyCleanTextFormPlaceholders")},dispatchDbClickTextFormRemind:function(){this.$broadcast("notifyDbClickTextFormRemind")},dispatchCleanTextFormRemind:function(){this.$broadcast("notifyCleanTextFormRemind")},dispatchToggleShortTip:function(e){this.$broadcast("notifyToggleShortTip",e)},dispatchRedirectCardList:function(){this.$broadcast("notifyRedirectCardList")},dispatchResetPages:function(){i(14).resetPagesData(),this.$broadcast("notifyRepaintProject")},dispatchModifyFrameTracker:function(){if(!t.isPortal){var e=0,a=0;t.pages.forEach(function(t){t.canvas.params.forEach(function(t){switch(t.elType){case"image":t.isScaled||t.isMoved?e++:"";break;case"text":t.isScaled||t.isMoved?a++:""}})}),i(5)({ev:i(6).ModifyPhotoFrame,count:e}),i(5)({ev:i(6).ModifyTextFrame,count:a})}},dispatchRemoveFrameTracker:function(){i(5)({ev:i(6).RemovePhotoFrame,count:t.removeImageFrameCount}),i(5)({ev:i(6).RemoveTextFrame,count:t.removeTextFrameCount})}}}}).call(t,i(3))},function(e,t,i){(function(t,i){e.exports={methods:{handleResize:function(){""!==t.ctrls.tcResize&&(clearTimeout(t.ctrls.tcResize),t.ctrls.tcResize=""),t.ctrls.tcResize=setTimeout(function(){t.watches.flagRepaint=!0,clearTimeout(t.ctrls.tcResize),t.ctrls.tcResize=""},500)}},events:{resize:function(){this.handleResize()}},created:function(){var e=this;i.window.addEventListener("resize",function(){e.$emit("resize")}),i.window.document.oncontextmenu=function(e){return!1},e.$watch("sharedStore.watches.flagRepaint",function(){e.sharedStore.watches.flagRepaint&&(e.sharedStore.watches.flagRepaint=!1,t.isImageCropShow&&t.vm.$broadcast("notifyImageCrop"),t.watches.isSpecLoaded&&t.watches.isProjectLoaded&&e.$broadcast("notifyRefreshCanvas",t.currentSelectProjectIndex))})}}}).call(t,i(3),function(){return this}())},function(e,t){e.exports={dpi:300,imageQualityBufferPercent:30,products:[],colors:[],sizes:[],measures:[],specXml:null,specXml2:null}},function(e,t,i){(function(t,a){e.exports={getStickerTemplateList:function(e){var r=this,n=t.domains.baseUrl+"/web-api/decoration/assetList?webClientId=1&autoRandomNum="+i(11).getRandomNum()+"&type=sticker&productType=CR&category="+t.cardSetting.festival;a.ajax({url:n,type:"get",dataType:"xml",async:!1}).done(function(e){var i=r.analysisStickerTemplateXml(e);t.allDecorationList=i;for(var n=0;n<t.decorationList.length;n++)for(var o=0;o<t.allDecorationList.length;o++)if(t.allDecorationList[o].guid===t.decorationList[n].guid){t.allDecorationList[o].count=parseInt(t.decorationList[n].count);break}t.domains.assetBaseUrl=a(e).find("assetBaseUrl").text()})},getStickerItemUrl:function(e){return t.domains.calendarBaseUrl+"/png/96/"+e+".png"},analysisStickerTemplateXml:function(e){for(var t=[],i=0;i<a(e).find("item").length;i++){for(var r=a(e).find("item").eq(i),n={},o=0;o<a(r)[0].attributes.length;o++){var s=a(r)[0].attributes[o];n[s.nodeName]=s.value,n.count=0}n.url=this.getStickerItemUrl(n.guid),t.push(n)}return t}}}).call(t,i(3),i(7))},function(e,t,i){(function(t,a){e.exports={loadDomainUrls:function(){t.ajax({url:"/userid/getEnv?webClientId=1&autoRandomNum="+i(11).getRandomNum(),type:"get",async:!1}).done(function(e){e&&(a.domains.baseUrl=t(e).find("baseUrl").text().substr(0,t(e).find("baseUrl").text().length-1)||"",a.domains.proxyFontBaseUrl=a.domains.baseUrl+"/api",a.domains.calendarBaseUrl=t(e).find("calendarBaseUrl").text().substr(0,t(e).find("calendarBaseUrl").text().length-1)||"",a.domains.uploadUrl=t(e).find("uploadBaseUrl").text().substr(0,t(e).find("uploadBaseUrl").text().length-1)||"",a.domains.productBaseUrl=t(e).find("productBaseURL").text().substr(0,t(e).find("productBaseURL").text().length-1)||"",a.domains.portalBaseUrl=t(e).find("portalBaseURL").text().substr(0,t(e).find("portalBaseURL").text().length-1)||"",a.domains.layoutTemplateServerBaseUrl=t(e).find("layoutTemplateServerBaseUrl").text().substr(0,t(e).find("layoutTemplateServerBaseUrl").text().length-1)||"",a.domains.backendBaseUrl=t(e).find("backendBaseURL").text().substr(0,t(e).find("backendBaseURL").text().length-1)||"")})}}}).call(t,i(7),i(3))},function(e,t,i){(function(t,i){e.exports={getEncImageIds:function(){if(t.imageList.length>0){for(var e="",a=0;a<t.imageList.length;a++)e+=0===a?t.imageList[a].id:","+t.imageList[a].id;e&&i.ajax({url:"/userid/getEncImgIds",type:"post",async:!1,data:{imageIds:e}}).done(function(e){if(e)if("success"===i(e).find("result").attr("state")){for(var a=0;a<t.imageList.length;a++)for(var r=0;r<i(e).find("image").length;r++)if(t.imageList[a].id==i(e).find("image").eq(r).attr("id")){t.imageList[a].encImgId=i(e).find("image").eq(r).attr("encImgId")||"";break}}else console.warn("Error: "+i(e).find("errorInfo").text()||"invalid ajax permission");else console.warn("Error: server returns nothing when getEncImageIds")}).fail(function(e){console.warn("Error: server error when getEncImageIds")})}}}}).call(t,i(3),i(7))},function(e,t,i){(function(t,a){var r={book:1,frame:2,poster:9,cards:5,phonecase:10};e.exports={loadSpec:function(e){var i=this;t.ajax({url:a.domains.productBaseUrl+"/product/spec/product-spec?productType=7",type:"get",dataType:"text"}).done(function(a){if(a=t.parseXML(a),a&&"success"===t(a).find("resultData").attr("state")){var r=t(a).find("availableVersionPath").text();t.ajax({url:r,type:"get",dataType:"text"}).done(function(e){e=t.parseXML(e),i.parseSpecXml(e)})}else e.$dispatch("dispatchShowPopup",{type:"spec",status:0})})},loadLocalSpec:function(){t.ajax({url:"./assets/data/spec.xml?requestKey="+i(15).getRequestKey(),type:"get",dataType:"text"}).done(function(e){e=t.parseXML(e),a.spec.specXml=e,a.watches.isSpecLoaded=!0})},parseSpecXml:function(e){a.spec.specXml=e;for(var i=t(e).find('optionGroup[id="product"]').find("option"),r=0;r<i.length;r++)a.spec.products.push({id:i.eq(r).attr("id"),title:i.eq(r).find("title").text()});for(var n=t(e).find('optionGroup[id="size"]').find("option"),r=0;r<n.length;r++)a.spec.sizes.push({id:n.eq(r).attr("id"),name:n.eq(r).attr("name"),"default":n.eq(r).attr("default")});for(var o=t(e).find('optionGroup[id="color"]').find("option"),r=0;r<o.length;r++)a.spec.colors.push({id:o.eq(r).attr("id"),name:o.eq(r).attr("name")});for(var s=t(e).find('optionGroup[id="measure"]').find("option"),r=0;r<s.length;r++)a.spec.measures.push({id:s.eq(r).attr("id"),name:s.eq(r).attr("name")});a.watches.isSpecLoaded=!0},loadProductSpec:function(e,i){t.ajax({url:a.domains.productBaseUrl+"/product/spec/product-spec?productType="+r[e],type:"get",dataType:"text"}).done(function(e){if(e=t.parseXML(e),console.log(e),e&&"success"===t(e).find("resultData").attr("state")){var r=t(e).find("availableVersionPath").text();t.ajax({url:r,type:"get",dataType:"text"}).done(function(e){e=t.parseXML(e),a.spec.specXml=e,i(),a.watches.isSpecLoaded=!0})}else console.log("load spec failed")})}}}).call(t,i(7),i(3))},function(e,t,i){(function(t,a){e.exports=function(e,r,n){if(e&&r&&r.fileSelector){var o=document.querySelector(r.fileSelector),s=o.files;s=Array.prototype.slice.call(s),s.sort(function(e){var t=e.name.toLowerCase().indexOf(".jpeg")!==-1||e.name.toLowerCase().indexOf(".png")!==-1||e.name.toLowerCase().indexOf(".jpg")!==-1,i=e.size/1048576;return!!(t&&i<100&&0!==i)}),t.retryId>=0&&(s=[],s.push(t.errorUploadedFiles[t.errorUploadedFiles.length-1-t.retryId])),t.maxPageNum&&t.pages.length+s.length>t.maxPageNum&&"number"!=typeof t.watchData.replacePageId&&(s.length=t.maxPageNum-t.pages.length),s.length>0&&a.ajax({url:t.domains.uploadUrl+"/upload/UploadServer/GetBatchImageIds",type:"get",data:"imageIdCount="+s.length+"&timestamp="+Date.now(),error:function(e){t.vm.$dispatch("dispatchShowPopup",{type:"noInterenet",status:0})}}).done(function(r){if(r){var o=r,d=a(o).find("id").length;t.retryId<0&&(t.prevFilesTotal=t.filesTotal,t.filesTotal=t.filesTotal?t.filesTotal+d:d);for(var l=0;l<d;l++){t.filesTotalInQueue=d,t.filesCountInQueue=0;var c=a(o).find("id").eq(l).text(),h=new XMLHttpRequest;t.retryId<=0&&(t.oriImageIds.push(c),t.uploadProgress.push({percent:0,imgId:c,xhr:h}));var p=s[l].name.toLowerCase().indexOf(".jpeg")!==-1||s[l].name.toLowerCase().indexOf(".png")!==-1||s[l].name.toLowerCase().indexOf(".jpg")!==-1,u=s[l].size/1048576;if(p&&u<100&&0!==u)!function(r,o,l){var c=new FormData;c.append("uid",t.userSettings.userId),c.append("timestamp",t.userSettings.uploadTimestamp),c.append("token",t.userSettings.token),c.append("albumId",t.userSettings.albumId),c.append("albumName",t.title);var h=s[r];c.append("Filename",h.name),c.append("filename",h),t.oriImageNames.push({filename:h.name,imgId:o});var p=t.domains.uploadUrl+"/upload/UploadServer/uploadImg?imageId="+o,u=r;n||(u+=t.prevFilesTotal),t.retryId>=0&&(u=t.retryId),l.upload.onprogress=function(i){if(i.loaded&&i.total)if(e.isWindowOpen()){var a=i.loaded,n=i.total,s=Math.floor(a/n*100);s>=99&&(s=99),console.log("percent",s,r);for(var d=0;d<t.uploadProgress.length;d++){var c=t.uploadProgress[d];if(c.imgId===o){u=d;break}}var p=t.uploadProgress[u].startUploadAt||0;t.uploadProgress[u].successUploadAt||0;t.uploadProgress.$set(u,{percent:s,imgId:o,xhr:l,file:h,startUploadAt:p})}else l.onload=null,l.error=null,l.upload.onprogress=null},l.onreadystatechange=function(){if(4==l.readyState&&413==l.status){t.errorUploaded++,t.filesCountInQueue++,t.errorExt++,t.uploadProgress.$set(u,{percent:"File exceeds maximum size of 100M",imgId:o,info:"Failed: File exceeds maximum size of 100M"}),a("#retry-"+u).show(),a("#progress-c-"+u).hide(),a("#delete-"+u).hide();var i=t.uploadProgress.splice(u,1);t.uploadProgress.unshift(i[0]),t.filesCountInQueue==d&&(t.vm.$dispatch("dispatchSaveProject",!0),t.vm.$broadcast("notifyAddNewUploadedImgIntoPages"),t.isLostFocus=!0),e.refreshImageUploadDom()}},l.onload=function(r){var n=this.responseText;if(console.log(n),!(t.cancelledImgIds.indexOf(a(n).find("id").text())>=0)){t.filesCountInQueue++;for(var s=0;s<t.uploadProgress.length;s++){var c=t.uploadProgress[s];if(c.imgId===o){u=s;break}}if(n&&n.indexOf('state="success"')!==-1){console.log("done");var p=t.uploadProgress[u].startUploadAt||0,m=t.uploadProgress[u].successUploadAt||0;if(t.uploadProgress.$set(u,{percent:"Done",imgId:o,xhr:l,file:h,startUploadAt:p,successUploadAt:m}),a("#delete-"+u).hide(),t.currentUploadCount++,t.successfullyUploaded++,t.currentSuccessUpload++,t.filesTotal===t.successfullyUploaded+t.errorUploaded){var g=-1;t.startUploadTime&&(g=new Date-t.startUploadTime,t.startUploadTime=0),t.isUploading=!1,i(5)({ev:i(6).UploadComplete,uploadTimes:++t.uploadTimes,success:t.currentSuccessUpload,failed:t.currentErrorUpload,spendTime:g})}t.retryId>=0&&t.errorUploaded--,t.imageList.push({id:a(n).find("id").text(),guid:a(n).find("guid").text()||"",encImgId:a(n).find("encImgId").text()||"",url:t.domains.uploadUrl+"/upload/UploadServer/PicRender?qaulityLevel=0&puid="+a(n).find("encImgId").text()+i(15).getSecurityString()+"&rendersize=fit",name:a(n).find("name").text(),width:parseFloat(a(n).find("width").text())||0,height:parseFloat(a(n).find("height").text())||0,shotTime:a(n).find("shotTime").text()||"",createTime:h.lastModified,uploadTime:new Date(a(n).find("insertTime").text()).valueOf()||0,orientation:i(23).getExifDegree(a(n).find("exifOrientation").text()),usedCount:0,previewUrl:""}),i(23).getBlobImagePreviewUrl(t.imageList.length-1),"undefined"==typeof t.newUploadedImg&&(t.newUploadedImg=[]),t.newUploadedImg.push({id:a(n).find("id").text(),guid:a(n).find("guid").text()||"",encImgId:a(n).find("encImgId").text()||"",url:t.domains.uploadUrl+"/upload/UploadServer/PicRender?qaulityLevel=0&puid="+a(n).find("encImgId").text()+i(15).getSecurityString()+"&rendersize=fit",name:a(n).find("name").text(),width:parseFloat(a(n).find("width").text())||0,height:parseFloat(a(n).find("height").text())||0,shotTime:a(n).find("shotTime").text()||"",createTime:h.lastModified,uploadTime:new Date(a(n).find("insertTime").text()).valueOf()||0,orientation:i(23).getExifDegree(a(n).find("exifOrientation").text()),usedCount:0,previewUrl:""}),t.vm.$broadcast("notifyAddNewUploadedImgIntoPages"),t.successfullyUploaded==t.filesTotal&&(e.handleSaveAndHideUpload(!0),t.vm.$broadcast("notifyHidePopup")),t.retryId=-1,console.log(t.imageList),e.$dispatch("dispatchImageList")}else if(n&&n.indexOf('state="fail"')!==-1){if(t.cancelledImgIds.indexOf(a(n).find("id").text())>=0)return void(t.retryId>=0&&(t.retryId=-1));if(t.errorUploaded++,t.retryId<0){t.currentUploadCount++,t.currentErrorUpload++,t.filesTotal===t.successfullyUploaded+t.errorUploaded&&(t.isUploading=!1,i(5)({ev:i(6).UploadComplete,uploadTimes:++t.uploadTimes,success:t.currentSuccessUpload,failed:t.currentErrorUpload}));var f=t.uploadProgress.splice(u,1);t.uploadProgress.unshift(f[0]),t.errorUploadedFiles.push(h),t.filesCountInQueue==d&&(t.vm.$dispatch("dispatchSaveProject",!0),t.vm.$broadcast("notifyAddNewUploadedImgIntoPages"),t.isLostFocus=!0),e.refreshImageUploadDom()}var v=t.retryId>=0?t.retryId:0;t.uploadProgress.$set(v,{percent:a(n).find("errorInfo").text(),imgId:o,xhr:l,info:"Failed: "+a(n).find("errorInfo").text()||"Upload failed!"}),t.retryId=-1,a("#retry-"+v).show(),a("#progress-c-"+v).hide(),a("#delete-"+v).hide()}}},l.onerror=function(i){console.log("err"),t.errorUploaded++,t.currentUploadCount++,t.currentErrorUpload++,t.filesCountInQueue++,t.uploadProgress.$set(u,{percent:"File exceeds maximum size of 100M",imgId:o,info:"Failed: File exceeds maximum size of 100M"}),a("#retry-"+u).show(),a("#progress-c-"+u).hide(),a("#delete-"+u).hide();var r=t.uploadProgress.splice(u,1);t.uploadProgress.unshift(r[0]),t.filesCountInQueue==d&&(t.vm.$dispatch("dispatchSaveProject",!0),t.vm.$broadcast("notifyAddNewUploadedImgIntoPages"),t.isLostFocus=!0),e.refreshImageUploadDom()},l.open("post",p,!0),l.send(c),t.retryId<0&&e.initImageUploadDom(u,h.name)}(l,c,h);else{index=l,index+=t.prevFilesTotal,t.errorUploaded++,t.errorExt++,t.oriImageNames.push({filename:s[l].name,imgId:c}),e.initImageUploadDom(index,s[l].name),a("#retry-"+index).show(),a("#progress-c-"+index).hide(),a("#delete-"+index).hide();var m="Only .jpg .jpeg and .png files are supported",g="Only .jpg .jpeg and .png files are supported";0===u&&(m="Invalid image file, please select another file",g="Failed: Invalid image file, please select another file"),u>=100&&(m="File exceeds maximum size of 100M",g="Failed: File exceeds maximum size of 100M"),t.uploadProgress.$set(index,{percent:m,imgId:c,info:g});var f=t.uploadProgress.splice(index,1);t.uploadProgress.unshift(f[0]),e.refreshImageUploadDom()}}}})}}}).call(t,i(3),i(7))},function(e,t,i){(function(t){e.exports={computed:{productText:function(){switch(t.projectSettings[t.currentSelectProjectIndex].product){case"PO":return"Poster";case"LPR":return"Large Photo Prints";case"AR":return"Art Prints";case"PhoneCase":return"Phone Case";default:return"[ERR PRODUCT]"}}}}}).call(t,i(3))},function(e,t){e.exports={baseUrl:"",uploadUrl:"",productBaseUrl:"",proxyFontBaseUrl:"",portalBaseUrl:"",layoutTemplateServerBaseUrl:"",assetBaseUrl:"",calendarBaseUrl:"",backendBaseUrl:""}},function(e,t){e.exports={wallartsConfigList:[{product:"contemporary",optionIds:[{type:"product",title:"Product",showHr:"true"},{type:"frameStyle",title:"Style",showHr:"true"},{type:"color",title:"Color",showHr:"true"},{type:"matteStyle",title:"Matting",showHr:"true"},{type:"size",title:"Size",showHr:"true"},{type:"paper",title:"Print",showHr:"true",paperAlt:["Rich colors and fine texture","High-gloss metal sheen","High-contrast pop style"]},{type:"glassStyle",title:"Glass"}]},{product:"classicFrame",optionIds:[{type:"product",title:"Product",showHr:"true"},{type:"frameStyle",title:"Style",showHr:"true"},{type:"color",title:"Color",showHr:"true"},{type:"matteStyle",title:"Matting",showHr:"true"},{type:"size",title:"Size",showHr:"true"},{type:"paper",title:"Print",showHr:"true",paperAlt:["Rich colors and fine texture","High-gloss metal sheen","High-contrast pop style"]},{type:"glassStyle",title:"Glass"}]},{product:"rusticFrame",optionIds:[{type:"product",title:"Product",showHr:"true"},{type:"frameStyle",title:"Style",showHr:"true"},{type:"color",title:"Color",showHr:"true"},{type:"matteStyle",title:"Matting",showHr:"true"},{type:"size",title:"Size",showHr:"true"},{type:"paper",title:"Print",showHr:"true",paperAlt:["Rich colors and fine texture","High-gloss metal sheen","High-contrast pop style"]},{type:"glassStyle",title:"Glass"}]},{product:"metal",optionIds:[{type:"product",title:"Product",showHr:"true"},{type:"frameStyle",title:"Style",showHr:"true"},{type:"color",title:"Color",showHr:"true"},{type:"matteStyle",title:"Matting",showHr:"true"},{type:"size",title:"Size",showHr:"true"},{type:"paper",title:"Print",showHr:"true",paperAlt:["Rich colors and fine texture","High-gloss metal sheen","High-contrast pop style"]},{type:"glassStyle",title:"Glass"}]},{product:"canvas",optionIds:[{type:"product",title:"Product",showHr:"true"},{type:"canvasBorderSize",title:"Frame Thickness",showHr:"true"},{type:"size",title:"Size"}]},{product:"frameCanvas",optionIds:[{type:"product",title:"Product",showHr:"true"},{type:"color",title:"Color",showHr:"true"},{type:"size",title:"Size",showHr:"true"},{type:"frameStyle",title:"Style",hide:"true"}]},{product:"flushMountCanvas",optionIds:[{type:"product",title:"Product",showHr:"true"},{type:"frameStyle",title:"Style",showHr:"true"},{type:"color",title:"Color",showHr:"true"},{type:"size",title:"Size"}]},{product:"mountPrint",optionIds:[{type:"paper",title:"Paper",showHr:"true",paperAlt:["Rich colors and fine texture","High-gloss metal sheen","High-contrast pop style"]},{type:"size",title:"Size"}]},{product:"acrylicPrint",optionIds:[{type:"paper",title:"Paper",showHr:"true",paperAlt:["Rich colors and fine texture","High-gloss metal sheen","High-contrast pop style"]},{type:"size",title:"Size"}]},{product:"metalPrint",optionIds:[{type:"metalType",title:"Print Surface",showHr:"true"},{type:"finish",title:"Finish",showHr:"true"},{type:"size",title:"Size"}]},{product:"woodPrint",optionIds:[{type:"finish",title:"Print Options",showHr:"true"},{type:"size",title:"Size"}]},{product:"table_crystalPlaque",optionIds:[{type:"product",title:"Product",showHr:"true"},{type:"size",title:"Size"}]},{product:"table_metalPlaque",optionIds:[{type:"product",title:"Product",showHr:"true"},{type:"metalType",title:"Print Surface",showHr:"true"},{type:"finish",title:"Finish",showHr:"true"},{type:"size",title:"Size"}]},{product:"table_woodPlaque",optionIds:[{type:"product",title:"Product",showHr:"true"},{type:"finish",title:"Print Options",showHr:"true"},{type:"size",title:"Size"}]},{product:"table_metalCube",optionIds:[{type:"product",title:"Product",showHr:"true"},{type:"color",title:"Color",showHr:"true"},{type:"size",title:"Size"}]},{product:"table_modernFrame",optionIds:[{type:"product",title:"Product",showHr:"true"},{type:"color",title:"Color",showHr:"true"},{type:"size",title:"Size"}]},{product:"table_classicFrame",optionIds:[{type:"product",title:"Product",showHr:"true"},{type:"color",title:"Color",showHr:"true"},{type:"size",title:"Size"}]},{product:"floatFrame",optionIds:[{type:"frameStyle",title:"Style",showHr:"true"},{type:"color",title:"Color",showHr:"true"},{type:"size",title:"Size",showHr:"true"},{type:"paper",title:"Print",showHr:"true",paperAlt:["Rich colors and fine texture","High-gloss metal sheen","High-contrast pop style"]}]}],posterConfigList:[{product:"PO",optionIds:[{type:"size",title:"Size",showHr:"true"},{type:"paper",title:"Paper"}]},{product:"LPR",optionIds:[{type:"size",title:"Size",showHr:"true"},{type:"paper",title:"Paper"}]},{product:"AR",optionIds:[{type:"size",title:"Size",showHr:"true"},{type:"paper",title:"Paper"}]}],cardsConfigList:[{product:"FT",optionIds:[{type:"paper",title:"Paper",showHr:"true"},{type:"trim",title:"Trim",showHr:"true"}]},{product:"FD",optionIds:[{type:"paper",title:"Paper",showHr:"true"},{type:"trim",title:"Trim",showHr:"true"}]},{product:"FT",isBlankCardUse:"true",optionIds:[{type:"product",title:"Product",showHr:"true"},{type:"size",title:"Size",showHr:"true"},{type:"orientation",title:"Orientation",showHr:"true"},{type:"paper",title:"Paper",showHr:"true"},{type:"trim",title:"Trim",showHr:"true"}]},{product:"FD",isBlankCardUse:"true",optionIds:[{type:"product",title:"Product",showHr:"true"},{type:"size",title:"Size",showHr:"true"},{type:"orientation",title:"Orientation",showHr:"true"},{type:"format",title:"Formats",showHr:"true"},{type:"paper",title:"Paper",showHr:"true"},{type:"trim",title:"Trim",showHr:"true"}]}],colorUrlMap:[{key:"blackFM",url:"../../static/img/colors/Modernframe-Black.jpg"},{key:"whiteFM",url:"../../static/img/colors/Modernframe-White.jpg"},{key:"mapleFM",url:"../../static/img/colors/Modernframe-Maple.jpg"},{key:"espressoFM",url:"../../static/img/colors/Modernframe-Espresso.jpg"},{key:"metalBlack",url:"../../static/img/colors/Metal-Black.jpg"},{key:"metalSilver",url:"../../static/img/colors/Metal-Sliver.jpg"},{key:"metalGold",url:"../../static/img/colors/Metal-Gold.jpg"},{key:"gold",url:"../../static/img/colors/Classic-Curve-Baroque.jpg"},{key:"blackTT",url:"../../static/img/colors/Modernframe-Black.jpg"},{key:"whiteTT",url:"../../static/img/colors/Modernframe-White.jpg"},{key:"espressoTT",url:"../../static/img/colors/Modernframe-Espresso.jpg"},{key:"mapleTT",url:"../../static/img/colors/Modernframe-Maple.jpg"},{key:"blackCV",url:"../../static/img/colors/Modernframe-Black.jpg"},{key:"whiteCV",url:"../../static/img/colors/Modernframe-White.jpg"},{key:"mapleCV",url:"../../static/img/colors/Modernframe-Maple.jpg"},{key:"espressoCV",url:"../../static/img/colors/Modernframe-Espresso.jpg"},{key:"greyFM",url:"../../static/img/colors/Ruatic-Grey.jpg"},{key:"brownFM",url:"../../static/img/colors/Ruatic-Brown.jpg"},{key:"blackCurve",url:"../../static/img/colors/Classic-Curve-Black.jpg"},{key:"whiteCurve",url:"../../static/img/colors/Classic-Curve-White.jpg"},{key:"espressoCurve",url:"../../static/img/colors/Classic-Curve-Espresso.jpg"},{key:"mapleCurve",url:"../../static/img/colors/Classic-Curve-Maple.jpg"}]}},function(e,t,i){var a,r,n;!function(o){"use strict";r=[i(7)],a=o,n="function"==typeof a?a.apply(t,r):a,!(void 0!==n&&(e.exports=n))}(function(e,t){"use strict";function i(t,i,a,r){for(var n=[],o=0;o<t.length;o++){var s=t[o];if(s){var d=tinycolor(s),l=d.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(i,s)?" sp-thumb-active":"";var c=d.toString(r.preferredFormat||"rgb"),h=f?"background-color:"+d.toRgbString():"filter:"+d.toFilter();n.push('<span title="'+c+'" data-color="'+d.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+h+';" /></span>')}else{var p="sp-clear-display";n.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="'+p+'"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+a+"'>"+n.join("")+"</div>"}function a(){for(var e=0;e<m.length;e++)m[e]&&m[e].hide()}function r(t,i){var a=e.extend({},u,t);return a.callbacks={move:l(a.move,i),change:l(a.change,i),show:l(a.show,i),hide:l(a.hide,i),beforeShow:l(a.beforeShow,i)},a}function n(n,s){function l(){if(q.showPaletteOnly&&(q.showPalette=!0),Ae.text(q.showPaletteOnly?q.togglePaletteMoreText:q.togglePaletteLessText),q.palette){ue=q.palette.slice(0),me=e.isArray(ue[0])?ue:[ue],ge={};for(var t=0;t<me.length;t++)for(var i=0;i<me[t].length;i++){var a=tinycolor(me[t][i]).toRgbString();ge[a]=!0}}Me.toggleClass("sp-flat",$),Me.toggleClass("sp-input-disabled",!q.showInput),Me.toggleClass("sp-alpha-enabled",q.showAlpha),Me.toggleClass("sp-clear-enabled",Je),Me.toggleClass("sp-buttons-disabled",!q.showButtons),Me.toggleClass("sp-palette-buttons-disabled",!q.togglePaletteOnly),Me.toggleClass("sp-palette-disabled",!q.showPalette),Me.toggleClass("sp-palette-only",q.showPaletteOnly),Me.toggleClass("sp-initial-disabled",!q.showInitial),Me.addClass(q.className).addClass(q.containerClassName),z()}function u(){function t(t){return t.data&&t.data.ignore?(C(e(t.target).closest(".sp-thumb-el").data("color")),E()):(C(e(t.target).closest(".sp-thumb-el").data("color")),E(),R(!0),q.hideAfterPaletteSelect&&Y()),!1}if(g&&Me.find("*:not(input)").attr("unselectable","on"),l(),Be&&we.after(We).hide(),Je||Ee.hide(),$)we.after(Me).hide();else{var i="parent"===q.appendTo?we.parent():e(q.appendTo);1!==i.length&&(i=e("body")),i.append(Me)}y(),Ue.bind("click.spectrum touchstart.spectrum",function(t){xe||I(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()}),(we.is(":disabled")||q.disabled===!0)&&N(),Me.click(d),je.change(T),je.bind("paste",function(){setTimeout(T,1)}),je.keydown(function(e){13==e.keyCode&&T()}),Fe.text(q.cancelText),Fe.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),j(),Y()}),Ee.attr("title",q.clearText),Ee.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),Ge=!0,E(),$&&R(!0)}),Oe.text(q.chooseText),Oe.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),g&&je.is(":focus")&&je.trigger("change"),F()&&(R(!0),Y())}),Ae.text(q.showPaletteOnly?q.togglePaletteMoreText:q.togglePaletteLessText),Ae.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),q.showPaletteOnly=!q.showPaletteOnly,q.showPaletteOnly||$||Me.css("left","-="+(Le.outerWidth(!0)+5)),l()}),c(De,function(e,t,i){pe=e/oe,Ge=!1,i.shiftKey&&(pe=Math.round(10*pe)/10),E()},L,b),c(Ie,function(e,t){le=parseFloat(t/re),Ge=!1,q.showAlpha||(pe=1),E()},L,b),c(be,function(e,t,i){if(i.shiftKey){if(!ye){var a=ce*te,r=ie-he*ie,n=Math.abs(e-a)>Math.abs(t-r);ye=n?"x":"y"}}else ye=null;var o=!ye||"x"===ye,s=!ye||"y"===ye;o&&(ce=parseFloat(e/te)),s&&(he=parseFloat((ie-t)/ie)),Ge=!1,q.showAlpha||(pe=1),E()},L,b),Xe?(C(Xe),O(),$e=q.preferredFormat||tinycolor(Xe).format,S(Xe)):O(),$&&P();var a=g?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ce.delegate(".sp-thumb-el",a,t),He.delegate(".sp-thumb-el:nth-child(1)",a,{ignore:!0},t)}function y(){if(G&&window.localStorage){try{var t=window.localStorage[G].split(",#");t.length>1&&(delete window.localStorage[G],e.each(t,function(e,t){S(t)}))}catch(i){}try{fe=window.localStorage[G].split(";")}catch(i){}}}function S(t){if(V){var i=tinycolor(t).toRgbString();if(!ge[i]&&e.inArray(i,fe)===-1)for(fe.push(i);fe.length>ve;)fe.shift();if(G&&window.localStorage)try{window.localStorage[G]=fe.join(";")}catch(a){}}}function w(){var e=[];if(q.showPalette)for(var t=0;t<fe.length;t++){var i=tinycolor(fe[t]).toRgbString();ge[i]||e.push(fe[t])}return e.reverse().slice(0,q.maxSelectionSize)}function x(){var t=H(),a=e.map(me,function(e,a){return i(e,t,"sp-palette-row sp-palette-row-"+a,q)});y(),fe&&a.push(i(w(),t,"sp-palette-row sp-palette-row-selection",q)),Ce.html(a.join(""))}function M(){if(q.showInitial){var e=qe,t=H();He.html(i([e,t],t,"sp-palette-row-initial",q))}}function L(){(ie<=0||te<=0||re<=0)&&z(),ee=!0,Me.addClass(_e),ye=null,we.trigger("dragstart.spectrum",[H()])}function b(){ee=!1,Me.removeClass(_e),we.trigger("dragstop.spectrum",[H()])}function T(){var e=je.val();if(null!==e&&""!==e||!Je){var t=tinycolor(e);t.isValid()?(C(t),R(!0)):je.addClass("sp-validation-error")}else C(null),R(!0)}function I(){Q?Y():P()}function P(){var t=e.Event("beforeShow.spectrum");return Q?void z():(we.trigger(t,[H()]),void(Z.beforeShow(H())===!1||t.isDefaultPrevented()||(a(),Q=!0,e(Se).bind("keydown.spectrum",k),e(Se).bind("click.spectrum",D),e(window).bind("resize.spectrum",K),We.addClass("sp-active"),Me.removeClass("sp-hidden"),z(),O(),qe=H(),M(),Z.show(qe),we.trigger("show.spectrum",[qe]))))}function k(e){27===e.keyCode&&Y()}function D(e){2!=e.button&&(ee||(Ve?R(!0):j(),Y()))}function Y(){Q&&!$&&(Q=!1,e(Se).unbind("keydown.spectrum",k),e(Se).unbind("click.spectrum",D),e(window).unbind("resize.spectrum",K),We.removeClass("sp-active"),Me.addClass("sp-hidden"),Z.hide(H()),we.trigger("hide.spectrum",[H()]))}function j(){C(qe,!0)}function C(e,t){if(tinycolor.equals(e,H()))return void O();var i,a;!e&&Je?Ge=!0:(Ge=!1,i=tinycolor(e),a=i.toHsv(),le=a.h%360/360,ce=a.s,he=a.v,pe=a.a),O(),i&&i.isValid()&&!t&&($e=q.preferredFormat||i.getFormat())}function H(e){return e=e||{},Je&&Ge?null:tinycolor.fromRatio({h:le,s:ce,v:he,a:Math.round(100*pe)/100},{format:e.format||$e})}function F(){return!je.hasClass("sp-validation-error")}function E(){O(),Z.move(H()),we.trigger("move.spectrum",[H()])}function O(){je.removeClass("sp-validation-error"),A();var e=tinycolor.fromRatio({h:le,s:1,v:1});be.css("background-color",e.toHexString());var t=$e;pe<1&&(0!==pe||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var i=H({format:t}),a="";if(Ne.removeClass("sp-clear-display"),Ne.css("background-color","transparent"),!i&&Je)Ne.addClass("sp-clear-display");else{var r=i.toHexString(),n=i.toRgbString();if(f||1===i.alpha?Ne.css("background-color",n):(Ne.css("background-color","transparent"),Ne.css("filter",i.toFilter())),q.showAlpha){var o=i.toRgb();o.a=0;var s=tinycolor(o).toRgbString(),d="linear-gradient(left, "+s+", "+r+")";g?ke.css("filter",tinycolor(s).toFilter({gradientType:1},r)):(ke.css("background","-webkit-"+d),ke.css("background","-moz-"+d),ke.css("background","-ms-"+d),ke.css("background","linear-gradient(to right, "+s+", "+r+")"))}a=i.toString(t)}q.showInput&&je.val(a),q.showPalette&&x(),M()}function A(){var e=ce,t=he;if(Je&&Ge)Ye.hide(),Pe.hide(),Te.hide();else{Ye.show(),Pe.show(),Te.show();var i=e*te,a=ie-t*ie;i=Math.max(-ae,Math.min(te-ae,i-ae)),a=Math.max(-ae,Math.min(ie-ae,a-ae)),Te.css({top:a+"px",left:i+"px"});var r=pe*oe;Ye.css({left:r-se/2+"px"});var n=le*re;Pe.css({top:n-de+"px"})}}function R(e){var t=H(),i="",a=!tinycolor.equals(t,qe);t&&(i=t.toString($e),S(t)),Re&&we.val(i),e&&a&&(Z.change(t),we.trigger("change",[t]))}function z(){Q&&(te=be.width(),ie=be.height(),ae=Te.height(),ne=Ie.width(),re=Ie.height(),de=Pe.height(),oe=De.width(),se=Ye.width(),$||(Me.css("position","absolute"),q.offset?Me.offset(q.offset):Me.offset(o(Me,Ue))),A(),q.showPalette&&x(),we.trigger("reflow.spectrum"))}function B(){we.show(),Ue.unbind("click.spectrum touchstart.spectrum"),Me.remove(),We.remove(),m[Ze.id]=null}function W(i,a){return i===t?e.extend({},q):a===t?q[i]:(q[i]=a,"preferredFormat"===i&&($e=q.preferredFormat),void l())}function U(){xe=!1,we.attr("disabled",!1),Ue.removeClass("sp-disabled")}function N(){Y(),xe=!0,we.attr("disabled",!0),Ue.addClass("sp-disabled")}function X(e){q.offset=e,z()}var q=r(s,n),$=q.flat,V=q.showSelectionPalette,G=q.localStorageKey,J=q.theme,Z=q.callbacks,K=h(z,10),Q=!1,ee=!1,te=0,ie=0,ae=0,re=0,ne=0,oe=0,se=0,de=0,le=0,ce=0,he=0,pe=1,ue=[],me=[],ge={},fe=q.selectionPalette.slice(0),ve=q.maxSelectionSize,_e="sp-dragging",ye=null,Se=n.ownerDocument,we=(Se.body,e(n)),xe=!1,Me=e(_,Se).addClass(J),Le=Me.find(".sp-picker-container"),be=Me.find(".sp-color"),Te=Me.find(".sp-dragger"),Ie=Me.find(".sp-hue"),Pe=Me.find(".sp-slider"),ke=Me.find(".sp-alpha-inner"),De=Me.find(".sp-alpha"),Ye=Me.find(".sp-alpha-handle"),je=Me.find(".sp-input"),Ce=Me.find(".sp-palette"),He=Me.find(".sp-initial"),Fe=Me.find(".sp-cancel"),Ee=Me.find(".sp-clear"),Oe=Me.find(".sp-choose"),Ae=Me.find(".sp-palette-toggle"),Re=we.is("input"),ze=Re&&"color"===we.attr("type")&&p(),Be=Re&&!$,We=Be?e(v).addClass(J).addClass(q.className).addClass(q.replacerClassName):e([]),Ue=Be?We:we,Ne=We.find(".sp-preview-inner"),Xe=q.color||Re&&we.val(),qe=!1,$e=q.preferredFormat,Ve=!q.showButtons||q.clickoutFiresChange,Ge=!Xe,Je=q.allowEmpty&&!ze;
u();var Ze={show:P,hide:Y,toggle:I,reflow:z,option:W,enable:U,disable:N,offset:X,set:function(e){C(e),R()},get:H,destroy:B,container:Me};return Ze.id=m.push(Ze)-1,Ze}function o(t,i){var a=0,r=t.outerWidth(),n=t.outerHeight(),o=i.outerHeight(),s=t[0].ownerDocument,d=s.documentElement,l=d.clientWidth+e(s).scrollLeft(),c=d.clientHeight+e(s).scrollTop(),h=i.offset();return h.top+=o,h.left-=Math.min(h.left,h.left+r>l&&l>r?Math.abs(h.left+r-l):0),h.top-=Math.min(h.top,h.top+n>c&&c>n?Math.abs(n+o-a):a),h}function s(){}function d(e){e.stopPropagation()}function l(e,t){var i=Array.prototype.slice,a=i.call(arguments,2);return function(){return e.apply(t,a.concat(i.call(arguments)))}}function c(t,i,a,r){function n(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function o(e){if(c){if(g&&l.documentMode<9&&!e.button)return d();var a=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],r=a&&a.pageX||e.pageX,o=a&&a.pageY||e.pageY,s=Math.max(0,Math.min(r-h.left,u)),f=Math.max(0,Math.min(o-h.top,p));m&&n(e),i.apply(t,[s,f,e])}}function s(i){var r=i.which?3==i.which:2==i.button;r||c||a.apply(t,arguments)!==!1&&(c=!0,p=e(t).height(),u=e(t).width(),h=e(t).offset(),e(l).bind(f),e(l.body).addClass("sp-dragging"),o(i),n(i))}function d(){c&&(e(l).unbind(f),e(l.body).removeClass("sp-dragging"),setTimeout(function(){r.apply(t,arguments)},0)),c=!1}i=i||function(){},a=a||function(){},r=r||function(){};var l=document,c=!1,h={},p=0,u=0,m="ontouchstart"in window,f={};f.selectstart=n,f.dragstart=n,f["touchmove mousemove"]=o,f["touchend mouseup"]=d,e(t).bind("touchstart mousedown",s)}function h(e,t,i){var a;return function(){var r=this,n=arguments,o=function(){a=null,e.apply(r,n)};i&&clearTimeout(a),!i&&a||(a=setTimeout(o,t))}}function p(){return e.fn.spectrum.inputTypeColorSupport()}var u={beforeShow:s,move:s,change:s,show:s,hide:s,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},m=[],g=!!/msie/i.exec(window.navigator.userAgent),f=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div"),i=t.style;return i.cssText="background-color:rgba(0,0,0,.5)",e(i.backgroundColor,"rgba")||e(i.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),_=function(){var e="";if(g)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),y="spectrum.id";e.fn.spectrum=function(t,i){if("string"==typeof t){var a=this,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=m[e(this).data(y)];if(i){var n=i[t];if(!n)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?a=i.get():"container"==t?a=i.container:"option"==t?a=i.option.apply(i,r):"destroy"==t?(i.destroy(),e(this).removeData(y)):n.apply(i,r)}}),a}return this.spectrum("destroy").each(function(){var i=e.extend({},t,e(this).data()),a=n(this,i);e(this).data(y,a.id)})},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=c,e.fn.spectrum.defaults=u,e.fn.spectrum.inputTypeColorSupport=function S(){if("undefined"==typeof S._cachedResult){var t=e("<input type='color'/>")[0];S._cachedResult="color"===t.type&&""!==t.value}return S._cachedResult},e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){var t=e("input[type=color]");t.length&&!p()&&t.spectrum({preferredFormat:"hex6"})},function(){function e(e){var i={r:0,g:0,b:0},r=1,o=!1,s=!1;return"string"==typeof e&&(e=j(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(i=t(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=k(e.s),e.v=k(e.v),i=n(e.h,e.s,e.v),o=!0,s="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=k(e.s),e.l=k(e.l),i=a(e.h,e.s,e.l),o=!0,s="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=x(r),{ok:o,format:e.format||s,r:A(255,R(i.r,0)),g:A(255,R(i.g,0)),b:A(255,R(i.b,0)),a:r}}function t(e,t,i){return{r:255*M(e,255),g:255*M(t,255),b:255*M(i,255)}}function i(e,t,i){e=M(e,255),t=M(t,255),i=M(i,255);var a,r,n=R(e,t,i),o=A(e,t,i),s=(n+o)/2;if(n==o)a=r=0;else{var d=n-o;switch(r=s>.5?d/(2-n-o):d/(n+o),n){case e:a=(t-i)/d+(t<i?6:0);break;case t:a=(i-e)/d+2;break;case i:a=(e-t)/d+4}a/=6}return{h:a,s:r,l:s}}function a(e,t,i){function a(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}var r,n,o;if(e=M(e,360),t=M(t,100),i=M(i,100),0===t)r=n=o=i;else{var s=i<.5?i*(1+t):i+t-i*t,d=2*i-s;r=a(d,s,e+1/3),n=a(d,s,e),o=a(d,s,e-1/3)}return{r:255*r,g:255*n,b:255*o}}function r(e,t,i){e=M(e,255),t=M(t,255),i=M(i,255);var a,r,n=R(e,t,i),o=A(e,t,i),s=n,d=n-o;if(r=0===n?0:d/n,n==o)a=0;else{switch(n){case e:a=(t-i)/d+(t<i?6:0);break;case t:a=(i-e)/d+2;break;case i:a=(e-t)/d+4}a/=6}return{h:a,s:r,v:s}}function n(e,t,i){e=6*M(e,360),t=M(t,100),i=M(i,100);var a=E.floor(e),r=e-a,n=i*(1-t),o=i*(1-r*t),s=i*(1-(1-r)*t),d=a%6,l=[i,o,n,n,s,i][d],c=[s,i,i,o,n,n][d],h=[n,n,s,i,i,o][d];return{r:255*l,g:255*c,b:255*h}}function o(e,t,i,a){var r=[P(O(e).toString(16)),P(O(t).toString(16)),P(O(i).toString(16))];return a&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function s(e,t,i,a){var r=[P(D(a)),P(O(e).toString(16)),P(O(t).toString(16)),P(O(i).toString(16))];return r.join("")}function d(e,t){t=0===t?0:t||10;var i=B(e).toHsl();return i.s-=t/100,i.s=L(i.s),B(i)}function l(e,t){t=0===t?0:t||10;var i=B(e).toHsl();return i.s+=t/100,i.s=L(i.s),B(i)}function c(e){return B(e).desaturate(100)}function h(e,t){t=0===t?0:t||10;var i=B(e).toHsl();return i.l+=t/100,i.l=L(i.l),B(i)}function p(e,t){t=0===t?0:t||10;var i=B(e).toRgb();return i.r=R(0,A(255,i.r-O(255*-(t/100)))),i.g=R(0,A(255,i.g-O(255*-(t/100)))),i.b=R(0,A(255,i.b-O(255*-(t/100)))),B(i)}function u(e,t){t=0===t?0:t||10;var i=B(e).toHsl();return i.l-=t/100,i.l=L(i.l),B(i)}function m(e,t){var i=B(e).toHsl(),a=(O(i.h)+t)%360;return i.h=a<0?360+a:a,B(i)}function g(e){var t=B(e).toHsl();return t.h=(t.h+180)%360,B(t)}function f(e){var t=B(e).toHsl(),i=t.h;return[B(e),B({h:(i+120)%360,s:t.s,l:t.l}),B({h:(i+240)%360,s:t.s,l:t.l})]}function v(e){var t=B(e).toHsl(),i=t.h;return[B(e),B({h:(i+90)%360,s:t.s,l:t.l}),B({h:(i+180)%360,s:t.s,l:t.l}),B({h:(i+270)%360,s:t.s,l:t.l})]}function _(e){var t=B(e).toHsl(),i=t.h;return[B(e),B({h:(i+72)%360,s:t.s,l:t.l}),B({h:(i+216)%360,s:t.s,l:t.l})]}function y(e,t,i){t=t||6,i=i||30;var a=B(e).toHsl(),r=360/i,n=[B(e)];for(a.h=(a.h-(r*t>>1)+720)%360;--t;)a.h=(a.h+r)%360,n.push(B(a));return n}function S(e,t){t=t||6;for(var i=B(e).toHsv(),a=i.h,r=i.s,n=i.v,o=[],s=1/t;t--;)o.push(B({h:a,s:r,v:n})),n=(n+s)%1;return o}function w(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t}function x(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function M(e,t){T(e)&&(e="100%");var i=I(e);return e=A(t,R(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),E.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function L(e){return A(1,R(0,e))}function b(e){return parseInt(e,16)}function T(e){return"string"==typeof e&&e.indexOf(".")!=-1&&1===parseFloat(e)}function I(e){return"string"==typeof e&&e.indexOf("%")!=-1}function P(e){return 1==e.length?"0"+e:""+e}function k(e){return e<=1&&(e=100*e+"%"),e}function D(e){return Math.round(255*parseFloat(e)).toString(16)}function Y(e){return b(e)/255}function j(e){e=e.replace(C,"").replace(H,"").toLowerCase();var t=!1;if(W[e])e=W[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=N.rgb.exec(e))?{r:i[1],g:i[2],b:i[3]}:(i=N.rgba.exec(e))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=N.hsl.exec(e))?{h:i[1],s:i[2],l:i[3]}:(i=N.hsla.exec(e))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=N.hsv.exec(e))?{h:i[1],s:i[2],v:i[3]}:(i=N.hsva.exec(e))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=N.hex8.exec(e))?{a:Y(i[1]),r:b(i[2]),g:b(i[3]),b:b(i[4]),format:t?"name":"hex8"}:(i=N.hex6.exec(e))?{r:b(i[1]),g:b(i[2]),b:b(i[3]),format:t?"name":"hex"}:!!(i=N.hex3.exec(e))&&{r:b(i[1]+""+i[1]),g:b(i[2]+""+i[2]),b:b(i[3]+""+i[3]),format:t?"name":"hex"}}var C=/^[\s,#]+/,H=/\s+$/,F=0,E=Math,O=E.round,A=E.min,R=E.max,z=E.random,B=function(t,i){if(t=t?t:"",i=i||{},t instanceof B)return t;if(!(this instanceof B))return new B(t,i);var a=e(t);this._originalInput=t,this._r=a.r,this._g=a.g,this._b=a.b,this._a=a.a,this._roundA=O(100*this._a)/100,this._format=i.format||a.format,this._gradientType=i.gradientType,this._r<1&&(this._r=O(this._r)),this._g<1&&(this._g=O(this._g)),this._b<1&&(this._b=O(this._b)),this._ok=a.ok,this._tc_id=F++};B.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=x(e),this._roundA=O(100*this._a)/100,this},toHsv:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=r(this._r,this._g,this._b),t=O(360*e.h),i=O(100*e.s),a=O(100*e.v);return 1==this._a?"hsv("+t+", "+i+"%, "+a+"%)":"hsva("+t+", "+i+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var e=i(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=i(this._r,this._g,this._b),t=O(360*e.h),a=O(100*e.s),r=O(100*e.l);return 1==this._a?"hsl("+t+", "+a+"%, "+r+"%)":"hsla("+t+", "+a+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return o(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return s(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:O(this._r),g:O(this._g),b:O(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+O(this._r)+", "+O(this._g)+", "+O(this._b)+")":"rgba("+O(this._r)+", "+O(this._g)+", "+O(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:O(100*M(this._r,255))+"%",g:O(100*M(this._g,255))+"%",b:O(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+O(100*M(this._r,255))+"%, "+O(100*M(this._g,255))+"%, "+O(100*M(this._b,255))+"%)":"rgba("+O(100*M(this._r,255))+"%, "+O(100*M(this._g,255))+"%, "+O(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(U[o(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+s(this._r,this._g,this._b,this._a),i=t,a=this._gradientType?"GradientType = 1, ":"";if(e){var r=B(e);i=r.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+t+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var i=!1,a=this._a<1&&this._a>=0,r=!t&&a&&("hex"===e||"hex6"===e||"hex3"===e||"name"===e);return r?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(i=this.toRgbString()),"prgb"===e&&(i=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(i=this.toHexString()),"hex3"===e&&(i=this.toHexString(!0)),"hex8"===e&&(i=this.toHex8String()),"name"===e&&(i=this.toName()),"hsl"===e&&(i=this.toHslString()),"hsv"===e&&(i=this.toHsvString()),i||this.toHexString())},_applyModification:function(e,t){var i=e.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(h,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(u,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(l,arguments)},greyscale:function(){return this._applyModification(c,arguments)},spin:function(){return this._applyModification(m,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(y,arguments)},complement:function(){return this._applyCombination(g,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(_,arguments)},triad:function(){return this._applyCombination(f,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},B.fromRatio=function(e,t){if("object"==typeof e){var i={};for(var a in e)e.hasOwnProperty(a)&&("a"===a?i[a]=e[a]:i[a]=k(e[a]));e=i}return B(e,t)},B.equals=function(e,t){return!(!e||!t)&&B(e).toRgbString()==B(t).toRgbString()},B.random=function(){return B.fromRatio({r:z(),g:z(),b:z()})},B.mix=function(e,t,i){i=0===i?0:i||50;var a,r=B(e).toRgb(),n=B(t).toRgb(),o=i/100,s=2*o-1,d=n.a-r.a;a=s*d==-1?s:(s+d)/(1+s*d),a=(a+1)/2;var l=1-a,c={r:n.r*a+r.r*l,g:n.g*a+r.g*l,b:n.b*a+r.b*l,a:n.a*o+r.a*(1-o)};return B(c)},B.readability=function(e,t){var i=B(e),a=B(t),r=i.toRgb(),n=a.toRgb(),o=i.getBrightness(),s=a.getBrightness(),d=Math.max(r.r,n.r)-Math.min(r.r,n.r)+Math.max(r.g,n.g)-Math.min(r.g,n.g)+Math.max(r.b,n.b)-Math.min(r.b,n.b);return{brightness:Math.abs(o-s),color:d}},B.isReadable=function(e,t){var i=B.readability(e,t);return i.brightness>125&&i.color>500},B.mostReadable=function(e,t){for(var i=null,a=0,r=!1,n=0;n<t.length;n++){var o=B.readability(e,t[n]),s=o.brightness>125&&o.color>500,d=3*(o.brightness/125)+o.color/500;(s&&!r||s&&r&&d>a||!s&&!r&&d>a)&&(r=s,a=d,i=B(t[n]))}return i};var W=B.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=B.hexNames=w(W),N=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",i="(?:"+t+")|(?:"+e+")",a="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",r="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{rgb:new RegExp("rgb"+a),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+a),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+a),hsva:new RegExp("hsva"+r),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=B}(),e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})})},function(e,t,i){!function(t,i){e.exports=i()}(this,function(){"use strict";function e(e){var t=null,i=document.cookie.split(";");if(i)for(var a=0;a<i.length;a++){var r=i[a].split("=");if(r.length>1&&e==r[0]){t=unescape(r[1]);break}}return t}function t(t,a,r,n,o){var s=window.location.hostname+"",a=a||e(" JSESSIONID")||e("JSESSIONID"),d=r||e(" AS_UID")||e("AS_UID");t=a+","+d+","+(new Date).getTime()+","+t;var l="https://venus.zno.com/b.htm?"+t;"www.zno.com"!=s&&(l="https://log.zno.com.t/b.htm?"+t),i(l,n,o)}function i(e,t,i){var a=new XMLHttpRequest;a.onload=function(e){t&&"function"==typeof t&&t(e||window.event)},a.onerror=function(e){i&&"function"==typeof i&&i(e||window.event)},a.open("GET",e),a.send()}return{go:t}})},function(e,t,i){(function(t){e.exports={template:'<div class="bed-actionpanel-top" :style="usedStyle"><div style="height: 60px;text-align: center;"><div class="button action-item" :style="addTextStyle" style="margin-top: 30px; margin-bottom: 15px; width: 120px;height: 26px;line-height: 26px;border-radius: 14px;text-align: center;font-size: 12px; font-weight: 500;" v-on:click="handleAddText()">Add Text</div><div v-show="sharedStore.isPortal && (sharedStore.lockedElementId === null || sharedStore.lockedPageIdx !== sharedStore.selectedPageIdx)" class="button action-item" style="margin-top: 30px; margin-bottom: 20px; width: 120px;height: 26px;line-height: 26px;border-radius: 14px;text-align: center;font-size: 12px; font-weight: 500;" v-on:click="handleElementLock()">Lock</div><div v-show="sharedStore.isPortal && sharedStore.lockedPageIdx === sharedStore.selectedPageIdx && sharedStore.lockedElementId !== null" class="button action-item" style="margin-top: 30px; margin-bottom: 20px; width: 120px;height: 26px;line-height: 26px;border-radius: 14px;text-align: center;font-size: 12px; font-weight: 500;" v-on:click="handleElementUnlock()">Unlock</div><div v-show="sharedStore.isPortal" class="button action-item" style="margin-top: 30px; margin-bottom: 20px; width: 120px;height: 26px;line-height: 26px;border-radius: 14px;text-align: center;font-size: 12px; font-weight: 500;" v-on:click="toggleBgImage()">{{sharedStore.isBgImageShow ? \'HideBgImage\' : \'ShowBgImage\'}}</div><div v-show="sharedStore.isPortal" class="button action-item" style="margin-top: 30px; margin-bottom: 20px; width: 120px;height: 26px;line-height: 26px;border-radius: 14px;text-align: center;font-size: 12px; font-weight: 500;" v-on:click="toggleCenterLine()">{{sharedStore.isCenterlineShow ? \'HideCenterLine\' : \'ShowCenterLine\'}}</div></div></div>',data:function(){return{privateStore:{},sharedStore:t,rotated:""}},computed:{rotated:function(){return this.sharedStore.projectSettings[this.sharedStore.currentSelectProjectIndex].rotated},showRotate:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=e.size;return i.split("X")[0]!==i.split("X")[1]},usedStyle:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return t.isPortal?null:{zIndex:110*(i+10)-2}},addTextStyle:function(){return t.isPortal?{marginTop:"30px"}:{marginTop:"19px"}}},methods:{handleAddText:function(){i(5)({ev:i(6).ClickAddText}),this.$dispatch("dispatchShowAddText")},handleElementLock:function(){var e=this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas;this.sharedStore.lockedElementId=e.selectedIdx,this.sharedStore.lockedPageIdx=t.selectedPageIdx},handleElementUnlock:function(){this.sharedStore.lockedElementId=null,this.sharedStore.lockedPageIdx=null},toggleBgImage:function(){this.sharedStore.isBgImageShow=!this.sharedStore.isBgImageShow},toggleCenterLine:function(){this.sharedStore.isCenterlineShow=!this.sharedStore.isCenterlineShow}},events:{},ready:function(){}}}).call(t,i(3))},function(e,t,i){(function(t){e.exports={template:'<div class="footer-actionpanel-top" v-show="sharedStore.isCanvas"><div style="height: 80px;text-align: center;"><div class="button action-item" style="margin: 30px 40px 20px 0; width: 120px;height: 28px;line-height: 28px;border-radius: 14px;text-align: center;font-size: 12px; font-weight: 500;visibility:hidden;">&nbsp;</div><div class="button action-item" style="margin: 30px 40px 20px 0; width: 120px;height: 28px;line-height: 28px;border-radius: 14px;text-align: center;font-size: 12px; font-weight: 500;visibility:hidden;">&nbsp;</div><div class="button action-item" style="margin-top: 30px; margin-bottom: 20px; width: 120px;height: 28px;line-height: 28px;border-radius: 14px;text-align: center;font-size: 12px; font-weight: 500;" v-on:click="handleEditBorder()">Edit Border</div></div></div>',data:function(){return{privateStore:{},sharedStore:t}},methods:{handleEditBorder:function(){this.$dispatch("dispatchShowEditBorder")}}}}).call(t,i(3))},function(e,t,i){(function(t){var a=(i(12),i(17));i(29);e.exports={template:'<!-- background layer --><div style="position: absolute; left: 0; top: 0; height: 100%; width: 100%;"><!-- background --><img v-bind:src="src" v-show="sharedStore.isBgImageShow" v-bind:style="{zIndex:Zindex + 1}" v-bind:width="width" v-bind:height="height" style="position:absolute;left:0;top:0;pointer-events:none;"><canvas id="bg-part" v-bind:style="{zIndex:Zindex}" v-bind:width="width" v-bind:height="height" style="position: absolute; left: 0; top: 0;pointer-events:none;display:none;"></canvas><div  v-show="sharedStore.isCenterlineShow"><div id="horizonal-center-line" v-bind:style="{ left: 0 + \'px\', top: horizonalTop + \'px\', width: width + \'px\',height:\'1px\', zIndex: Zindex + 1 }" style="position: absolute;border-top:1px dashed red;"></div><div id="portrait-center-line" v-bind:style="{ left: portraitLeft + \'px\', top: 0 + \'px\', width: 1 + \'px\',height: height + \'px\', zIndex: Zindex + 1 }" style="position: absolute;border-left:1px dashed red;"></div></div><canvas id="helpline-border-up" v-bind:style="{ left: borderUpLeft + \'px\', top: borderUpTop + \'px\', zIndex: Zindex + 1 }" style="position: absolute;"></canvas><canvas id="helpline-border-right" v-bind:style="{ left: borderRightLeft + \'px\', top: borderRightTop + \'px\', zIndex: Zindex + 1 }" style="position: absolute;"></canvas><canvas id="helpline-border-down" v-bind:style="{ left: borderDownLeft + \'px\', top: borderDownTop + \'px\', zIndex: Zindex + 1 }" style="position: absolute;"></canvas><canvas id="helpline-border-left" v-bind:style="{ left: borderLeftLeft + \'px\', top: borderLeftTop + \'px\', zIndex: Zindex + 1 }" style="position: absolute;"></canvas></div>',props:["width","height"],data:function(){return{sharedStore:t,borderColor:"#f00",borderUpLeft:0,borderUpTop:0,borderRightLeft:0,borderRightTop:0,borderDownLeft:0,borderDownTop:0,borderLeftLeft:0,borderLeftTop:0,horizonalTop:0,portraitLeft:0,src:""}},computed:{Zindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 101*(i+9)},helplineZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 100*(i+2)},src:function(){return this.currentBgImage()+"?version=card_gray1"}},methods:{initBg:function(){if(this.initBgImage(),this.sharedStore.isPortal)this.initLineBorder();else{var e=document.getElementById("helpline-border-up"),i=document.getElementById("helpline-border-right"),a=document.getElementById("helpline-border-down"),r=document.getElementById("helpline-border-left");e.width=a.width=e.height=i.width=a.height=r.width=i.height=r.height=0}t.isSwitchLoadingShow=!1,t.isPageLoadingShow=!1},initHelplines:function(){},initLineBorder:function(){var e=this,i=t.pages[t.selectedPageIdx].canvas,r=document.getElementById("helpline-border-up"),n=document.getElementById("helpline-border-right"),o=document.getElementById("helpline-border-down"),s=document.getElementById("helpline-border-left"),d=r.getContext("2d"),l=n.getContext("2d"),c=o.getContext("2d"),h=s.getContext("2d");r.width=o.width=i.width,r.height=n.width=o.height=s.width=2,n.height=s.height=i.height,e.borderUpLeft=e.borderDownLeft=e.borderLeftLeft=i.x,e.borderUpTop=e.borderRightTop=e.borderLeftTop=i.y,e.borderRightLeft=i.x+i.width,e.borderDownTop=i.y+i.height;var p=i.formedSpread;e.horizonalTop=i.y+(p.height/2+p.top)*i.ratio,e.portraitLeft=i.x+(p.width/2+p.left)*i.ratio,d.clearRect(-1,-1,r.width+2,r.height+2),a.drawDashedLine("helpline-border-up",e.borderColor,0,0,r.width,0,2,3),l.clearRect(-1,-1,n.width+2,n.height+2),a.drawDashedLine("helpline-border-right",e.borderColor,0,0,0,n.height,2,3),c.clearRect(-1,-1,o.width+2,o.height+2),a.drawDashedLine("helpline-border-down",e.borderColor,0,0,o.width,0,2,3),h.clearRect(-1,-1,s.width+2,s.height+2),a.drawDashedLine("helpline-border-left",e.borderColor,0,0,0,n.height,2,3)},initBgImage:function(){var e=this,i=(t.pages[t.selectedPageIdx].canvas,this.currentBgImage()),a=document.getElementById("bg-part"),r=a.getContext("2d");a.width=e.width,a.height=e.height,r.clearRect(-1,-1,a.width+2,a.height+2);var n=new Image;n.src=i,n.onload=function(){e.width,e.width*(this.height/this.width);r.drawImage(n,0,0,e.width,e.height),t.vm.$broadcast("notifyRefreshScreenshot",!0)}},currentBgImage:function(){var e={},i=t.pages[t.selectedPageIdx].type,a=t.projectSettings[t.currentSelectProjectIndex],r=t.projectSettings[t.currentSelectProjectIndex].product,n=a.size.toLowerCase(),o=(a.orientation,this.getPrefix());if(["frontPage","backPage"].indexOf(i)!==-1&&"FD"===r){var s="frontPage"===i?"_Front":"_Back";e.src=o+n+s+".png?version=card_gray1"}else e.src=o+n+".png?version=card_gray1";return e.src},getPrefix:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=t.pages[t.selectedPageIdx].type,a=t.projectSettings[t.currentSelectProjectIndex].product,r=t.projectSettings[t.selectedIdx].trim,n="assets/img/types/",o=e.size.toLowerCase(),s=e.orientation;return format=e.format,["frontPage","backPage"].indexOf(i)!==-1?(n+="coverPage/"+a+"/"+r+"/"+s+"/","FD"===a&&(n+=format+"/"+o+"/")):(n+="insidePage/"+r+"/"+s+"/","FD"===a&&(n+=format+"/")),n}},events:{notifyRefreshBackground:function(){this.initBg()}},ready:function(){var e=this;e.$watch("width",function(){e.width&&e.initBg()}),e.$watch("height",function(){e.height&&e.initBg()})}}}).call(t,i(3))},function(e,t,i){(function(t){i(8);e.exports={template:'<div class="box-bar"  v-bind:style="{ width: boxWidth + \'px\', left: boxLeft + \'px\', top: boxTop + \'px\', zIndex: windowZindex }" data-html2canvas-ignore="true"><!-- image bars --><span class="button" v-if="type === \'image\' && hasImage" v-on:click="handleEditImage()" title="Click to crop image" />Crop</span><span class="button" v-if="type === \'image\' && hasImage" v-on:click="handleRotate(90)" title="Rotate image">Rotate</span><span class="button" v-if="type === \'image\' && (!sharedStore.isBlankCard || (sharedStore.isBlankCard && hasImage))" v-on:click="handleRemoveImage()" title="Delete image or layer">Remove</span><span class="button has-subnav" v-if="type === \'image\' && hasImage && sharedStore.isPortal" v-on:mouseover="handleLayer" v-on:mouseout="handleLayer" v-on:click.prevent.stop="" title="Layer">Layer</span><!-- text bars --><span class="button" v-if="type === \'text\' && istextEditShow" v-on:click="handleEditText()" title="Edit">Edit</span><span class="button" v-if="type === \'text\' && istextEditShow" v-on:click="handleRemoveText()" title="Remove">Remove</span><span class="button has-subnav" v-if="type === \'text\' && sharedStore.isPortal" v-on:mouseover="handleLayer" v-on:mouseout="handleLayer" v-on:click.prevent.stop="" title="layer">Layer</span><!-- decoration bars --><span class="button" v-if="type === \'decoration\'" v-on:click="handleRemoveDecoration()" title="Remove">Remove</span><span class="button has-subnav" v-if="type === \'decoration\' && sharedStore.isPortal" v-on:mouseover="handleLayer" v-on:mouseout="handleLayer" v-on:click.prevent.stop="" title="layer">Layer</span><subbar-panel v-bind:idx="idx"></subbar-panel></div>',data:function(){return{boxHeight:30,id:0,sharedStore:t,istextEditShow:!1}},computed:{boxWidth:function(){return 130},idx:function(){var e=t.pages[t.selectedPageIdx].canvas;return e.selectedIdx},boxLeft:function(){var e=t.pages[t.selectedPageIdx].canvas,a=e.selectedIdx,r=e.params[a];i(12);return r.x*e.ratio>this.sharedStore.barPosition.x?r.x*e.ratio:e.width-135<this.sharedStore.barPosition.x?e.width-135:this.sharedStore.barPosition.x},boxTop:function(){var e=t.pages[t.selectedPageIdx].canvas,a=e.selectedIdx,r=e.params[a];i(12);return r.y*e.ratio>this.sharedStore.barPosition.y?r.y*e.ratio:e.height-105<this.sharedStore.barPosition.y?e.height-105:this.sharedStore.barPosition.y},windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 100*(i+10)},type:function(){var e=t.pages[t.selectedPageIdx].canvas;return e.params[e.selectedIdx].elType?e.params[e.selectedIdx].elType:""},istextEditShow:function(){var e=t.pages[t.selectedPageIdx].canvas;return!(!this.sharedStore.isPortal&&e.params[this.idx].tagType)},hasImage:function(){var e=t.pages[t.selectedPageIdx].canvas;return!!e.params[this.idx].imageId}},methods:{handleRemoveImage:function(){var e=t.pages[t.selectedPageIdx].canvas,a=e.selectedIdx;if(!t.isPortal){var r=e.params[a];r.imageId||t.removeImageFrameCount++,i(5)({ev:i(6).ClickRemove,type:r.imageId?"image":"photoFrame"})}t.watchData.removeElementIdx=a,
t.watchData.removeElementType="image",t.watches.isRemoveElement=!0},handleRotate:function(e){var a=t.pages[t.selectedPageIdx].canvas,r=a.selectedIdx;this.sharedStore.isSwitchLoadingShow=!0,t.vm.$broadcast("notifyRotateImage",{idx:r,nDegree:e}),i(5)({ev:i(6).ClickRotateImage})},handleEditImage:function(){var e=t.pages[t.selectedPageIdx].canvas,a=e.selectedIdx;t.watchData.cropImageIdx=a,t.watches.isCropThisImage=!0,i(5)({ev:i(6).ClickCropImage})},handleLayer:function(){this.sharedStore.isEditLayerShow=!this.sharedStore.isEditLayerShow},handleRemoveDecoration:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.selectedIdx;t.watchData.removeElementIdx=i,t.watchData.removeElementType="decoration",t.watches.isRemoveElement=!0},handleEditText:function(){t.watches.isChangeThisText=!0},handleRemoveText:function(){var e=t.pages[t.selectedPageIdx].canvas,a=e.selectedIdx;if(!t.isPortal){e.params[a];i(5)({ev:i(6).ClickRemove,type:"text"})}t.watchData.removeElementIdx=a,t.watchData.removeElementType="text",t.watches.isRemoveElement=!0,t.removeTextFrameCount++}},events:{},ready:function(){}}}).call(t,i(3))},function(e,t,i){(function(t){e.exports={template:'<div class="change_tmpl" v-bind:style="{zIndex:windowZindex}"><label>{{ privatedStore.changeType }}</label><ul class="change_list"><li><a href="javascript:void(0);" v-on:click="handleReset">{{ privatedStore.resetText }}</a><li v-for="item in list"><a href="javascript:void(0);" v-on:click="changeTmplByImagesCount($index)" v-bind:class="{\'current\':item==imagesIndex}">{{ item }}</a></li></ul></div>',data:function(){return{privatedStore:{changeType:"Images",resetText:"Reset"},sharedStore:t}},computed:{windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 100*(i+10)},list:function(){var e=[],i=this.sharedStore.templateList,a=t.projectSettings[t.currentSelectProjectIndex].size,r=t.projectSettings[t.currentSelectProjectIndex].rotated;r&&(a=a.split("X")[1]+"X"+a.split("X")[0]);for(var n=0,o=i.length;n<o;n++)i[n].designSize==a&&e.indexOf(i[n].imageNum)<0&&e.push(i[n].imageNum);return e.sort(function(e,t){return+e>+t})},imagesIndex:function(){return this.sharedStore.imagesIndex||(this.sharedStore.imagesIndex=this.list[0])}},methods:{handleReset:function(){this.sharedStore.imagesIndex=this.list[0]},changeTmplByImagesCount:function(e){this.sharedStore.imagesIndex=this.list[e],this.sharedStore.isChangeTmplShow=!1}},events:{notifyChangeTmplByImageCount:function(e){this.changeTmplByImagesCount(e)}},ready:function(){}}}).call(t,i(3))},function(e,t,i){(function(t,a){e.exports={template:'<div v-show="sharedStore.isShowContactUs"><div class="shadow-bg" v-bind:style="{zIndex: windowZindex-1}"></div><div id="contactUsWindow" class="box-order" v-bind:style="{width: privateStore.width + \'px\',height: privateStore.height + \'px\', zIndex: windowZindex }"><div style="height: 40px:line-height: 40px;"><div style="width: 40px;height: 40px;margin-left: 610px;font-size: 20px;"><img src="../../static/img/close-normal.svg" draggable="false" width="16" height="16" v-on:click="handleHideView()" onmouseover="this.src = \'../../static/img/close-hover.svg\'" onmouseout="this.src = \'../../static/img/close-normal.svg\'" alt="close" title="close" style="margin-top: 24px; margin-left: 4px; cursor: pointer;" /></div></div><div style="margin: 0 40px;"><div class="font-title t-left">Contact Us</div></div><div style="margin: 50px 40px 0; width: 570px;"><label class="options-label font-label" style="height: 35px; line-height: 35px;width: 100%;">Have a question?</label><div class="box-textarea"><textarea v-model="privateStore.question" class="font-textarea"  style="height: 80px; width: 533px; line-height: 35px; background-color: #f5f5f5;" placeholder="{{privateStore.marks[0]}}"></textarea></div></div><div style="margin: 60px 40px 0; width: 570px;"><label class="options-label font-label" style="height: 35px; line-height: 35px;width: 100%;">Have a feature request?</label><div class="box-textarea"><textarea v-model="privateStore.featureRequest" class="font-textarea" style="height: 80px; width: 533px; line-height: 35px; background-color: #f5f5f5;" placeholder="{{privateStore.marks[1]}}"></textarea></div></div><div style="margin: 60px 40px 0; width: 570px;"><label class="options-label font-label" style="height: 35px; line-height: 35px;width: 100%;">Want to report a bug?</label><div class="box-textarea"><textarea v-model="privateStore.bug" class="font-textarea" style="height: 80px; width: 533px; line-height: 35px; background-color: #f5f5f5;" placeholder="{{privateStore.marks[2]}}"></textarea></div></div><div class="texteditor-button" style="margin-top: 50px;"><div id="emptyLabel" style="width: 200px;text-align: center;height: 40px;line-height: 40px;font-size: 14px;color:red;margin-left:auto;margin-right:auto;opacity:0;">Please enter something.</div><div><div class="button t-center" v-on:click="submit" style="width: 160px;height: 40px;line-height: 40px;display: inline-block; margin-left: 245px;font-size: 14px;">Done</div></div></div></div>',data:function(){return{privateStore:{width:655,height:655,question:"",featureRequest:"",bug:"",selector:"#contactUsWindow",marks:["input your question here","input your feature request here","input the bug description here"]},sharedStore:t}},computed:{windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 100*(i+10)}},methods:{handleHideView:function(){this.sharedStore.isShowContactUs=!1},checkWords:function(e){for(var t=0;t<this.privateStore.marks.length;t++)e.target.value===this.privateStore.marks[t]&&(e.target.value="")},submit:function(){if(""===this.privateStore.question.trim()&&""===this.privateStore.featureRequest.trim()&&""===this.privateStore.bug.trim())a("#emptyLabel").css("opacity",1);else{var e=this.privateStore.question,t=this.privateStore.featureRequest,r=this.privateStore.bug,n=navigator.platform,o="[appName:"+navigator.appName+";userAgent:"+navigator.userAgent+";appVersion:"+navigator.appVersion+"]";i(9).sentContactUs(this,e,t,r,n,o),this.sharedStore.isShowContactUs=!1,this.privateStore.question="",this.privateStore.featureRequest="",this.privateStore.bug=""}}},ready:function(){},events:{notifyShowContactUsWindow:function(){var e=i(16);e.setPopWindowPosition({width:this.privateStore.width,height:this.privateStore.height,selector:this.privateStore.selector}),this.sharedStore.isShowContactUs=!0,a("#emptyLabel").css("opacity",0)}},created:function(){}}}).call(t,i(3),i(7))},function(e,t,i){(function(t,a){var r=i(26),n=i(16),o=i(18),s=i(31),d=i(8),l=i(14),c=i(27),h=i(151),p=i(25);e.exports={template:'<div style="position: relative;"><div v-show="sharedStore.isSwitchLoadingShow" style="width: 98px;height: 98px;background: #fff;border: 1px solid #7b7b7b;border-radius: 12px;position: absolute;top: 48%;left: 50%;margin: -42.5px 0 0 -42.5px;z-index: 9999;text-align: center;"><img src="assets/img/Loading.gif" width="50px" height="50px" title="Switching" alt="Switching" style="margin-top:15px;"><span class="font-light" style="position: relative;top: -8px;color: #7d7d7d;font-size: 12px;">Loading...</span></div><div v-bind:style="{opacity:opacity}"><div id="box-canvasbg" v-bind:style="usedStyle" style="position: relative;"><bg-layer v-bind:width="privateStore.operationWidth" v-bind:height="privateStore.operationHeight"></bg-layer><div v-show="isEditTextFormShow && !sharedStore.isPreview && false" class="textForm" title="Double click here to edit details."  v-bind:style="{top: textFormStyle.top + \'px\',left: textFormStyle.left+\'px\',zIndex:windowZindex}" style="cursor:pointer;position:absolute;height:26px;line-height:26px;width:261px;background-color:#fff;font-size:12px;color:#3a3a3a;box-shadow: 0 3px 6px rgba(0,0,0,.16)" data-html2canvas-ignore="true"><div class="edit-text start-gif"><img src="assets/img/Start-gif.gif" style="width:30px;height:16px;"/></div><div class="remind-text" style="padding-left:6px;float:left;line-height:26px;position:relative;"><span>Double click here to edit details.</span></div></div><div v-show="isEditFamilyNameShow && !sharedStore.isPreview" class="familyName" title="Double click here to type your family name" v-bind:style="{top: familyNameStyle.top + \'px\',left: familyNameStyle.left+\'px\',zIndex:windowZindex}" style="position:absolute;height:26px;line-height:26px;width:350px;background-color:#fff;cursor:auto;font-size:12px;color:#3a3a3a;box-shadow: 0 3px 6px rgba(0,0,0,.16)" data-html2canvas-ignore="true"><div class="edit-text start-gif"><img src="assets/img/Start-gif.gif" style="width:30px;height:16px;"/></div><div class="remind-text" style="padding-left:6px;float:left;line-height:26px;position:relative;"><span>Double click here to type your family name</span><img v-on:click="handleCloseFamilyNameRemind()" style="width:8px;height:26px;margin-left:8px;position:absolute;cursor:pointer;" src="assets/img/close.svg" /></div></div><div class="bed-operation" id="container"  v-bind:style="{ top: privateStore.canvasTop + \'px\', left: privateStore.canvasLeft + \'px\' }" style="position: absolute; overflow: hidden;background: #fff;"><bar-panel v-show="!sharedStore.isPreview && isShowHandle"></bar-panel><handle v-if="!sharedStore.isPreview" v-bind:id="privateStore.handleId" v-bind:is-Show-Handles="privateStore.isShowHandle" v-bind:is-Corner-Handles="privateStore.isCornerHandles" v-bind:is-Side-Handles="privateStore.isSideHandles" /></div><screenshot></screenshot></div></div></div>',data:function(){return{privateStore:{operationWidth:0,operationHeight:0,operationPaddingTop:0,operationPaddingLeft:0,previewWidth:0,previewHeight:0,canvasTop:0,canvasLeft:0,handleId:"bg",isShowHandle:!0,isCornerHandles:!1,isSideHandles:!1},sharedStore:t}},computed:{operationMarginTop:function(){return this.privateStore.operationPaddingTop},operationMarginLeft:function(){return this.privateStore.operationPaddingLeft},opacity:function(){return this.sharedStore.isSwitchLoadingShow?"0":"1"},windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0,a=100*(i+10)-1;return a},isEditTextFormShow:function(){if(t.isPortal)return!1;var e=!1,i=t.pages[t.selectedPageIdx].canvas;return i.params.forEach(function(t){t.tagName&&t.tagType&&!t.isEdit&&!t.isDisableRemind&&(e=!0)}),e},textFormStyle:function(){for(var e=t.pages[t.selectedPageIdx].canvas,i=0,a=0;a<e.params.length;a++)if(e.params[a].tagName&&e.params[a].tagType&&!e.params[a].isDisableRemind&&!e.params[a].isEdit){i=a;break}currenElement=e.params[i];var r=(e.oriY+currenElement.y+currenElement.height/2)*e.ratio-13,n=(e.oriX+currenElement.x+currenElement.width)*e.ratio+10;return r=r>e.height?e.height:r,n=n>e.width?e.width+40:n,{top:r,left:n}},familyNameStyle:function(){for(var e=t.pages[t.selectedPageIdx].canvas,i=0,r=0;r<e.params.length;r++)if("true"==e.params[r].isFamilyName){i=r;break}currenElement=e.params[i];var n=(e.oriY+currenElement.y+currenElement.height/2)*e.ratio-13,o=(e.oriX+currenElement.x+currenElement.width)*e.ratio+10;n=n>e.height?e.height:n,o=o>e.width?e.width+40:o;var s=400+o+330;return s>document.body.clientWidth||s>document.documentElement.clientWidth?(a(".familyName").css("width","").css("height","").css("line-height",""),a(".remind-text").css("float","none")):(a(".familyName").css("width","350px").css("height","26px").css("line-height","26px"),a(".remind-text").css("float","left")),{top:n,left:o}},isEditFamilyNameShow:function(){if(t.isPortal)return!1;var e=t.pages[t.selectedPageIdx].canvas.params,i=e.some(function(e){return"true"===e.isFamilyName});return i},isShowHandle:function(){t.pages[t.selectedPageIdx].canvas;return!t.isLostFocus},usedStyle:function(){return this.sharedStore.isPreview?{width:Math.floor(this.privateStore.previewWidth)+"px",height:Math.floor(this.privateStore.previewHeight)+"px",margin:Math.floor(this.operationMarginTop)+"px "+Math.floor(this.operationMarginLeft)+"px",overflow:"hidden",marginRight:"0px"}:{width:Math.floor(this.privateStore.operationWidth)+"px",height:Math.floor(this.privateStore.operationHeight)+"px",margin:Math.floor(this.operationMarginTop)+"px "+Math.floor(this.operationMarginLeft)+"px",marginRight:"0px"}},isInnerPage:function(){return 2===t.selectedPageIdx}},methods:{initCanvas:function(){var e=this,i=e.sharedStore,r=i.pages[i.selectedPageIdx].canvas;t.pages.length>1&&(t.isChangePageShow=!0,t.isSwitchLoadingShow=!0),e.initWindow(),a(".bed-operation").css("width",r.width).css("height",r.height);for(var n=0;n<r.params.length;n++)l.createElement(n);r.selectedIdx=d.getFrontElementIndex(),o.freshImageUsedCount(),s.freshDecorationUsedCount()},getFamilyNameRemind:function(){for(var e=t.pages[t.selectedPageIdx].canvas,i=e.params,a=0;a<i.length;a++)if("text"===i[a].elType&&"true"===i[a].isFamilyName.toString()){this.sharedStore.isEditFamilyNameShow=!0;break}},clearCanvas:function(){for(var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length-1;i>=0;i--)l.deleteElement(i)},initWindow:function(){var e,i=this,r=i.sharedStore,o=r.pages[r.selectedPageIdx].canvas;if(r.isPreview)e=n.getPreviewBoxLimit(!0);else if(r.cutLargePhoto)e={height:1980,width:2e3};else{var s=i.isInnerPage||i.sharedStore.isPortal?100:0;t.isBlankCard&&(s=0),e=n.getCardBoxLimit(280,s)}if(e.height+=20,i.sharedStore.isPortal&&(e.height+=200),e.width>0&&e.height>0){if(o.expendSize.top)var d=o.oriBgWidth+o.expendSize.left+o.expendSize.right,l=o.oriBgHeight+o.expendSize.top+o.expendSize.bottom,c=o.expendSize.left,h=o.expendSize.top;else var d=o.oriBgWidth,l=o.oriBgHeight,c=0,h=0;var p=e.width/d,u=e.height/l;p>u?(o.ratio=u,o.width=o.oriWidth*o.ratio,o.height=o.oriHeight*o.ratio,o.x=o.oriX*o.ratio,o.y=o.oriY*o.ratio,o.bgWidth=o.oriBgWidth*o.ratio,o.bgHeight=o.oriBgHeight*o.ratio,i.privateStore.operationPaddingLeft=(e.width-o.width)/2-o.x):(o.ratio=p,o.width=o.oriWidth*o.ratio,o.height=o.oriHeight*o.ratio,o.x=o.oriX*o.ratio,o.y=o.oriY*o.ratio,o.bgWidth=o.oriBgWidth*o.ratio,o.bgHeight=o.oriBgHeight*o.ratio,i.privateStore.operationPaddingLeft=0+c*o.ratio),i.privateStore.operationPaddingTop=0+h*o.ratio,i.privateStore.operationWidth=o.bgWidth,i.privateStore.operationHeight=o.bgHeight,r.isPreview?(i.privateStore.previewWidth=o.bgWidth,i.privateStore.previewHeight=o.bgHeight,i.privateStore.canvasTop=o.y,i.privateStore.canvasLeft=o.x):(i.privateStore.canvasTop=o.y,i.privateStore.canvasLeft=o.x),a("#tmpl").css("width",window.innerWidth-341-20)}else r.isPreview||alert("Window size is too small!")},changePage:function(e){e=parseInt(e)||0,(e!==this.sharedStore.selectedPageIdx||t.isPortal)&&(this.clearCanvas(),this.sharedStore.selectedPageIdx=e,this.initCanvas(),this.$broadcast("notifyRefreshBackground"))},handleOndrop:function(e){var t=this,a=t.sharedStore,n=a.pages[a.selectedPageIdx].canvas;if(e){var s,d=e.newAdded,c=e.isBg,h=a.dragData.imageId,p=a.dragData.sourceImageUrl;s=d?n.params.length-1:c?0:e.idx;var u=o.getImageDetail(h);n.params[s].imageId=h,n.params[s].imageRotate=u?u.orientation:0;var m=Math.abs(n.params[s].imageRotate)/90%2===1;if(u&&(n.params[s].imageGuid=u.guid,n.params[s].imageWidth=u.width,n.params[s].imageHeight=u.height),m)var g=n.params[s].imageHeight,f=n.params[s].imageWidth;else var g=n.params[s].imageWidth,f=n.params[s].imageHeight;var v=r.getDefaultCrop(g,f,n.params[s].width*n.ratio,n.params[s].height*n.ratio),_=v.px,y=v.py,S=v.pw,w=v.ph,x=n.params[s].width*n.ratio/S,M=n.params[s].height*n.ratio/w;n.params[s].cropX=u.width*_,n.params[s].cropY=u.height*y,n.params[s].cropW=u.width*S,n.params[s].cropH=u.height*w,n.params[s].cropPX=_,n.params[s].cropPY=y,n.params[s].cropPW=S,n.params[s].cropPH=w;var L=i(10),b=L.getEncImgId(h),T=L.getQueryString({encImgId:b,px:_,py:y,pw:S,ph:w,width:Math.round(x),height:Math.round(M)});n.params[s].url="/imgservice/op/crop?"+T+i(15).getSecurityString(),n.params[s].isRefresh=!0,n.params[s].sourceImageUrl=p,o.freshImageUsedCount(),t.freshImageList(),d&&l.autoLayout(),i(5)({ev:i(6).DragPhotoToPage})}},handleDecorationOndrop:function(e){var i=this,a=i.sharedStore,r=a.pages[a.selectedPageIdx].canvas;if(e){var n,o=e.newAdded,d=e.isBg,l=a.dragData.imageId,c=a.dragData.sourceImageUrl,h=a.dragData.guid;n=o?r.params.length-1:d?0:e.idx;var p=s.getDecorationDetail(l);r.params[n].imageWidth=p.width,r.params[n].imageHeight=p.height,r.params[n].url=t.domains.baseUrl+"/artwork/png/1000/"+h+".png",r.params[n].isDecRefresh=!0,r.params[n].sourceImageUrl=c,s.freshDecorationUsedCount(),i.freshDecorationList()}},handleCloseFamilyNameRemind:function(){for(var e=t.pages[t.selectedPageIdx].canvas,i=e.params,a=0,r=i.length;a<r;a++)if("true"===i[a].isFamilyName.toString()){i[a].isFamilyName="false";break}},handleCloseTextFormRemind:function(){for(var e=t.pages[t.selectedPageIdx].canvas,i=e.params,a=0,r=i.length;a<r;a++)i[a].tagName&&i[a].tagType&&!i[a].isDisableRemind&&(i[a].isDisableRemind=!0)},handleDbClickTextFormRemind:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params,a=!1;if(!t.isPortal)for(var r=0,n=i.length;r<n;r++)i[r].tagName&&i[r].tagType&&(i[r].isEdit||a||(this.$dispatch("dispatchHighLightTextForm",r),this.$dispatch("dispatchCleanTextFormPlaceholders"),a=!0),i[r].isDisableRemind||this.handleCloseTextFormRemind())},freshImageList:function(){this.$dispatch("dispatchImageList")},freshTextFormList:function(){this.$dispatch("dispatchTextFormList")},freshDecorationList:function(){this.$dispatch("dispatchDecorationList")},addImage:function(e){if(e&&void 0!=e.id&&null!=e.id){e.x=e.x||0,e.y=e.y||0;var i=t.pages[t.selectedPageIdx].canvas,a=l.getDefaultNewElementPosition({x:e.x,y:e.y});if(i.params.length)var r=parseInt(i.params[i.params.length-1].id)+1;else var r=0;var n={id:r,elType:"image",url:"",isRefresh:!1,x:a.x,y:a.y,width:a.width,height:a.height,rotate:0,dep:i.params.length,imageId:"",cropPX:0,cropPY:0,cropPW:1,cropPH:1};c.createImage(n);var o={newAdded:!0,isBg:!1};t.dropData.newAdded=o.newAdded,t.dropData.isBg=o.isBg,t.watches.isOnDrop=!0}},addDecoration:function(e){if(e&&void 0!=e.id&&null!=e.id){e.x=e.x||0,e.y=e.y||0;var i=t.pages[t.selectedPageIdx].canvas,a=l.getDefaultNewDecElementPosition({x:e.x,y:e.y});if(i.params.length)var r=parseInt(i.params[i.params.length-1].id)+1;else var r=0;var n={id:r,elType:"decoration",url:"",isDecRefresh:!1,x:a.x,y:a.y,width:a.width,height:a.height,rotate:0,dep:i.params.length,imageId:"",guid:t.dragData.decorationid,decorationid:t.dragData.decorationid,decorationtype:t.dragData.type};h.createDecoration(n);var o={newAdded:!0,isBg:!1};t.dropData.newAdded=o.newAdded,t.dropData.isBg=o.isBg,t.watches.isDecorationOnDrop=!0}},removeImage:function(e){var t=this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas.params.filter(function(e){return"image"===e.elType});c.deleteImage(e,!0),this.sharedStore.autoLayout&&t.length>1,o.freshImageUsedCount(),this.freshImageList(),t=null},removeDecoration:function(e){var t=this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas.params.filter(function(e){return"decoration"===e.elType});h.deleteDecoration(e,t.length<2),s.freshDecorationUsedCount(),this.freshDecorationList(),t=null},removeText:function(e){p.deleteText(e)},refreshCanvas:function(){this.$broadcast("notifyRefreshBackground"),this.clearCanvas(),this.freshImageList(),this.freshTextFormList(),this.initCanvas()}},events:{notifyCleanTextFormRemind:function(){this.handleCloseTextFormRemind()},notifyChangePage:function(e){this.changePage(e)},notifyRotate:function(){l.fixRotatePhotoElement(),l.freshPageData(),this.refreshCanvas()},notifyRepaintProject:function(){l.freshPageData(),this.$broadcast("notifyRefreshBackground"),this.refreshCanvas()},notifyPaint:function(){l.loadProjectIntoPages(),this.freshImageList(),this.initCanvas()},notifyGetFamilyNameRemind:function(){},notifyRepaint:function(e){void 0!=e&&null!=e&&(t.isPreview||l.syncProjectData(e)),this.clearCanvas(),l.loadProjectIntoPages(),this.freshImageList(),this.initCanvas()},notifyRefreshCanvas:function(){this.refreshCanvas()},notifyRemoveImage:function(e){this.removeImage(e)},notifyAddImage:function(e){this.addImage(e)},notifyAddDecoration:function(e){this.addDecoration(e)},notifyDbClickTextFormRemind:function(){this.handleDbClickTextFormRemind()},dispatchDepthFront:function(e){if(void 0!=e&&null!=e){var i=t.pages[t.selectedPageIdx].canvas;l.changeDepthValue({idx:e,targetDepth:i.params.length-1})}},dispatchRepaintText:function(){this.initCanvas()},dispatchDrop:function(e){this.addImage(e)},dispatchDecorationDrop:function(e){this.addDecoration(e)},notifyApplyTemplate:function(e){this.clearCanvas();var i=t.pages[t.selectedPageIdx].canvas;i.params=l.getTemplateParams(e),this.initCanvas(),t.vm.$broadcast("notifyRefreshTextFormList")}},ready:function(){var e=this;e.$watch("sharedStore.watches.isChangeDepthFront",function(){if(e.sharedStore.watches.isChangeDepthFront){e.sharedStore.watches.isChangeDepthFront=!1;var i=e.sharedStore.watchData.changeDepthIdx;if(e.sharedStore.watchData.changeDepthIdx="",null!=i&&""!==i){var a=t.pages[t.selectedPageIdx].canvas;l.changeDepthValue({idx:i,targetDepth:a.params.length-1})}}}),e.$watch("sharedStore.watches.isOnDrop",function(){e.sharedStore.watches.isOnDrop&&(e.sharedStore.watches.isOnDrop=!1,e.handleOndrop(e.sharedStore.dropData))}),e.$watch("sharedStore.watches.isDecorationOnDrop",function(){e.sharedStore.watches.isDecorationOnDrop&&(e.sharedStore.watches.isDecorationOnDrop=!1,e.handleDecorationOndrop(e.sharedStore.dropData))}),e.$watch("sharedStore.watches.isRemoveElement",function(){if(e.sharedStore.watches.isRemoveElement){e.sharedStore.watches.isRemoveElement=!1;var i=e.sharedStore.watchData.removeElementIdx,a=e.sharedStore.watchData.removeElementType;e.sharedStore.watchData.removeElementIdx="",e.sharedStore.watchData.removeElementType="";var r=t.pages[t.selectedPageIdx].canvas,n=r.params[i];null!=i&&""!==i&&("image"===a&&n.imageId?e.removeImage(i):"decoration"===a?e.removeDecoration(i):e.removeText(i))}})}}}).call(t,i(3),i(7))},function(e,t,i){(function(t,a){var r=i(20),n=r.extend(i(166)),o=(i(16),r.extend(i(167))),s=r.extend(i(172)),d=r.extend(i(201));e.exports={template:'<div v-on:click="blurFocus($event)" class="dashboard" v-bind:style="usedStyle" ><!-- action panel component --><action-panel v-if="!sharedStore.isPreview"></action-panel><!-- operation area --><operation-area></operation-area><div class="bed-actionpanel-bottom"><div style="height: 80px;text-align: center;"><div class="action-item" v-show="shouldChangePageShow" v-bind:style="{ marginTop:marginTop }" style="background:#f6f6f6;border:1px solid #d6d6d6; width: 360px;height: 22px;line-height: 22px;border-radius: 4px;overflow:hidden;"><div style="width:20px;margin-left:10px;margin-top:6px;float:left;font-size: 0px;"><img v-show="sharedStore.selectedPageIdx" v-on:click="broadcastChangePage(0)" src="./assets/img/icon/1-normal.svg" height="10"  onmouseover="this.src = \'./assets/img/icon/1-hover.svg\'" onmouseout="this.src = \'./assets/img/icon/1-normal.svg\'" alt="Front Cover" title="Front Cover" style="cursor: pointer;" /><img v-show="!sharedStore.selectedPageIdx" src="./assets/img/icon/1-disable.svg" height="10" /></div><div style="width:20px;margin-left:30px;margin-top:6px;float: left;font-size: 0px;"><img v-show="sharedStore.selectedPageIdx" v-on:click="broadcastChangePage(\'forward\')" src="./assets/img/icon/2-normal.svg" height="10"  onmouseover="this.src = \'./assets/img/icon/2-hover.svg\'" onmouseout="this.src = \'./assets/img/icon/2-normal.svg\'" alt="Previous Page" title="Previous Page" style="cursor: pointer;" /><img v-show="!sharedStore.selectedPageIdx" src="./assets/img/icon/2-disable.svg" height="10" /></div><span class="font-book" style="font-size:12px;color:#7b7b7b;">{{ currentPage }}</span><div style="width:20px;margin-right:10px;margin-top:6px;float: right;font-size: 0;"><img v-show="nextPageActive" v-on:click="broadcastChangePage(1)" src="./assets/img/icon/4-normal.svg" height="10"  onmouseover="this.src = \'./assets/img/icon/4-hover.svg\'" onmouseout="this.src = \'./assets/img/icon/4-normal.svg\'" alt="Back Cover" title="Back Cover" style="cursor: pointer;" /><img v-show="!nextPageActive" src="./assets/img/icon/4-disable.svg" height="10" /></div><div style="width:20px;margin-right:30px;margin-top:6px;float: right;font-size: 0;"><img v-show="nextPageActive" v-on:click="broadcastChangePage(\'back\')" src="./assets/img/icon/3-normal.svg" height="10"  onmouseover="this.src = \'./assets/img/icon/3-hover.svg\'" onmouseout="this.src = \'./assets/img/icon/3-normal.svg\'" alt="Next Page" title="Next Page" style="cursor: pointer;" /><img v-show="!nextPageActive" src="./assets/img/icon/3-disable.svg" height="10" /></div></div></div></div><layout-list v-if="sharedStore.projectSettings[this.sharedStore.selectedIdx].product === \'FD\' ||  sharedStore.isPortal"></layout-list></div>',data:function(){return{privateStore:{},sharedStore:t}},computed:{usedStyle:function(){return this.sharedStore.isPreview?{}:{"float":"left",marginLeft:"280px",position:"relative",zIndex:"0",marginTop:"38px",height:"calc(100vh - 76px)",width:"calc(100vw - 280px)"}},shouldChangePageShow:function(){return!!this.sharedStore.isChangePageShow},marginTop:function(){return this.sharedStore.isPreview?"0":"20px"},nextPageActive:function(){return 1!=this.sharedStore.selectedPageIdx},currentPage:function(){switch(this.sharedStore.selectedPageIdx){case 0:return"Front Cover";case 2:return"Inside Page";case 1:return"Back Cover"}}},components:{"action-panel":n,"action-panel-bottom":o,"operation-area":s,"tmpl-element":d},methods:{handleAddText:function(){i(5)({ev:i(6).AddText}),this.$dispatch("dispatchShowAddText")},blurFocus:function(e){this.$dispatch("dispatchClearScreen"),this.sharedStore.isShowHandlePoint=!1,this.sharedStore.isTotalPriceShow=!1},broadcastChangePage:function(e){var a=null,r=null;switch(e){case 0:r="ClickFrontCover",a=0;break;case"forward":switch(r="ClickPreviousPage",this.sharedStore.selectedPageIdx){case 0:a=0;break;case 1:a=2==this.sharedStore.pages.length?0:2;break;case 2:a=0}break;case"back":switch(r="ClickNextPage",this.sharedStore.selectedPageIdx){case 0:a=this.sharedStore.pages.length-1;break;case 1:a=1;break;case 2:a=1}break;case 1:r="ClickBackCover",a=1}i(5)({ev:i(6)[r]}),t.vm.$broadcast("notifyChangePage",a),t.vm.$broadcast("notifyRefreshTextFormList")},handleMoveElement:function(e){if(!(e<37||e>40)){var i=moveY=0;switch(e){case 37:i=-1;break;case 38:moveY=-1;break;case 39:i=1;break;case 40:moveY=1}var a=t.pages[t.selectedPageIdx].canvas;currentElement=a.params[a.selectedIdx],currentElement.x+=i/a.ratio,currentElement.y+=moveY/a.ratio,t.isLostFocus=!0,t.vm.$broadcast("notifyRefreshScreenshot")}}},ready:function(){var e=this;a(document).keydown(function(e){t.isPortal&&40===e.keyCode&&e.preventDefault()}),document.addEventListener("keydown",function(i){t.isPortal&&e.handleMoveElement(i.keyCode)})}}}).call(t,i(3),i(7))},function(e,t,i){(function(t){var a=i(11);e.exports={mixins:[i(28)],template:'<div style="position:absolute;box-sizing:border-box;" v-bind:style="usedStyle"><img v-bind:src="decSrc" style="position:absolute;left:0;top:0;opacity:0.2;" v-bind:style="{width: elementData.width*ratio + \'px\',height:elementData.height*ratio + \'px\'}" v-show="backImgShow"/><canvas id="decorationElementCanvas{{id}}" style="position:absolute;top:0;left:0;" width="{{elementData.width*ratio}}" height="{{elementData.height*ratio}}"></canvas><handle v-if="!sharedStore.isPreview && sharedStore.isPortal" v-bind:id="id" v-bind:is-Show-Handles="isShowHandle" v-bind:is-Corner-Handles="isCornerHandles" v-bind:is-Side-Handles="isSideHandles"></handle></div>',data:function(){return{sharedStore:t,elementData:Object,ratio:0,id:0,limitHeight:[],limitSize:[],isCornerHandles:!0,isSideHandles:!1,imageData:null,decSrc:"",backImgShow:!1}},computed:{isShowHandle:function(){var e=t.pages[t.selectedPageIdx].canvas;return!(e.selectedIdx!==i(8).getIndexById(this.id)||!t.isShowHandlePoint)},bgColor:function(){return this.elementData.imageId||t.isPreview?"rgba(255,255,255,0)":"#f5f5f5"},usedStyle:function(){if(this.sharedStore.isPreview);else;var e=this.id===this.sharedStore.lockedElementId&&this.pageIdx===this.sharedStore.lockedPageIdx?"none":null;return{left:this.elementData.x*this.ratio+"px",top:this.elementData.y*this.ratio+"px",width:this.elementData.width*this.ratio+"px",height:this.elementData.height*this.ratio+"px",zIndex:101*(this.elementData.dep+1),transform:"rotate("+(this.elementData.rotate||0)+"deg)",pointerEvents:this.sharedStore.isPortal?e:"none"}}},methods:{init:function(e){var i=t.pages[t.selectedPageIdx].canvas;this.elementData=i.params[e],this.id=this.elementData.id,this.pageIdx=t.selectedPageIdx,this.ratio=i.ratio},refreshDecoration:function(e){var a=this;i(17).clear("decorationElementCanvas"+this.id),i(17).drawImage("decorationElementCanvas"+this.id,e,0,0,function(){a.sharedStore.isShowProgress=!1,t.vm.$broadcast("notifyRefreshScreenshot")},this.elementData.width*this.ratio,this.elementData.height*this.ratio),this.decSrc=e},cacuBarPosition:function(e){var a=t.pages[t.selectedPageIdx].canvas,r=i(8).getIndexById(e.id),n=a.params[r];this.sharedStore.barPosition.x=n.x*a.ratio+e.x,this.sharedStore.barPosition.y=n.y*a.ratio+e.y},setCrop:function(){},setIndex:function(e){var a=t.pages[t.selectedPageIdx].canvas;a.selectedIdx=i(8).getIndexById(this.id)},setDecLimitSize:function(){var e=a.getTextViewFontSize(a.getPxByPt(30));a.getTextViewFontSize(a.getPxByPt(500));this.limitSize.push(e)}},events:{dispatchScale:function(e){var t=this.elementData.width+e.width/this.ratio,i=this.elementData.height+e.height/this.ratio,a=t/i;i<=this.limitSize[0]?(this.elementData.width=this.limitSize[0]*a,this.elementData.height=this.limitSize[0]):(this.elementData.width=t,this.elementData.height=i)},dispatchScaleStart:function(){this.setIndex(),i(17).clear("decorationElementCanvas"+this.id),this.backImgShow=!0},dispatchScaleEnd:function(e){this.backImgShow=!1;var t=this.elementData.width+e.width/this.ratio,a=this.elementData.height+e.height/this.ratio,r=t/a;a<=this.limitSize[0]?(this.elementData.width=this.limitSize[0]*r,this.elementData.height=this.limitSize[0]):(this.elementData.width=t,this.elementData.height=a),this.refreshDecoration(i(8).getCropDecorationUrl(i(8).getIndexById(this.id)))},dispatchDragEnd:function(e){var a=e.event;if(e&&(Math.abs(e.distanceX)>1||Math.abs(e.distanceY)>1))1===a.which&&(this.sharedStore.projectSettings[this.sharedStore.currentSelectProjectIndex].tplGuid="",this.sharedStore.isLostFocus=!0);else if(1===a.which&&(this.isShowUploadButton?(this.sharedStore.isSingleUploadButton=!0,t.vm.$broadcast("notifyTriggerImageUpload"),this.sharedStore.isSingleUploadButton=!1,i(5)({ev:i(6).ClickCloudUploadImage})):this.sharedStore.isShowHandlePoint=!0),3===a.which){this.setIndex(e),this.cacuBarPosition(e),this.sharedStore.isEditLayerShow=!1;var r=this;setTimeout(function(){r.sharedStore.isLostFocus=!1})}},dispatchMove:function(e){this.setIndex(),this.elementData.x+=e.x/this.ratio,this.elementData.y+=e.y/this.ratio,t.isLostFocus=!0,t.vm.$broadcast("notifyRefreshScreenshot")},dispatchDecorationDrop:function(e){t.dropData.idx=i(8).getIndexById(this.id),t.vm.$broadcast("notifyAddDecoration",{id:e.id,x:e.x+this.elementData.x*this.ratio,y:e.y+this.elementData.y*this.ratio})}},ready:function(){this.setDecLimitSize();var e=this;this.elementData.decorationid?this.refreshDecoration(i(8).getCropDecorationUrl(i(8).getIndexById(this.id))):setTimeout(function(){},300),this.$watch("elementData.isDecRefresh",function(){e.elementData.isDecRefresh&&(e.elementData.isDecRefresh=!1,e.refreshDecoration(i(8).getCropDecorationUrl(i(8).getIndexById(e.id))))})}}}).call(t,i(3))},function(e,t,i){(function(t,a){i(14);e.exports={template:'<div style="width:280px;overflow-x:hidden;overflow-y:auto;background-color:rgb(246,246,247)" v-bind:style="{ height: privateStore.minHeight + \'px\' }"><div id="list-decoration" style="clear:left;margin-top:20px;"><div v-for="item in numDecorationList" class="decoration-item-image"><div class="decoration-wrap-image"><div class="decoration-loaded-image"><img class="decoration-preview-image" id="pre-image-{{ $index }}" v-bind:style={} :src="item.url" :imageid="item.id" :type="item.type" :alt="item.name" :decorationid="item.decorationid" :guid="item.guid" draggable="true" /><div><span class="decoration-box-preview-image" count-content="{{ item.count }}" v-bind:style="{opacity: item.count > 0? 1: 0 }" ></span></div></div></div></div></div></div>',
data:function(){return{privateStore:{minHeight:500,isHideUsed:!1,decorationListParams:{selector:"#list-decoration"}},sharedStore:t,numDecorationList:[],decorationTemList:[]}},computed:{numDecorationList:function(){var e=[];for(var t in this.sharedStore.allDecorationList){var i=new Object;i.id=this.sharedStore.allDecorationList[t].id,i.imageId=this.sharedStore.allDecorationList[t].id,i.guid=this.sharedStore.allDecorationList[t].guid,i.decorationid=this.sharedStore.allDecorationList[t].guid,i.name=this.sharedStore.allDecorationList[t].name,i.type=this.sharedStore.allDecorationList[t].type,i.productType=this.sharedStore.allDecorationList[t].productType,i.holiday=this.sharedStore.allDecorationList[t].holiday,i.displayRatio=this.sharedStore.allDecorationList[t].displayRatio,i.width=this.sharedStore.allDecorationList[t].width,i.height=this.sharedStore.allDecorationList[t].height,i.url=this.sharedStore.allDecorationList[t].url,i.count=this.sharedStore.allDecorationList[t].count,e.push(i)}return this.bindDecorationDragEvent(),e}},methods:{bindDecorationDragEvent:function(){var e=this;e.$nextTick(function(){for(var t=0;t<a(".decoration-item-image").length;t++)a(".decoration-item-image")[t].ondragstart=function(t){e.$dispatch("dispatchShowSpineLines"),e.sharedStore.elementDragged=t.target,e.sharedStore.dragData.imageId=a(t.target).attr("imageid"),e.sharedStore.dragData.guid=a(t.target).attr("guid"),e.sharedStore.dragData.decorationid=a(t.target).attr("decorationid"),e.sharedStore.dragData.sourceImageUrl=a(t.target).attr("src"),e.sharedStore.dragData.type=a(t.target).attr("type"),e.sharedStore.dragData.cursorX=t.offsetX||0,e.sharedStore.dragData.cursorY=t.offsetY||0,e.sharedStore.dragData.isFromList=!0,e.sharedStore.operateMode="drag"},a(".decoration-item-image")[t].ondragend=function(t){e.sharedStore.dragData.isFromList=!1,e.sharedStore.operateMode="idle",e.$dispatch("dispatchHideSpineLines")}})}},events:{notifyDecorationList:function(){var e=i(16);e.initImageListSize(this.privateStore.decorationListParams)}},created:function(){},ready:function(){this.privateStore.minHeight=i(16).getOptionHeight()}}}).call(t,i(3),i(7))},function(e,t,i){(function(t){var a=i(8);e.exports={template:'<div class="box-handle" id="handles-{{ id }}" v-bind:style="{ opacity: isShowHandles || isPortal? 1: 0}" data-html2canvas-ignore="true"><!-- center layer --><div class="handle-center-layer"  v-bind:style="{  borderColor:isShowHandles ? \'#00d3ff\' : \'#3b9aca\'}" draggable="true"></div><div v-show="isShowHandles"><!-- top left corner handle --><div class="handle-icon" id="" style="top: -4px; left: -4px;" v-if="isCornerHandles"></div><div class="handle handle-corner handle-top-left" id="" draggable="true" style="top: -4px; left: -4px;" v-if="isCornerHandles"></div><!-- top side handle --><div class="handle-icon" id="" style="top: -4px;" :style="halfLeftStyle" v-if="isSideHandles"></div><div class="handle handle-side handle-top-side" id="" draggable="true" style="top: -4px;" :style="halfLeftStyle" v-if="isSideHandles"></div><!-- top right corner handle --><div class="handle-icon" id="" style="top: -4px; right: -4px;" v-if="isCornerHandles"></div><div class="handle handle-corner handle-top-right" id="" draggable="true" style="top: -4px; right: -4px;" v-if="isCornerHandles"></div><!-- right side handle --><div class="handle-icon" id="" style="right: -4px;" :style="halfTopStyle" v-if="isSideHandles"></div><div class="handle handle-side handle-right-side" id="" draggable="true" style="right: -4px;" :style="halfTopStyle" v-if="isSideHandles"></div><!-- bottom right corner handle --><div class="handle-icon" id="" style="bottom: -4px; right: -4px;" v-if="isCornerHandles"></div><div class="handle handle-corner handle-bottom-right" id="" draggable="true" style="bottom: -4px; right: -4px;" v-if="isCornerHandles"></div><!-- bottom side handle --><div class="handle-icon" id="" style="bottom: -4px;" :style="halfLeftStyle" v-if="isSideHandles"></div><div class="handle handle-side handle-bottom-side" id="" draggable="true" style="bottom: -4px;" :style="halfLeftStyle" v-if="isSideHandles"></div><!-- bottom left corner handle --><div class="handle-icon" id="" style="bottom: -4px; left: -4px;" v-if="isCornerHandles"></div><div class="handle handle-corner handle-bottom-left" id="" draggable="true" style="bottom: -4px; left: -4px;" v-if="isCornerHandles"></div><!-- left side handle --><div class="handle-icon" id="" style="left: -4px;" :style="halfTopStyle" v-if="isSideHandles"></div><div class="handle handle-side handle-left-side" id="" draggable="true" style="left: -4px;" :style="halfTopStyle" v-if="isSideHandles"></div></div></div>',props:["id","isCornerHandles","isSideHandles","isShowHandles","isPortal"],data:function(){return{}},computed:{halfLeftStyle:function(){return{left:this.halfLeft}},halfTopStyle:function(){return{top:this.halfTop}},halfLeft:function(){var e=t.pages[t.selectedPageIdx].canvas,i=a.getIndexById(this.id);return e.params[i].width/2*e.ratio-4+"px"},halfTop:function(){var e=t.pages[t.selectedPageIdx].canvas,i=a.getIndexById(this.id);return e.params[i].height/2*e.ratio-4+"px"}},methods:{bindHandleEvents:function(e){this.bindLayerEvents(e),this.isCornerHandles&&this.bindCornerEvents(e),this.isSideHandles&&this.bindSideEvents(e)},bindLayerEvents:function(e){var i=this;if(null!=e){var a,r,n,o,s,d,l=document.getElementById("handles-"+e),c=l.querySelector(".handle-center-layer"),h=!1;"bg"===e?(c.setAttribute("draggable",!1),c.ondrop=function(e){e.preventDefault(),!h&&t.dragData.isFromList&&(t.isImageDrag?(t.isPortal&&i.$dispatch("dispatchDrop",{id:i.id,x:e.offsetX||e.layerX||0,y:e.offsetY||e.layerY||0}),t.isImageDrag=!1):i.$dispatch("dispatchDecorationDrop",{id:i.id,x:e.offsetX||e.layerX||0,y:e.offsetY||e.layerY||0}))},c.ondragover=function(e){e.preventDefault()},c.onclick=function(e){},c.ondblclick=function(e){},c.onmouseover=function(e){},c.onmouseout=function(e){}):(c.onmousedown=function(e){e.preventDefault(),h=!0,startX=a=e.screenX||0,startY=r=e.screenY||0,t.operateMode="drag",i.$dispatch("dispatchDragStart"),s=function(e){e.preventDefault(),n=e.screenX||0,o=e.screenY||0;var s=n-a,d=o-r;0===n&&0===o?s=d=0:(a=n,r=o),t.operateMode="drag",i.$dispatch("dispatchMove",{x:s,y:d,type:"move"})},d=function(e){e.preventDefault(),document.removeEventListener("mouseup",d),document.removeEventListener("mousemove",s),h=!1,n=e.screenX||0,o=e.screenY||0;var l=n-a,c=o-r;0===n&&0===o?l=c=0:(a=n,r=o),(Math.abs(l)>8||Math.abs(c)>8)&&(l=0,c=0),distanceX=n-startX,distanceY=o-startY,i.$dispatch("dispatchMove",{x:l,y:c}),i.$dispatch("dispatchDragEnd",{id:i.id,x:e.offsetX||e.layerX||0,y:e.offsetY||e.layerY||0,distanceX:distanceX,distanceY:distanceY,event:e||event}),t.operateMode="idle"},document.addEventListener("mouseup",d),document.addEventListener("mousemove",s)},c.ondrop=function(e){e.preventDefault(),!h&&t.dragData.isFromList&&(t.isImageDrag?(i.$dispatch("dispatchDrop",{id:i.id,x:e.offsetX||e.layerX||0,y:e.offsetY||e.layerY||0}),t.isImageDrag=!1):i.$dispatch("dispatchDecorationDrop",{id:i.id,x:e.offsetX||e.layerX||0,y:e.offsetY||e.layerY||0}))},c.ondragover=function(e){e.preventDefault(),h||i.$dispatch("dispatchDragOver")},c.onclick=function(e){e.stopPropagation(),i.$dispatch("dispatchClick",{id:i.id,x:e.offsetX||e.layerX||0,y:e.offsetY||e.layerY||0})},c.ondblclick=function(e){i.$dispatch("dispatchDblClick")},c.onmouseover=function(e){i.$dispatch("dispatchMouseOver")},c.onmouseout=function(e){i.$dispatch("dispatchMouseOut")}),document.onkeypress=function(e){}}},bindCornerEvents:function(e){if(null!=e){var i,r,n,o,s,d,l=this,c=t.pages[t.selectedPageIdx].canvas,h=document.getElementById("handles-"+e),p=h.querySelectorAll(".handle-corner");for(var u in p){var m=p[u];m.onmousedown=function(e){e.stopPropagation(),e.preventDefault(),i=e.screenX||0,r=e.screenY||0,t.operateMode="scale",l.$dispatch("dispatchScaleStart");var h=e.target.className;s=function(e){e.preventDefault(),n=e.screenX||0,o=e.screenY||0;var s=n-i,d=o-r;0===n&&0===o?s=d=0:(i=n,r=o);var p=a.getIndexById(l.id);if(h.indexOf("top-left")!==-1){var u=s*c.params[p].height/c.params[p].width;l.$dispatch("dispatchMove",{x:s,y:u,isScale:!0}),l.$dispatch("dispatchScale",{width:-1*s,height:-1*u})}else if(h.indexOf("top-right")!==-1){var u=s*c.params[p].height/c.params[p].width;l.$dispatch("dispatchMove",{x:0,y:-1*u,isScale:!0}),l.$dispatch("dispatchScale",{width:s,height:u})}else if(h.indexOf("bottom-left")!==-1){var u=s*c.params[p].height/c.params[p].width;l.$dispatch("dispatchMove",{x:s,y:0,isScale:!0}),l.$dispatch("dispatchScale",{width:-1*s,height:-1*u})}else if(h.indexOf("bottom-right")!==-1){var u=s*c.params[p].height/c.params[p].width;l.$dispatch("dispatchScale",{width:s,height:u})}t.operateMode="scale"},d=function(e){e.preventDefault(),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",d),n=e.screenX||0,o=e.screenY||0;var p=n-i,u=o-r;0===n&&0===o?p=u=0:(i=n,r=o);var m=a.getIndexById(l.id);if(h.indexOf("top-left")!==-1){var g=p*c.params[m].height/c.params[m].width;l.$dispatch("dispatchMove",{x:p,y:g}),l.$dispatch("dispatchScaleEnd",{width:-1*p,height:-1*g})}else if(h.indexOf("top-right")!==-1){var g=p*c.params[m].height/c.params[m].width;l.$dispatch("dispatchMove",{x:0,y:-1*g}),l.$dispatch("dispatchScaleEnd",{width:p,height:g})}else if(h.indexOf("bottom-left")!==-1){var g=p*c.params[m].height/c.params[m].width;l.$dispatch("dispatchMove",{x:p,y:0}),l.$dispatch("dispatchScaleEnd",{width:-1*p,height:-1*g})}else if(h.indexOf("bottom-right")!==-1){var g=p*c.params[m].height/c.params[m].width;l.$dispatch("dispatchScaleEnd",{width:p,height:g})}t.operateMode="idle"},document.addEventListener("mousemove",s),document.addEventListener("mouseup",d)},m.onclick=function(e){e.stopPropagation(),console.log("cornerClick",e),l.$dispatch("dispatchCornerClick")}}}},bindSideEvents:function(e){if(null!=e){var i,a,r,n,o,s,d=this,l=(t.pages[t.selectedPageIdx].canvas,document.getElementById("handles-"+e)),c=l.querySelectorAll(".handle-side");for(var h in c){var p=c[h];p.onmousedown=function(e){e.preventDefault(),e.stopPropagation();var l=e.target.className;i=e.screenX||0,a=e.screenY||0,t.operateMode="scale",d.$dispatch("dispatchScaleStart"),o=function(e){e.preventDefault(),r=e.screenX||0,n=e.screenY||0;var o=r-i,s=n-a;if(0===r&&0===n?o=s=0:(i=r,a=n),l.indexOf("top")!==-1){var c=0;d.$dispatch("dispatchMove",{x:c,y:s,isScale:!0}),d.$dispatch("dispatchScale",{width:-1*c,height:-1*s})}else if(l.indexOf("left")!==-1){var h=0;d.$dispatch("dispatchMove",{x:o,y:h,isScale:!0}),d.$dispatch("dispatchScale",{width:-1*o,height:-1*h})}else if(l.indexOf("right")!==-1){var h=0;d.$dispatch("dispatchScale",{width:o,height:h})}else if(l.indexOf("bottom")!==-1){var c=0;d.$dispatch("dispatchScale",{width:c,height:s})}t.operateMode="scale"},s=function(e){e.preventDefault(),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",s),r=e.screenX||0,n=e.screenY||0;var c=r-i,h=n-a;if(0===r&&0===n?c=h=0:(i=r,a=n),l.indexOf("top")!==-1){var p=0;d.$dispatch("dispatchMove",{x:p,y:h}),d.$dispatch("dispatchScaleEnd",{width:-1*p,height:-1*h})}else if(l.indexOf("left")!==-1){var u=0;d.$dispatch("dispatchMove",{x:c,y:u}),d.$dispatch("dispatchScaleEnd",{width:-1*c,height:-1*u})}else if(l.indexOf("right")!==-1){var u=0;d.$dispatch("dispatchScaleEnd",{width:c,height:u})}else if(l.indexOf("bottom")!==-1){var p=0;d.$dispatch("dispatchScaleEnd",{width:p,height:h})}t.operateMode="idle"},document.addEventListener("mousemove",o),document.addEventListener("mouseup",s)},p.onclick=function(e){e.stopPropagation(),console.log("sideClick",e),d.$dispatch("dispatchSideClick")}}}}},ready:function(){this.bindHandleEvents(this.id)}}}).call(t,i(3))},function(e,t,i){(function(t,a){var r=i(20),n=r.extend(i(200));e.exports={mixins:[i(9),i(161)],template:'<div class="bed-header" v-on:click="blurFocus"><div style="float: left; height: 38px;"><div id="logo" v-on:click="handleLogoClicked()" style="margin: 12px 20px 12px 30px;float: left;cursor: pointer;" title="Home"><img src="../../static/img/new-logo-white.svg" height="15" width="90" draggable="false" alt="Logo" style="display: block;" /></div><title-edit></title-edit></div><div style="float: right; height: 38px;"><span v-show="!sharedStore.isPortal && !sharedStore.isBlankCard && sharedStore.templateGuid" id="resetButton" class="menu-item" v-on:click="handleReset()">Reset</span><span v-show="!sharedStore.isPortal" id="exitButton" class="menu-item" v-on:click="handleExit()">Exit</span><span v-show="!sharedStore.fromCart && !sharedStore.isPortal" id="saveButton" class="menu-item" v-on:click="handleSave()">Save</span><span v-show="!sharedStore.isPortal"  id="orderButton" class="menu-item" v-on:click="handleOrder()" style="margin-right: 30px;">{{orderLabel}}</span><span v-if="sharedStore.isPortal" class="menu-item" v-on:click="handlePortalSave">Save</span><span v-if="sharedStore.isPortal" id="submitButton" class="menu-item" v-on:click="handlePortalSubmit" style="margin-right: 22px;">submit</span></div><div v-on:click="handleHideHelp()" v-show="sharedStore.isShowHelp" style="position: fixed;width: 100%;height: 100%;top: 0px;" v-bind:style="{zIndex: windowZindex-2}"></div><div class="help-popup" v-show="sharedStore.isShowHelp" v-bind:style="{zIndex: windowZindex-1}"><span class="poptip-arrow-top" style="left:50%;"><em class="poptip-arrow-top-em"></em><i class="poptip-arrow-top-i"></i></span><div class="help-item" v-on:click="handleFAQ()">FAQ</div><div class="help-item" style="margin-top: 0px;" v-on:click="handleContactUs()">Contact Us</div></div></div>',data:function(){return{privateStore:{},sharedStore:t}},computed:{orderLabel:function(){return this.sharedStore.fromCart||this.sharedStore.checkFailed?"Submit":"Order"},windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 100*(i+10)}},methods:{handleFAQ:function(){window.open("/support.html#/Software","_blank"),this.sharedStore.isShowHelp=!1},handleContactUs:function(){this.$dispatch("dispatchShowContactUsWindow"),this.sharedStore.isShowHelp=!1},handleHelp:function(){this.sharedStore.isShowHelp=!this.sharedStore.isShowHelp},handleDownloadSpec:function(){t.isPopSave=!1;var e=this.sharedStore.projectSettings[t.currentSelectProjectIndex];window.open("/prod-assets/static/spec/poster/"+e.size+"SPEC_PR_"+e.product+".zip","_blank")},handleLogoClicked:function(){var e=this;e.$dispatch("dispatchShowPopup",{type:"logo",status:-1})},handleReset:function(){i(5)({ev:i(6).ClickReset}),this.$dispatch("dispatchShowPopup",{type:"reset",status:-1})},handleExit:function(){i(5)({ev:i(6).ClickExit}),this.$dispatch("dispatchShowPopup",{type:"exit",status:-1})},handlePreview:function(){i(10).getIsShowProjectInfoView()?t.isInnerPreviewShow=!0:i(13).handledSaveOldProject(this,"dispatchPreviewSave"),i(5)({ev:i(6).ClickPreview})},handleSave:function(e,t,a){i(5)({ev:i(6).ClickSave});var r=this;if(i(10).getIsShowProjectInfoView()){var n=i(10).getProjectInfoViewText();this.$dispatch("dispatchShowPopup",{type:"saveAs",status:0,info:n})}else this.$dispatch("dispatchModifyFrameTracker"),this.$dispatch("dispatchRemoveFrameTracker"),i(13).saveOldProject(r,function(){r.$dispatch("dispatchShowPopup",{type:"save",status:0}),i(9).deleteImageList()})},handleOrder:function(){i(5)({ev:i(6).ClickOrder});var e=this;if(this.checkTextFormAllEdited()&&this.checkTextFormAllFilled()&&this.checkTextFormAllSizeSuitable()&&this.checkBlankPicture())if(t.checkFailed)i(13).saveOldProject(e,function(){i(9).updateCheckStatus()});else if(i(10).getIsShowProjectInfoView()){var a=i(10).getProjectInfoViewText();this.$dispatch("dispatchShowPopup",{type:"saveAs",status:0,info:a})}else this.$dispatch("dispatchModifyFrameTracker"),this.$dispatch("dispatchRemoveFrameTracker"),i(13).saveOldProject(e,function(){i(9).deleteImageList(),i(13).orderProject(e)});else{var r={isAllEdited:this.checkTextFormAllEdited()&&this.checkTextFormAllFilled()&&this.checkBlankPicture(),isAllSizeSuitable:this.checkTextFormAllSizeSuitable()};this.$dispatch("dispatchShowPopup",{type:"textFormIncomplete",status:r}),i(5)({ev:i(6).CheckIncompleteFields})}},checkImageExist:function(){var e=t.pages[t.currentSelectProjectIndex].canvas,i=e.params,a=i.some(function(e){return"image"===e.elType&&e.imageId});return a},handleOptions:function(){this.$dispatch("dispatchShowOptionsWindow")},redirectHome:function(){window.location="/"},handleCloneProject:function(){this.$dispatch("dispatchShowCloneWindow")},handleHideHelp:function(){this.sharedStore.isShowHelp=!1},blurFocus:function(){this.$dispatch("dispatchClearScreen"),this.sharedStore.isTotalPriceShow=!1},handlePortalSave:function(){i(13).savePortalCardProject(this)},handlePortalSubmit:function(){return this.checkBlankPicture()?void(t.encodeImage2?i(13).submitPortalCardProject(this):this.$dispatch("dispatchShowPopup",{type:"checkBackCover",status:0})):void this.$dispatch("dispatchShowPopup",{type:"notify",status:-1})},checkBlankPicture:function(){var e=this.sharedStore.pages[0].canvas.params,t=this.sharedStore.pages[1].canvas.params,i=e.every(function(e){return"image"!==e.elType||e.imageId}),a=t.every(function(e){return"image"!==e.elType||e.imageId});return i&&a},checkTextFormAllEdited:function(){var e=!0;return t.textFormList.forEach(function(t){t.isEdit===!1&&(e=!1)}),e},checkTextFormAllFilled:function(){var e=!0;return t.textFormList.forEach(function(t){t.text||(e=!1)}),e},checkTextFormAllSizeSuitable:function(){var e=!0;return t.textFormList.forEach(function(t){t.isShowTextNotFit&&(e=!1)}),e}},components:{"title-edit":n},events:{notifyPreviewSave:function(e){"success"===e?t.isInnerPreviewShow=!0:this.$dispatch("dispatchShowPopup",{type:"save",status:-1})},notifyResetProjectInfo:function(e){e?(a("#saveButton").css("pointer-events","auto"),a("#saveButton").css("opacity",1),a("#orderButton").css("pointer-events","auto"),a("#orderButton").css("opacity",1)):(a("#saveButton").css("pointer-events","none"),a("#saveButton").css("opacity",.4),a("#orderButton").css("pointer-events","none"),a("#orderButton").css("opacity",.4))},notifyOrderToCart:function(){var e=this;if(t.checkFailed)i(13).saveOldProject(e,function(){i(9).updateCheckStatus()});else if(i(10).getIsShowProjectInfoView()){var a=i(10).getProjectInfoViewText();this.$dispatch("dispatchShowPopup",{type:"saveAs",status:0,info:a})}else i(13).saveOldProject(e,function(){i(9).deleteImageList(),i(13).orderProject(e)})}}}}).call(t,i(3),i(7))},function(e,t,i){(function(t,a){var r=(i(35),i(26)),n=i(16),o=i(18),s=i(27),d=i(14);e.exports={template:'<div class="bed-image-crop" v-show="sharedStore.isImageCropShow"><div class="shadow-bg" v-bind:style="{zIndex: windowZindex-1}"></div><div class="box-image-crop" v-bind:style="{ zIndex: windowZindex }"><div style="height: 40px:line-height: 40px;"><div style="width: 40px;height: 40px;margin-left: 700px;font-size: 20px;"><img src="../../static/img/close-normal.svg" width="16" height="16" v-on:click="hideImageCrop()" onmouseover="this.src = \'../../static/img/close-hover.svg\'" onmouseout="this.src = \'../../static/img/close-normal.svg\'" alt="close" title="close" style="margin-top: 24px; margin-left: 4px; cursor: pointer;" /></div></div><div style="margin: 0 40px;"><div class="font-title t-left">Set Image</div><div class="font-desc t-left">Image - {{ imageName }}</div></div><div style="margin: 30px auto 20px;width: 680px;"><div id="box-crop"><img id="image-tobecrop" src="" /></div></div><div style="height: 46px;"><span class="button-circle" v-on:click="doRotate(-90) | debounce" style="display: inline-block; margin-left: 291px;height:46px;" title="rotate left"><img src="../../static/img/rotate_left.png" onmouseover="this.src = \'../../static/img/rotate_left_hover.png\';" onmouseout="this.src = \'../../static/img/rotate_left.png\';" width="46" height="46" alt="rotate left" /></span><span class="button-circle" v-on:click="doRotate(90) | debounce" style="display: inline-block; margin-left: 70px;" title="rotate right"><img src="../../static/img/rotate_right.png" onmouseover="this.src = \'../../static/img/rotate_right_hover.png\';" onmouseout="this.src = \'../../static/img/rotate_right.png\';" width="46" height="46" alt="rotate right" /></span></div><div style="height: 20px;"><span style="display: inline-block; width: 46px; height: 20px; line-height: 20px; text-align: center; margin-left: 291px; font-size: 12px; color: #7a7a7a;">- 90</span><span style="display: inline-block; width: 46px; height: 20px; line-height: 20px; text-align: center; margin-left: 70px; font-size: 12px; color: #7a7a7a;">+ 90</span></div><div class="button" v-on:click="doImageCrop()" style="display: inline-block; width: 160px;height: 40px;line-height: 40px;margin:25px 0 0 290px;text-align: center;font-size: 14px;" title="Click to crop image">Done</div></div></div>',data:function(){return{privateStore:{jcrop_api:"",isCanRotate:!1,cropWindowParams:{width:740,height:698,selector:".box-image-crop"},isRemoveButtonShow:!0},init:[],selectedIdx:"",sharedStore:t,imageId:null,imageRotate:0,cropInfo:{px:0,py:0,pw:0,ph:0,width:0,height:0},imageName:""}},computed:{windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 100*(i+10)}},methods:{initPrivateData:function(e){var a=this,r=t.pages[t.selectedPageIdx].canvas,n=r.params[e];a.borderLengthInch=i(11).getInchByPx(r.borderLength||0),a.borderColor=r.borderColor||"none",a.cropInfo.px=n.cropPX,a.cropInfo.py=n.cropPY,a.cropInfo.pw=n.cropPW,a.cropInfo.ph=n.cropPH,a.imageId=n.imageId,a.imageRotate=n.imageRotate,t.imageList.forEach(function(e){e.id===a.imageId&&(a.imageName=e.name)})},hideImageCrop:function(){this.selectedIdx="",this.sharedStore.isImageCropShow=!1,a("#image-tobecrop").attr("src","")},handleSendToBack:function(){var e=t.pages[t.selectedPageIdx].canvas;d.sendToBack({idx:e.selectedIdx}),this.hideImageCrop()},doRotate:function(e){if(this.privateStore.isCanRotate){var i=t.pages[t.selectedPageIdx].canvas,a=""!==this.selectedIdx?this.selectedIdx:i.selectedIdx,n=i.params[a];this.imageRotate=r.getRotatedAngle(this.imageRotate,e);var s=o.getImageDetail(this.imageId),d=90===Math.abs(this.imageRotate),l=d?s.height:s.width,c=d?s.width:s.height,h=r.getDefaultCrop(l,c,n.width,n.height);this.cropInfo.px=h.px,this.cropInfo.py=h.py,this.cropInfo.pw=h.pw,this.cropInfo.ph=h.ph,this.triggerImageCrop(a)}},triggerImageCrop:function(e,t){var i=this.sharedStore,a=i.pages[i.selectedPageIdx].canvas;""!==this.selectedIdx&&(a.selectedIdx=this.selectedIdx),null!=e&&""!==e?e:e=a.selectedIdx,this.imageId&&(this.handleCropInit(e),n.setPopWindowPosition(this.privateStore.cropWindowParams),i.isImageCropShow=!0)},handleCropInit:function(e){var t=this,r=t.sharedStore,n=r.pages[r.selectedPageIdx].canvas;t.privateStore.isCanRotate=!1,null!=e&&""!==e?e:e=n.selectedIdx;var s=o.getImageDetail(this.imageId),d=90===Math.abs(this.imageRotate),l=d?s.height:s.width,c=d?s.width:s.height,h=l*this.cropInfo.px,p=c*this.cropInfo.py,u=l*this.cropInfo.pw,m=c*this.cropInfo.ph,g=680,f=400;this.privateStore.cropWindowParams.height>window.innerHeight&&(f=window.innerHeight-295);var v=g/f,_=l/c;v>_?r.cropImageRatio=f/c:r.cropImageRatio=g/l;var y=l*r.cropImageRatio,S=c*r.cropImageRatio,w=(g-y)/2,x=(f-S)/2;a("#box-crop").css("margin-left",w).css("padding-top",x),""!==t.privateStore.jcrop_api&&t.privateStore.jcrop_api.destroy();var M=i(10),L=M.getEncImgId(this.imageId),b=M.getQueryString({encImgId:L,px:0,py:0,pw:1,ph:1,width:Math.round(y),height:Math.round(S),rotation:this.imageRotate});a("#image-tobecrop").attr("src","/imgservice/op/crop?"+b+i(15).getSecurityString()).attr("width",y).attr("height",S).css("width",y).css("height",S).Jcrop({aspectRatio:n.params[e].width/n.params[e].height,setSelect:[h*r.cropImageRatio,p*r.cropImageRatio,(h+u)*r.cropImageRatio,(p+m)*r.cropImageRatio],bgColor:"black",allowSelect:!1,bgOpacity:.4,onRelease:function(){t.doRotate(0)},onSelect:function(e){r.cropParams={x:e.x,y:e.y,w:e.w,h:e.h}}},function(){t.privateStore.jcrop_api=this,t.privateStore.isCanRotate=!0})},doImageCrop:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.selectedIdx,r=o.getImageDetail(this.imageId),n=90===Math.abs(this.imageRotate),s=n?r.height:r.width,d=n?r.width:r.height,l=(e.params[i].imageId,t.cropParams.x/t.cropImageRatio/s),c=t.cropParams.y/t.cropImageRatio/d,h=t.cropParams.w/t.cropImageRatio/s,p=t.cropParams.h/t.cropImageRatio/d;e.params[i].width*e.ratio/h,e.params[i].height*e.ratio/p;e.params[i].cropX=t.cropParams.x/t.cropImageRatio,e.params[i].cropY=t.cropParams.y/t.cropImageRatio,e.params[i].cropW=t.cropParams.w/t.cropImageRatio,e.params[i].cropH=t.cropParams.h/t.cropImageRatio,e.params[i].cropPX=l,e.params[i].cropPY=c,e.params[i].cropPW=h,e.params[i].cropPH=p,e.params[i].imageRotate=this.imageRotate,e.params[i].isRefresh=!0,this.hideImageCrop(),this.sharedStore.isSwitchLoadingShow=!0,a("#image-tobecrop").attr("src","")},handleRemoveImage:function(){var e=this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas;s.deleteImage(e.selectedIdx),o.freshImageUsedCount(),this.sharedStore.isImageCropShow=!1}},events:{notifyImageCrop:function(){this.triggerImageCrop()},notifyRotateImage:function(e){var t=this,i=t.sharedStore,a=i.pages[i.selectedPageIdx].canvas;void 0!=e.idx&&null!=e.idx&&""!==e.idx?e.idx:e.idx=a.selectedIdx,void 0!=e.nDegree&&null!=e.nDegree?e.nDegree:e.nDegree=0;var n=e.idx,o=e.nDegree,s=r.getRotatedAngle(a.params[n].imageRotate,o);a.params[n].imageRotate=s;var d=Math.abs(a.params[n].imageRotate)/90%2===1;if(d)var l=a.params[n].imageHeight,c=a.params[n].imageWidth;else var l=a.params[n].imageWidth,c=a.params[n].imageHeight;var h=r.getDefaultCrop(l,c,a.params[n].width*a.ratio,a.params[n].height*a.ratio),p=h.px,u=h.py,m=h.pw,g=h.ph;a.params[n].width*a.ratio/m,a.params[n].height*a.ratio/g;a.params[n].cropX=l*p,a.params[n].cropY=c*u,a.params[n].cropW=l*m,a.params[n].cropH=c*g,a.params[n].cropPX=p,a.params[n].cropPY=u,a.params[n].cropPW=m,a.params[n].cropPH=g,a.params[n].isRefresh=!0}},created:function(){var e=this;e.$watch("sharedStore.watches.isCropThisImage",function(){if(e.sharedStore.watches.isCropThisImage){var t=e.sharedStore.watchData.cropImageIdx;this.selectedIdx=t,e.sharedStore.watches.isCropThisImage=!1,e.sharedStore.watchData.cropImageIdx="",e.initPrivateData(t),e.triggerImageCrop(t)}})}}}).call(t,i(3),i(7))},function(e,t,i){(function(t,a){e.exports={template:'<div style="text-align: center;" v-on:click="blurFocus"><div class="button" v-on:click="triggerImageUpload()" style="width: 260px;height: 32px;line-height: 32px;margin: 20px auto 0px;font-size: 14px;">Add Photos</div><div class="sort-hide" v-show="isImageListShow > 0" style="width:260px;height:20px;line-height:20px;margin:8px auto 0"><div class="sort-image" style="float:left;" ><span class="sort-label" @click="setSortDropdown(\'toggle\')" v-el:sortBy>Sort By</span><div class="sort-dropdown" v-show="privateStore.isDropdownOpen"><div class="sort-dropdown-item" @click="sortImage(\'uploadTimeN2O\')" :class="{active: privateStore.selected === \'uploadTimeN2O\'}">Upload Time (newest to oldest)</div><div class="sort-dropdown-item" @click="sortImage(\'uploadTimeO2N\')" :class="{active: privateStore.selected === \'uploadTimeO2N\'}">Upload Time (oldest to newest)</div><div class="sort-dropdown-item" @click="sortImage(\'createTimeN2O\')" :class="{active: privateStore.selected === \'createTimeN2O\'}">Date Taken (newest to oldest)</div><div class="sort-dropdown-item" @click="sortImage(\'createTimeO2N\')" :class="{active: privateStore.selected === \'createTimeO2N\'}">Date Taken (oldest to newest)</div><div class="sort-dropdown-item" @click="sortImage(\'nameA2Z\')" :class="{active: privateStore.selected === \'nameA2Z\'}">Title (A - Z)</div><div class="sort-dropdown-item" @click="sortImage(\'nameZ2A\')" :class="{active: privateStore.selected === \'nameZ2A\'}">Title (Z - A)</div></div></div><div class="hide-image" style="float:right;"><input type="checkbox" id="input-hideused"  v-on:click="handleHideUsedToggle()" v-model="privateStore.isHideUsed" style="float:left"/><label for="input-hideused" style="height: 20px;line-height: 20px;padding-left:2px;font-size: 12px;float:left;display:inline-block;cursor: pointer">Hide Used</label></div></div><div id="list-image" v-bind:style="{overflow: newImageList.length ? \'auto\': \'\' }"><div class="list-image-container"><div v-show="newImageList.length" class="item-image" v-for="item in newImageList" v-on:mouseover="handleShowDeleteIcon($index)" v-on:mouseout="handleHideDeleteIcon($index)"><div class="wrap-image"><div class="loaded-image"><img class="preview-image" id="ori-image-{{ $index }}" :imageid="item.id" :imageurl="item.url" :src="item.previewUrl" :alt="item.name" draggable="true"/><div class="box-preview-image" v-bind:style="{opacity: item.usedCount > 0? 1: 0 }"><span>{{ item.usedCount }}</span></div><div><img class="icon-delete" id="icon-delete-{{ $index }}" src="./assets/img/delete.svg" v-on:click="handleDeleteImage($index)" v-show="item.usedCount <= 0" alt="delete" title="delete" style=" opacity: 0; cursor: pointer;" /><img class="icon-delete" src="./assets/img/delete.svg" v-else alt="delete" style=" opacity: 0; cursor: pointer;" /></div></div></div></div><div style="clear: both;"></div></div><div v-show="!sharedStore.imageList.length" class="item-empty" v-on:click="triggerImageUpload()"><div class="item-empty-arrow"></div><div class="item-empty-title">Click here to select photo(s)</div><div class="item-empty-content">We will autofill photo(s) you select</div></div></div></div>',data:function(){return{privateStore:{imageList:[],isHideUsed:!1,imageListParams:{selector:"#list-image"},selected:"uploadTimeO2N",isDropdownOpen:!1},sharedStore:t}},computed:{newImageList:function(){for(var e=[],i=0;i<this.sharedStore.imageList.length;i++)(this.privateStore.isHideUsed===!1||this.privateStore.isHideUsed===!0&&this.sharedStore.imageList[i].usedCount<=0)&&(e.push(this.sharedStore.imageList[i]),e[e.length-1].previewUrl=t.imageList[i].previewUrl,e[e.length-1].imageTip=this.chopImageTip(this.sharedStore.imageList[i].name,this.sharedStore.imageList[i].width,this.sharedStore.imageList[i].height));var a=this.privateStore.selected;if(e&&e.length>0)switch(a){case"uploadTimeN2O":e.sort(function(e,t){return t.uploadTime-e.uploadTime});break;case"uploadTimeO2N":e.sort(function(e,t){return e.uploadTime-t.uploadTime});break;case"createTimeN2O":e.sort(function(e,t){return t.createTime-e.createTime});break;case"createTimeO2N":e.sort(function(e,t){return e.createTime-t.createTime});break;case"nameA2Z":e.sort(function(e,t){return e.name.localeCompare(t.name)});break;case"nameZ2A":e.sort(function(e,t){return t.name.localeCompare(e.name)})}return this.bindImageDragEvent(),e},isImageListShow:function(){return this.sharedStore.imageList.length>0}},methods:{setSortDropdown:function(e){switch(e){case"toggle":this.privateStore.isDropdownOpen=!this.privateStore.isDropdownOpen;break;default:this.privateStore.isDropdownOpen=e}},sortImage:function(e){this.privateStore.selected=e,i(5)({ev:i(6).ChangeSort,filter:e})},triggerImageUpload:function(e){for(var r=0;r<this.sharedStore.uploadProgress.length;r++)"Error"===this.sharedStore.uploadProgress[r].percent&&a("#single-upload-row-item-"+r).remove();this.sharedStore.isSingleUploadButton?t.vm.$broadcast("notifyShowImageUpload",!0):t.vm.$broadcast("notifyShowImageUpload"),e||i(5)({ev:i(6).AddPhotos})},chopImageTip:function(e,t,i){e=e||"",t=t||0,i=i||0;var a="",r="",n="",o="";if(t>0&&i>0&&(n=a=" ("+t+"x"+i+")"),e.length+a.length>20)if(a.length>14){var s=t+"x"+i;if(n=" ("+s.substr(0,9)+"...)",e.length>6){var d=6,l=d-4;r=e,o=r.substr(0,l)+"..."+r.substr(r.length-3)}else o=r=e}else{var d=20-a.length,l=d-4;r=e,o=r.substr(0,l)+"..."+r.substr(r.length-3)}else o=r=e;return{longTip:r,shortTip:o}},handleHideUsedToggle:function(){var e=this.privateStore.isHideUsed?"Off":"On";i(5)({ev:i(6).ChangeHideUsed,isHideUsed:e})},handleShowDeleteIcon:function(e){
a("#icon-delete-"+e).css("opacity",1)},handleHideDeleteIcon:function(e){a("#icon-delete-"+e).css("opacity",0)},handleDeleteImage:function(e){if(void 0!=e){var t=a("#ori-image-"+e).attr("imageid")||"";if(""!==t)for(var i=0;i<this.sharedStore.imageList.length;i++)if(t==this.sharedStore.imageList[i].id){this.sharedStore.deleImagelist.push(this.sharedStore.imageList[i].encImgId),this.sharedStore.imageList.splice(i,1);break}}},bindImageDragEvent:function(){var e=this;e.$nextTick(function(){for(var i=0;i<a(".item-image").length;i++)a(".item-image")[i].ondragstart=function(i){t.isImageDrag=!0,e.$dispatch("dispatchShowSpineLines"),e.sharedStore.elementDragged=i.target,e.sharedStore.dragData.imageId=a(i.target).attr("imageid"),e.sharedStore.dragData.sourceImageUrl=a(i.target).attr("imageurl"),e.sharedStore.dragData.cursorX=i.offsetX||0,e.sharedStore.dragData.cursorY=i.offsetY||0,e.sharedStore.dragData.isFromList=!0,e.sharedStore.operateMode="drag"},a(".item-image")[i].ondragend=function(t){e.sharedStore.dragData.isFromList=!1,e.sharedStore.operateMode="idle",e.$dispatch("dispatchHideSpineLines")}})},blurFocus:function(){this.$dispatch("dispatchClearScreen"),this.sharedStore.isTotalPriceShow=!1},closeSortBy:function(e){e.target!==this.$els.sortby&&this.setSortDropdown(!1)}},events:{notifyImageList:function(){var e=i(16);e.initImageListSizeWithCards(this.privateStore.imageListParams)},notifyTriggerImageUpload:function(){this.triggerImageUpload(!0)}},created:function(){document.addEventListener("click",this.closeSortBy.bind(this))},beforeDestroy:function(){document.removeEventListener("click",this.closeSortBy.bind(this))}}}).call(t,i(3),i(7))},function(e,t,i){(function(t){e.exports={template:'<div id="frame" v-show="sharedStore.isInnerPreviewShow" style="position: fixed; z-index: 9999999; left: 0; top: 0; width: 100%; height: 100%; background-color: white;"><img src="../../static/img/close-normal.svg" width="16" height="16" v-on:click="handleHidePreview()" onmouseover="this.src = \'../../static/img/close-hover.svg\'" onmouseout="this.src = \'../../static/img/close-normal.svg\'" alt="close" title="close" style="position: absolute; top: 18px; right: 44px; cursor: pointer;" /></div>',data:function(){return{privateStore:{previewUrl:""},sharedStore:t}},computed:{},methods:{handleHidePreview:function(){this.sharedStore.isInnerPreviewShow=!1}},ready:function(){var e=this;e.$watch("sharedStore.isInnerPreviewShow",function(){if(e.sharedStore.isInnerPreviewShow){document.getElementById("inner-preview")&&document.getElementById("frame").removeChild(document.getElementById("inner-preview"));var i=window.location.href,a=i.split("index.html?")[0];i=a+"preview.html?initGuid="+t.projectId+"&isPreview=true&source=self",e.privateStore.previewUrl=i;var r=document.createElement("iframe");r.src=i,r.id="inner-preview",r.style.width="100%",r.style.height="100%",document.getElementById("frame").appendChild(r)}else e.privateStore.previewUrl=""})}}}).call(t,i(3))},function(e,t,i){(function(t){var a=i(20),r=a.extend(i(179)),n=a.extend(i(183)),o=a.extend(i(199));e.exports={template:'<div class="bed-list-tab" v-on:click="blurFocus" style="float: left;border-right: 1px solid rgba(232, 232, 232, 1);border-top: 1px solid rgba(232, 232, 232, 1);"><div style="height: 34px;"><div class="t-center" v-bind:class="list0Class" v-on:click="handleChangeTab(0)" v-show="!sharedStore.isPortal" :style="{width:listWidths.option}" style="border-right:1px solid rgba(232, 232, 232, 1);">Options</div><div class="t-center" v-bind:class="list1Class" v-on:click="handleChangeTab(1)" :style="{width:listWidths.images}" style="border-right:1px solid rgba(232, 232, 232, 1);">Photos</div><div class="t-center" v-show="sharedStore.isPortal" v-bind:class="list3Class" v-on:click="handleChangeTab(3)" :style="{width:listWidths.decorations}" style="border-right:1px solid rgba(232, 232, 232, 1);">Decorations</div></div><option-list v-show="privateStore.currentView === \'option-list\'" v-if="!sharedStore.isPortal" ></option-list><image-list v-show="privateStore.currentView === \'image-list\'"></image-list><decoration-list v-if="privateStore.currentView === \'decoration-list\'"></decoration-list><form-list v-show="privateStore.currentView === \'form-list\'"></form-list></div>',data:function(){return{privateStore:{currentView:"image-list"},sharedStore:t}},computed:{list0Class:function(){return"option-list"===this.privateStore.currentView?"list-tab-selected":"list-tab"},list1Class:function(){return"image-list"===this.privateStore.currentView?"list-tab-selected":"list-tab"},list2Class:function(){return"layout-list"===this.privateStore.currentView?"list-tab-selected":"list-tab"},list3Class:function(){return"decoration-list"===this.privateStore.currentView?"list-tab-selected":"list-tab"},list4Class:function(){return"form-list"===this.privateStore.currentView?"list-tab-selected":"list-tab"},listWidths:function(){var e=280;return this.sharedStore.isPortal?t.textFormList.length?{images:e/2-1+"px",decorations:e/2-1+"px"}:{images:e/2-1+"px",decorations:e/2-1+"px"}:t.textFormList.length?{option:e/2-1+"px",images:e/2-1+"px"}:{option:e/2-1+"px",images:e/2-1+"px"}}},components:{"image-list":r,"option-list":n,"form-list":o},methods:{handleChangeTab:function(e){var t=null;switch(e){case 0:this.privateStore.currentView="option-list",t="ClickOptionTab";break;case 1:this.privateStore.currentView="image-list",t="ClickImagesTab";break;case 2:this.privateStore.currentView="layout-list",t="ClickLayoutTab";break;case 3:this.privateStore.currentView="decoration-list",t="ClickDecorationTab";break;case 4:this.privateStore.currentView="form-list",t="ClickFormTab"}i(5)({ev:i(6)[t]})},blurFocus:function(){this.$dispatch("dispatchClearScreen")}},events:{notifyChangeTab:function(e){this.privateStore.currentView=e}},ready:function(){var e=this;e.$watch("sharedStore.selectedPageIdx",function(){var i=0===t.textFormList.length,a="form-list"===e.privateStore.currentView;i&&a&&!t.isPortal&&(e.privateStore.currentView="image-list")}),e.$watch("sharedStore.isBlankCard",function(){t.isBlankCard&&(e.privateStore.currentView="option-list")})}}}).call(t,i(3))},function(e,t,i){(function(t){e.exports={template:'<div style="width:240px;margin:26px 0 26px 30px;overflow:hidden;" v-bind:style="{height:itemHeight}"><div style="width:200px;font-size:14px;font-weight:500;" :style="optionTitleStyle">{{title}}</div><div style="width:210px;overflow:hidden;"><div class="option-item" v-for="item in visiableOptions" :class="getOptionItemClass(item)"><img class="option-item-radio" :src="getOptionImage(item)" @click="onClickOption(item)"><span class="option-item-text" @click="onClickOption(item)">{{item.title.trim()}}</span></div></div></div><hr v-show="isShowHr" style="width:96%" color="#d6d6d6" size="1"/>',props:["id","title","options","selected","line","item","isShowFullOptions"],data:function(){return{privateStore:{},sharedStore:t}},computed:{optionTitleStyle:function(){var e=t.checkFailed?"#ccc":"inherit";return{color:e}},itemHeight:function(){return this.item?"0px":"auto"},isShowHr:function(){return!!this.line},visiableOptions:function(){var e=this,a=[],r=this.id,n=i(2),o=n.getOptions(r),s=t.projectSettings[t.currentSelectProjectIndex],d=n.getDisableOptionMapKeyPatternById(r)||[];return d.length&&(d=d.split("-")),d.forEach(function(e){var t=s[e];t&&a.push({key:e,value:t})}),o=o.filter(function(t){var i=!0,o=!e.options.some(function(e){return t.id===e.id});return o&&(i=n.isDisableOptionShow(r,a,t.id)),!o||i}),o.map(function(i){var a=!e.options.some(function(e){return i.id===e.id});return i.isDisabled=a,t.checkFailed&&(i.isDisabled=!0),i})}},methods:{getOptionImage:function(e){return this.selected===e.id?"assets/img/radio-selected.svg":e.isDisabled?"assets/img/radio-disabled.svg":"assets/img/radio.svg"},getOptionItemClass:function(e){return e.isDisabled?"disabled":this.selected===e.id?"selected":"normal"},onClickOption:function(e){var t=e.id,i=e.isDisabled;if(t!==this.selected&&!i){var a=["product","size","orientation","format"].indexOf(this.id)!==-1;if(a&&this.isPhotoElementFilled()){var r={handler:function(){this.optionChange(t)}};r.handler=r.handler.bind(this),this.$dispatch("dispatchShowPopup",{type:"changeOptionWarning",status:r})}else this.optionChange(t)}},isPhotoElementFilled:function(){for(var e=0;e<t.pages.length;e++)for(var i=t.pages[e].canvas.params,a=0;a<i.length;a++)if(i[a].imageId)return!0;return!1},optionChange:function(e){var a=t.pages[this.sharedStore.selectedPageIdx].canvas,r=(t.projectSettings[t.currentSelectProjectIndex],a.params.some(function(e){return"image"===e.elType}));"paper"!==this.id&&r?(this.sharedStore.isSwitchLoadingShow=!0,i(5)({ev:i(6).ChangeTrimStyle,oldTrim:t.oldTrim,currentTrim:e}),t.oldTrim=e):(i(5)({ev:i(6).ChangePaper,oldPaper:t.oldPaper,currentPaper:e}),t.oldPaper=e),this.selected=e,this.submitData()},submitData:function(){this.$dispatch("dispatchOptionItemSelect",this.id,this.selected),this.$dispatch("dispatchCardsPriceChange")}},events:{notifyOptionChange:function(){this.optionChange()}},created:function(){},ready:function(){}}}).call(t,i(3))},function(e,t,i){(function(t){var a=i(163),r=(i(11),i(182)),n=i(192);e.exports={template:'<div style="width:280px;overflow-x:hidden;overflow-y:auto;background-color:rgb(246,246,247)" :style="optionListStyle"><option-item v-for="data in privateStore.optionList" v-bind:id="data.id"  v-bind:title="data.title" v-bind:options.sync="data.options" v-bind:selected.sync="data.selected" v-bind:line="data.isShowHr" v-bind:item="data.showItem" :is-show-full-options="true"></option-item><spec-download v-if="sharedStore.isBlankCard"></spec-download></div>',data:function(){return{privateStore:{optionList:[],minHeight:0},sharedStore:t,title:""}},computed:{optionListStyle:function(){return{height:this.privateStore.minHeight+"px"}}},methods:{getList:function(e){for(var a,r=i(2),n=r.getOptionMapKeyPatternById(e).split("-"),o=[],s=t.projectSettings[t.currentSelectProjectIndex],d=0,l=n.length;d<l;d++){var c=s[n[d]];if(c){var h={key:n[d],value:c};o.push(h)}}return a=r.getOptionsMap(e,o),a?a.split(","):[]},fixList:function(e,a){if(e&&a){for(var r=i(2).getOptions(e),n=[],o=0;o<a.length;o++)if("tableTop"!==a[o])for(var s=0;s<r.length;s++)if(a[o]===r[s].id){for(var d=a[o],l=r[s].name||r[s].title||"",c=i(2),h=c.getDisableOptionMapKeyPatternById(e).split("-")||c.getOptionMapKeyPatternById(e).split("-"),p=[],u=t.projectSettings[t.currentSelectProjectIndex],m=0,g=h.length;m<g;m++){var f=u[h[m]];if(f){var v={key:h[m],value:f};p.push(v)}}var _,y=c.getDisableOptionsMap(e,p);null!=y&&(_=y.split(",")),(!y||_&&_.indexOf(d)==-1)&&n.push({id:d,title:l});break}return n}},getCardOptionConfig:function(){return a.cardsConfigList.filter(function(e){return t.isBlankCard?e.isBlankCardUse:!e.isBlankCardUse})},getProductOptionList:function(){var e=[],a={},r=this.getCardOptionConfig(),n=t.projectSettings[t.currentSelectProjectIndex];return r.forEach(function(e){e.product===n.product&&(a=e.optionIds)}),a.forEach(function(t){if("product"===t.type){var a=i(2).getOptions(t.type);e=a}}),e},resetOptionList:function(){this.privateStore.optionList=[];var e=this.getCardOptionConfig();for(var i in e){var a=t.projectSettings[t.currentSelectProjectIndex];if(a.product===e[i].product)for(var r in e[i].optionIds){var n=e[i].optionIds[r].type,o=e[i].optionIds[r].title,s=e[i].optionIds[r].showHr,d=e[i].optionIds[r].hide,l=e[i].optionIds[r].paperAlt,c=t.isBlankCard&&"product"===n?this.getProductOptionList():this.fixList(n,this.getList(n)),h=new Object;if(h.title=o,h.id=n,h.options=c,l&&"paper"==n)for(var p=0;p<h.options.length;p++)h.options[p].paperAlt=l[p];h.isShowHr="true"===s,h.showItem="true"===d,this.privateStore.optionList.push(h)}}},resetOptionSelected:function(){var e=!1,i=t.projectSettings[t.currentSelectProjectIndex];for(var a in this.privateStore.optionList){var r=this.privateStore.optionList[a];if(i[r.id]){var n=!1;for(var o in r.options)if(r.options[o].id==i[r.id]&&r.selected!=r.options[o].id){r.selected=r.options[o].id,i[r.id]=r.selected,n=!0;break}!n&&r.options.length>0&&!r.selected&&(r.selected=r.options[0].id,i[r.id]=r.selected,e=!0)}}return e},submitOptionValue:function(e,a){var r=i(2),n=t.projectSettings[t.currentSelectProjectIndex];n[e]=a;var o=r.getOptionMapIds(),s=[{key:"product",value:n.product}];t.isBlankCard&&o.forEach(function(e){var t=n[e],i=r.getDisableOptionsMap(e,s)||"",a=i?i.split(","):[],o=a.indexOf(t)!==-1,d=r.getOptionsMap(e,s)||"",l=d?d.split(","):[],c=l.indexOf(t)===-1;if(o||c){var h=r.getOptionsMapDefaultValue(e,s);n[e]=h}s.push({key:e,value:n[e]})})},resetProject:function(e){var a=this,r=t.projectSettings[t.currentSelectProjectIndex],n=["product","size","orientation","format"].indexOf(e)!==-1;n&&(i(14).removeElements(),i(14).refreshInsidePage(),i(14).fixResizePhotoElement(),i(21).loadAllTemplateList(2,r.size,!0)),"product"===e&&(t.selectedPageIdx=0),"paper"!==e&&setTimeout(function(){a.$dispatch("dispatchRepaintProject")},50)}},components:{"option-item":r,"spec-download":n},events:{notifyOptionItemSelect:function(e,t){this.submitOptionValue(e,t,!0),this.resetOptionList(),this.resetOptionSelected(),this.resetProject(e)},notifyImageList:function(){this.privateStore.minHeight=i(16).getCardsOptionHeight()}},created:function(){},ready:function(){var e=this;this.privateStore.minHeight=i(16).getOptionHeight(),e.$watch("sharedStore.watches.isProjectLoaded",function(){e.sharedStore.watches.isProjectLoaded&&(e.resetOptionList(),e.resetOptionSelected())})}}}).call(t,i(3))},function(e,t,i){(function(t,a){e.exports={template:'<div  v-show="sharedStore.isOrderViewShow"><div class="shadow-bg" v-bind:style="{zIndex: windowZindex-1}"></div><div id="order-window" class="box-order" style="overflow-x: hidden; overflow-y: hidden;" v-bind:style="{width: privateStore.width + \'px\',height: privateStore.height + \'px\', zIndex: windowZindex }" ><div style="height: 40px:line-height: 40px;"><div id="closeButton" style="width: 40px;height: 40px;margin-left: 610px;font-size: 20px;"><img src="../../static/img/close-normal.svg" width="16" height="16" v-on:click="handleHideOptionsView()" onmouseover="this.src = \'../../static/img/close-hover.svg\'" onmouseout="this.src = \'../../static/img/close-normal.svg\'" alt="close" title="close" style="margin-top: 24px; margin-left: 4px; cursor: pointer;" /></div></div><div style="margin: 0 40px;"><div class="font-title t-left">Select Your Quantity</div></div><div style="width:100%;height:320px;overflow:hidden;overflow-y: auto;margin: 40px 0px 0px 0px;" ><div style="display:inline-block;width:100%;margin-left:30px;margin-top:14px;margin-bottom:14px" v-for="item in newImageList"><span style="display:inline-block;"><img class="order-project-image" style="width:auto;" v-bind:class="{ \'order-select-image\': item.isEmpty}"  id="project-item-{{ $index }}" :imageid="item.id" :imageurl="item.url" :src="item.previewUrl" :alt="item.color"/></span><div style="position:relative;display:inline-block;width:530px;bottom:19px"><measure-option v-for="measure in item.measures"  v-bind:measure="measure.measure" v-bind:id="item.id" v-bind:num.sync="measure.num"></measure-option></div></div></div><div style="width: 180px;text-align: center;height: 40px;line-height: 40px;margin:0 auto;font-size: 14px;color:red;" v-show="privateStore.isShowEmptyLabel">Please select quantity</div><div><div id="submitButton" class="button t-center" v-on:click="handleSubmitOrder()" style="width: 160px;height: 40px;line-height: 40px;margin:0 auto;font-size: 14px;">Order</div></div></div></div>',data:function(){return{privateStore:{width:670,height:550,selector:"#order-window",measure:["XS","S","M","L","XL","XXL"],isShowEmptyLabel:!1},sharedStore:t}},computed:{newImageList:function(){for(var e=[],t=[],i=0;i<this.sharedStore.projectSettings.length;i++){var a=this.sharedStore.projectSettings[i].color,r=this.sharedStore.projectSettings[i].count,n=this.sharedStore.projectSettings[i].measure;if(e.indexOf(a)==-1){e.push(a);for(var o=this.getColorAssets(a),s={id:i,name:a,color:a,isEmpty:!1,url:o.backgroundImage,previewUrl:o.backgroundImage},d=[],l=0;l<this.privateStore.measure.length;l++){var c=new Object,h=0;this.privateStore.measure[l]===n&&(h=r),c.measure=this.privateStore.measure[l],c.num=h,d.push(c)}s.measures=d,t.push(s)}else for(var p=0;p<t.length;p++)if(a===t[p].color)for(var u=0;u<t[p].measures.length;u++)t[p].measures[u].measure===n&&(t[p].measures[u].num=r)}return t},windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 100*(i+10)}},methods:{handleHideOptionsView:function(){this.sharedStore.isOrderViewShow=!1,this.initOrders()},handleSubmitOrder:function(){for(var e=!1,t=[],a=0;a<this.newImageList.length;a++){for(var r=!0,n=0;n<this.newImageList[a].measures.length;n++)0!==this.newImageList[a].measures[n].num&&(r=!1,t.push({color:this.newImageList[a].color,measure:this.newImageList[a].measures[n].measure,count:this.newImageList[a].measures[n].num}));this.newImageList[a].isEmpty=r,r&&(e=!0)}if(e)this.privateStore.isShowEmptyLabel=!0;else{this.privateStore.isShowEmptyLabel=!1;this.sharedStore.projectSettings=[];for(var a=0;a<t.length;a++){var o=t[a],s=i(13).newProject(o.color,o.measure,o.count);this.sharedStore.projectSettings.push(s)}this.disabledSubmitButton(),i(13).orderProject(this)}},handleCanelOptions:function(){this.sharedStore.isOrderViewShow=!1,this.initOrders()},initOrders:function(){this.privateStore.isShowEmptyLabel=!1},getColorAssets:function(e){for(var t=0;t<this.sharedStore.colorOptionList.length;t++)if(this.sharedStore.colorOptionList[t].type===e)return this.sharedStore.colorOptionList[t]},disabledSubmitButton:function(){a("#submitButton").css("pointer-events","none"),a("#submitButton").css("opacity",.4),a("#closeButton").css("pointer-events","none"),a("#closeButton").css("opacity",.4)},abledSubmitButton:function(){a("#submitButton").css("pointer-events","auto"),a("#submitButton").css("opacity",1),a("#closeButton").css("pointer-events","auto"),a("#closeButton").css("opacity",1)}},ready:function(){this.initOrders()},events:{notifyShowOrderWindow:function(){var e=i(16);e.setPopWindowPosition({width:this.privateStore.width,height:this.privateStore.height,selector:this.privateStore.selector}),this.sharedStore.isOrderViewShow=!0,this.initOrders(),this.abledSubmitButton()},notifyReorder:function(){i(13).orderProject(this)}}}}).call(t,i(3),i(7))},function(e,t,i){(function(t){i(17);e.exports={template:'<div class="bed-page-loading" v-show="sharedStore.isPageLoadingShow"><div class="shadow-bg" style="z-index:1500;background-color:rgba(248, 248, 248, 1)"></div><div class="box-page-loading  fix-center" style="z-index:1501;width:96px;height:96px;border-radius:12px;border:1px solid #969696;"><span class="font-light" style="margin-left: 23px;font-size: 12px;color:#7b7b7b;position: absolute;bottom: 20px;">Loading...</span><div style="font-size: 0;width: 28px;height: 28px;margin: 25px auto 8px;"><img style="width: 50px;height: 50px;margin: -11px 0 0 -11px;" src="data:image/gif;base64,R0lGODdhZABkAMQAAAAAABcXFxwcHCQkJCwsLDQ0NDs7O0RERE1NTVVVVVtbW2NjY2pqanR0dH19fYWFhYqKipKSkpqamqOjo////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJBwAVACwAAAAAZABkAAAF/2AljmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEgsGo/IpHLJbDqf0Kh0Sq1ar9isdsvter/gsHhMLpvBk8lZl06vcW31e2Woo+IpiWReN9zbKHp6b31+JngmgntvBX0Fh4CJgnMVhZBuJYqUIo4liCSCEZuVfZ6RI5qjpHYjnxWpY4Yolq2nr5NjB7oHKbQimCKwJhARxVi7urIlpSkReqInxdJYBsi6KI80xNLGWdbXOdvcXt+8NdzFEGHVyDbo6rm77tNn4Oeq+Pn6TuX2OQ8AAwakgqCgwYMGcQCEwLChwwdSEEosqNChRYYQo0xEqEOgx4H7QoocuSNBAhsOHLusMalAwUkaKVOSYdnyJcyYMsEkaFnT5k2cKrnQdOkTJdCgWIbuPNGyRYMTR5FW2ckTxYKrClY02IoCaNKaKRRgJbGAAQkGW592jUlG7NWzDOKSSKtW1dUFWUfElTuXqyq3C0rsNdvX76a7efXuNUH38FjBi0s0nnM3sInBJyavQXwCM+O0lN92jvy57pm7KDxnNq1PNcnRDCy/Tk14tu3buHPr3s27t+/fwIMLH068uPHjyJMrX868+ZMQACH5BAkHABUALBkAGQAyADIAAAX/YCWOZGmOx3GubOuKafrO9BmrdU4i7M0aBp0JQeTZYisgUFgqrnymgpLZdJqgJWWQurOSsCMtt0q8IrPTcbf8PYfT6lHRiHKLxPE1vRLb3uE1CQoJCSxeMDgiUksrE44nCpGRhUNsLIt+JBKOnJCSgyeWP5kjnJ0rhJKEeRWmpy2DqpRUro+Bn7M6tUypoEyuY6tctqzFxsfIXJ/LCgusERES0tHTEhUL2Nna2Apx1NLg4RLN29vdceLp1pLckQuRz9XyEhHJ9vf49gwMahBq+wycUYEGjQnAfQKZEIzgr8aCgwHHQFhY0MVDiM8oNjwBkR+VByso1jMBMWGJBihbaTyAAPLExIUc97FAmXKEAwckVrJkAVMHzQYlbuIcAaGoi405fpIQOlRE0Z3GlC4VWkJnS1ZSbVLNWfRqnKxab5p46pUL2LBNR1jNc1YE0xNr1dBc8RYu1DE1T9QdWzbZ3nx0twJmIZhKCAAh+QQJBwAVACwZABkAMgAyAAAF/2AljmRpjklyrmzriomiqG9tm/F876SysDmaCYHgrRYLxSq4IhaNJWTyxBw6oSUfkioTjpxPLEmqLFVJYHFWiuuW0uoom3QWwePjOcz9veLXWyh8dkQuBisMDD9HehUpaH4nB5MHJomXK1plTYUnBpSTJguXmCYyL2EloJOHJ6SleKuhLq+KarKVNrVislCjiYtGn5Rqo7e5f8nKy8zJDc/QDQzPywUG1gXW1wUV0d7QDHgG4+Tl5N/o4ubrh+jRyezl3M309fb3FQ5xExNxDv9i+AmE8q+gPigCB94wWFBNQoUtGAL885AfC4kHSTx4EPDhCYknHkCA8EKCyRMSPGSWMMhiJMkWJk+ugLiyhciRJCLoLBFTArObHHPqfCmi58+RQUdAGMozprKbREfo3NlUJh6gJqZGLer0KtITSyNs5SohAp6vYJlm7SoG6wmtK9iqSWoi7Fiy+Ozic6F3b0uqakIAACH5BAkHABUALBkAGQAyADIAAAX/YCWOZGmODHOubOuKS6q+dG3Ks62LTcPiq4Vwd+r5TsCTcEE0GY+lZGnJbJKeSJlyaS1ho9qSgtu9Gm/h0XhY9p5JUphQ0Xb2wCnSulo331FpFUt0Ow6GDixGORUMfBVrhCcJCQoJJoeGK28seyuUCpWXmJlONKAnlaCVliejpHWTqpMurohlsbI2rreyrDqYXZ+zXa9Nw33IycrLfQ/Oz9DOyAjU1dbUDxDa29wQD3XX4djd3dJt4uEi0dDKB+7v78zy8/T1JBFt7mUR/Phd8EQg9ONXBt4BAzYEDvRnxaA+FwsjQEDm8MCKiBOtFFjhEGGJhSskiGR4woDJFQYMY5rol/GESJEkJkwgYfIkx3g7XkqIKXPmiJoeUTbRyVMmzZrLiBb1+RMpsggvTfRkKqKA0z5Kl5oAijWq1J4mrJrc2OYlyRFTS161krVEWrVBu8Bc8XarTXp17dEFq7eF0TYhAAAh+QQJBwAVACwZABkAMgAyAAAF/2AljmRpik56rmzroqnzzvQZy3VOPtB6s42G7sR7+GKroHBY4kGMpp9JuWTuIM8ocqq0NrG9kpRE9Zqc0NFYVDZ/s6R1pe2+wmGqET0XZoHjeXpdOhGFESxogGSDJwyOJ4aFfV9pJ4wlC46akJGHRF6amysQnZ51oY4LL6WTQ5mhqjWdXq+iOqSFtLZWrUOPdcDBwsPEIhESyMfIy6ZuCs8L0NHPFcvW18AKC9vc3dHX4BLNVtre5tXK17nA08/u7sXx8vP0IxMTZgkJZvf9VgnP9DHp548JQHf7ahAs+O+gAoAvFt4Lpg9hwhMSTxgw8AIBghMOqZlYKEHjxgIuPGR+NBFSAcaJKzYaQDniwIESKllUvFhDJscRBmzeHKFypTCfJYQOJZrzqMykQnE2BYYUqk0TRYNVJaEU61QzW7lG9eqxjkyaVpdKNWolrNirJ7KC/Xmi6wq28uzWY6F37wq4ZkIAACH5BAkHABUALBkAGQAyADIAAAX/YCWOZGmOUQSdbOu+FZSucG2bsnrvpOSzqVSLxjP5JMAg6wGBPIqlY+SUI5aYVmglcqTOTtinttct5abXpng8OiJLQTSp6WRHy6Nqum6///JKJGF9fm8oQiODLQ4sE44tbi90iw6VJo6YhmSaLGonlaCMl5iPWg9rI6GgLaSYhBWqli+tpVqxoja0tqpQrWOrbLW2r8TFxsdsBQbLzM0Grw3R0tMNFc7Xy33U29HY130M3NTWzAXKBsrF4tHI7e7v7gcHbAwLbPLyz1ALDP32RfjwjelHkMGNgALH8Cto8AVCea8Y1mNh4CELBDAUKDgh8R8JhPpMIBjpQsGCBRs5ZBY0EbDFSJIjEiQgcfJki4UUX7wkkUDjzBE1UxZ7iTGmT5o1jREt0VPBT6BJiS3lebRE0FdTqTo1UdOjnaxGt3I9KXQM2LBPSZi0+RWmiaZp1bJtywLuzbLI7MJzoXdvC5l9QgAAIfkECQcAFQAsGQAZADIAMgAABf9gJY5kaY7TdK5s64pp+s70Gat1Phr8erMSie7EM/hiq2BwWCoaTT+TUsgkFYoFKFKqrDaLWllp6jVhS1GSMlL+9khpEbntfsK28u7QTgSj8BVzOQeEByxOcDh5SysQEY8mhYR8JH4rEUFsJ4+cZpKEK1lVjpyQJ5+gdBWkpS+ohl6ljxA1Bp9lsrQ6kridXqmxqsLDxMXFr8CqD8vMzCII0NHS0XTLENfY2Q/T3NDV2eDX293Sws3nzsbq6+ztFQkJZQ4OZfAKCvFV8/ND9vf5+vbxo5Hg3j+AAQXSa+EPH0J5CheaaFjwxL0ZDU5ElDiioMEVC0IqcNGg5AqFE/9jsVAgksQCBiQYlMx4ct8QliFjMthJYiZNYiEXjByxk2dPk8RwLihRFOZRpMKCDiVa1ITPqC2ZVi1xlU7QpSaanuhaRuoJsVZnes15dmvan16CrkA7Fq46uu7m7gSbl4XRMiEAADs=" /></div></div></div>',data:function(){return{privateStore:{els:"",printPreviewpram:{width:96,height:96,selector:".box-page-loading"}},sharedStore:t,isPageShow:!0}},computed:{windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 100*(i+15)}},methods:{},events:{},created:function(){},ready:function(){}}}).call(t,i(3))},function(e,t,i){(function(t,a){e.exports={mixins:[i(28)],template:'<div style="position:absolute; box-sizing: border-box;" v-bind:style="usedStyle" v-bind:data-html2canvas-ignore="isShowUploadButton"><div v-show="privateLoadingShow" style="position: absolute;z-index:2;left:0;top: 0;width:100%;height:100%;background:#f5f5f5;"><img src="assets/img/Loading.gif" width="36px" height="36px" title="uploading" alt="uploading" style="position:absolute;top:50%;left:50%;margin:-18px 0 0 -18px;"></div><img v-bind:src="photoSrc" style="position:absolute;left:0;top:0;opacity:0.2;" v-bind:style="{width: elementData.width*ratio + \'px\',height:elementData.height*ratio + \'px\'}" v-show="backImgShow" /><canvas id="photoElementCanvas{{id}}" style="position:absolute;top:0;left:0;" width="{{elementData.width*ratio}}" height="{{elementData.height*ratio}}"></canvas><div v-if="!sharedStore.isPreview"  style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);text-align:center;"  v-show="isShowUploadButton"><img src="./assets/img/upload-icon.svg" width="{{uploadIconSize.width}}" height="{{ uploadIconSize.width * 150/181 }}" /><br/><span class="add-photo-text font-light" v-show="isShowAddPhotoText">Click To Add Photo</span></div><warntip-element v-bind:id="id" v-if="!sharedStore.isPreview" v-bind:width="elementData.width*ratio" v-bind:height="elementData.height*ratio"></warntip-element><handle v-if="!sharedStore.isPreview"   v-bind:id="id" v-bind:is-Show-Handles="isShowHandle" v-bind:is-Corner-Handles="isCornerHandles && !sharedStore.isBlankCard" v-bind:is-Side-Handles="isSideHandles && !sharedStore.isBlankCard"></handle></div>',data:function(){return{sharedStore:t,elementData:Object,ratio:0,id:0,isCornerHandles:!0,isSideHandles:!0,imageData:null,photoSrc:"",type:"image",backImgShow:!1,privateLoadingShow:!1}},computed:{isShowHandle:function(){var e=t.pages[t.selectedPageIdx].canvas;return!(e.selectedIdx!==i(8).getIndexById(this.id)||!t.isShowHandlePoint||t.isBlankCard)},bgColor:function(){return this.elementData.imageId||t.isPreview?"rgba(255,255,255,0)":"#f5f5f5"},uploadIconSize:function(){var e=t.pages[t.selectedPageIdx].canvas,i={};i.width=.17*e.width,i.height=.17*e.width;var a=Math.floor(Math.min(this.elementData.width*this.ratio,this.elementData.height*this.ratio))-2;return a<1?a=1:a,i.width>a&&(i.width=a,i.height=a),i},usedStyle:function(){var e;return e=this.sharedStore.isPreview?"1px solid rgba(255, 255, 255, 0)":this.elementData.imageId?"":"1px solid #d6d6d6",{backgroundColor:this.bgColor,left:this.elementData.x*this.ratio+"px",top:this.elementData.y*this.ratio+"px",width:this.elementData.width*this.ratio+"px",height:this.elementData.height*this.ratio+"px",border:e,zIndex:100*(this.elementData.dep+1),transform:"rotate("+(this.elementData.rotate||0)+"deg)",pointerEvents:this.sharedStore.isPortal&&this.id===this.sharedStore.lockedElementId&&this.pageIdx===this.sharedStore.lockedPageIdx?"none":null}},isShowUploadButton:function(){return this.elementData.imageId?(t.isPortal?a("#handles-"+this.id).find(".handle-center-layer").removeClass("pointer"):a("#handles-"+this.id).find(".handle-center-layer").addClass("pointer"),!1):(a("#handles-"+this.id).find(".handle-center-layer").addClass("pointer"),!0)},isShowAddPhotoText:function(){t.pages[t.selectedPageIdx].canvas;return this.elementData.width*this.ratio>=130&&this.elementData.height*this.ratio-this.uploadIconSize.height>=30}},methods:{init:function(e){var i=t.pages[t.selectedPageIdx].canvas;this.elementData=i.params[e],this.id=this.elementData.id,this.ratio=i.ratio,this.pageIdx=t.selectedPageIdx},destroy:function(){},refreshImage:function(e){var a=this;i(17).clear("photoElementCanvas"+this.id),i(17).drawImage("photoElementCanvas"+this.id,e,0,0,function(){a.privateLoadingShow=!1,a.sharedStore.isSwitchLoadingShow=!1,t.vm.$broadcast("notifyRefreshScreenshot")},this.elementData.width*this.ratio,this.elementData.height*this.ratio),this.photoSrc=e},cacuBarPosition:function(e){var a=t.pages[t.selectedPageIdx].canvas,r=i(8).getIndexById(e.id),n=a.params[r];this.sharedStore.barPosition.x=n.x*a.ratio+e.x,this.sharedStore.barPosition.y=n.y*a.ratio+e.y},onDragOver:function(){},setCrop:function(){if(90===Math.abs(this.elementData.imageRotate))var e=i(18).getImageDetail(this.elementData.imageId).height,t=i(18).getImageDetail(this.elementData.imageId).width;else var e=i(18).getImageDetail(this.elementData.imageId).width,t=i(18).getImageDetail(this.elementData.imageId).height;var a=this.elementData.cropPX,r=this.elementData.cropPY,n=this.elementData.cropPW,o=this.elementData.cropPH,s=this.elementData.width,d=this.elementData.height,l=a,c=a+n,h=r,p=r+o,u=d/s,m=e,g=t,f=l+(c-l)/2,v=h+(p-h)/2,_=f*m,y=v*g,S=(c-l)*m/s,w=(p-h)*g/d,x=s*S,M=d*w;x>m&&(x=m),M>g&&(M=g);var L,b,T,I;x*u>M?(I=M,T=M/u):(T=x,I=x*u),L=_-T/2,L=L>0?L:0,L+T>m&&(L-=L+T-m,L=L>0?L:0),b=y-I/2,b=b>0?b:0,b+I>g&&(b-=b+I-g,b=b>0?b:0),this.elementData.cropPX=L/m||0,this.elementData.cropPY=b/g||0,this.elementData.cropPW=T/m||1,this.elementData.cropPH=I/g||1},setIndex:function(e){var a=t.pages[t.selectedPageIdx].canvas;a.selectedIdx=i(8).getIndexById(this.id)},refreshImageById:function(e){t.dropData.isBg=!1,t.dropData.newAdded=!1,t.dropData.idx=i(8).getIndexById(this.id),t.watches.isOnDrop=!0},setImageById:function(e){var a=t.pages[t.selectedPageIdx].canvas,r=a.selectedIdx;t.dropData.isBg=!1,t.dropData.newAdded=!1,t.dragData.imageId=e,t.dragData.sourceImageUrl=a.params[r].url,t.dropData.idx=i(8).getIndexById(this.id),t.watches.isOnDrop=!0}},events:{refreshHandler:function(e){this.refreshImage(i(8).getCropImageUrl(i(8).getIndexById(this.id)))},dispatchScaleEnd:function(e){this.backImgShow=!1;var t=this.elementData.width+e.width/this.ratio;t>=100&&(this.elementData.width+=e.width/this.ratio);var a=this.elementData.height+e.height/this.ratio;a>=100&&(this.elementData.height+=e.height/this.ratio),this.setCrop(),this.refreshImage(i(8).getCropImageUrl(i(8).getIndexById(this.id)))},dispatchScaleStart:function(){this.setIndex(),i(17).clear("photoElementCanvas"+this.id),this.backImgShow=!0},dispatchClick:function(e){this.isShowUploadButton?(this.sharedStore.isSingleUploadButton=!0,i(5)({ev:i(6).ClickCloudUploadImage}),t.vm.$broadcast("notifyTriggerImageUpload"),this.sharedStore.isSingleUploadButton=!1):this.sharedStore.isShowHandlePoint=!0},dispatchDragEnd:function(e){var i=e.event;if(e&&(Math.abs(e.distanceX)>1||Math.abs(e.distanceY)>1)){if(t.isBlankCard)return;1===i.which&&(this.sharedStore.projectSettings[this.sharedStore.currentSelectProjectIndex].tplGuid="",this.sharedStore.isLostFocus=!0)}else if(1===i.which,3===i.which){this.setIndex(e),this.cacuBarPosition(e),this.sharedStore.isEditLayerShow=!1;var a=this;setTimeout(function(){a.sharedStore.isLostFocus=!1})}},dispatchMove:function(e){if(this.setIndex(),!t.isBlankCard){var i=t.pages[t.selectedPageIdx].canvas,a=i.params[this.id];e.isScale?(this.elementData.height>100&&(this.elementData.y+=e.y/this.ratio),this.elementData.width>100&&(this.elementData.x+=e.x/this.ratio),a.isScaled=!0):(this.elementData.x+=e.x/this.ratio,this.elementData.y+=e.y/this.ratio,a.isMoved=!0),t.vm.$broadcast("notifyRefreshScreenshot"),t.isLostFocus=!0}},dispatchDblClick:function(){t.watchData.cropImageIdx=i(8).getIndexById(this.id),t.watches.isCropThisImage=!0},dispatchDrop:function(e){if(this.elementData.imageId){t.dropData.idx=i(8).getIndexById(this.id),t.watches.isReplaceImage=!0;var a=this.sharedStore.dragData.imageId;this.refreshImageById(a)}else t.dropData.isBg=!1,t.dropData.newAdded=!1,t.dropData.idx=i(8).getIndexById(this.id),t.watches.isOnDrop=!0},dispatchDecorationDrop:function(e){t.dropData.idx=i(8).getIndexById(this.id),t.vm.$broadcast("notifyAddDecoration",{id:e.id,x:e.x+this.elementData.x*this.ratio,y:e.y+this.elementData.y*this.ratio})},dispatchScale:function(e){var t=this.elementData.width+e.width/this.ratio;t>=100?this.elementData.width+=e.width/this.ratio:this.elementData.width=100;var i=this.elementData.height+e.height/this.ratio;i>=100?this.elementData.height+=e.height/this.ratio:this.elementData.height=100}},created:function(){},ready:function(){var e=this;this.elementData.imageId&&t.isPortal?a("#handles-"+this.id).find(".handle-center-layer").removeClass("pointer"):a("#handles-"+this.id).find(".handle-center-layer").addClass("pointer"),this.elementData.imageId?this.refreshImage(i(8).getCropImageUrl(i(8).getIndexById(this.id))):setTimeout(function(){e.sharedStore.isSwitchLoadingShow=!1},300),this.$watch("elementData.isRefresh",function(){e.elementData.isRefresh&&(e.elementData.isRefresh=!1,e.privateLoadingShow=!0,e.refreshImage(i(8).getCropImageUrl(i(8).getIndexById(e.id))))})}}}).call(t,i(3),i(7))},function(e,t,i){(function(t){e.exports={mixins:[i(9)],template:'<div class="preview-bed-header"><div style="float: right; height: 48px;margin-top: 2px;"></div></div>',
data:function(){return{privateStore:{},sharedStore:t}},computed:{productText:function(){switch(this.sharedStore.projectSettings[t.currentSelectProjectIndex].product){case"PO":return"Poster";case"LPR":return"Large Photo Prints";case"AR":return"Art Prints";default:return"[ERR PRODUCT]"}}},methods:{handleCloseView:function(){navigator.userAgent;window.close()}},events:{}}}).call(t,i(3))},function(e,t,i){(function(t,i){e.exports={template:'<div style="margin-top:10px;width:16px;z-index:100;position: fixed;right:200px;top:40px;"><div style="min-height:130px" id="project-div-{{item.id}}" v-on:click="projectItemClick(item.id)" v-for="item in newImageList"><div style="height:130px;margin-top:30px"><span style="display:inline-block;margin-left:0;margin-top:30px"><img class="preview-project-image" style="border: 1px solid rgba(250, 250, 250, 1);" id="project-item-{{ item.id }}" :imageid="item.id" :imageurl="item.url" :src="item.previewUrl" :alt="item.color"/></span></div></div></div>',data:function(){return{privateStore:{selectedColor:[]},sharedStore:t}},computed:{newImageList:function(){for(var e=[],t=[],i=0;i<this.sharedStore.projectSettings.length;i++){var a=this.sharedStore.projectSettings[i].color;if(e.indexOf(a)==-1){e.push(a);var r=this.getColorAssets(a),n={id:i,name:a,color:a,url:r.backgroundImage,previewUrl:r.backgroundImage};t.push(n)}}return this.sharedStore.itemListNum=t.length,t}},methods:{projectItemClick:function(e){this.sharedStore.currentSelectProjectIndex=e;for(var t=0;t<this.sharedStore.projectSettings.length;t++)t==e?i("#project-item-"+e).css("border-color","#7b7b7b"):i("#project-item-"+t).css("border-color","#ffffff")},getColorAssets:function(e){for(var t=0;t<this.sharedStore.colorOptionList.length;t++)if(this.sharedStore.colorOptionList[t].type===e)return this.sharedStore.colorOptionList[t]}},events:{},ready:function(){setTimeout(function(){i("#project-item-0").css("border-color","#7b7b7b")},300)}}}).call(t,i(3),i(7))},function(e,t,i){(function(t){e.exports={template:'<div v-if="!sharedStore.isPortal" style="z-index:-1;position:absolute;left:0;top:38px;background:white;width:100%;height:38px;border-bottom: 1px solid #d6d6d6;"><div style="margin-top:12px;height:16px;line-height:16px;"><img src="./assets/img/title-price.svg" style="width:13px;height:13px;margin:1px 20px 0 0;cursor:pointer;float:right;" v-on:click="showTotalPrice()"/><span class="font-medium" style="font-size:13px;color:#3a3a3a;margin-right:10px;float:right;">{{"$" + toFixed(totalPrice, 2) + " USD"}}</span><span class="font-normal" v-show="discount" style="font-size:13px;color:#7B7B7B;margin-right:18px;float:right;" v-bind:style={textDecoration:priceStyle} >{{"$" + toFixed(totalOriprice, 2)}}</span></div><div v-show="sharedStore.isTotalPriceShow && typeof oriPrice !==\'undefined\'" v-bind:style="{zIndex:windowZindex}" style="position:absolute;right:5px;top:38px;width:180px;box-sizing:border-box;border:1px solid #d6d6d6;box-shadow:0 3px 6px rgba(0,0,0,.16);background:#fff;"><div class="border-style"></div><div style="margin-top:15px;height:15px;line-height:15px;"><span class="price-item font-light" style="width:80px;">Unit price:</span><span class="price-num font-normal" style="float:left;padding-left:20px;">{{"$" + toFixed(oriPrice, 2)}}<span></div><div v-for="priceOption in priceOptionList" style="margin-top:5px;height:15px;line-height:15px;"><span class="price-item font-light" style="width:80px;white-space:nowrap;">{{priceOption.title}}</span><span class="price-num font-normal" style="float:left;padding-left:20px;">{{"$" + toFixed(priceOption.oriPrice, 2)}}</span></div><div style="margin-top:5px;height:15px;line-height:15px;"><span class="price-item font-light" style="width:80px;">Quantity:</span><span class="price-num font-normal" style="float:left;padding-left:20px;">{{quantity}}</span></div><div v-show="discount" style="margin-top:5px;height:15px;line-height:15px;width:180px;"><div style="width:80px;float:left;margin-left:20px;"><span class="font-light" style="float:left;font-size:12px;color:#3a3a3a;">Discount:</span></div><div class="price-num font-normal" style="float:left;padding-left:15px;">{{"-$" + toFixed(discount, 2)}}</div></div><hr style="width:140px;margin:10px auto 12px;"/><div style="margin-bottom:15px;height:15px;line-height:15px;"><span class="price-item" style="width:80px;font-weight:700;">Total:</span><span class="font-medium" style="font-size:12px;color:#3a3a3a;float:left;padding-left:20px;font-weight:700;">{{"$" + toFixed(totalPrice, 2)}}<span></div></div>',data:function(){return{privateStore:{priceShowNum:0},prj:{},sharedStore:t,rotated:"",oriPrice:0,sPrice:0,priceStyle:"",quantity:0,priceOptions:{},isOnSale:!1}},computed:{prj:function(){var e=this.sharedStore.projectSettings[t.currentSelectProjectIndex];return e},windowZindex:function(){return 1},priceOptionList:function(){var e=this.priceOptions,t=[];if("R"===this.prj.trim){var i={title:"Rounded Trim:",oriPrice:+e["card-rounded"].oriPrice,sPrice:+e["card-rounded"].sPrice,isOnSale:e["card-rounded"].couponId};t.push(i)}return t},discount:function(){var e=(this.sharedStore.projectSettings[t.currentSelectProjectIndex],this.quantity||1),i=0,a=0;return this.isOnSale&&(i=(this.oriPrice-this.sPrice)*e),this.priceOptionList.length>0&&(a=this.priceOptionList.map(function(e){return e.isOnSale?e.oriPrice-e.sPrice:0}),a=a.reduce(function(t,i){return t+i*e})),i+a},totalOriprice:function(){var e=(this.sharedStore.projectSettings[t.currentSelectProjectIndex],this.quantity||1),i=0;return this.priceOptionList.length>0&&(i=this.priceOptionList.reduce(function(e,t){return e+t.oriPrice},0)),(this.oriPrice+i)*e},totalPrice:function(){this.sharedStore.projectSettings[t.currentSelectProjectIndex],this.quantity||1;return this.totalOriprice-this.discount}},methods:{toFixed:function(e,t){return i(11).round(e,t).toFixed(2)},handleAddText:function(){this.$dispatch("dispatchShowAddText")},showTotalPrice:function(){this.sharedStore.isTotalPriceShow=!this.sharedStore.isTotalPriceShow,this.sharedStore.isTotalPriceShow&&i(5)({ev:i(6).CheckPrice,totalOriprice:this.totalOriprice.toFixed(2),totalPrice:this.totalPrice.toFixed(2)})},handleCardsPriceChange:function(){var e,a=this.prj.paper+","+this.prj.size,r=this.prj.trim;e=t.quantity?t.quantity:1;var n=this.sharedStore.userSettings,o=n.userId,s=this.prj.product;i(9).getCardsPrice(s,a,e,r,o)}},events:{notifyCardsPriceChange:function(){this.handleCardsPriceChange()}},ready:function(){var e=this;e.$watch("sharedStore.priceChange",function(){e.$set("oriPrice",e.sharedStore.photoPrice.oriPrice),e.$set("sPrice",e.sharedStore.photoPrice.sPrice),e.$set("isOnSale",!!e.sharedStore.photoPrice.couponId),e.$set("priceOptions",e.sharedStore.photoPrice.options),e.isOnSale?e.priceStyle="line-through":e.priceStyle="none",e.sharedStore.priceChange=!1}),e.$watch("sharedStore.watches.isProjectComplete",function(){if(e.sharedStore.watches.isProjectComplete){e.sharedStore.projectSettings[t.currentSelectProjectIndex];t.quantity?e.quantity=t.quantity-0:e.quantity=1}})}}}).call(t,i(3))},function(e,t,i){(function(t,a){var r=i(17);i(12);e.exports={template:'<canvas id="screenshot" style="display:none;position: absolute;top:0;left:0;" v-bind:width="width" v-bind:height="height"></canvas>',data:function(){return{privateStore:{ratio:0,timer:null,timer2:null,time3:null,count:0},sharedStore:t,bgNotified:!1}},computed:{width:function(){var e;return e=t.isPortal?this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas:this.sharedStore.pages[0].canvas,e.bgWidth},height:function(){var e;return e=t.isPortal?this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas:this.sharedStore.pages[0].canvas,e.bgHeight}},methods:{createScreenshot:function(){var e=this,i=t.pages[t.selectedPageIdx].canvas,n=i.params;this.privateStore.count=n.length+1,this.privateStore.ratio=i.ratio;var o=(a("#container"),a("#screenshot").get(0));n=this.sortByDepth(n.slice(0)),r.drawRect("screenshot","#fff",0,0,o.width,o.height),this.drawElems(n),this.drawLayer(),t.isPortal&&setTimeout(function(){e.setPortalScreenShot()},200)},refreshScreenshot:function(){r.clear("screenshot"),this.createScreenshot()},sortByDepth:function(e){return e.sort(function(e,t){return e.dep>t.dep})},drawElems:function(e){var t=this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas,i=[];a.extend(!0,i,e),i.sort(function(e,t){return e.dep-t.dep});for(var n=0,o=i.length;n<o;n++){var s=i[n];switch(s.elType){case"style":sourceId="styleElementCanvas"+s.id;break;case"text":sourceId="textElementCanvas"+s.id;break;case"image":sourceId="photoElementCanvas"+s.id;break;case"decoration":sourceId="decorationElementCanvas"+s.id}+s.rotate?r.drawRotateCanvas({tarCanvasId:"screenshot",sourceCanvasId:sourceId,x:(s.x+t.oriX)*this.privateStore.ratio,y:(s.y+t.oriY)*this.privateStore.ratio,rotate:s.rotate}):r.drawCanvas("screenshot",sourceId,(s.x+t.oriX)*this.privateStore.ratio,(s.y+t.oriY)*this.privateStore.ratio),this.privateStore.count--,0===this.privateStore.count&&this.sharedStore.cutLargePhoto&&this.setSubmitTimer()}},drawLayer:function(){var e=this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas;r.drawCanvas("screenshot","bg-part",0,0,e.bgWidth,e.bgHeight),this.privateStore.count--,0===this.privateStore.count&&this.sharedStore.cutLargePhoto&&this.setSubmitTimer()},setSubmitTimer:function(){var e=this;this.sharedStore.cutLargePhoto&&1===this.sharedStore.selectedPageIdx?(this.privateStore.timer2&&clearTimeout(this.privateStore.timer2),this.privateStore.timer2=setTimeout(function(){e.sharedStore.encodeImage2=i(24).convertScreenshotToBase64().replace("data:image/jpeg;base64,",""),e.sharedStore.refreshScreenNotifiedCount=e.sharedStore.pages[0].canvas.params.length+1,e.sharedStore.vm.$broadcast("notifyChangePage",0)},2e3)):e.sharedStore.cutLargePhoto&&0===e.sharedStore.selectedPageIdx&&(this.privateStore.timer3&&clearTimeout(this.privateStore.timer3),this.privateStore.timer3=setTimeout(function(){e.sharedStore.encodeImage1=i(24).convertScreenshotToBase64().replace("data:image/jpeg;base64,",""),e.sharedStore.cutLargePhoto=!1,i(13).submitPortalCardProject(e),e.sharedStore.vm.$broadcast("notifyChangePage",1)},2e3))},setPortalScreenShot:function(){switch(t.selectedPageIdx){case 0:t.encodeImage1=i(24).convertScreenshotToBase64().replace("data:image/jpeg;base64,","");break;case 1:t.encodeImage2=i(24).convertScreenshotToBase64().replace("data:image/jpeg;base64,","")}}},events:{notifyRefreshScreenshot:function(e){var t=this;if(this.sharedStore.cutLargePhoto){if(e){if(this.bgNotified)return;this.sharedStore.refreshScreenNotifiedCount--,this.bgNotified=!0}else this.sharedStore.refreshScreenNotifiedCount--;0===this.sharedStore.refreshScreenNotifiedCount&&(this.bgNotified=!1,t.refreshScreenshot())}else(0===this.sharedStore.selectedPageIdx||this.sharedStore.isPortal)&&(t.privateStore.timer&&clearTimeout(t.privateStore.timer),t.privateStore.timer=setTimeout(function(){t.refreshScreenshot()},100))}}}}).call(t,i(3),i(7))},function(e,t,i){(function(t){e.exports={template:'<div><div :class="privateStore.className" v-if="!showDoubleClickStyle && privateStore.isShow" :style="position">{{privateStore.message}}</div><div v-show="textForm && !sharedStore.isPreview && privateStore.isShow" class="textForm" title="Double click here to edit details." v-bind:style="position" style="cursor:pointer;z-index:2021;position:absolute;height:26px;line-height:26px;width:261px;background-color:#fff;font-size:12px;color:#3a3a3a;box-shadow: 0 3px 6px rgba(0,0,0,.16)"><div class="edit-text start-gif"><img src="assets/img/Start-gif.gif" style="width:30px;height:16px;"/></div><div class="remind-text" style="padding-left:6px;float:left;line-height:26px;position:relative;"><span>Double click here to edit details.</span></div></div></div>',props:["textForm"],data:function(){return{privateStore:{message:"",className:"",isShow:!1,top:0,left:0},sharedStore:t}},computed:{position:function(){return{top:this.privateStore.top+"px",left:this.privateStore.left+"px",zIndex:this.windowZindex}},windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0,a=100*(i+10)-1;return a}},events:{notifyToggleTextElementTip:function(e){if(this.textForm&&this.textForm.pageId===e.textForm.pageId&&this.textForm.id===e.textForm.id){var t=document.querySelector("#textElementCanvas"+this.textForm.id).getBoundingClientRect();this.privateStore.isShow=e.isShow,this.privateStore.top=t.top+t.height/2-13,this.privateStore.left=t.left+t.width}},notifyToggleShortTip:function(e){this.textForm||(this.privateStore.isShow=e.isShow,this.privateStore.top=e.top,this.privateStore.left=e.left,this.privateStore.message=e.message,this.privateStore.className=e.className)}}}}).call(t,i(3))},function(e,t,i){(function(t){e.exports={template:'<div class="spec-download" @click="downloadHandler"><img class="spec-download-img" src="assets/img/download.svg" /><span class="spec-download-text">Download Card Spec</span></div>',computed:{specName:function(){var e=t.projectSettings[t.currentSelectProjectIndex],i=[e.size,"SPEC",e.trim,e.orientation,e.format];return i.join("_")}},methods:{downloadHandler:function(){var e=t.projectSettings[t.currentSelectProjectIndex].product,i="/template-resources/h5Client/data/"+e+"/"+this.specName+".zip";window.open(i,"_blank")}}}}).call(t,i(3))},function(e,t,i){(function(t){e.exports={mixins:[i(28)],template:'<div style="position:absolute; box-sizing: border-box;pointer-events:none;" v-bind:style="usedStyle"><img v-bind:src="photoSrc" style="position:absolute;left:0;top:0;opacity:0.2;" v-bind:style="{width: elementData.width*ratio + \'px\',height:elementData.height*ratio + \'px\'}" v-show="backImgShow" /><canvas id="styleElementCanvas{{id}}" style="position:absolute;top:0;left:0;" width="{{elementData.width*ratio}}" height="{{elementData.height*ratio}}"></canvas></div>',data:function(){return{sharedStore:t,elementData:Object,ratio:0,id:0,isCornerHandles:!0,isSideHandles:!0,imageData:null,photoSrc:"",type:"image",backImgShow:!1}},computed:{isShowHandle:function(){var e=t.pages[t.selectedPageIdx].canvas;return e.selectedIdx===i(8).getIndexById(this.id)&&!t.isLostFocus},bgColor:function(){return this.elementData.imageId||t.isPreview?"rgba(255,255,255,0)":"#f5f5f5"},uploadIconSize:function(){var e=t.pages[t.selectedPageIdx].canvas,i={};i.width=.17*e.width,i.height=.17*e.width;var a=Math.floor(Math.min(this.elementData.width*this.ratio,this.elementData.height*this.ratio))-2;return a<1?a=1:a,i.width>a&&(i.width=a,i.height=a),i},usedStyle:function(){if(this.sharedStore.isPreview)var e="1px solid rgba(255, 255, 255, 0)";else var e="1px solid #d6d6d6";return{backgroundColor:this.bgColor,left:this.elementData.x*this.ratio+"px",top:this.elementData.y*this.ratio+"px",width:this.elementData.width*this.ratio+"px",height:this.elementData.height*this.ratio+"px",border:e,zIndex:0}},isShowUploadButton:function(){return!this.elementData.imageId}},methods:{init:function(e){var i=t.pages[t.selectedPageIdx].canvas;this.elementData=i.params[e],this.id=this.elementData.id,this.ratio=i.ratio},destroy:function(){},refreshImage:function(e){var e=this.sharedStore.domains.baseUrl+"/artwork/styleimage/"+this.elementData.styleGuid+"/"+this.elementData.styleItemId+"_1000.jpg";this.sharedStore.isPortal&&(e=this.sharedStore.domains.baseUrl+"/artwork/styleimage/"+this.elementData.styleGuid+"/"+this.elementData.styleItemId+".jpg"),i(17).clear("styleElementCanvas"+this.id),i(17).drawImage("styleElementCanvas"+this.id,e,0,0,function(){t.vm.$broadcast("notifyRefreshScreenshot")},this.elementData.width*this.ratio,this.elementData.height*this.ratio),this.photoSrc=e,t.isSwitchLoadingShow=!1},drawStyle:function(e){var i,a,r,n=this,o=document.getElementById("styleElementCanvas"+this.id),s=o.getContext("2d"),d=new Image,l=n.elementData;d.src=e,d.onload=function(){var e=l.width*n.ratio/this.width,o=l.height*n.ratio/this.height;e>o?(r=e,i=l.width*n.ratio,a=this.height*e):(r=o,a=l.height*n.ratio,i=this.width*o),s.drawImage(d,0,0,i,a),t.vm.$broadcast("notifyRefreshScreenshot")}}},events:{notifyRefreshStyle:function(){this.refreshImage()}},created:function(){},ready:function(){var e=this;this.refreshImage(),this.$watch("elementData.isRefresh",function(){e.elementData.isRefresh&&e.refreshImage()})}}}).call(t,i(3))},function(e,t,i){(function(t){i(8);e.exports={template:'<!-- top sub bar --><ul class="sub-box-bar" id="box-subbar-top" v-on:mouseover="handleLayer" v-on:mouseout="handleLayer" v-show="sharedStore.isEditLayerShow" v-bind:style="{ width: boxWidth + \'px\', zIndex: windowZindex,left:left,bottom:bottom }" style="position:absolute;margin:0;padding:0;"><span class="button" v-on:click="handleToFront" style="display: inline-block;width:100%; height: 26px;line-height: 26px;padding-left: 8px;box-sizing:border-box;text-align:left;font-size:12px;border-radius: 5px 5px 0 0;">Bring To Front</span><span class="button" v-on:click="handleToBack" style="display: inline-block;width:100%; height: 26px;line-height: 26px;padding-left: 8px;box-sizing:border-box;text-align:left;font-size:12px;border-radius: 0;border-top: 1px solid #7b7b7b;">Send To Back</span><span class="button" v-on:click="handleForward" style="display: inline-block;width:100%; height: 26px;line-height: 26px;padding-left: 8px;box-sizing:border-box;text-align:left;font-size:12px;border-radius:0;border-top: 1px solid #7b7b7b;">Bring Forward</span><span class="button" v-on:click="handleBackward" style="display: inline-block;width:100%; height: 26px;line-height: 26px;padding-left: 8px;box-sizing:border-box;text-align:left;font-size:12px;border-radius:0 0 5px 5px;border-top: 1px solid #7b7b7b;">Send Backward</span></ul>',props:["idx"],data:function(){return{boxWidth:130,boxHeight:30,fullBoxHeight:165,sharedStore:t}},computed:{toggleSubbar:function(){var e=t.pages[t.selectedPageIdx].canvas;return(e.params[e.selectedIdx].y+e.params[e.selectedIdx].height)*e.ratio<this.fullBoxHeight?"bottom":"top"},windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params[this.idx];return 100*(i.dep+1)+90},left:function(){var e=t.pages[t.selectedPageIdx].canvas,a=e.selectedIdx,r=e.params[a];i(12);return r.x*e.ratio>this.sharedStore.barPosition.x?r.x*e.ratio:e.width-260<this.sharedStore.barPosition.x?this.sharedStore.barPosition.x<130?-this.sharedStore.barPosition.x+24*e.ratio+"px":"-130px":"126px"},bottom:function(){var e=t.pages[t.selectedPageIdx].canvas,a=e.selectedIdx,r=e.params[a];i(12);return r.y*e.ratio>this.sharedStore.barPosition.y?r.y*e.ratio:"image"==r.elType&&e.height-182<this.sharedStore.barPosition.y?e.height-104<this.sharedStore.barPosition.y?0:-(e.height-this.sharedStore.barPosition.y-104)+"px":"text"==r.elType&&e.height-156<this.sharedStore.barPosition.y?e.height-78<this.sharedStore.barPosition.y?0:-(e.height-this.sharedStore.barPosition.y-78)+"px":"decoration"==r.elType&&e.height-166<this.sharedStore.barPosition.y?e.height-88<this.sharedStore.barPosition.y?0:-(e.height-this.sharedStore.barPosition.y-78)+"px":"-78px"}},methods:{handleLayer:function(){this.sharedStore.isEditLayerShow=!this.sharedStore.isEditLayerShow},handleToFront:function(){i(14).sendToFront({idx:this.idx}),this.sharedStore.isEditLayerShow=!1},handleToBack:function(){i(14).sendToBack({idx:this.idx}),this.sharedStore.isEditLayerShow=!1},handleForward:function(){i(14).bringForward({idx:this.idx}),this.sharedStore.isEditLayerShow=!1},handleBackward:function(){i(14).bringBackward({idx:this.idx}),this.sharedStore.isEditLayerShow=!1}},events:{}}}).call(t,i(3))},function(e,t,i){(function(t){i(14);e.exports={template:'<div class="Layout" v-show="(isInnerPage && !sharedStore.isPreview && !sharedStore.isBlankCard) || sharedStore.isPortal" :style="usedStyle"><div class="Layout__headers"><span class="Layout__header">Layouts</span></div><div class="Layout__items"><template-item v-for="item in numTemplatelist" v-bind:imagenum="item.key" v-bind:templatelist="item.list"></template-item></div></div>',data:function(){return{privateStore:{minHeight:500},sharedStore:t}},computed:{isInnerPage:function(){return 2===t.selectedPageIdx},usedStyle:function(){return t.isPortal?{position:"relative",left:"0px"}:{position:"absolute"}},numTemplatelist:function(){var e=[],i=0,a=t.projectSettings[t.currentSelectProjectIndex];a.size;for(var r in this.sharedStore.templateList)parseInt(this.sharedStore.templateList[r].imageNum)>i&&(i=parseInt(this.sharedStore.templateList[r].imageNum));for(var n=0;n<=i;n++){var o=[],s=n;for(var d in this.sharedStore.templateList)if(this.sharedStore.templateList[d].imageNum==n){var l=new Object,c=this.sharedStore.templateList[d];if(l.imageNum=c.imageNum,l.guid=c.guid,l.suitId=c.suitId,l.url=c.url,l.designSize=c.designSize,l.styleGuid=c.styleGuid,l.usePosition=c.usePosition,t.isPortal){var h=this.sharedStore.selectedPageIdx,p=this.sharedStore.pages[0].canvas.params[0].styleGuid,u="";switch(h){case 0:u="front";break;case 1:u="back";break;case 2:u="inside"}l.usePosition===u&&l.styleGuid===p&&(o.push(l),"null"===t.pages[t.selectedPageIdx].tplGuid&&2!==t.selectedPageIdx&&(t.pages[t.selectedPageIdx].tplGuid=l.guid,this.$dispatch("dispatchApplyTemplate",l.guid,l.suitId,l.designSize)))}else o.push(l),"null"===t.pages[t.selectedPageIdx].tplGuid&&2===t.selectedPageIdx&&"true"===c.isCoverDefault&&(t.pages[t.selectedPageIdx].tplGuid=l.guid,this.$dispatch("dispatchApplyTemplate",l.guid,l.suitId,l.designSize))}e.push({key:s,list:o})}return e}},methods:{},ready:function(){var e=this;this.privateStore.minHeight=i(16).getOptionHeight(),e.$watch("sharedStore.watches.isApplyLayout",function(){if(e.sharedStore.watches.isApplyLayout){t.pages[t.selectedPageIdx].canvas;i(14).autoLayout();t.projectSettings[t.currentSelectProjectIndex].canvasBorder;e.$dispatch("dispatchRepaintProject"),e.$dispatch("dispatchRefreshScreenshot"),e.sharedStore.watches.isApplyLayout=!1}})}}}).call(t,i(3))},function(e,t,i){(function(t){e.exports={template:'<div class="Layout__item" v-for="item in templatelist"><img :src="item.url" id="{{item.guid}}" v-bind:class="{ \'template-selected\': (selected===item.guid), \'template-no-selected\': (selected!==item.guid) }" v-on:click="optionChange"></div>',props:["imagenum","templatelist"],data:function(){return{privateStore:{},sharedStore:t}},computed:{imageTitle:function(){return 1==this.imagenum?"Photo":"Photos"},selected:function(){var e=t.pages[t.selectedPageIdx];return e.tplGuid},imageWidth:function(){var e,i,a=t.projectSettings[t.currentSelectProjectIndex];return a.rotated?(e=parseInt(a.size.split("X")[1]),i=parseInt(a.size.split("X")[0])):(e=parseInt(a.size.split("X")[0]),i=parseInt(a.size.split("X")[1])),e/i>=1.5?"140px":e/i<=1/1.5?"60px":"87px"}},methods:{optionChange:function(e){var t,i,a=e.target.id;for(var r in this.templatelist)this.templatelist[r].guid===a&&(t=this.templatelist[r].designSize,i=this.templatelist[r].suitId);this.$dispatch("dispatchApplyTemplate",a,i,t)}}}}).call(t,i(3))},function(e,t,i){(function(t,a){var r=(i(34),i(16),i(11)),n=(i(164),i(8),i(25));i(14);e.exports={template:'<div v-show="sharedStore.isTextEditorShow"><div class="shadow-bg" v-bind:style="{zIndex: windowZindex-1}"></div><div class="box-text-editor fix-center" style="overflow:hidden;width:800px;" v-bind:style="{ zIndex: windowZindex}"><img src="../../static/img/close-normal.svg" width="16" height="16" v-on:click="handleHideTextEditorView()" onmouseover="this.src = \'../../static/img/close-hover.svg\'" onmouseout="this.src = \'../../static/img/close-normal.svg\'" alt="close" title="close" style="position:absolute;top: 20px; right: 20px; cursor: pointer;" /><div class="font-title t-left" style="line-height:1;margin-bottom:30px;">Text Editor</div><div class="modal-content"><div class="option-container fix"><div class="fl bbox" style="position: relative;width: 160px;height: 22px;border-width:1px;"><select class="input font-select bbox" v-bind:class="{\'select-border\':privateStore.isShowFontFamilySelect}" v-bind:style="appearanceStyle" v-model="privateStore.selectFontFamily" style="width: 160px;height: 22px; line-height: 22px;border-width:1px;"></select><label class="options-label font-label bbox" v-on:click="handleFontFamilyClick" type="text" style="position: absolute;box-sizing:border-box; width: 100%;height: 22px;padding-left:9px; line-height: 22px;right:0;top:0;font-size:12px;color:#3a3a3a;"><span style="width: 100%;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">{{displayFontFamily}}<span></label><div v-show="privateStore.isShowFontFamilySelect" class="bbox" style="position:absolute;height:200px;width:160px;overflow-y:auto;overflow-x:hidden;border: 1px solid rgb(176,176,176);left: 0px;top:22px;z-index: 200;background-color: rgb(255,255,255);bottom: -145px;"><input v-show="sharedStore.isPortal" id="font-filter" class="font-filter" @input="handleFontFilter" v-model="privateStore.fontFilter" placeholder="enter font filter" /><div class="fontFamilySelect" v-on:click="handleSelectFontFamily(item.id)" v-for="item in privateStore.filteredFontList"><div style="display:table-cell;vertical-align:middle;height:40px;"><img v-bind:src="item.imageUrl" /></div></div></div></div><div class="fl" style="margin-left: 6px;"><select class="input font-select bbox" id="fontStyleSelect" :disabled="!sharedStore.isPortal" v-model="privateStore.selectFontStyle" @change="getPreviewTextImageSrc" v-bind:style="appearanceStyle" style="width: 140px;height: 22px; line-height: 22px;font-size:12px;color:#3a3a3a;"><option class="font-style-option" v-for="item in privateStore.fontStyleList" value="{{item.fontFamily}}" >{{item.displayName}}</option></select></div><div class="fl divier"></div><div class="fl" style="position: relative;width:49px;"><!-- pop-out fake select button --><input class="input font-input bbox" id="fontSizeText" type="number" min="4" max="120" v-on:blur="handleTextBlur()" v-on:focus="handleTextFocus()"  style="width: 49px;box-sizing:border-box;padding: 0; height: 22px;text-align:center;line-height:22px;background-color: rgba(245, 245, 245, 0);font-size:12px;color:#3a3a3a;" v-model="privateStore.selectedPtFontSize" title="Font size"/><div v-show="privateStore.isFontsizeSliderShow" class="size-slider-wrap"><input type="text" id="as-slide-fontsize" data-slider-id="asFontsizeSlider" data-slider-orientation="horizonal" data-slider-min="4" data-slider-max="120" data-slider-step="1" data-slider-value="{{ privateStore.selectedPtFontSize }}" data-slider-handle="custom" data-slider-tooltip="hide" v-model="privateStore.selectedPtFontSize" /></div></div><div class="fl" style="margin-left: 13px;position: relative;"><input  id="select-color" v-bind:class="selectColorClass" style="margin-top:0px;width:95px;float:right;" name="color" v-model="textColor" type="text" v-on:change="fontColorChange" maxlength="7" /></div><div class="fl divier"></div><div class="fl" style="position: relative;width:49px;"><!-- pop-out fake select button --><input class="input font-input bbox" id="lineSpacingText" type="number" step="0.1" min="0.2" max="4" v-on:blur="handleLineSpacingBlur()" v-on:focus="handleLineSpacingFocus()"  style="width: 49px;box-sizing:border-box;padding: 0; height: 22px;text-align:center;line-height:22px;background-color: rgba(245, 245, 245, 0);font-size:12px;color:#3a3a3a;" v-model="privateStore.lineSpacing" title="Line spacing"/><div v-show="privateStore.isLineSpacingSliderShow" class="size-slider-wrap"><input type="text" id="as-slide-lineSpacing" data-slider-id="asLineSpacingSlider" data-slider-orientation="horizonal" data-slider-min="0.2" data-slider-max="4" data-slider-step="0.1" data-slider-value="{{ privateStore.lineSpacing }}" data-slider-handle="custom" data-slider-tooltip="hide" v-model="privateStore.lineSpacing" /></div></div><div class="fl divier"></div><div class="align-container fl fix"><div class="horizonal-group fl"><button  v-for="item in privateStore.alignOptionList" class="{{(item.value === privateStore.align ? \'selected\' : \'\') + \' \' + \'icon align-\' + item.value}}" type="botton" title="{{item.title}}" @click="handleAlignClick(item.value)" /></div><div class="fl divier"></div><div class="vertical-group fl"><button  v-for="item in privateStore.verticalAlignOptionList" class="{{(item.value === privateStore.verticalAlign ? \'selected\' : \'\') + \' \' + \'icon align-\' + item.value}}" type="botton" title="{{item.title}}" @click="handleVerticalAlignClick(item.value)" /></div></div></div><div class="box-textarea" style="position:relative;margin-top:20px;width:100%;"><textarea class="font-textarea bbox" id="textArea" placeholder="Enter text here" style="outline:none;resize:none;height: 80px; width: 100%; line-height: 35px; background-color: #f0f0f0;" v-model="privateStore.inputTextEditorTxt" v-on:keydown="handleTextChange()"></textarea><div class="text-warn-tips"><label v-show="privateStore.isShowInvalidTxt" style="margin-right:30px;">Invalid characters removed</label><span v-show="privateStore.inputTextEditorTxt && privateStore.isShowTextNotFit">Text does not fit</span></div></div><div class="button-container fix" style="margin: 10px 0;"><div v-show="sharedStore.isPortal && privateStore.tagType" class="fl" style="margin-top:8px;"><span class="tagItem" title="tagType">{{privateStore.tagType}}</span><span class="tagItem" title="tagName">{{privateStore.tagName}}</span></div><div id="texteditor-submitButton" class="button t-center fr" v-on:click="handleText()" style="width: 216px;height: 30px;line-height: 30px;display: inline-block;font-size: 14px;">{{ privateStore.submitButtonLabel }}</div></div><div class="text-preview-box" style="position:relative;margin-top:20px;max-height:400px;overflow:hidden;"><div class="text-image-container" :style="textViewStyle"><span v-show="!privateStore.inputTextEditorTxt" class="no-preview-tip absolute-center">No Preview available</span><img class="preview-text-image" v-if="privateStore.previewTextUrl" :src="privateStore.previewTextUrl"/></div></div></div><div v-show="privateStore.isShowFontFamilySelect" style="width:100%;height:100%;position: absolute;top: 50px;" v-on:click="handleNoSelectFontFamily"></div></div></div>',data:function(){return{privateStore:{fontList:[],fontStyleList:[],selectFontFamily:"roboto",selectFontStyle:"Roboto",selectFontColor:0,selectedPtFontSize:15,tagType:"",tagName:"",submitButtonLabel:"Done",isFontsizeSliderShow:!1,isLineSpacingSliderShow:!1,isEdit:!1,isRemoveButtonShow:!1,isFamilyNameChoose:!1,textWindowParams:{width:610,height:356,selector:".box-text-editor"},isShowTextNotFit:!1,isShowFontFamilySelect:!1,inputTextEditorTxt:"",isShowInvalidTxt:!1,align:"left",verticalAlign:"middle",lineSpacing:1.2,previewTextUrl:null,fontFilter:"",filteredFontList:[],titles:["Contact","cellphone"],alignOptionList:[{value:"left",title:"Align Text Left"},{value:"center",title:"Center Text"},{value:"right",title:"Align Text Right"}],verticalAlignOptionList:[{value:"top",title:"Vertical Align Text Top"},{value:"middle",title:"Middle Text"},{value:"bottom",title:"Vertical Align Text Bottom"}],lineSpacingList:[{value:"1.2",title:"1.2"},{value:"1.5",title:"1.5"},{value:"2",title:"2"}]},textColor:"",sharedStore:t,textViewStyle:{width:0,height:0}}},computed:{selectedPxFontSize:function(){var e=this.privateStore.selectedPtFontSize,t=r.getPxByPt(e);return t},selectColorClass:function(){return this.sharedStore.isPortal?"show-select-color":""},displayFontSize:function(){return this.privateStore.selectedPtFontSize},windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 110*(i+10)},newHeight:function(){return this.sharedStore.isPortal?386:356},displayFontFamily:function(){for(var e=0;e<this.sharedStore.fontList.length;e++)if(this.sharedStore.fontList[e].id===this.privateStore.selectFontFamily)return this.sharedStore.fontList[e].displayName;return""},textColor:function(){if(0==(this.privateStore.selectFontColor+"").indexOf("#"))var e=this.privateStore.selectFontColor;else var e=r.decToHex(parseInt(this.privateStore.selectFontColor));
return a("#select-color").spectrum("set",e),e},textViewStyle:function(){var e,t=this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas,i=t.ratio;if(this.privateStore.isEdit)e=t.params[t.selectedIdx];else{var a=this.getTextPosition(!0);e={width:a.width,height:a.height}}var n="transparent",o=e.width*i,s=e.height*i;if(o>720&&(s=720/(o/s),o=720),s>400&&(o=400/(s/o),s=400),this.privateStore.selectFontColor){var d=isNaN(+this.privateStore.selectFontColor),l=d?this.privateStore.selectFontColor:r.decToHex(Math.floor(this.privateStore.selectFontColor)),c=parseInt(l.substring(1,3),16),h=parseInt(l.substring(3,5),16),p=parseInt(l.substring(5),16),u=r.rgbToHsl(c,h,p);n=u[2]>.96?"#7b7b7b":"transparent"}return{width:Math.floor(o)+"px",height:Math.floor(s)+"px",backgroundColor:n}},appearanceStyle:function(){return this.sharedStore.isPortal?{}:{appearance:"none","-moz-Appearance":"none","-webkit-Appearance":"none"}}},methods:{handleShowTextEditor:function(){this.sharedStore.isTextEditorShow=!0,this.resetSumbitButton()},handleShowFontsizeSlider:function(){this.privateStore.isFontsizeSliderShow=!0},handleTextBlur:function(){var e=parseFloat(a("#fontSizeText").val().replace(" pt.",""));isNaN(e)&&(e=this.privateStore.selectedPtFontSize),e<4?e=4:e>120&&(e=120),a("#fontSizeText").val(e),this.privateStore.selectedPtFontSize=e,a("#as-slide-fontsize").slider("setValue",e),this.privateStore.isFontsizeSliderShow=!1},handleTextFocus:function(){a("#fontSizeText").val(a("#fontSizeText").val().replace(" pt.","")),this.privateStore.isFontsizeSliderShow=!0},handleLineSpacingBlur:function(){var e=parseFloat(a("#lineSpacingText").val());isNaN(e)&&(e=this.privateStore.lineSpacing),e<.2?e=.2:e>4&&(e=4),a("#lineSpacingText").val(e),this.privateStore.lineSpacing=e,a("#as-slide-lineSpacing").slider("setValue",e),this.privateStore.isLineSpacingSliderShow=!1},handleLineSpacingFocus:function(){a("#lineSpacingText").val(a("#lineSpacingText").val()),this.privateStore.isLineSpacingSliderShow=!0},handleHideTextEditorView:function(){this.sharedStore.isTextEditorShow=!1,this.privateStore.isShowFontFamilySelect=!1,this.privateStore.previewTextUrl=null,this.isShowInvalidTxt=!1,this.isShowTextNotFit=!1,this.resetView()},handleFontFamilyChange:function(){this.resetFontStyle(),this.getPreviewTextImageSrc()},getTextPosition:function(e){var i=t.pages[t.selectedPageIdx].canvas,a=i.params,r=30,n=10,o=i.oriWidth/2,s=80,d=i.oriWidth/2-o/2,l=i.oriHeight/2-s/2;if(!e){var c=0;do{d+=r,l+=r;var h=a.filter(function(e){return"text"===e.elType&&d-n<=e.x&&e.x<=d+n&&l-n<=e.y&&e.y<=l+n});if(!h.length)break;c++}while(c<99)}return{x:d,y:l,width:o,height:s}},handleText:function(){i(5)({ev:i(6).CompleteTextEdit});var e=this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas,o=0;if(this.privateStore.selectFontColor&&"string"==typeof this.privateStore.selectFontColor&&0==this.privateStore.selectFontColor.indexOf("#"))var s=this.privateStore.selectFontColor;else var s=r.decToHex(parseInt(this.privateStore.selectFontColor));if(!this.privateStore.isShowInvalidTxt){var d=this.selectedPxFontSize;if(this.privateStore.isEdit){var l=e.params[e.selectedIdx],c={id:l.id,elType:"text",text:a("#textArea").val(),x:l.x,y:l.y,width:l.width,height:l.height,rotate:l.rotate,dep:l.dep,fontFamily:this.privateStore.selectFontStyle,fontSize:d,fontWeight:"normal",textAlign:this.privateStore.align,textVAlign:this.privateStore.verticalAlign,lineSpacing:this.privateStore.lineSpacing,fontColor:s,isRefresh:!1,isFamilyName:this.privateStore.isFamilyNameChoose.toString()},h=l.tagName&&l.tagType;h&&!t.isPortal&&(c.isEdit=!0,c.isShowTextNotFit=this.privateStore.isShowTextNotFit),o=e.selectedIdx,n.editCurrentText(c,o),h&&t.vm.$broadcast("notifyRefreshTextFormList")}else{var p=0,u=e.params.length;u&&(p=e.params[u-1].id+1);var m=this.getTextPosition(),c={id:p,elType:"text",text:a("#textArea").val(),x:m.x,y:m.y,width:m.width,height:m.height,rotate:0,dep:o,fontFamily:this.privateStore.selectFontStyle,fontSize:d,fontWeight:"normal",textAlign:this.privateStore.align,textVAlign:this.privateStore.verticalAlign,lineSpacing:this.privateStore.lineSpacing,fontColor:s,isRefresh:!1,isFamilyName:this.privateStore.isFamilyNameChoose.toString()};n.createSizedText(c)}this.sharedStore.isTextEditorShow=!1,this.privateStore.inputTextEditorTxt="",this.resetView(),t.vm.$broadcast("notifyGetFamilyNameRemind")}},handleRemoveText:function(){var e=this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas;n.deleteText(e.selectedIdx),this.sharedStore.isTextEditorShow=!1,this.resetView()},fontColorChange:function(e){var t=a('[name="color"]').val();/^#[0-9a-f]{6}$/i.test(t)||(t="#000000"),this.privateStore.selectFontColor=r.hexToDec(t),this.getPreviewTextImageSrc()},resetFontStyle:function(){for(var e,t=this.privateStore.selectFontFamily,i=0;i<this.sharedStore.fontList.length;i++)if(this.sharedStore.fontList[i].id==t){e=this.sharedStore.fontList[i];break}this.privateStore.fontStyleList=e.fonts,this.privateStore.selectFontStyle=this.privateStore.fontStyleList[0].fontFamily},initView:function(e){var t=this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas;void 0!=e&&null!=e||(e=t.selectedIdx),this.privateStore.isEdit=!0,this.privateStore.isRemoveButtonShow=!0;for(var i=t.params[e],n=i.fontFamily,o=i.fontSize,s=i.fontColor,d=i.text,l=i.textAlign||"left",c=i.textVAlign||"top",h=+i.lineSpacing||1.2,p="",u="",m=0;m<this.sharedStore.fontList.length;m++)for(var g=this.sharedStore.fontList[m],f=g.id,v=(g.name,g.displayName,0);v<g.fonts.length;v++){var _=g.fonts[v],y=_.fontFamily;_.displayName;n==y&&("true"===g.deprecated&&this.sharedStore.usefullFontList.push(g),p=f,u=y)}p&&(this.privateStore.selectFontFamily=p),this.resetFontStyle(),this.privateStore.selectFontStyle=u,this.privateStore.isFamilyNameChoose="true"===i.isFamilyName,a("#textArea").val(d),this.privateStore.inputTextEditorTxt=d;var S=Math.round(r.getPtByPx(o));a("#fontSizeText").val(S),a("#lineSpacingText").val(h),this.privateStore.selectedPtFontSize=S,a("#as-slide-fontsize").slider("setValue",S),a("#as-slide-lineSpacing").slider("setValue",h),this.privateStore.selectFontColor=s,this.privateStore.align=l,this.privateStore.verticalAlign=c,this.privateStore.lineSpacing=h,this.privateStore.tagType=i.tagType,this.privateStore.tagName=i.tagName,this.handleFontFilter(),this.handleShowTextEditor()},resetView:function(){a("#textArea").val(""),this.privateStore.isFamilyNameChoose=!1,this.privateStore.selectFontFamily="roboto",this.privateStore.selectFontStyle="Normal",this.privateStore.selectFontColor=0,this.privateStore.align="center",this.privateStore.verticalAlign="middle",this.privateStore.lineSpacing=1.2,this.privateStore.tagType="",this.privateStore.tagName="",a("#fontSizeText").val("15"),this.privateStore.selectedPtFontSize=15,a("#as-slide-fontsize").slider("setValue",15),a("#as-slide-lineSpacing").slider("setValue",1.2),this.resetFontStyle(),this.privateStore.isShowFontFamilySelect=!1,this.privateStore.inputTextEditorTxt="",this.privateStore.previewTextUrl=null,this.privateStore.fontFilter="",a("#font-filter").val("")},getTextFamily:function(){var e=this,i=this.sharedStore.domains.baseUrl,r=this.sharedStore.domains.productBaseUrl;a.ajax({url:r+"/product/font/fontlist?groupIds=base_fonts,card_designer_fonts",type:"get",dataType:"xml"}).done(function(r){if(r){for(var n=0;n<a(r).find("fontFamily").length;n++){var o={},s=a(r).find("fontFamily").eq(n);o.id=s.attr("id"),o.name=s.attr("name"),o.displayName=s.attr("displayName"),o.isDefault=s.attr("isDefault"),o.deprecated=s.attr("deprecated"),o.fonts=[],o.imageUrl=i+"/prod-assets/static/font_thumbnail/"+o.name+".png";for(var d=0;d<s.find("font").length;d++){var l=s.find("font").eq(d);l.attr("id"),l.attr("displayName"),l.attr("fontFamily"),l.attr("fontFace"),l.attr("weight"),l.attr("isDefault");o.fonts[d]={id:l.attr("id"),isDefault:l.attr("isDefault"),weight:l.attr("weight"),fontFamily:l.attr("fontFamily"),displayName:l.attr("displayName")}}t.fontList.push(o)}e.privateStore.fontStyleList={id:"roboto",isDefault:!0,weight:"normal",fontFamily:"Roboto",displayName:"Normal"}}})},getCardTextFamily:function(){var e=this;a.ajax({url:t.domains.baseUrl+"/fonts/getFonts/"+t.cardSetting.styleId+"?webClientId=1&&autoRandomNum="+i(11).getRandomNum(),type:"get",dataType:"xml"}).done(function(i){if(i){for(var r=0;r<a(i).find("fontFamily").length;r++){var n={},o=a(i).find("fontFamily").eq(r),s=o.attr("id"),d=decodeURIComponent(o.attr("name")),l=decodeURIComponent(o.attr("displayName"));n.id=s,n.name=d,n.displayName=l,n.fonts=[],n.imageUrl="assets/img/fonts/"+s+".png";for(var c=0;c<o.find("font").length;c++){var h=o.find("font").eq(c),p=(h.attr("id"),decodeURIComponent(h.attr("displayName"))),u=decodeURIComponent(h.attr("fontFamily"));decodeURIComponent(h.attr("fontFace")),h.attr("weight"),h.attr("isDefault");n.fonts[c]={fontFamily:u,displayName:p}}t.fontList.push(n)}t.usefullFontList=t.fontList.filter(function(e){return"true"!==e.deprecated}),e.privateStore.fontStyleList={id:"roboto",isDefault:!0,weight:"normal",fontFamily:"Roboto",displayName:"Normal"}}})},handleFontFamilyClick:function(){this.sharedStore.isPortal&&(this.privateStore.isShowFontFamilySelect=!0,setTimeout(function(){a("#font-filter").focus()}))},handleNoSelectFontFamily:function(){this.privateStore.isShowFontFamilySelect=!1,this.privateStore.fontFilter="",a("#font-filter").val(""),this.handleFontFilter()},handleSelectFontFamily:function(e){this.privateStore.isShowFontFamilySelect=!1,this.privateStore.selectFontFamily=e,this.resetFontStyle(),this.getPreviewTextImageSrc()},resetSumbitButton:function(){this.privateStore.inputTextEditorTxt.length>0?(a("#texteditor-submitButton").css("pointer-events","auto"),a("#texteditor-submitButton").css("opacity",1)):(a("#texteditor-submitButton").css("pointer-events","none"),a("#texteditor-submitButton").css("opacity",.4))},handleAlignClick:function(e){this.privateStore.align!==e&&(this.privateStore.align=e,this.getPreviewTextImageSrc())},handleVerticalAlignClick:function(e){this.privateStore.verticalAlign!==e&&(this.privateStore.verticalAlign=e,this.getPreviewTextImageSrc())},handleLineSpacingClick:function(e){this.privateStore.lineSpacing!==e&&(this.privateStore.lineSpacing=e,this.getPreviewTextImageSrc())},handleTextChange:function(){var e=/[^\u000d\u000a\u0020-\u007e]*/g,t=this.privateStore.inputTextEditorTxt,i=t.replace(e,"");if(t!==i){this.privateStore.isShowInvalidTxt=!0,this.privateStore.inputTextEditorTxt=i;var a=this;setTimeout(function(){a.privateStore.isShowInvalidTxt=!1},2e3)}else this.privateStore.isShowInvalidTxt=!1;this.getPreviewTextImageSrc()},getPreviewTextImageSrc:function(){this.privateStore.timer&&clearTimeout(this.privateStore.timer);var e=this;this.privateStore.timer=setTimeout(function(){if(!e.privateStore.inputTextEditorTxt||!e.privateStore.inputTextEditorTxt.trim())return null;var t,i=e.sharedStore.pages[e.sharedStore.selectedPageIdx].canvas,n=i.ratio,o="string"==typeof e.privateStore.selectFontColor&&e.privateStore.selectFontColor.indexOf("#")!==-1?r.hexToDec(e.privateStore.selectFontColor):e.privateStore.selectFontColor;if(e.privateStore.isEdit)t=i.params[i.selectedIdx];else{var s=e.getTextPosition(!0);t={width:s.width,height:s.height}}var d=["ratio="+n,"textAutoWrap=%7B%22autoWrapType%22%3A%22noWrap%22%2C%22autowrapPosition%22%3A%5B%5D%7D","text="+window.encodeURIComponent(e.privateStore.inputTextEditorTxt),"font="+window.encodeURIComponent(e.privateStore.selectFontStyle),"fontSize="+e.selectedPxFontSize,"color="+o,"align="+e.privateStore.align,"verticalTextAlign="+e.privateStore.verticalAlign,"width="+Math.floor(t.width),"height="+Math.floor(t.height),"originalWidth="+Math.floor(t.width),"originalHeight="+Math.floor(t.height),"originalFontSize="+e.selectedPxFontSize,"lineSpacing="+e.privateStore.lineSpacing],l=d.join("&"),c=e.sharedStore.domains.baseUrl+"/api/product/text/textImage?"+l,h=new Image;h.onload=function(){a.ajax({url:c.replace(/\/textImage\?/,"/textinfo?"),type:"get",dataType:"xml"}).done(function(i){if(a(i).find("textAreaIdeaWidth").length){var r=a(i).find("textAreaIdeaWidth").text(),n=a(i).find("textAreaIdeaHeight").text();e.privateStore.isShowTextNotFit=r>Math.ceil(t.width)||n>Math.ceil(t.height),e.privateStore.previewTextUrl=c}else e.privateStore.isShowTextNotFit=!1,e.privateStore.previewTextUrl=null})},h.onerror=function(){e.privateStore.isShowTextNotFit=!1,e.privateStore.previewTextUrl=null},h.src=c},150)},handleFontFilter:function(){var e=this.privateStore.fontFilter;e||(this.privateStore.filteredFontList=this.sharedStore.usefullFontList.slice());var t=new RegExp("^"+e,"i");this.privateStore.filteredFontList=this.sharedStore.usefullFontList.filter(function(e){if(t.test(e.displayName))return e})}},ready:function(){this.getTextFamily(),a("#as-slide-fontsize").slider({}),a("#as-slide-lineSpacing").slider({precision:2});var e=this;a("#select-color").spectrum({preferredFormat:"hex",change:function(t){e.privateStore.selectFontColor=r.hexToDec(t.toHexString())},show:function(){a("#texteditor-submitButton").css("pointer-events","none"),a("#texteditor-submitButton").css("opacity",.4)},hide:function(){a("#textArea").val().length>0&&(a("#texteditor-submitButton").css("pointer-events","auto"),a("#texteditor-submitButton").css("opacity",1))}})},events:{notifyModifyText:function(e){this.initView(e),this.getPreviewTextImageSrc()},notifyShowAddText:function(){this.handleFontFilter(),this.handleShowTextEditor(),this.privateStore.isEdit=!1,this.privateStore.isRemoveButtonShow=!1,this.resetView(),this.resetSumbitButton()}},created:function(){var e=this;e.$watch("sharedStore.watches.isChangeThisText",function(){e.sharedStore.watches.isChangeThisText&&(e.sharedStore.watches.isChangeThisText=!1,e.initView(),this.getPreviewTextImageSrc())}),e.$watch("privateStore.inputTextEditorTxt",function(){e.resetSumbitButton()}),e.$watch("privateStore.selectFontColor",function(){e.getPreviewTextImageSrc()}),e.$watch("privateStore.selectedPtFontSize",function(){e.getPreviewTextImageSrc()}),e.$watch("privateStore.lineSpacing",function(){e.getPreviewTextImageSrc()}),e.$watch("sharedStore.watches.isProjectLoaded",function(){e.sharedStore.watches.isProjectLoaded&&t.cardSetting.styleId&&e.getCardTextFamily()})}}}).call(t,i(3),i(7))},function(e,t,i){(function(t,a){var r=i(11);e.exports={mixins:[i(28)],template:'<div style="position:absolute;cursor:move;" v-bind:style="usedStyle"><canvas id="textElementCanvas{{id}}" width="{{Math.ceil(elementData.width*ratio)}}px" height="{{Math.ceil(elementData.height*ratio)}}px" style="position:absolute;top:0;left:0"></canvas><img v-bind:src="textSrc" style="position:absolute;left:0;top:0;"v-bind:style="{width: Math.ceil(elementData.width*ratio) + \'px\',height: Math.ceil(elementData.height*ratio) + \'px\'}" v-show="backImgShow" /><handle v-if="!sharedStore.isPreview" v-bind:id="id" v-bind:is-Portal="sharedStore.isPortal" v-bind:is-Show-Handles="isShowHandle" v-bind:is-Corner-Handles="isCornerHandles" v-bind:is-Side-Handles="isSideHandles"></handle><img v-show="isShowTextNotFit" src="../../static/img/warn_big_icon.svg"  data-html2canvas-ignore="true" style="position:absolute;right:4px;bottom:4px;width:18px;height:18px;cursor:pointer;" @mouseover="showShortTip" @mouseout="hideShortTip" /></div>',data:function(){return{privateStore:{},sharedStore:t,elementData:Object,ratio:0,lastSize:0,fontRatio:0,textSrc:"",limitHeight:[],limitSize:[],allow:!0,backImgShow:!1,isCornerHandles:!0,isSideHandles:!0,imageRatio:0,type:"text",isShowTextNotFit:!1,warnMessage:"Text does not fit",id:0}},computed:{isShowHandle:function(){var e=t.pages[t.selectedPageIdx].canvas,a=!this.elementData.tagName||!this.elementData.tagType;return!(e.selectedIdx!==i(8).getIndexById(this.id)||!t.isShowHandlePoint||!this.userOperation&&!a)},usedStyle:function(){return{left:this.elementData.x*this.ratio+"px",top:this.elementData.y*this.ratio+"px",width:this.elementData.width*this.ratio+"px",height:this.elementData.height*this.ratio+"px",zIndex:100*(this.elementData.dep+1),transform:"rotate("+(this.elementData.rotate||0)+"deg)",pointerEvents:t.isPortal&&this.id===this.sharedStore.lockedElementId&&this.pageIdx===this.sharedStore.lockedPageIdx?"none":null}},userOperation:function(){return!0}},methods:{init:function(e){var i=t.pages[t.selectedPageIdx].canvas;this.elementData=i.params[e],this.ratio=i.ratio,this.id=this.elementData.id,this.pageIdx=t.selectedPageIdx,this.lastSize=Math.round(r.getTextViewFontSize(i.params[e].fontSize))},destroy:function(){},refreshText:function(){var e=new Image,a=this,n=a.getTextImageUrl();currentCanvas=t.pages[t.selectedPageIdx].canvas,e.src=n,e.onload=function(){a.imageRatio=this.width/this.height,a.fontRatio||(a.fontRatio=currentCanvas.params[i(8).getIndexById(a.id)].height/Math.round(r.getTextViewFontSize(currentCanvas.params[i(8).getIndexById(a.id)].fontSize))),a.limitHeight.length||(a.limitHeight.push(a.limitSize[0]*a.fontRatio),a.limitHeight.push(a.limitSize[1]*a.fontRatio)),setTimeout(function(){i(17).clear("textElementCanvas"+a.id),i(17).drawImage("textElementCanvas"+a.id,n,0,0,function(){t.vm.$broadcast("notifyRefreshScreenshot")},this.width,this.height),a.sharedStore.rotateLock=!0},200)},a.textSrc=n},getTextImageUrl:function(){var e=i(8).getIndexById(this.id),n=t.pages[t.selectedPageIdx].canvas,o="../../static/img/blank.png",s=0,d=this,l=0;l=Math.round(i(11).getTextViewFontSize(n.params[e].fontSize)),this.fontRatio&&this.lastSize===l&&this.allow?s=Math.round(i(11).getTextViewFontSize(n.params[e].fontSize)):(s=l,this.allow=!0),this.lastSize=s;var c=n.params[e].fontSize,h=t.pages[t.selectedPageIdx].canvas.ratio,p=n.params[e],u="string"==typeof p.fontColor&&p.fontColor.indexOf("#")!==-1?r.hexToDec(p.fontColor):p.fontColor,m=["ratio="+h,"textAutoWrap=%7B%22autoWrapType%22%3A%22noWrap%22%2C%22autowrapPosition%22%3A%5B%5D%7D","text="+encodeURIComponent(p.text),"font="+encodeURIComponent(p.fontFamily),"fontSize="+c,"color="+u,"align="+(p.textAlign?p.textAlign:"left"),"verticalTextAlign="+(p.textVAlign?p.textVAlign:"top"),"width="+Math.floor(p.width),"height="+Math.floor(p.height),"originalWidth="+Math.floor(p.width),"originalHeight="+Math.floor(p.height),"originalFontSize="+c,"lineSpacing="+(p.lineSpacing?p.lineSpacing:"1")],g=m.join("&");return s>0&&(""===n.params[e].text?o=t.isPreview?"../../static/img/blank.png":n.params[e].tagName&&n.params[e].tagType?t.domains.proxyFontBaseUrl+"/product/text/textImage?text=&font="+encodeURIComponent(n.params[e].fontFamily)+"&fontSize="+c+"&color="+encodeURIComponent(n.params[e].fontColor)+"&align=left&ratio="+h:t.domains.proxyFontBaseUrl+"/product/text/textImage?text="+encodeURIComponent("Enter text here")+"&font="+encodeURIComponent(n.params[e].fontFamily)+"&fontSize="+c+"&color="+encodeURIComponent(n.params[e].fontColor)+"&align=left&ratio="+h:(o=t.domains.proxyFontBaseUrl+"/product/text/textImage?"+g,a.ajax({url:o.replace(/\/textImage\?/,"/textinfo?"),type:"get",dataType:"xml"}).done(function(i){if(a(i).find("textAreaIdeaWidth").length){var r=a(i).find("textAreaIdeaWidth").text(),o=a(i).find("textAreaIdeaHeight").text();d.isShowTextNotFit=r>Math.ceil(p.width)||o>Math.ceil(p.height),n.params[e].isShowTextNotFit=d.isShowTextNotFit;var s=n.params[e].tagName&&n.params[e].tagType;s&&t.vm.$broadcast("notifyRefreshTextFormList")}else d.isShowTextNotFit=!1,n.params[e].isShowTextNotFit=d.isShowTextNotFit}))),o},onDoubleClick:function(e){},onDragOver:function(){},setIndex:function(e){var a=t.pages[t.selectedPageIdx].canvas;a.selectedIdx=i(8).getIndexById(this.id)},cacuBarPosition:function(e){var a=t.pages[t.selectedPageIdx].canvas,r=i(8).getIndexById(e.id),n=a.params[r];this.sharedStore.barPosition.x=n.x*a.ratio+e.x,this.sharedStore.barPosition.y=n.y*a.ratio+e.y},getlimitHeight:function(){},setLimitSize:function(){var e=r.getTextViewFontSize(r.getPxByPt(4)),t=r.getTextViewFontSize(r.getPxByPt(120));this.limitSize.push(e),this.limitSize.push(t)},closeFamilyName:function(){for(var e=t.pages[t.selectedPageIdx].canvas,i=e.params,a=0,r=i.length;a<r;a++)if("text"===i[a].elType&&"true"===i[a].isFamilyName.toString()){this.sharedStore.isEditFamilyNameShow=!1,i[a].isFamilyName="false";break}},showShortTip:function(e){var i=e.target.getBoundingClientRect(),a="Your text does not fit. Please shorten the text or reduce the font size.";t.vm.$dispatch("dispatchToggleShortTip",{className:"TextForm__warning--text",message:a,isShow:!0,top:i.top-4,left:i.left+22})},hideShortTip:function(e){var i=e.target.getBoundingClientRect();t.vm.$dispatch("dispatchToggleShortTip",{className:"TextForm__warning--text",message:"",isShow:!1,top:i.top,left:i.left+20})}},events:{dispatchRefresh:function(){this.refreshText()},dispatchScaleEnd:function(e){var t=this.elementData.width+e.width/this.ratio,i=this.elementData.height+e.height/this.ratio;this.elementData.width=t,this.elementData.height=i,this.refreshText(),this.backImgShow=!1},dispatchScaleStart:function(){this.setIndex();var e=!this.elementData.tagName||!this.elementData.tagType;(this.userOperation||e)&&(i(17).clear("textElementCanvas"+this.id),this.backImgShow=!0)},dispatchClick:function(e){},dispatchDragEnd:function(e){var i=e.event;if(e&&(Math.abs(e.distanceX)>1||Math.abs(e.distanceY)>1))this.sharedStore.isLostFocus=!0;else{if(1===i.which)this.sharedStore.isShowHandlePoint=!0,!t.isPortal;else if(3===i.which){this.setIndex(e),this.cacuBarPosition(e),this.sharedStore.isEditLayerShow=!1;var a=this;setTimeout(function(){a.sharedStore.isLostFocus=!1})}t.isPortal||this.closeFamilyName()}},dispatchDecorationDrop:function(e){t.dropData.idx=i(8).getIndexById(this.id),t.vm.$broadcast("notifyAddDecoration",{id:e.id,x:e.x+this.elementData.x*this.ratio,y:e.y+this.elementData.y*this.ratio})},dispatchMove:function(e){this.setIndex(e);!this.elementData.tagName||!this.elementData.tagType;if(this.userOperation){var i=t.pages[t.selectedPageIdx].canvas,a=i.params[this.id];e.isScale?(this.elementData.height>20&&this.elementData.width>20&&(this.elementData.x+=e.x/this.ratio,this.elementData.y+=e.y/this.ratio),a.isScaled=!0):(this.elementData.x+=e.x/this.ratio,this.elementData.y+=e.y/this.ratio,a.isMoved=!0),t.isLostFocus=!0,t.vm.$broadcast("notifyRefreshScreenshot")}},dispatchDblClick:function(){!this.sharedStore.isPortal&&this.elementData.constant||(this.sharedStore.watches.isChangeThisText=!0)},dispatchScale:function(e){!this.elementData.tagName||!this.elementData.tagType;if(this.userOperation){var t=this.elementData.width+e.width/this.ratio,i=this.elementData.height+e.height/this.ratio;t<20&&(t=20),i<20&&(i=20),this.elementData.width=t,this.elementData.height=i}}},created:function(){},ready:function(){this.setLimitSize(),this.refreshText()}}}).call(t,i(3),i(7))},function(e,t,i){(function(t,a){var r=(i(20),i(1)),n=i(204),o=["INPUT","TEXTAREA","SELECT"];e.exports={template:'<div class="TextForm" v-bind:style="textFormListStyle" @click="cleanPlaceholders"><div class="TextForm__headers"><div class="TextForm__header">Use this form to personalize your card</div><div class="TextForm__small">Enter details below.</div></div><div class="TextForm__body"><template v-for="(title, textForms) in textFormList"><div class="TextForm__split" v-if="title !== \'Front\' && textForms.length && !sharedStore.isPortal"></div><h1 class="TextForm__title" v-if="textForms.length && !sharedStore.isPortal">{{title}}</h1><div class="TextForm__input" v-for="textForm in textForms" v-on:click="changePageIdx($event, textForm.pageIdx, textForm.id)" v-bind:class="{highLight: textForm.isHighLight, invalid: textForm.invalid}"><span class="TextForm__input--title" v-if="textForm.format && !sharedStore.isPortal">{{textForm.title}}:</span><div class="TextForm__input--text" v-if="!sharedStore.isPortal && textForm.format === \''+n.inputType.INPUT+'\'"><input type="text" v-on:input="onInput($event, textForm.id)" @click="cleanInvalid(textForm.id)" v-model="textForm.text" :id="\'textForm\' + textForm.pageIdx + textForm.id"><div class="TextForm__warning" v-if="textForm.invalid" @mouseover="showShortTip($event, \'Only Letters, numbers, blank space are allowed in this field.\')" @mouseout="hideShortTip"><img src="./assets/img/check_red.png" /></div></div><div class="TextForm__input--textarea" v-if="!sharedStore.isPortal && textForm.format === \''+n.inputType.TEXTAREA+'\'"><textarea v-on:input="onInput($event, textForm.id)"  @click="cleanInvalid(textForm.id)" :id="\'textForm\' + textForm.pageIdx + textForm.id" v-model="textForm.text"></textarea><div class="TextForm__warning" v-if="textForm.invalid" @mouseover="showShortTip($event, \'Only Letters, numbers, blank space are allowed in this field.\')" @mouseout="hideShortTip"><img src="./assets/img/check_red.png" /></div></div><div class="TextForm__input--text" v-if="!sharedStore.isPortal && (textForm.format === \''+n.inputType.NUMBER+"' || textForm.format === '"+n.inputType.PHONE+'\')"><input type="text" v-on:input="onInputNumber($event, textForm.id)" @click="cleanInvalid(textForm.id)" v-model="textForm.text" :id="\'textForm\' + textForm.pageIdx + textForm.id"><div class="TextForm__warning" v-if="textForm.invalid" @mouseover="showShortTip($event, \'Only numbers, decimal point and  (hyphen) are allowed in this field.\')" @mouseout="hideShortTip"><img src="./assets/img/check_red.png" /></div></div><div class="TextForm__input--date" v-if="!sharedStore.isPortal && textForm.type === \''+n.textFormTypes.DATE+'\'"><select v-on:change="onChangeDate($event, textForm.id, \'month\')" :id="\'textForm\' + textForm.pageIdx + textForm.id"><option v-if="!textForm.isEdit" v-bind:selected="textForm.date.month === \'--\'" value="--">MM</option><option v-for="month in months" value={{month.value}} v-bind:selected="month.value == textForm.date.month">{{month.label}}</option></select><select v-on:change="onChangeDate($event, textForm.id, \'date\')"><option v-if="!textForm.isEdit" v-bind:selected="textForm.date.date === \'--\'" value="--">DD</option><option v-for="date in textForm.date.maxDate + 1" value={{date}} v-bind:selected="date == textForm.date.date" v-if="date !== 0">{{date}}</option></select><select v-on:change="onChangeDate($event, textForm.id, \'year\')"><option v-if="!textForm.isEdit" v-bind:selected="textForm.date.year === \'--\'" value="--">YY</option><option v-for="year in years" value={{year.value}} v-bind:selected="year.value == textForm.date.year">{{year.label}}</option></select></div><div class="TextForm__input--time" v-if="!sharedStore.isPortal && textForm.type === \''+n.textFormTypes.TIME+'\'"><select v-on:change="onChangeTime($event, textForm.id, \'hour\')" :id="\'textForm\' + textForm.pageIdx + textForm.id"><option v-if="!textForm.isEdit" v-bind:selected="textForm.date.hour === \'--\'" value="--">HH</option><option v-for="hour in hours" value={{hour.value}} v-bind:selected="hour.value == textForm.date.hour">{{hour.label}}</option></select><select v-on:change="onChangeTime($event, textForm.id, \'minute\')"><option v-if="!textForm.isEdit" v-bind:selected="textForm.date.minute === \'--\'" value="--">MM</option><option v-for="minute in minutes" value={{minute.value}} v-bind:selected="minute.value == textForm.date.minute">{{minute.label}}</option></select><select v-on:change="onChangeTime($event, textForm.id, \'apm\')"><option v-for="apm in apms" value={{apm.value}} v-bind:selected="apm.value == textForm.date.apm">{{apm.label}}</option></select></div><select class="TextForm__portal--order" v-if="sharedStore.isPortal && sharedStore.selectedPageIdx === textForm.pageIdx" @change="changeOrder($event, textForm)"><option value="">--</option><option v-for="idx in textForms.length" :value="idx + 1" :selected="textForm.order == idx + 1">{{idx + 1}}</option><select/><span class="TextForm__portal--title" v-if="sharedStore.isPortal && sharedStore.selectedPageIdx === textForm.pageIdx">{{textForm.title}}</span></div></template></div></div>',data:function(){return{privateStore:{height:i(16).getOptionHeight()+14,isTextImageLoading:!1,isOrderClicked:!1},sharedStore:t}},computed:{textFormList:function(){var e=t.textFormList.filter(function(e){return 0===e.pageIdx}),i=t.textFormList.filter(function(e){return 1===e.pageIdx}),a=t.textFormList.filter(function(e){return 2===e.pageIdx});return{Front:e,Inner:a,Back:i}},textFormListStyle:function(){return{height:this.privateStore.height+"px"}},years:function(){for(var e=[],t=1900;t<2080;t++)e.push({label:t,value:t});return e},hours:function(){for(var e=[],t=this,i=1;i<=12;i++)e.push({label:t.getDoubleDigit(i),value:i});return e},minutes:function(){for(var e=[],t=this,i=0;i<60;i++)e.push({label:t.getDoubleDigit(i),value:i});return e},apms:function(){return[{label:"AM",value:"am"},{label:"PM",value:"pm"}]},months:function(){for(var e=[],t=["January","February","March","April","May","June","July","August","September","October","November","December"],i=0;i<12;i++)e.push({label:t[i],value:i});return e},isPlaceHolderCleaned:function(){for(var e=t.pages[t.selectedPageIdx].canvas.params,i=0;i<e.length;i++){var a="text"===e[i].elType,r=e[i].tagName&&e[i].tagType,n=e[i].isEdit;if(a&&r&&!n)return!1}return!0}},methods:{showShortTip:function(e,t){var i=e.target.getBoundingClientRect();this.$dispatch("dispatchToggleShortTip",{className:"TextForm__warning--text",message:t,isShow:!0,top:i.top-4,left:i.left+22})},hideShortTip:function(e){var t=e.target.getBoundingClientRect();this.$dispatch("dispatchToggleShortTip",{className:"TextForm__warning--text",message:"",isShow:!1,top:t.top,left:t.left+20})},changeOrder:function(e,i){for(var a=parseInt(e.target.value),r=i.id,n=i.pageId,o=t.pages.filter(function(e){return e.id===n})[0],s=o.canvas.params||[],d=s.some(function(e){return e.order===a}),l=0;l<s.length;l++)s[l].id===r&&(d?(s[l].order="",e.target.value=""):s[l].order=a,this.updateTextForm(o,r));this.sortTextFormList()},cleanInvalid:function(e){var i=t.pages[t.selectedPageIdx];t.textFormList.forEach(function(a,r){e===a.id&&i.id===t.textFormList[r].pageId&&(t.textFormList[r].invalid=!1)})},changePageIdx:function(e,i,a){o.indexOf(e.target.tagName)!==-1&&t.selectedPageIdx!==i&&t.vm.$broadcast("notifyChangePage",i)},cleanPlaceholders:function(){if(!this.isPlaceHolderCleaned&&!t.isPortal)for(var e=t.pages[t.selectedPageIdx].canvas.params,a=0;a<e.length;a++){var r="text"===e[a].elType,n=e[a].tagName&&e[a].tagType,o=e[a].isEdit;r&&n&&!o&&(e[a].text="",i(25).editCurrentText(e[a],e[a].id))}this.$dispatch("dispatchCleanTextFormRemind")},refreshTextFormList:function(){var e=this;t.textFormList=[],t.pages.forEach(function(i,a){var r=i.canvas.params||[];r.forEach(function(r){var n="text"===r.elType,o=r.tagName&&r.tagType;if(n&&o){var s={title:r.tagName,type:r.tagType,text:r.isEdit?r.text:"",id:r.id,isEdit:r.isEdit,pageId:i.id,pageIdx:a,isHighLight:!1,format:r.textFormat,invalid:!1,order:parseInt(r.order),isShowTextNotFit:r.isShowTextNotFit};e.isDateText(r.tagType)&&(s.date={}),t.textFormList.push(s),e.updateTextForm(i,r.id)}})}),this.sortTextFormList()},isDateText:function(e){var t=[n.textFormTypes.TIME,n.textFormTypes.DATE];return t.indexOf(e)!==-1},updateTextForm:function(e,i,a){for(var r=e.canvas.params||[],n=r.filter(function(e){return e.id===i})[0],o=0;o<t.textFormList.length;o++)if(i===t.textFormList[o].id&&e.id===t.textFormList[o].pageId&&(n.isEdit||(t.textFormList[o].text=""),t.textFormList[o].isEdit=n.isEdit,a?(t.textFormList[o].text=n.text,t.textFormList[o].invalid=!0):(t.textFormList[o].invalid=!1,this.$dispatch("dispatchToggleShortTip",{className:"TextForm__warning--text",message:"",isShow:!1,top:0,left:0})),t.isPortal&&(t.textFormList[o].order=n.order),this.isDateText(n.tagType))){var s=n.isEdit?n.text:"";t.textFormList[o].date=this.getFormatDate(s,n.textFormat),t.textFormList[o].text=n.text}},sortTextFormList:function(){t.textFormList.sort(function(e,t){return(e.order||1/0)-(t.order||1/0)})},freshTextElementImage:function(e){var t=this;this.privateStore.isTextImageLoading||setTimeout(function(){i(25).editCurrentText(e,e.id),t.privateStore.isTextImageLoading=!1;
},600),this.privateStore.isTextImageLoading=!0},formatTextString:function(e){var t=e.match(/[0-9a-zA-Z]|\s/g)||[];return t.join("")},onInput:function(e,i){for(var a=e.target.value,r=!1,n=t.pages[t.selectedPageIdx],o=n.canvas.params||[],s=0;s<o.length;s++)o[s].id===i&&(o[s].text=this.formatTextString(a),o[s].isEdit=!0,r=o[s].text!==a,this.freshTextElementImage(o[s]));this.updateTextForm(n,i,r)},formatNumberString:function(e){var t=e.match(/\d|-|\./g)||[];return t.join("")},onInputNumber:function(e,i){for(var a=e.target.value,r=!1,n=t.pages[t.selectedPageIdx],o=n.canvas.params||[],s=0;s<o.length;s++)o[s].id===i&&(o[s].text=this.formatNumberString(a),o[s].isEdit=!0,r=o[s].text!==a,this.freshTextElementImage(o[s]));this.updateTextForm(n,i,r)},onChangeDate:function(e,i,a){for(var n=e.target.value,o=t.pages[t.selectedPageIdx],s=o.canvas.params||[],d=new Date,l=0;l<s.length;l++)if(s[l].id===i){var c=this.getFormatDate(s[l].text,s[l].textFormat);c[a]=parseInt(n);var h=new Date(c.year,c.month+1,0).getDate();!isNaN(h)&&c.date>h&&(c.date=h),s[l].text=r(new Date("--"===c.year||isNaN(c.year)?d.getFullYear():c.year,"--"===c.month||isNaN(c.month)?d.getMonth()+1:c.month,"--"===c.date||isNaN(c.date)?d.getDate():c.date)).format(s[l].textFormat),s[l].isEdit=!0,this.freshTextElementImage(s[l])}this.updateTextForm(o,i)},onChangeTime:function(e,i,a){for(var n=e.target.value,o=t.pages[t.selectedPageIdx],s=o.canvas.params||[],d=0;d<s.length;d++)if(s[d].id===i){var l=this.getFormatDate(s[d].text,s[d].textFormat);l[a]=n;var c="pm"===l.apm?parseInt(l.hour)+12:parseInt(l.hour);s[d].text=r(new Date("--"===l.year||isNaN(l.year)?1990:l.year,"--"===l.month||isNaN(l.month)?0:l.month,"--"===l.date||isNaN(l.date)?1:l.date,"--"===l.hour||isNaN(c)?0:c,"--"===l.minute||isNaN(l.minute)?0:l.minute,"--"===l.second||isNaN(l.second)?0:l.second)).format(s[d].textFormat),s[d].isEdit=!0,this.freshTextElementImage(s[d])}this.updateTextForm(o,i)},getFormatDate:function(e,t){var i=r(e,t),a=new Date(i.get("year"),i.get("month")+1,0),n={year:i.get("year")||"--",month:isNaN(i.get("month"))?"--":i.get("month"),date:isNaN(i.get("date"))?"--":i.get("date"),hour:isNaN(i.get("hour"))?"--":i.get("hour")%12,minute:isNaN(i.get("minute"))?"--":i.get("minute"),second:isNaN(i.get("second"))?"--":i.get("second"),apm:isNaN(i.get("hour"))?"am":i.get("hour")>12?"pm":"am",maxDate:a.getDate()||29};return 12===i.get("hour")?n.apm="pm":24===i.get("hour")&&(n.apm="am"),n},getDoubleDigit:function(e){return e<10?"0"+e:e},highLightForm:function(e){var r=t.selectedPageIdx,n=void 0!==e?e:t.pages[t.selectedPageIdx].canvas.selectedIdx;a("input",this.$el).blur(),a("select",this.$el).blur(),a("textarea",this.$el).blur();for(var o=0;o<t.textFormList.length;o++){var s=t.textFormList[o].id===n&&t.textFormList[o].pageIdx===r;if(t.textFormList[o].isHighLight=s,s){var d=o;this.$dispatch("dispatchChangeTab","form-list"),t.vm.$nextTick(function(){a("#textForm"+t.textFormList[d].pageIdx+t.textFormList[d].id).focus()}),i(5)({ev:i(6).ClickToForm}),setTimeout(function(){t.textFormList[d].isHighLight=!1},1500)}}},toggleTextElementTip:function(){t.textFormList.forEach(function(e){var i=!e.isEdit||!e.text,a=e.pageId===t.pages[t.selectedPageIdx].id;a&&i&&t.vm.$broadcast("notifyToggleTextElementTip",{isShow:!0,textForm:e})})}},events:{notifyRefreshTextFormList:function(){this.refreshTextFormList(),t.isOrderClicked&&this.$nextTick(function(){t.vm.$broadcast("notifyTextFormRemindIncomplete")})},notifyPatchTextFormList:function(e){this.patchTextFormList(e)},notifyHighLightForm:function(e){this.highLightForm(e)},notifyTextFormList:function(){this.privateStore.height=i(16).getOptionHeight()+14},notifyCleanTextFormPlaceholders:function(){this.cleanPlaceholders()},notifyTextFormRemindIncomplete:function(){this.toggleTextElementTip()}},ready:function(){}}}).call(t,i(3),i(7))},function(e,t,i){(function(t,a){e.exports={template:'<div class="bed-title"><div v-show="!privateStore.isEditingTitle"><p class="box-title" style="float: left;color:#fff">{{ sharedStore.title }}</p><img v-show="!sharedStore.projectInfo.isInCart && !sharedStore.projectInfo.isOrdered" class="title-edit-icon" title="Click to edit title" v-on:click="handleShowEdit" src="assets/img/title-edit.svg" /></div><div v-show="privateStore.isEditingTitle"><div class="box-title-edit"><input class="title-edit" type="text" maxlength="50" v-model="privateStore.title" v-on:keyUp="handleInputKeyEvent"/><img class="icon-done" v-on:click="handleTitleEditDone" src="assets/img/title-done.svg" /><img class="icon-delete" v-on:click="handleTitleDelete" src="assets/img/title-delete.svg" /></div><span v-show="privateStore.isTitleInvalid" class="title-warn">{{privateStore.InvalidText}}</span></div></div>',data:function(){return{privateStore:{isEditingTitle:!1,isTitleInvalid:!1,InvalidText:"",title:""},sharedStore:t}},methods:{handleInputKeyEvent:function(e){switch(e.keyCode){case 27:this.privateStore.isEditingTitle=!1,this.privateStore.isTitleInvalid=!1;break;case 13:this.handleTitleEditDone()}},handleShowEdit:function(){this.privateStore.title=this.sharedStore.title,this.privateStore.isEditingTitle=!0,setTimeout(function(){a(".title-edit").focus()},0)},handleTitleEditDone:function(){var e=this.privateStore.title;e.trim()?/^[a-zA-Z 0-9\d_\s\-]+$/.test(e)?e!==this.sharedStore.title?i(13).changeProjectTitle(this.privateStore.title,this,"dispatchUpdateAlbumResponse"):e===this.sharedStore.title&&(this.privateStore.isEditingTitle=!1):(this.privateStore.isTitleInvalid=!0,this.privateStore.InvalidText="Only letters, numbers, blank space, - (hyphen) and _ (underscore) are allowed in the title"):(this.privateStore.isTitleInvalid=!0,this.privateStore.InvalidText="Title is required")},handleTitleDelete:function(){this.privateStore.isEditingTitle=!1,this.privateStore.isTitleInvalid=!1}},events:{notifyUpdateAlbumResponse:function(e,t){this.privateStore.isTitleInvalid=e,this.privateStore.isTitleInvalid?this.privateStore.InvalidText="Please use a name you haven't used before":(this.privateStore.isEditingTitle=!1,this.sharedStore.title=this.privateStore.title,i(13).handledSaveOldProject(this))}}}}).call(t,i(3),i(7))},function(e,t,i){(function(t,a){var r=i(20),n=r.extend(i(203)),o=r.extend(i(170));e.exports={template:'<div id="tmpl" v-bind:style="{zIndex:windowZindex,width:width}"><div class="tmpl_header"><label v-on:click="toggleShow()" v-bind:class="{\'expand\':sharedStore.isChangeTmplExpanded}">{{ selectText }}</label><a href="javascript:void(0);" v-show="showChangeTmpl && isTmplShow" v-on:click="showChange()" style="margin-left: 30px;" v-bind:class="{\'current\':sharedStore.isChangeTmplShow}">{{ privatedStore.changeButtText }}</a><label style="float: right;margin-right: 30px;background: none;"><input type="checkbox" v-model="privatedStore.isAutoLayout"> {{ privatedStore.autoText }}</label><change-tmpl v-show="sharedStore.isChangeTmplShow"></change-tmpl></div><tmpl-list></tmpl_list></div>',data:function(){return{privatedStore:{changeButtText:"Change",autoText:"Auto Layout",isAutoLayout:!0},showChangeTmpl:!1,isTmplShow:!1,sharedStore:t}},computed:{selectText:function(){return this.sharedStore.isChangeTmplExpanded?"Select Layouts for "+this.sharedStore.imagesIndex+" images":"Open to select layouts"},windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 100*(i+10)},width:function(){var e=t.pages[t.selectedPageIdx].canvas;return e.bgWidth},showChangeTmpl:function(){return this.sharedStore.isChangeTmplExpanded},isTmplShow:function(){var e=[],i=this.sharedStore.templateList,a=t.projectSettings[t.currentSelectProjectIndex].size,r=t.projectSettings[t.currentSelectProjectIndex].rotated;r&&(a=a.split("X")[1]+"X"+a.split("X")[0]);for(var n=0,o=i.length;n<o;n++)i[n].designSize==a&&e.push(i[n]);return!!e.length}},components:{"tmpl-list":n,"change-tmpl":o},methods:{toggleShow:function(){this.sharedStore.isChangeTmplExpanded=!this.sharedStore.isChangeTmplExpanded,this.sharedStore.isChangeTmplShow=!1,t.vm.$broadcast("notifyRepaintProject")},showChange:function(){this.sharedStore.isChangeTmplShow=!this.sharedStore.isChangeTmplShow}},events:{},ready:function(){var e=this;e.$watch("privatedStore.isAutoLayout",function(){e.privatedStore.isAutoLayout?this.sharedStore.autoLayout=!0:this.sharedStore.autoLayout=!1}),e.$watch("sharedStore.watches.isApplyLayout",function(){e.sharedStore.watches.isApplyLayout&&(i(14).autoLayout(),e.sharedStore.watches.isApplyLayout=!1)}),a("#tmpl").css("width",window.innerWidth-341-20)}}}).call(t,i(3),i(7))},function(e,t,i){(function(t){e.exports={template:'<td v-on:click="changeTmpl()" style="cursor:pointer;" v-bind:class="{\'current\':isCurrent}"><img v-bind:src="item.url"></td>',props:["item"],data:function(){return{privateStore:{guid:""},sharedStore:t}},computed:{isCurrent:function(){var e=t.projectSettings[t.currentSelectProjectIndex].tplGuid;return e==this.item.guid}},methods:{changeTmpl:function(){i(21).getTemplateItemInfo(this.item.guid,this.item.designSize),t.projectSettings[t.currentSelectProjectIndex].tplGuid=this.item.guid,t.projectSettings[t.currentSelectProjectIndex].tplSuitId=this.item.suitId}},ready:function(){this.privateStore.guid=this.item.guid}}}).call(t,i(3))},function(e,t,i){(function(t){var a=i(20),r=i(14),n=a.extend(i(202));e.exports={template:'<div class="tmpl_main" v-show="sharedStore.isChangeTmplExpanded"><table class="tmpl_list"><td><tmpl-item v-for="item in list" v-bind:item="item"></tmpl-item></td></table></div>',data:function(){return{privatedStore:{changeButtText:"Change",autoText:"Auto Layout",isAutoLayout:!0,cellWidth:162.28},sharedStore:t}},computed:{list:function(){var e=[],i=this.sharedStore.templateList,a=t.projectSettings[t.currentSelectProjectIndex].size,r=t.projectSettings[t.currentSelectProjectIndex].rotated;r&&(a=a.split("X")[1]+"X"+a.split("X")[0]);for(var n=0,o=i.length;n<o;n++)i[n].imageNum==this.sharedStore.imagesIndex&&i[n].designSize==a&&e.push(i[n]);return e},currentGuid:function(){return this.sharedStore.projectSettings[this.sharedStore.currentSelectProjectIndex].tplGuid}},methods:{},events:{notifySetRotatedTemplate:function(){if(this.sharedStore.autoLayout){var e=[],a=this.sharedStore.templateList,n=t.projectSettings[t.currentSelectProjectIndex].size,o=t.projectSettings[t.currentSelectProjectIndex].tplGuid,s=t.pages[t.selectedPageIdx].canvas,d="",l=[],c=0,h=0,p=0;if(r.getTemplateBySize(n).length){for(var u=0;u<s.params.length;u++){var m=s.params[u];"image"===m.elType&&(l.push(m),m.width>m.height?h++:p++)}if(c=l.length,(r.getTemplateByGuid(o)&&c!=r.getTemplateByGuid(o).imageNum||!r.getTemplateByGuid(o))&&(fitTpl=r.getFitTemplate(c,h,p),fitTpl))return t.imagesIndex=fitTpl.imageNum,i(21).getTemplateItemInfo(fitTpl.guid,fitTpl.designSize),t.projectSettings[t.currentSelectProjectIndex].tplGuid=fitTpl.guid,void(t.projectSettings[t.currentSelectProjectIndex].tplSuitId=fitTpl.suitId);for(var u=0;u<this.sharedStore.templateList.length;u++){var m=this.sharedStore.templateList[u];if(m.guid==o){t.projectSettings[t.currentSelectProjectIndex].tplSuitId=m.suitId,t.projectSettings[t.currentSelectProjectIndex].tplGuid=m.rotateTemplateGuid,d=m.rotateTemplateGuid;break}}var g=t.projectSettings[t.currentSelectProjectIndex].rotated;g&&(n=n.split("X")[1]+"X"+n.split("X")[0]);for(var u=0,f=a.length;u<f;u++)a[u].imageNum==this.sharedStore.imagesIndex&&a[u].designSize==n&&e.push(a[u]);d?i(21).getTemplateItemInfo(d,n):(t.vm.$broadcast("notifyChangeTmplByImageCount",0),r.autoLayout())}}}},components:{"tmpl-item":n},ready:function(){}}}).call(t,i(3))},function(e,t){var i=(t.textFormTypes={DATE:"Date",TIME:"Time",TEXT:"Text",PHONE:"Phone",NUMBER:"Number",LENGTH:"Length",WEIGHT:"Weight",TEXTAREA:"Textarea"},t.inputType={INPUT:"input",TEXTAREA:"textarea",NUMBER:"number",PHONE:"phone"});t.tagFormats={Text:i.INPUT,Date:"MM/DD/YYYY",Time:"hh:mm a",Phone:i.PHONE,Number:i.NUMBER,Length:i.INPUT,Weight:i.INPUT,Textarea:i.TEXTAREA},t.cardTypes={FOLDER:"FD",FLAT:"FT"},t.formatTypes={TOP:"TOP",SIDE:"SIDE"},t.pageTypes={FRONT_PAGE:"frontPage",INSIDE_PAGE:"insidePage"}},function(e,t,i){(function(t){e.exports={template:'<div><div class="shadow-bg" v-show="privateStore.isShowCartReturn" v-bind:style="{zIndex: windowZindex-1}"></div><div id="cartReturnWindow" v-show="privateStore.isShowCartReturn" class="box-popup" v-bind:style="{width: privateStore.width + \'px\',height: privateStore.height + \'px\', zIndex: windowZindex }" ><div style="font-size: 24px;margin: 40px 45px 54px 45px;color: #3a3a3a;">What would you like to do?</div><div style="margin: 40px 45px 54px 45px;"><div><input id="currentItem" name="cartRerutnItem" type="radio" value="current" v-model="privateStore.selected" :checked="privateStore.selected === \'current\'"><label for="currentItem" style="font-size:18px;color: #3a3a3a;">Edit current project</label><div style="font-size:14px;color: #7b7b7b;margin: 10px 0 0 22px;height: 50px;"></div></div><div><input id="cloneItem" name="cartRerutnItem" type="radio" value="clone" v-model="privateStore.selected" :checked="privateStore.selected === \'clone\'"><label for="cloneItem" style="font-size:18px;color: #3a3a3a;">Clone current project</label><div style="font-size:14px;color: #7b7b7b;margin: 10px 0 0 22px;height: 50px;">Create a copy of the current project to edit.</div></div><div><input id="newItem"  name="cartRerutnItem" type="radio" value="new" v-model="privateStore.selected" :checked="privateStore.selected === \'new\'"><label for="newItem" style="font-size:18px;color: #3a3a3a;">Create a new blank project</label></div></div><div class="popup-button" style="margin-top:35px;text-align:center;"><div class="button t-center" v-on:click="optionChange()" style="display:inline-block;width: 160px;height: 40px;line-height: 40px;font-size: 14px;">Continue</div></div></div></div>',data:function(){return{privateStore:{width:580,height:450,selector:"#cartReturnWindow",selected:"current",isShowCartReturn:!1},sharedStore:t}},computed:{windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 100*(i+10)}},methods:{optionChange:function(){switch(this.privateStore.selected){case"current":return void(this.privateStore.isShowCartReturn=!1);case"clone":return t.fromCart=!1,this.privateStore.isShowCartReturn=!1,void this.$dispatch("dispatchShowCloneWindow");case"new":return t.fromCart=!1,t.watches.isProjectLoaded=!1,this.privateStore.isShowCartReturn=!1,void this.$dispatch("dispatchShowNewProjectWindow")}}},events:{notifyShowCartReturnWindow:function(){var e=i(16);e.setPopWindowPosition({width:this.privateStore.width,height:this.privateStore.height,selector:this.privateStore.selector}),this.privateStore.isShowCartReturn=!0}},created:function(){},ready:function(){}}}).call(t,i(3))},function(e,t,i){(function(t){e.exports={template:'<div v-show="sharedStore.isShowClone"><div class="shadow-bg" v-bind:style="{zIndex: windowZindex-1}"></div><div id="cloneWindow" class="box-order" v-bind:style="{width: privateStore.width + \'px\',height: privateStore.height + \'px\', zIndex: windowZindex }"><div style="height: 40px:line-height: 40px;"><div style="width: 40px;height: 40px;margin-left: 610px;font-size: 20px;"><img src="../../static/img/close-normal.svg" draggable="false" width="16" height="16" v-on:click="handleHideView()" onmouseover="this.src = \'../../static/img/close-hover.svg\'" onmouseout="this.src = \'../../static/img/close-normal.svg\'" alt="close" title="close" style="margin-top: 24px; margin-left: 4px; cursor: pointer;" /></div></div><div style="margin: 0 40px;"><div class="font-title t-left">Clone Project</div></div><div style="margin: 40px 40px 0; width: 570px;"><label class="options-label font-label" style="height: 35px; line-height: 35px;width: 100%;">Please input new project name</label><div class="box-textarea"><input id="clone_title" type="text" v-model="privateStore.title" class="font-textarea"  style="width: 533px;height:35px; line-height: 35px; background-color: #f5f5f5;" placeholder="{{privateStore.marks[0]}}" v-on:blur="handleTitleInputBlur()" v-on:focus="handleTitleInputFocus()" maxlength="50"></textarea></div></div><div class="texteditor-button" style="margin-top: 0px;"><div id="emptyInfo" v-show="privateStore.isProjectNameInvalid" style="width: auto;text-align: center;height: 30px;line-height: 30px;font-size: 14px;color:red;margin-left:auto;margin-right:auto;">{{privateStore.invalidateTitle}}</div><div style="text-align: center; margin-top:25px;"><div class="button t-center button-white" v-on:click="cancel" style="width: 160px;height: 40px;line-height: 40px;display: inline-block; font-size: 14px; margin-right: 26px;border: 1px solid #ccc;color: #393939;">Cancel</div><div class="button t-center" v-on:click="submit" style="width: 160px;height: 40px;line-height: 40px;display: inline-block; font-size: 14px;">Clone</div></div></div></div>',data:function(){return{privateStore:{width:655,height:318,title:"",selector:"#cloneWindow",marks:["input new name here"],invalidateTitle:"Please input new project name. ",isProjectNameInvalid:!1},sharedStore:t}},computed:{windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 100*(i+10)}},methods:{handleHideView:function(){this.sharedStore.isShowClone=!1,this.privateStore.title=""},submit:function(){this.privateStore.title&&""!==this.privateStore.title.trim()?i(10).checkInvalid(this.privateStore.title)?(this.privateStore.isProjectNameInvalid=!1,i(13).cloneProject(this,this.privateStore.title),this.privateStore.title=""):(this.privateStore.invalidateTitle="Only letters, numbers, blank space, - (hyphen) and _ (underscore) are allowed in the title.",this.privateStore.isProjectNameInvalid=!0):(this.privateStore.invalidateTitle="Please input new project name",this.privateStore.isProjectNameInvalid=!0)},cancel:function(){this.sharedStore.isShowClone=!1,this.privateStore.title=""},handleTitleInputBlur:function(){return this.privateStore.title=this.replaceInvalidString(this.privateStore.title),this.privateStore.title&&""!==this.privateStore.title.trim()?void(i(10).checkInvalid(this.privateStore.title)?this.privateStore.isProjectNameInvalid=!1:(this.privateStore.invalidateTitle="Only letters, numbers, blank space, - (hyphen) and _ (underscore) are allowed in the title.",this.privateStore.isProjectNameInvalid=!0)):(this.privateStore.invalidateTitle="Please input new project name",void(this.privateStore.isProjectNameInvalid=!0))},handleTitleInputFocus:function(){this.privateStore.invalidateTitle=""},replaceInvalidString:function(e){var t=/<\/?[^>]*>/g,i=/[ | ]*\n/g,a=/&nbsp;/gi;return e.replace(t,"").replace(i,"").replace(a,"").replace(/(^\s+)|(\s+$)/g,"")}},ready:function(){},events:{notifyShowCloneWindow:function(){var e=i(16);e.setPopWindowPosition({width:this.privateStore.width,height:this.privateStore.height,selector:this.privateStore.selector}),this.sharedStore.isShowClone=!0,this.privateStore.isProjectNameInvalid=!1},notifyHideCloneWindow:function(){this.sharedStore.isShowClone=!1},notifyShowInvalidTitle:function(e){this.privateStore.invalidateTitle=e,this.privateStore.isProjectNameInvalid=!0}},created:function(){}}}).call(t,i(3))},function(e,t,i){(function(t,a){e.exports={template:'<div class="bed-image-upload" v-show="sharedStore.isImageUploadShow"><div class="shadow-bg" v-bind:style="{zIndex: windowZindex-1}"></div><div class="box-image-upload" v-bind:style="{ zIndex: windowZindex }" style="width:655px;height:480px;"><div style="height: 40px:line-height: 40px;"><div style="width: 40px;height: 40px;margin-left: 600px;font-size: 20px;"><img src="../../static/img/close-normal.svg" width="16" height="16" v-on:click="hideImageUpload(true)" onmouseover="this.src = \'../../static/img/close-hover.svg\'" onmouseout="this.src = \'../../static/img/close-normal.svg\'" alt="close" title="close" style="margin-top: 24px; margin-left: 14px; cursor: pointer;" /></div></div><div style="margin: 0 40px;position:relative;"><div class="font-title t-left">Upload Images</div><div v-show="isWarnMessageShow && !(sharedStore.maxPageNum && !sharedStore.isUploading)" class="font-light" style="position:absolute;top: 33px;font-size:12px;color:#de3418;">{{warnMessage}}</div></div><div style="margin: 30px 40px 0;"><div class="upload-row-title"><span class="upload-status-head">File</span><span class="upload-status-sub">File Progress</span></div></div><div id="box-upload-list" style="margin: 0 20px 0 40px;height: 230px; overflow: auto;position:relative;"></div><div style="margin: 24px 40px;height:40px;position:relative;"><div style="float:left;line-height:38px;"><span class="font-normal" style="font-size:12px;color:#7B7B7B;">{{sharedStore.successfullyUploaded}} Complete</span><span style="margin-left: 15px;color:#de3418;font-size:12px;" v-show="sharedStore.errorUploaded">{{sharedStore.errorUploaded}} Failed</span></div><div v-show="sharedStore.maxPageNum && !sharedStore.isUploading && sharedStore.maxPageNum > sharedStore.pages.length" style="position:absolute;right:1px;top:-30px;background-color:#3a3a3a;color:#fff;font-size:12px;padding:4px 10px;box-shadow:0 2px 4px 0 rgba(0,0,0,.13);">{{remainTip}}<div style="position:absolute;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:5px solid #3a3a3a;left:78%;bottom:-5px;transform:translateX(-50%);"></div></div><div style="float:right;"><div class="button-white t-center" :style="addMoreStyle" v-on:click="handleUploadClick(true)" style="width: 160px;height: 40px;line-height: 40px;display: inline-block;font-size: 14px;">Add More Photos</div></div><input type="file" name="" id="multi-files" multiple accept="{{sharedStore.uploadAcceptType}}" v-on:change="handleDoUpload()" style="display: none;" /><input type="file" name="" id="single-files"  accept="image/*" v-on:change="handleDoUpload()" style="display: none;" /></div></div></div>',data:function(){return{privateStore:{els:"",uploadWindowParams:{width:655,height:480,selector:".box-image-upload"},uploadParams:{fileSelector:"#multi-files"},firstUpload:!1,single:null},sharedStore:t,isWarnMessageShow:!1}},computed:{windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 100*(i+10)},warnMessage:function(){return"You can only upload "+t.maxPageNum+" images per pack in total."},remainTip:function(){return"Still need to upload "+(t.maxPageNum-t.pages.length)+" photo(s), click here to continue"},addMoreStyle:function(){var e=this.sharedStore.maxPageNum&&(this.sharedStore.isUploading||this.sharedStore.maxPageNum<=this.sharedStore.pages.length);return{color:e?"#ccc":"#000",borderColor:e?"#ccc":"rgba(203, 203, 203, 1)",cursor:e?"not-allowed":"pointer"}}},methods:{showImageUpload:function(){var e=i(16);e.setPopWindowPosition(this.privateStore.uploadWindowParams),this.sharedStore.isImageUploadShow=!0},hideImageUpload:function(e,r){e||(t.cancelByX=!0),this.sharedStore.filesCountInQueue+this.sharedStore.errorExt>=this.sharedStore.filesTotalInQueue?(a(this.privateStore.uploadParams.fileSelector).val(""),this.sharedStore.isImageUploadShow=!1,t.isUploading=!1,e&&i(5)({ev:i(6).CloseMonitor,auto:!!r})):this.$dispatch("dispatchShowPopup",{type:"cancelUpload",status:-1}),this.isWarnMessageShow=!1},handleUploadClick:function(e,r){this.sharedStore.maxPageNum&&(this.sharedStore.isUploading||this.sharedStore.maxPageNum<=this.sharedStore.pages.length&&"number"!=typeof t.watchData.replacePageId)||(e?i(5)({ev:i(6).AddMorePhotos}):(this.resetImageUploadDom(),t.uploadProgress.length=0,t.successfullyUploaded=0,t.errorUploaded=0,t.cancelledUpload.length=0,t.oriImageIds=[],t.oriImageNames=[],t.currentUploadCount=0,t.filesTotal=0,t.prevFilesTotal=[],t.prevFilesTotal=0,t.filesTotalInQueue=0,t.filesCountInQueue=0),t.currentSuccessUpload=0,t.currentErrorUpload=0,t.errorExt=0,a(this.privateStore.uploadParams.fileSelector).val(""),r||this.privateStore.single?(this.privateStore.uploadParams.fileSelector="#single-files",a("#single-files").trigger("click")):(this.privateStore.uploadParams.fileSelector="#multi-files",a("#multi-files").trigger("click")))},handleDoUpload:function(){var e=i(160),a=document.querySelector(this.privateStore.uploadParams.fileSelector).files;a.length&&(t.maxPageNum&&t.pages.length+a.length>t.maxPageNum&&"number"!=typeof t.watchData.replacePageId&&(this.isWarnMessageShow=!0),i(5)({ev:i(6).FinishPhotoSelect,chooseTimes:++t.chooseTimes,chooseCount:a.length}),this.privateStore.firstUpload?(e(this,this.privateStore.uploadParams,!0),this.privatedStore.firstUpload=!1):e(this,this.privateStore.uploadParams),this.sharedStore.startUploadTime=new Date,i(5)({ev:i(6).StartUpload,uploadCount:a.length}),this.sharedStore.isUploading=!0),this.showImageUpload()},handleSaveAndHideUpload:function(e){if(this.sharedStore.filesCountInQueue>=this.sharedStore.filesTotalInQueue){if(this.$dispatch("dispatchSaveProject",!0),this.sharedStore.maxPageNum&&this.sharedStore.pages.length<this.sharedStore.maxPageNum)return;this.hideImageUpload(!0,e),t.cancelByX=!1,t.isLostFocus=!0,setTimeout(function(){t.watchData.replacePageId=null})}else t.vm.$broadcast("notifyShowPopup",{type:"cancelUpload",status:-1})},refreshImageUploadDom:function(){a("#box-upload-list").find(".new-add-upload-row").remove();for(var e=0;e<this.sharedStore.uploadProgress.length;e++)this.sharedStore.uploadProgress[e]&&this.sharedStore.uploadProgress[e].percent&&(this.initImageUploadDom(e,this.getImageName(this.sharedStore.uploadProgress[e].imgId)),"Done"===this.sharedStore.uploadProgress[e].percent&&a("#delete-"+e).hide(),(this.sharedStore.uploadProgress[e].percent.toString().indexOf("Only")>=0||this.sharedStore.uploadProgress[e].info&&this.sharedStore.uploadProgress[e].info.toString().indexOf("Failed")>=0)&&(a("#retry-"+e).show(),a("#progress-c-"+e).hide(),a("#delete-"+e).hide(),a("#status-"+e).css("width","310")))},getImageName:function(e){for(var i=0;i<t.oriImageNames.length;i++){var a=t.oriImageNames[i];if(a.imgId===e)return a.filename}},initImageUploadDom:function(e,t){var i=t;if(i.length>15&&(i=i.substr(0,12)+"..."+i.substr(i.length-3)),e<5){a("#upload-row-item-"+e+" .upload-status-head").text(i).attr("title",t);var r='<span id="progress-c-'+e+'" style="display: inline-block;position:relative;vertical-align:middle; top: 0; left: 10px;width: 341px;height: 10px; border-radius: 5px; background-color: white;"><span id="progress-'+e+'" style="display: inline-block;width: 1px; height: 10px; border-radius: 5px; background-color: #ccc;">&nbsp;</span></span><span id="status-'+e+'" style="position: relative;vertical-align: middle; left: 26px;display:inline-block;;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">0%</span><span id="error-tip-'+e+'"></span><div style="display:none;position:absolute;right:7px;top:0;text-decoration:none;color:#de3418;" class="upload-retry" id="retry-'+e+'">Failed</div>';a("#upload-row-item-"+e+" .upload-status-sub").html(r)}else{var n='<div class="upload-row-item new-add-upload-row" style="overflow:hidden;" id="upload-row-item-'+e+'"><span class="upload-status-head" style="float:left;display:inherit;" title="'+t+'">'+i+'</span><span class="upload-status-sub" style="position:relative;"><span id="progress-c-'+e+'" style="display: inline-block;vertical-align:middle;position:relative; top: 0; left: 10px;width: 341px;height: 10px; border-radius: 5px; background-color: white;"><span id="progress-'+e+'" style="display: inline-block;width: 1px; height: 10px; border-radius: 5px; background-color: #ccc;">&nbsp;</span></span><span id="status-'+e+'" style="position: relative;vertical-align: middle; left: 26px;display:inline-block;;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">0%</span><span id="error-tip-'+e+'"></span><div style="display:none;position:absolute;right:7px;top:0;text-decoration:none;color:#de3418;" class="upload-retry" id="retry-'+e+'">Failed</div></span></div>';a("#box-upload-list").append(n)}},resetImageUploadDom:function(){for(var e="",t=0;t<5;t++)e+='<div class="upload-row-item" style="overflow:hidden;" id="upload-row-item-'+t+'"><span class="upload-status-head" style="float:left;display:inherit;">&nbsp</span><span class="upload-status-sub" style="position:relative;">&nbsp</span></div>';a("#box-upload-list").html(e),a("#multi-files").val(""),this.sharedStore.filesTotalInQueue=0,this.sharedStore.filesCountInQueue=0},updateUploadProgress:function(){for(var e=0;e<this.sharedStore.uploadProgress.length;e++)if(this.sharedStore.uploadProgress[e]&&"Done"===this.sharedStore.uploadProgress[e].percent){if(a("#status-"+e).text("Done").css("color","#7a7a7a"),a("#progress-"+e).css("width",341).css("background-color","#393939").attr("title",""),["PR","CLO","flushMountPrint","LSC"].indexOf(t.projectType)<0&&t.pages&&t.pages[t.selectedPageIdx].canvas){var i=t.pages[t.selectedPageIdx].canvas;if(i.params.length&&i.params[i.selectedIdx]&&"image"===i.params[i.selectedIdx].elType&&""===i.params[i.selectedIdx].imageId&&this.$dispatch("dispatchSingleImageUploadComplete",t.oriImageIds[e]),"CR"===t.projectType){for(var r=0,n="",o=0,s=0;s<i.params.length;s++)"image"===i.params[s].elType&&(r++,n=i.params[s].imageId,o=i.params[s].id);1!==r||n||(i.selectedIdx=o,this.$dispatch("dispatchSingleImageUploadComplete",t.oriImageIds[e]))}}0===this.sharedStore.uploadProgress[e].successUploadAt&&(this.sharedStore.uploadProgress[e].successUploadAt=(new Date).getTime(),this.trackPhotoFinishUpload(this.sharedStore.uploadProgress[e]))}else this.sharedStore.uploadProgress[e]&&"Error"===this.sharedStore.uploadProgress[e].percent?(a("#status-"+e).text("Error").css("color","#7a7a7a"),a("#progress-"+e).css("width",341).css("background-color","#de3418").attr("title",this.sharedStore.uploadProgress[e].info)):this.sharedStore.uploadProgress[e]&&(this.sharedStore.uploadProgress[e].percent.toString().indexOf("Only")>=0||this.sharedStore.uploadProgress[e].info&&this.sharedStore.uploadProgress[e].info.toString().indexOf("Failed")>=0?a("#status-"+e).text(this.sharedStore.uploadProgress[e].percent).css("color","#de3418").css("width","310").css("left","10px").css("font-size","12px").css("font-style","italic").attr("title",this.sharedStore.uploadProgress[e].info):(0===this.sharedStore.uploadProgress[e].startUploadAt&&(this.sharedStore.uploadProgress[e].startUploadAt=(new Date).getTime(),this.trackPhotoStartUpload(this.sharedStore.uploadProgress[e])),a("#status-"+e).text(this.sharedStore.uploadProgress[e].percent+"%").css("color","#7a7a7a"),a("#progress-"+e).css("width",3.41*this.sharedStore.uploadProgress[e].percent).css("background-color","#ccc")))},trackPhotoStartUpload:function(e){var a=e.file.name,r=e.file.size,n=e.startUploadAt,o="";o=t.projectSettings.length?t.projectSettings[0].product:t.baseProject&&t.baseProject.product,i(5)({ev:i(6).StartUploadEachPhoto,product:o,startUploadAt:n,photoName:a,photoSize:r})},trackPhotoFinishUpload:function(e){var a=e.file.name,r=e.file.size,n=e.startUploadAt,o=e.successUploadAt,s="";s=t.projectSettings.length?t.projectSettings[0].product:t.baseProject&&t.baseProject.product,i(5)({ev:i(6).CompleteUploadEachPhoto,product:s,successUploadAt:o,photoName:a,photoSize:r,uploadSpend:o-n})},isWindowOpen:function(){return t.isImageUploadShow},cancelItem:function(e){t.cancelledImgIds.indexOf(t.oriImageIds[e])<0&&(t.cancelledUpload.push(e),t.cancelledImgIds.push(t.oriImageIds[e])),a("#upload-row-item-"+e).hide(),this.sharedStore.uploadProgress[e].xhr&&this.sharedStore.uploadProgress[e].xhr.abort(),this.sharedStore.filesCountInQueue++,t.cancelledUpload.length===t.filesTotal&&(this.sharedStore.uploadProgress.length=0,this.handleSaveAndHideUpload(),this.sharedStore.isUploading=!1,t.vm.$broadcast("notifyHidePopup"))}},events:{notifyShowImageUpload:function(e){this.handleUploadClick(null,e)},notifyCancelItem:function(e){this.cancelItem(e)}},created:function(){var e=this;e.$watch("sharedStore.uploadProgress",e.updateUploadProgress,{deep:!0})},ready:function(){t.cancelledImgIds=[]}}}).call(t,i(3),i(7))},function(e,t,i){(function(t,a){
i(9);e.exports={template:'<div v-show="privateStore.isShowCreateProject"><div class="shadow-bg" v-bind:style="{zIndex: windowZindex-1}"></div><div id="newProjectWindow" class="box-order" v-bind:style="{width: privateStore.width + \'px\',height: privateStore.height + \'px\', zIndex: windowZindex }"><div style="height: 40px:line-height: 40px;"><div style="width: 40px;height: 40px;margin-left: 610px;font-size: 20px;"><img src="../../static/img/close-normal.svg" draggable="false" width="16" height="16" v-on:click="handleHideView()" onmouseover="this.src = \'../../static/img/close-hover.svg\'" onmouseout="this.src = \'../../static/img/close-normal.svg\'" alt="close" title="close" style="margin-top: 24px; margin-left: 4px; cursor: pointer;" /></div></div><div style="margin: 0 40px;"><div class="font-title t-left">Create a new project</div></div><div style="margin: 40px 40px 0; width: 570px;"><label class="options-label font-label" style="height: 35px; line-height: 35px;width: 100%;">Please input new project name</label><div class="box-textarea"><input id="new_project_title" type="text" v-model="privateStore.title" class="font-textarea"  style="width: 533px;height:35px; line-height: 35px; background-color: #f5f5f5;" placeholder="{{privateStore.marks[0]}}" v-on:blur="handleTitleInputBlur()" maxlength="50"></textarea></div></div><div class="texteditor-button" style="margin-top: 0px;"><div id="new_project_emptyInfo" style="width: auto;text-align: center;height: 30px;line-height: 30px;font-size: 14px;color:red;margin-left:auto;margin-right:auto;visibility:hidden;">{{privateStore.invalidateTitle}}</div><div style="text-align: center;margin-top:25px;"><div class="button t-center button-white" v-on:click="cancel" style="width: 160px;height: 40px;line-height: 40px;display: inline-block; font-size: 14px; margin-right: 26px;border: 1px solid #ccc;color: #393939;">Cancel</div><div class="button t-center" v-on:click="submit" style="width: 160px;height: 40px;line-height: 40px;display: inline-block; font-size: 14px;">Done</div></div></div></div>',data:function(){return{privateStore:{width:655,height:318,title:"",selector:"#newProjectWindow",marks:["input new name here"],invalidateTitle:"Please input new project name. ",isShowCreateProject:!1},sharedStore:t}},computed:{windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 100*(i+10)}},methods:{handleHideView:function(){this.privateStore.isShowCreateProject=!1,this.privateStore.title=""},submit:function(){var e=this;if(this.privateStore.title&&""!==this.privateStore.title.trim())if(this.privateStore.title===t.title){var r="Title existed, please pick another one.";t.vm.$broadcast("notifyShowNewProjectInvalidTitle",r)}else i(10).checkInvalid(this.privateStore.title)?i(9).createProjectAddOrUpdateAlbum(e.privateStore.title,t.title,function(t){a("#new_project_emptyInfo").css("visibility","hidden"),i(13).createProject(e,t),e.privateStore.title=""},function(){}):(this.privateStore.invalidateTitle="Only letters, numbers, blank space, - (hyphen) and _ (underscore) are allowed in the title.",a("#new_project_emptyInfo").css("visibility","visible"));else this.privateStore.invalidateTitle="Please input new project name",a("#new_project_emptyInfo").css("visibility","visible")},cancel:function(){this.privateStore.isShowCreateProject=!1},handleTitleInputBlur:function(){return this.privateStore.title=this.replaceInvalidString(this.privateStore.title),this.privateStore.title&&""!==this.privateStore.title.trim()?void(i(10).checkInvalid(this.privateStore.title)?a("#new_project_emptyInfo").css("visibility","hidden"):(this.privateStore.invalidateTitle="Only letters, numbers, blank space, - (hyphen) and _ (underscore) are allowed in the title.",a("#new_project_emptyInfo").css("visibility","visible"))):(this.privateStore.invalidateTitle="Please input new project name",void a("#new_project_emptyInfo").css("visibility","visible"))},replaceInvalidString:function(e){var t=/<\/?[^>]*>/g,i=/[ | ]*\n/g,a=/&nbsp;/gi;return e.replace(t,"").replace(i,"").replace(a,"").replace(/(^\s+)|(\s+$)/g,"")}},ready:function(){},events:{notifyShowNewProjectWindow:function(){var e=i(16);e.setPopWindowPosition({width:this.privateStore.width,height:this.privateStore.height,selector:this.privateStore.selector}),this.privateStore.isShowCreateProject=!0,a("#new_project_emptyInfo").css("visibility","hidden")},notifyHideNewProjectWindow:function(){this.privateStore.isShowCreateProject=!1},notifyShowNewProjectInvalidTitle:function(e){this.privateStore.invalidateTitle=e,a("#new_project_emptyInfo").css("visibility","visible")}},created:function(){}}}).call(t,i(3),i(7))},function(e,t,i){(function(t){e.exports={template:'<div><div class="shadow-bg" v-show="privateStore.showCenter" v-bind:style="{zIndex: windowZindex-1}" style="z-index:9999999999"></div><div id="popup-window" v-show="privateStore.showCenter"  style="z-index:9999999999" class="box-popup" v-bind:style="{width: privateStore.width + \'px\',height: privateStore.height + \'px\', zIndex: windowZindex }" ><div v-show="privateStore.showcloseButton" style="height: 50px;line-height: 50px;"><div style="width: 40px;height: 40px;float: right;font-size: 20px;"><img v-if="!privateStore.isHoverClose" src="../../static/img/close-normal.svg" width="16" height="16" @click="handleHidePopup" @mouseover="hoverCloseIcon(true)" alt="close" title="close" style=" cursor: pointer;" /><img v-if="privateStore.isHoverClose" src="../../static/img/close-hover.svg" width="16" height="16" @click="handleHidePopup" @mouseout="hoverCloseIcon(false)" alt="close" title="close" style=" cursor: pointer;" /></div></div><div style="line-height: 25px;padding:10px 10px 0;text-align:center;color: #3a3a3a;font-size:16px;">{{{ privateStore.msg }}}</div><div class="popup-button" style="margin-top:35px;text-align:center;"><div v-if="privateStore.confirm" class="button t-center" v-on:click="handleOkPopup" style="width: 160px;height: 40px;line-height: 40px;margin:0 auto;font-size: 14px;">{{ privateStore.texts[0] }}</div><template v-else><div class="button t-center" v-on:click="handleNowPopup" style="display:inline-block;width: 160px;height: 40px;line-height: 40px;font-size: 14px;">{{ privateStore.b2 }}</div><div class="button t-center button-white" v-if="privateStore.b1" v-on:click="handleLaterPopup" style="display:inline-block;width: 160px;height: 40px;line-height: 40px;margin-left: 20px;font-size: 14px;border:1px solid #7b7b7b;color: #393939">{{ privateStore.b1 }}</div></template></div></div></div><div class="PopWindowTop" id="pop-window-top" v-bind:class="{show: privateStore.isTopPopShow, leave: privateStore.isTopPopLeave}" v-bind:style="{left: privateStore.isTopPopOut ? \'-1000px\' : null}"><div v-show="privateStore.showcloseButton" class="PopWindowTop__close" v-on:click="handleHideTopPopup"></div><div style="height:100%;"><img :src="privateStore.image" v-if="sharedStore.saveImage" style="height:83%;padding: 15px;float: left;"><span class="PopWindowTop__message" v-bind:style="{color: topPopColor}">{{ privateStore.topMsg }}</span></div></div></div>',data:function(){return{privateStore:{params:"",width:470,height:206,tWidth:358,tHeight:130,confirm:!0,showCenter:!1,showTop:!1,isTopPopAnimate:!1,isTopPopShow:!1,isTopPopLeave:!1,isTopPopOut:!0,image:null,texts:["OK","Try Later","Try Now","Continue","Save","Replace","Place on top","Sure","Cancel","Don't Save","Save as","Add"],b1:"Try Later",b2:"Try Now",showcloseButton:!0,msg:"",topMsg:"",selector:"#popup-window",addparams:"",isConfirmOnlyOnce:!1,isConfirmButtonClicked:!1,isColorRed:!1,nowPopupHandler:new Function,isHoverClose:!1},sharedStore:t}},computed:{topPopColor:function(){return this.privateStore.isColorRed?"#ff0000":"#000000"},windowZindex:function(){var e=t.pages[t.selectedPageIdx].canvas,i=e.params.length||0;return 100*(i+12)},popWindowLeft:function(){return t.isShowPostToSale?"43%":"64%"},showTop:{get:function(){return this.privateStore.showTop},set:function(e){var t=this;this.privateStore.showTop=e,this.privateStore.isTopPopAnimate||(e?(this.privateStore.isTopPopLeave=!1,this.privateStore.isTopPopShow=!0,this.privateStore.isTopPopAnimate=!0,this.privateStore.isTopPopOut=!1,setTimeout(function(){t.privateStore.isTopPopAnimate=!1},300)):(this.privateStore.isTopPopShow=!1,this.privateStore.isTopPopLeave=!0,this.privateStore.isTopPopAnimate=!0,setTimeout(function(){t.privateStore.isTopPopLeave=!1,t.privateStore.isTopPopAnimate=!1,t.privateStore.isTopPopOut=!0},300)))}}},methods:{hoverCloseIcon:function(e){this.privateStore.isHoverClose=e},handleNowPopup:function(){var e=this.privateStore.type,a=this.privateStore.isConfirmOnlyOnce;if(!a||!this.privateStore.isConfirmButtonClicked){if("order"===e)this.$dispatch("dispatchReorder");else if("logo"===e)if(t.isPopSave=!1,i(10).getIsShowProjectInfoView())this.$dispatch("dispatchShowCloneWindow");else{this.$dispatch("dispatchModifyFrameTracker"),this.$dispatch("dispatchRemoveFrameTracker");var r=this;i(9).deleteImageList(function(){i(13).handledSaveOldProject(r,"dispatchRedirectHome")})}else if("replace"===e){var n=this.sharedStore,o=n.pages[n.selectedPageIdx].canvas.elements.length;n.dragData.imageId;n.shouldNewImage=!0,this.$dispatch("dispatchAddImage",this.privateStore.addparams)}else if("delete"===e){var o=this.privateStore.addparams.idx,e=this.privateStore.addparams.type;this.sharedStore.watchData.removeElementIdx=o,this.sharedStore.watchData.removeElementType=e,this.sharedStore.watches.isRemoveElement=!0}else if("saveAs"===e)this.$dispatch("dispatchShowCloneWindow");else if("cancelUpload"===e){for(var s=0;s<this.sharedStore.uploadProgress.length;s++)t.vm.$broadcast("notifyCancelItem",s);t.isUploading=!1,this.sharedStore.uploadProgress.length=0,t.cancelByX?i(5)({ev:i(6).CancelAllFilesByXClicked}):i(5)({ev:i(6).CancelAllFilesClicked}),this.sharedStore.isImageUploadShow=!1}else if("login"===e)window.open("/sign-in.html","_blank");else if("orderBlankProductToCart"===e)this.$dispatch("dispatchOrderToCart");else if("printPageLimitTip"===e)t.vm.$broadcast("notifyShowImageUpload");else if("changeOptionWarning"===e)this.privateStore.nowPopupHandler();else if("reset"===e)i(5)({ev:i(6).ClickResetConfirm,type:1}),this.$dispatch("dispatchResetPages");else if("exit"===e)if(t.isPopSave=!1,i(10).getIsShowProjectInfoView())this.$dispatch("dispatchShowCloneWindow");else{var r=this;this.$dispatch("dispatchModifyFrameTracker"),this.$dispatch("dispatchRemoveFrameTracker"),i(9).deleteImageList(function(){i(13).handledSaveOldProject(r,"dispatchRedirectCardList")})}this.privateStore.isConfirmButtonClicked=!0,a||(this.handleHidePopup(),this.initOptions()),"textFormIncomplete"===e&&(this.$dispatch("dispatchModifyFrameTracker"),this.$dispatch("dispatchRemoveFrameTracker"),i(9).deleteImageList(),this.$dispatch("dispatchOrderToCart"),i(5)({ev:i(6).CheckIncompleteFieldsContinue}))}},handleLaterPopup:function(){var e=this,a=this.privateStore.type;if("order"===a);else if("logo"===a)t.isPopSave=!1,this.redirectHome();else if("replace"===a){var r=this.sharedStore.dropData.idx,n=this.sharedStore.dragData.imageId,o=t.pages[t.selectedPageIdx].canvas;o.elements[r].refreshImageById(n)}else"textFormIncomplete"===a?(t.isOrderClicked=!0,t.vm.$broadcast("notifyTextFormRemindIncomplete"),i(5)({ev:i(6).CheckIncompleteFieldsCancel})):"emptyLRBBlock"===a?i(13).saveOldProject(e,function(){t.isPrjSaved=!0,t.isPopSave=!1,window.location="/"+t.orderType+"/addShoppingCart.html?projectGUID="+t.projectId+"&quantity=1"}):"deleteProject"===a?this.sharedStore.vm.$broadcast("notifyDeleteProject",this.privateStore.params.pageIdx):"orderConfirm"===a?t.vm.$broadcast("notifyOrderContinue"):"exit"===a?(t.isPopSave=!1,this.redirectCardList()):"reset"===a&&i(5)({ev:i(6).ClickResetConfirm,type:0});this.handleHidePopup(),this.initOptions()},handleOkPopup:function(){this.privateStore.type;this.handleHidePopup(),this.initOptions()},handleHidePopup:function(e){var t=this.privateStore.type;e&&"reset"===t&&i(5)({ev:i(6).ClickResetConfirm,type:-1}),this.privateStore.showCenter=!1},handleHideTopPopup:function(){this.showTop=!1},initOptions:function(){this.sharedStore.isPopupShow=!1,this.privateStore.confirm=!0,this.privateStore.msg="",this.privateStore.showcloseButton=!0,this.privateStore.showCenter=!1,this.showTop=!1,this.privateStore.b1=this.privateStore.texts[1],this.privateStore.b2=this.privateStore.texts[2]},redirectHome:function(){location.href="/"},redirectCardList:function(){location.href="/card-list.html"},strategies:function(){var e=this,t=e.privateStore.height;return e.privateStore.height=206,{order:function(t){t==-1&&(e.privateStore.confirm=!1,e.privateStore.b1=e.privateStore.texts[1],e.privateStore.b2=e.privateStore.texts[2],e.setMsg("Unable to add to cart, please try again."))},save:function(i){if(0==i)return e.privateStore.height=t,e.privateStore.isColorRed=!1,e.setTopMsg("Saved successfully!"),e.showTop=!0,e.privateStore.image=e.getImageSelected(),!0;if(1==i)return e.privateStore.height=t,e.privateStore.isColorRed=!1,e.setTopMsg("Submit successfully!"),e.showTop=!0,e.privateStore.image=e.getImageSelected(),!0;if(i==-1)e.privateStore.msg="Unable to save, please try again.";else if(i==-2)e.privateStore.msg="Project Title already Exists";else if(i==-3)e.privateStore.height=246,e.privateStore.msg="This item was already ordered, you can't modify it anymore. Please create a new project if you want to modify.";else if(i==-4)e.privateStore.height=246,e.privateStore.msg="This item was already ordered or added to cart. You need to save your additional changes into a new project.";else if(i==-5)e.privateStore.height=206,e.privateStore.msg="Project is already published!";else if(i==-6)return e.privateStore.height=t,e.setTopMsg("No interenet connection, please check your network and try again."),e.privateStore.isColorRed=!0,e.showTop=!0,e.privateStore.image=e.getImageSelected(),!0},preview:function(t){t==-1&&(e.privateStore.confirm=!0,e.setMsg("Preview failed, please try again."))},upload:function(t){t==-1&&(e.privateStore.confirm=!0,e.setMsg("Please wait for the upload to finish."))},contact:function(t){0==t?(e.privateStore.confirm=!0,e.setMsg("Submit successfully.\nMany thanks for your feedback.")):(e.privateStore.confirm=!0,e.setMsg("Send failed, you may try again later"))},spec:function(t){t==-1&&(e.privateStore.confirm=!0,e.setMsg("Request api service failed"))},logo:function(t){t==-1&&(e.privateStore.height=232,e.privateStore.width=510,e.privateStore.b1=e.privateStore.texts[9],e.privateStore.b2=e.privateStore.texts[4],e.privateStore.confirm=!1,e.setMsg("This will take you to home page.<br/>Please select an option before continuing."))},replace:function(t){t==-1&&(e.privateStore.b1=e.privateStore.texts[5],e.privateStore.b2=e.privateStore.texts[6],e.privateStore.confirm=!1,e.setMsg("How do you want to handle this image? "))},isOrder:function(t){t==-1&&(e.privateStore.height=250,e.privateStore.confirm=!0,e.setMsg("This item was already ordered, you can not modify it anymore.Please create a new project if you want to modify."))},"delete":function(t){t==-1&&(e.privateStore.b1=e.privateStore.texts[8],e.privateStore.b2=e.privateStore.texts[7],e.privateStore.confirm=!1,e.setMsg("Current element will  be removed from workbench, please confirm? "))},clone:function(t){e.privateStore.confirm=!0,e.setMsg(e.privateStore.params.info)},saveAs:function(t){e.privateStore.height=236,e.privateStore.b1=e.privateStore.texts[8],e.privateStore.b2=e.privateStore.texts[10],e.privateStore.confirm=!1,e.setMsg(e.privateStore.params.info)},printSaveAs:function(t){t==-1?e.privateStore.height=200:e.privateStore.height=236,e.privateStore.confirm=!0,e.setMsg(e.privateStore.params.info)},checkFailed:function(t){e.privateStore.height=250,e.privateStore.confirm=!0,e.setMsg(e.privateStore.params.info)},imageNotExist:function(t){e.privateStore.confirm=!0,e.setMsg("Please drag and drop your photo onto the canvas before placing your order.")},cancelUpload:function(){e.privateStore.height=250,e.privateStore.b1=e.privateStore.texts[8],e.privateStore.b2=e.privateStore.texts[3],e.privateStore.confirm=!1,e.setMsg('Your image has not been uploaded.<br />Click "Continue" to cancel upload or "Cancel" to continue uploading.')},login:function(){e.privateStore.height=260,e.privateStore.b1=e.privateStore.texts[8],e.privateStore.b2="Log In",e.setMsg("Your session has timed out. You must log in again to continue. Clicking Log In will open a new window. Once successfully logged in, you may return to this window to continue editing."),e.privateStore.confirm=!1},notify:function(t){t==-1&&(e.privateStore.height=206,e.privateStore.msg="Please Fill All Layouts First!")},woodPrintAlert:function(t){0==t&&(e.privateStore.height=240,e.privateStore.confirm=!0,e.privateStore.msg="The available options for print surface have changed. The print surface of your project has been upgraded to the nearest available option.")},orderBlankProductToCart:function(t){e.privateStore.b1=e.privateStore.texts[8],e.privateStore.b2=e.privateStore.texts[3],e.privateStore.confirm=!1,e.privateStore.isConfirmOnlyOnce=!0,e.setMsg("Do you really want to add a blank product to your cart?")},textFormIncomplete:function(t){var i=Object.keys(t).reduce(function(e,i){return t[i]?e:e+1},0),a='<div style="position:relative;top:-20px;text-align:left;padding:0 30px;height:'+(55+25*i)+'px;line-height:24px;font-size:14px;"><h3 style="font-size:24px;color:#3A3A3A;margin-bottom:11px;margin-top:0;">Review</h3><div>Please review the following before ordering:'+(t.isAllEdited?"":"<br>- One or more expected fields have not been filled out.")+(t.isAllSizeSuitable?"":"<br>- One or more text is too big and will be cut off.")+'<div style="margin-bottom: 7px;"></div>Do you wish to continue anyway?</div></div>';e.privateStore.height=241+25*i,e.privateStore.width=500,e.privateStore.b1=e.privateStore.texts[8],e.privateStore.b2=e.privateStore.texts[3],e.privateStore.confirm=!1,e.setMsg(a)},printPageLimitTip:function(){var t=e.sharedStore.pages.length,i=e.sharedStore.maxPageNum-t,a=i>1?" photos":" photo";e.privateStore.height=240,e.privateStore.b2=e.privateStore.texts[11],e.privateStore.b1="",e.privateStore.confirm=!1,e.setMsg("The Little Prints Pack you are ordering can contain up to "+e.sharedStore.maxPageNum+" photos. Currently it contains only "+t+(t<=1?" photo. ":" photos. ")+"Please add "+i+a)},disableInfo:function(t){e.privateStore.height=250,e.privateStore.confirm=!0,e.setMsg("The option of this product is no longer offered by manufacturer.Please create a new project and experience the latest version.")},emptyLRBBlock:function(){var t=e.privateStore.params.pageNum,i=e.privateStore.params.emptyPageNum;e.privateStore.b2=e.privateStore.texts[8],e.privateStore.b1=e.privateStore.texts[3],e.privateStore.confirm=!1,e.setMsg(" You added "+t+(t>1?" blocks":" block")+", but "+i+(i<=1?" block has ":" blocks have ")+"no image. Would you like to continue?")},deleteProject:function(){var t=e.privateStore.params.message;e.privateStore.b2=e.privateStore.texts[8],e.privateStore.b1=e.privateStore.texts[3],e.privateStore.confirm=!1,t?e.setMsg(t):e.setMsg("This operation will delete this block, would you like to continue?")},alertMessage:function(){e.privateStore.b2=e.privateStore.texts[0],e.privateStore.b1="",e.privateStore.height=e.privateStore.params.height,e.setMsg(e.privateStore.params.message)},orderConfirm:function(){var t=e.privateStore.params.message;e.privateStore.height=e.privateStore.params.height?e.privateStore.params.height:206,e.privateStore.b2=e.privateStore.texts[0],e.privateStore.b1="",e.privateStore.confirm=!1,e.setMsg(t)},changeOptionWarning:function(t){var i='<div style="text-align:left;padding:0 30px;line-height:24px;font-size:14px;margin-top:-20px;margin-bottom:-15px;"><h3 style="font-size:24px;color:#3A3A3A;font-weight:300;margin-bottom:20px;margin-top:0;line-height:1;">WARNING</h3><div style="line-height:25px;font-size:16px;color:#3a3a3a;">This operation will clear current design, would you like to continue?</div></div>';e.privateStore.height=235,e.privateStore.b1=e.privateStore.texts[8],e.privateStore.b2=e.privateStore.texts[3],e.privateStore.confirm=!1,e.privateStore.nowPopupHandler=t.handler,e.setMsg(i)},exit:function(){var t='<div style="text-align:left;padding:0 30px;line-height:24px;font-size:14px;margin-top:-20px;margin-bottom:-15px;"><h3 style="font-size:24px;color:#3A3A3A;margin-bottom:11px;margin-top:0;">Notice</h3><div>This will take you to card list page. Please select an option before continuing.</div></div>';e.privateStore.height=220,e.privateStore.b1=e.privateStore.texts[9],e.privateStore.b2=e.privateStore.texts[4],e.privateStore.confirm=!1,e.setMsg(t)},noInterenet:function(){var t='<div style="text-align:left;padding:0 30px;line-height:24px;font-size:14px;margin-top:-20px;margin-bottom:-15px;"><h3 style="font-size:24px;color:#3A3A3A;margin-bottom:11px;margin-top:0;">Warning</h3><div>No interenet connection, please check your network and try again.</div></div>';e.privateStore.height=220,e.privateStore.confirm=!0,e.setMsg(t)},checkBackCover:function(){var t='<div style="text-align:left;padding:0 30px;line-height:24px;font-size:14px;margin-top:-20px;margin-bottom:-15px;"><h3 style="font-size:24px;color:#3A3A3A;margin-bottom:11px;margin-top:0;">Warning</h3><div>Please change to back cover and submit again.</div></div>';e.privateStore.height=200,e.privateStore.confirm=!0,e.setMsg(t)},reset:function(){var t='<div style="text-align: center;padding: 0 14px;">Use of the Reset function will restore photo frames and text frames to the original, but keep any images and text you have added.<br/>Do you wish to continue?</div>';e.privateStore.height=e.privateStore.params.height?e.privateStore.params.height:206,e.privateStore.b2=e.privateStore.texts[3],e.privateStore.b1=e.privateStore.texts[8],e.privateStore.height=273,e.privateStore.confirm=!1,e.setMsg(t)}}},showPopup:function(e){if(this.privateStore.params=e,"save"!==e.type&&(this.privateStore.type=e.type),this.checkType(e),this.privateStore.showCenter){var t=i(16);t.setPopWindowPosition({width:this.privateStore.width,height:this.privateStore.height,selector:this.privateStore.selector})}this.sharedStore.isPopupShow=!0,this.privateStore.isConfirmButtonClicked=!1},checkType:function(e){this.strategies()[e.type](e.status)?this.showTop=!0:this.privateStore.showCenter=!0},getImageSelected:function(){if(this.sharedStore.projectSettings[this.sharedStore.currentSelectProjectIndex]&&this.sharedStore.projectSettings[this.sharedStore.currentSelectProjectIndex].color&&null!=this.sharedStore.selectedPageIdx)return"./assets/img/"+this.sharedStore.projectSettings[this.sharedStore.currentSelectProjectIndex].color+"-"+this.sharedStore.selectedPageIdx+".png"},setMsg:function(e){this.privateStore.msg=e},setTopMsg:function(e){this.privateStore.topMsg=e}},events:{notifyShowPopup:function(e){var t=this;this.showPopup(e),t.showTop&&setTimeout(function(){t.handleHideTopPopup()},2e3)},notifyHidePopup:function(){this.handleHidePopup(),this.handleHideTopPopup()},notifyRedirectHome:function(){this.redirectHome()},notifyRedirectCardList:function(){this.redirectCardList()},notifyAddOrReplaceImage:function(e){this.showPopup({type:"replace",status:-1}),this.privateStore.addparams=e},notifyDeleteElement:function(e){this.showPopup({type:"delete",status:-1}),this.privateStore.addparams=e}},ready:function(){}}}).call(t,i(3))},function(e,t,i){(function(t,a){var r=i(8),n=i(18);e.exports={template:'<div id="warnTipElement-{{ id }}" v-show="scale > warnTipLimit" v-bind:style="{ height:  (privateStore.height) + \'px\', bottom: bottom + \'px\', left: left + \'px\', zIndex: windowZindex }" style="position: absolute;"><img src="../../static/img/warn_big_icon.svg" width="{{ privateStore.width }}px" height="{{ privateStore.height }}px" alt="" title="{{ warnTipMsg }}" /> {{ privateStore.warnTipContent }}</div>',props:["id","width","height","x","y","pagenum"],data:function(){return{privateStore:{width:18,height:18,warnTipContent:"",margin:t.warnTipMargin||90,scale:1},sharedStore:t}},computed:{warnTipLimit:function(){return this.sharedStore.warnTipLimit||200},scale:function(){var e=this.sharedStore.pages[this.pagenum||this.sharedStore.selectedPageIdx].canvas,t=r.getIndexById(this.id),i=e.params[t],a=n.getImageDetail(i.imageId),o=a.width*e.params[t].cropPW,s=this.width/e.ratio;if(o<s)var d=100*(s-o)/o;else var d=0;return Math.round(d)},bottom:function(){var e=this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas,i=this.privateStore.margin*e.ratio;if(this.sharedStore.warnTipBottom)return this.sharedStore.warnTipBottom;if(this.sharedStore.isCanvas){var a=(e.photoLayer.height-Math.abs(e.photoLayer.y)-e.canvasBordeThickness.top)*e.ratio;return this.y+this.height>a&&(i+=this.y+this.height-a),i}switch(this.sharedStore.projectSettings[t.currentSelectProjectIndex].product){case"frameCanvas":case"acrylicPrint":case"metalPrint":case"woodPrint":case"LRB":case"LSC":case"mountPrint":var a=(e.photoLayer.height-Math.abs(e.photoLayer.y))*e.ratio;return this.y+this.height>a&&(i+=this.y+this.height-a),i;case"IPadCase":return(this.privateStore.margin+e.realSides.bottom+e.realEdges.bottom+e.realBleedings.bottom+10)*e.ratio;case"PhoneCase":return(this.privateStore.margin+e.realSides.bottom+e.realEdges.bottom+e.realBleedings.bottom)*e.ratio;default:var r="M"===this.sharedStore.projectSettings[t.currentSelectProjectIndex].matte?Math.abs(e.boardInMatting.top):Math.abs(e.photoLayer.y),a=(e.photoLayer.height-r)*e.ratio;return this.y+this.height>a&&(i="M"===this.sharedStore.projectSettings[t.currentSelectProjectIndex].matte?i+e.boardInMatting.bottom*e.ratio:i+e.boardInFrame.bottom*e.ratio),i}},left:function(){var e=this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas,i=this.privateStore.margin*e.ratio;if(this.sharedStore.warnTipLeft)return this.sharedStore.warnTipLeft;if(this.sharedStore.isCanvas){var a=(Math.abs(e.photoLayer.x)+e.canvasBordeThickness.left)*e.ratio;return this.x<a&&(i+=a-this.x),i}switch(this.sharedStore.projectSettings[t.currentSelectProjectIndex].product){case"frameCanvas":case"flushMountCanvas":case"acrylicPrint":case"metalPrint":case"woodPrint":case"LRB":case"LSC":case"mountPrint":var a=Math.abs(e.photoLayer.x)*e.ratio;return this.x<a&&(i+=a-this.x),"acrylicPrint"==this.sharedStore.projectSettings[t.currentSelectProjectIndex].product&&(i+=300*e.ratio),i;case"IPadCase":return(this.privateStore.margin+e.realSides.left+e.realEdges.left+e.realBleedings.left+300)*e.ratio;case"PhoneCase":return(this.privateStore.margin+e.realSides.left+e.realEdges.left+e.realBleedings.left)*e.ratio;default:var a="M"===this.sharedStore.projectSettings[t.currentSelectProjectIndex].matte?Math.abs(e.boardInMatting.left)*e.ratio:Math.abs(e.photoLayer.x)*e.ratio;return this.x<a&&(i="M"===this.sharedStore.projectSettings[t.currentSelectProjectIndex].matte?i+e.boardInMatting.left*e.ratio:i+e.boardInFrame.left*e.ratio),i}},mirrorLength:function(){var e=this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas;return e.ratio*this.sharedStore.mirrorLength},windowZindex:function(){var e=this.sharedStore.pages[this.sharedStore.selectedPageIdx].canvas,t=r.getIndexById(this.id),i=e.params[t];return 100*(i.dep+1)+80},warnTipMsg:function(){return"Photo has low resolution and may look poor in print."}},methods:{hideWarnTip:function(e){a("#warnTipElement-"+e).hide()},showWarnTip:function(e){a("#warnTipElement-"+e).show()}},events:{notifyShowWarnTip:function(){var e=r.getIndexById(this.id);this.showWarnTip(e)},notifyHideWarnTip:function(){var e=r.getIndexById(this.id);this.hideWarnTip(e)}},created:function(){},ready:function(){}}}).call(t,i(3),i(7))},function(e,t,i){function a(e){return i(r(e))}function r(e){return n[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var n={"./af":36,"./af.js":36,"./ar":43,"./ar-dz":37,"./ar-dz.js":37,"./ar-kw":38,"./ar-kw.js":38,"./ar-ly":39,"./ar-ly.js":39,"./ar-ma":40,"./ar-ma.js":40,"./ar-sa":41,"./ar-sa.js":41,"./ar-tn":42,"./ar-tn.js":42,"./ar.js":43,"./az":44,"./az.js":44,"./be":45,"./be.js":45,"./bg":46,"./bg.js":46,"./bn":47,"./bn.js":47,"./bo":48,"./bo.js":48,"./br":49,"./br.js":49,"./bs":50,"./bs.js":50,"./ca":51,"./ca.js":51,"./cs":52,"./cs.js":52,"./cv":53,"./cv.js":53,"./cy":54,"./cy.js":54,"./da":55,"./da.js":55,"./de":58,"./de-at":56,"./de-at.js":56,"./de-ch":57,"./de-ch.js":57,"./de.js":58,"./dv":59,"./dv.js":59,"./el":60,"./el.js":60,"./en-au":61,"./en-au.js":61,"./en-ca":62,"./en-ca.js":62,"./en-gb":63,"./en-gb.js":63,"./en-ie":64,"./en-ie.js":64,"./en-nz":65,"./en-nz.js":65,"./eo":66,"./eo.js":66,"./es":68,"./es-do":67,"./es-do.js":67,"./es.js":68,"./et":69,"./et.js":69,"./eu":70,"./eu.js":70,"./fa":71,"./fa.js":71,"./fi":72,"./fi.js":72,"./fo":73,"./fo.js":73,"./fr":76,"./fr-ca":74,"./fr-ca.js":74,"./fr-ch":75,"./fr-ch.js":75,"./fr.js":76,"./fy":77,"./fy.js":77,"./gd":78,"./gd.js":78,"./gl":79,"./gl.js":79,"./gom-latn":80,"./gom-latn.js":80,"./he":81,"./he.js":81,"./hi":82,"./hi.js":82,"./hr":83,"./hr.js":83,"./hu":84,"./hu.js":84,"./hy-am":85,"./hy-am.js":85,"./id":86,"./id.js":86,"./is":87,"./is.js":87,"./it":88,"./it.js":88,"./ja":89,"./ja.js":89,"./jv":90,"./jv.js":90,"./ka":91,"./ka.js":91,"./kk":92,"./kk.js":92,"./km":93,"./km.js":93,"./kn":94,"./kn.js":94,"./ko":95,"./ko.js":95,"./ky":96,"./ky.js":96,"./lb":97,"./lb.js":97,"./lo":98,"./lo.js":98,"./lt":99,"./lt.js":99,"./lv":100,"./lv.js":100,"./me":101,"./me.js":101,"./mi":102,"./mi.js":102,"./mk":103,"./mk.js":103,"./ml":104,"./ml.js":104,"./mr":105,"./mr.js":105,"./ms":107,"./ms-my":106,"./ms-my.js":106,"./ms.js":107,"./my":108,"./my.js":108,"./nb":109,"./nb.js":109,"./ne":110,"./ne.js":110,"./nl":112,"./nl-be":111,"./nl-be.js":111,"./nl.js":112,"./nn":113,"./nn.js":113,"./pa-in":114,"./pa-in.js":114,"./pl":115,"./pl.js":115,"./pt":117,"./pt-br":116,"./pt-br.js":116,"./pt.js":117,"./ro":118,"./ro.js":118,"./ru":119,"./ru.js":119,"./sd":120,"./sd.js":120,"./se":121,"./se.js":121,"./si":122,"./si.js":122,"./sk":123,"./sk.js":123,"./sl":124,"./sl.js":124,"./sq":125,"./sq.js":125,"./sr":127,"./sr-cyrl":126,"./sr-cyrl.js":126,"./sr.js":127,"./ss":128,"./ss.js":128,"./sv":129,"./sv.js":129,"./sw":130,"./sw.js":130,"./ta":131,"./ta.js":131,"./te":132,"./te.js":132,"./tet":133,"./tet.js":133,"./th":134,"./th.js":134,"./tl-ph":135,"./tl-ph.js":135,"./tlh":136,"./tlh.js":136,"./tr":137,"./tr.js":137,"./tzl":138,"./tzl.js":138,"./tzm":140,"./tzm-latn":139,"./tzm-latn.js":139,"./tzm.js":140,"./uk":141,"./uk.js":141,"./ur":142,"./ur.js":142,"./uz":144,"./uz-latn":143,"./uz-latn.js":143,"./uz.js":144,"./vi":145,"./vi.js":145,"./x-pseudo":146,"./x-pseudo.js":146,"./yo":147,"./yo.js":147,"./zh-cn":148,"./zh-cn.js":148,"./zh-hk":149,"./zh-hk.js":149,"./zh-tw":150,"./zh-tw.js":150};a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id=211},,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}]);